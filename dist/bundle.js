!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("phaser")):"function"==typeof define&&define.amd?define(["phaser"],e):"object"==typeof exports?exports.bundle=e(require("phaser")):t.bundle=e(t.phaser)}(window,(function(t){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Globals||(e.Globals={})},function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var o=new Uint8Array(16);t.exports=function(){return n(o),o}}else{var i=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),i[e]=t>>>((3&e)<<3)&255;return i}}},function(t,e){for(var n=[],o=0;o<256;++o)n[o]=(o+256).toString(16).substr(1);t.exports=function(t,e){var o=e||0,i=n;return[i[t[o++]],i[t[o++]],i[t[o++]],i[t[o++]],"-",i[t[o++]],i[t[o++]],"-",i[t[o++]],i[t[o++]],"-",i[t[o++]],i[t[o++]],"-",i[t[o++]],i[t[o++]],i[t[o++]],i[t[o++]],i[t[o++]],i[t[o++]]].join("")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(4),i=n(0),r={type:Phaser.AUTO,scale:{width:window.innerWidth,height:window.innerHeight},backgroundColor:"#000000",parent:"space-sim",physics:{default:"arcade",arcade:{gravity:{x:0,y:0}}},scene:o.ShipScene};e.game=new Phaser.Game(r),window.addEventListener("resize",(function(){e.game.scale.refresh()})),i.Globals.game=e.game},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(5),s=n(0),a=n(14),c={active:!0,visible:!0,key:"ShipScene"},u=function(t){function e(){return t.call(this,c)||this}return i(e,t),e.prototype.preload=function(){this.load.image("stars","./assets/backgrounds/tileableStars.png"),this.load.image("ship-pod","./assets/sprites/ship-pod.png")},e.prototype.create=function(){var t=this;this.add.tileSprite(0,0,10*this.cameras.main.width,10*this.cameras.main.height,"stars"),s.Globals.mouse||(s.Globals.mouse=new a.Mouse(this)),s.Globals.player=new r.ShipPod(this),this.setupCamera(s.Globals.player),this.input.on("KEY_DOWN_P",(function(t){s.Globals.isPaused=!0})),this.input.on("KEY_DOWN_R",(function(){s.Globals.isPaused=!1})),this.input.on("wheel",(function(e,n,o,i,r,s){var a=t.cameras.main.zoom;if(i<0)(c=a+.5)>1&&(c=1),t.cameras.main.zoomTo(c);else if(i>0){var c;(c=a-.5)<.1&&(c=.1),t.cameras.main.zoomTo(c)}}))},e.prototype.update=function(){s.Globals.isPaused||s.Globals.player.update()},e.prototype.setupCamera=function(t){this.cameras.main.backgroundColor.setFromRGB({r:0,g:0,b:0}),this.cameras.main.setZoom(1),this.cameras.main.centerOn(0,0);var e=this.cameras.main.width,n=this.cameras.main.height,o=Math.floor(e/2),i=Math.floor(n/2),r=Math.floor(o/2),s=Math.floor(i/2);this.cameras.main.startFollow(t.getGameObject(),!0),this.cameras.main.deadzone=new Phaser.Geom.Rectangle(r,s,o,i)},e}(Phaser.Scene);e.ShipScene=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(6);var o=n(7),i=n(0),r=n(11),s=n(12),a=n(13),c=function(){function t(t){this.remainingFuel=100,this.temperature=0,this.active=!0,this.id=o.RNG.guid(),this.scene=t,this.gameObj=t.physics.add.sprite(0,0,"ship-pod"),this.integrity=r.Constants.MAX_INTEGRITY,this.attachments=new Array(s.Helpers.enumLength(a.AttachmentLocation)),this.setTarget(i.Globals.mouse),this.setupInputHandlers(),this.checkOverheatCondition()}return t.prototype.update=function(){!i.Globals.isPaused&&this.active&&(this.lookAtTarget(),this.thrustKey.isDown&&this.thrustFowards(),this.rotateAttachmentsClockwiseKey.isDown&&this.rotateAttachmentsClockwise(),this.rotateAttachmentsAntiClockwiseKey.isDown&&this.rotateAttachmentsAntiClockwise())},t.prototype.setupInputHandlers=function(){this.thrustKey=this.scene.input.keyboard.addKey("SPACE",!0,!0),this.rotateAttachmentsClockwiseKey=this.scene.input.keyboard.addKey("E",!0,!0),this.rotateAttachmentsAntiClockwiseKey=this.scene.input.keyboard.addKey("Q",!0,!0)},t.prototype.checkOverheatCondition=function(){if(!i.Globals.isPaused&&this.active){if(this.temperature>r.Constants.MAX_TEMPERATURE&&this.destroy(),this.temperature>r.Constants.MAX_SAFE_TEMPERATURE){var t=this.temperature-r.Constants.MAX_SAFE_TEMPERATURE;this.integrity-=t}this.applyCooling(r.Constants.COOLING_RATE)}setTimeout(this.checkOverheatCondition,r.Constants.OVERHEAT_CHECK_INTERVAL)},t.prototype.getRealPosition=function(){return new Phaser.Math.Vector2(this.gameObj.x,this.gameObj.y)},t.prototype.getPosition=function(){var t=this.scene.cameras.main.getWorldPoint(0,0);return new Phaser.Math.Vector2(this.gameObj.x-t.x,this.gameObj.y-t.y)},t.prototype.getId=function(){return this.id},t.prototype.getGameObject=function(){return this.gameObj},t.prototype.setTarget=function(t){this.target=t},t.prototype.lookAtTarget=function(){var t=this.target.getRealPosition(),e=Phaser.Math.Angle.Between(t.x,t.y,this.gameObj.x,this.gameObj.y);this.gameObj.setRotation(e)},t.prototype.getHeading=function(){var t=Math.cos(this.gameObj.rotation),e=Math.sin(this.gameObj.rotation);return new Phaser.Math.Vector2(t,e).normalize().negate()},t.prototype.thrustFowards=function(){if(this.remainingFuel>0){var t=this.getHeading().multiply(new Phaser.Math.Vector2(r.Constants.THRUSTER_FORCE,r.Constants.THRUSTER_FORCE));this.gameObj.body.velocity.add(t),this.reduceFuel(r.Constants.FUEL_PER_THRUST),this.applyHeating(r.Constants.HEAT_PER_THRUST)}},t.prototype.strafeLeft=function(){},t.prototype.strafeRight=function(){},t.prototype.thrustBackwards=function(){},t.prototype.applyHeating=function(t){this.temperature+=t},t.prototype.applyCooling=function(t){this.temperature-=t,this.temperature<0&&(this.temperature=0)},t.prototype.reduceFuel=function(t){this.remainingFuel-=t,this.remainingFuel<0&&(this.remainingFuel=0)},t.prototype.getIntegrity=function(){return this.integrity},t.prototype.sustainDamage=function(t){this.integrity-=t,this.integrity<=0&&(this.integrity=0,this.active=!1,this.destroy())},t.prototype.repair=function(t){this.integrity=t,this.integrity>r.Constants.MAX_INTEGRITY&&(this.integrity=r.Constants.MAX_INTEGRITY)},t.prototype.rotateAttachmentsClockwise=function(){var t=this.attachments.pop();this.attachments.unshift(t)},t.prototype.rotateAttachmentsAntiClockwise=function(){var t=this.attachments.shift();this.attachments.push(t)},t.prototype.addAttachment=function(t){this.attachments[a.AttachmentLocation.front]&&this.attachments[a.AttachmentLocation.front].detach();this.attachments[a.AttachmentLocation.front]=t,t.attach(this)},t.prototype.destroy=function(){},t}();e.ShipPod=c},function(e,n){e.exports=t},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(8);!function(t){t.int=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},t.guid=function(){return o.v4()}}(e.RNG||(e.RNG={}))},function(t,e,n){var o=n(9),i=n(10),r=i;r.v1=o,r.v4=i,t.exports=r},function(t,e,n){var o,i,r=n(1),s=n(2),a=0,c=0;t.exports=function(t,e,n){var u=e&&n||0,h=e||[],p=(t=t||{}).node||o,l=void 0!==t.clockseq?t.clockseq:i;if(null==p||null==l){var f=r();null==p&&(p=o=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==l&&(l=i=16383&(f[6]<<8|f[7]))}var d=void 0!==t.msecs?t.msecs:(new Date).getTime(),m=void 0!==t.nsecs?t.nsecs:c+1,y=d-a+(m-c)/1e4;if(y<0&&void 0===t.clockseq&&(l=l+1&16383),(y<0||d>a)&&void 0===t.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=d,c=m,i=l;var g=(1e4*(268435455&(d+=122192928e5))+m)%4294967296;h[u++]=g>>>24&255,h[u++]=g>>>16&255,h[u++]=g>>>8&255,h[u++]=255&g;var v=d/4294967296*1e4&268435455;h[u++]=v>>>8&255,h[u++]=255&v,h[u++]=v>>>24&15|16,h[u++]=v>>>16&255,h[u++]=l>>>8|128,h[u++]=255&l;for(var b=0;b<6;++b)h[u+b]=p[b];return e||s(h)}},function(t,e,n){var o=n(1),i=n(2);t.exports=function(t,e,n){var r=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var s=(t=t||{}).random||(t.rng||o)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e)for(var a=0;a<16;++a)e[r+a]=s[a];return e||i(s)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.MAX_INTEGRITY=100,t.MAX_FUEL=100,t.MAX_SAFE_TEMPERATURE=100,t.MAX_TEMPERATURE=200,t.OVERHEAT_CHECK_INTERVAL=1e3,t.COOLING_RATE=.1,t.FUEL_PER_THRUST=.01,t.HEAT_PER_THRUST=.5,t.THRUSTER_FORCE=1}(e.Constants||(e.Constants={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.enumLength=function(t){var e=0;for(var n in t)isNaN(Number(n))&&e++;return e}}(e.Helpers||(e.Helpers={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.front=0]="front",t[t.frontRight=1]="frontRight",t[t.right=2]="right",t[t.backRight=3]="backRight",t[t.backLeft=4]="backLeft",t[t.left=5]="left",t[t.frontLeft=6]="frontLeft"}(e.AttachmentLocation||(e.AttachmentLocation={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){var e=this;this.scene=t,this.location=Phaser.Math.Vector2.ZERO,this.scene.input.mouse.capture=!0,this.scene.input.on("pointermove",(function(t){e.location=new Phaser.Math.Vector2(t.x,t.y)}))}return t.prototype.getPosition=function(){return this.location.clone()},t.prototype.getRealPosition=function(){return this.scene.cameras.main.getWorldPoint(this.location.x,this.location.y)},t}();e.Mouse=o}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idW5kbGUvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL2J1bmRsZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvdXRpbGl0aWVzL2dsb2JhbHMudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vbm9kZV9tb2R1bGVzL3V1aWQvbGliL3JuZy1icm93c2VyLmpzIiwid2VicGFjazovL2J1bmRsZS8uL25vZGVfbW9kdWxlcy91dWlkL2xpYi9ieXRlc1RvVXVpZC5qcyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvZ2FtZS50cyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvc2NlbmVzL3NoaXAtc2NlbmUudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NoaXBzL3NoaXAtcG9kLnRzIiwid2VicGFjazovL2J1bmRsZS9leHRlcm5hbCBcInBoYXNlclwiIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy91dGlsaXRpZXMvcm5nLnRzIiwid2VicGFjazovL2J1bmRsZS8uL25vZGVfbW9kdWxlcy91dWlkL2luZGV4LmpzIiwid2VicGFjazovL2J1bmRsZS8uL25vZGVfbW9kdWxlcy91dWlkL3YxLmpzIiwid2VicGFjazovL2J1bmRsZS8uL25vZGVfbW9kdWxlcy91dWlkL3Y0LmpzIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy91dGlsaXRpZXMvY29uc3RhbnRzLnRzIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy91dGlsaXRpZXMvaGVscGVycy50cyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvc2hpcHMvYXR0YWNobWVudHMvYXR0YWNobWVudC1sb2NhdGlvbi50cyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvdXRpbGl0aWVzL21vdXNlLnRzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsInJlcXVpcmUiLCJkZWZpbmUiLCJhbWQiLCJ3aW5kb3ciLCJfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX182X18iLCJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiR2xvYmFscyIsImdldFJhbmRvbVZhbHVlcyIsImNyeXB0byIsIm1zQ3J5cHRvIiwicm5kczgiLCJVaW50OEFycmF5Iiwicm5kcyIsIkFycmF5IiwiTWF0aCIsInJhbmRvbSIsImJ5dGVUb0hleCIsInRvU3RyaW5nIiwic3Vic3RyIiwiYnVmIiwib2Zmc2V0IiwiYnRoIiwiam9pbiIsImdhbWVDb25maWciLCJ0eXBlIiwiUGhhc2VyIiwiQVVUTyIsInNjYWxlIiwid2lkdGgiLCJpbm5lcldpZHRoIiwiaGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJwYXJlbnQiLCJwaHlzaWNzIiwiZGVmYXVsdCIsImFyY2FkZSIsImdyYXZpdHkiLCJ4IiwieSIsInNjZW5lIiwiU2hpcFNjZW5lIiwiZ2FtZSIsIkdhbWUiLCJhZGRFdmVudExpc3RlbmVyIiwicmVmcmVzaCIsInNjZW5lQ29uZmlnIiwiYWN0aXZlIiwidmlzaWJsZSIsInByZWxvYWQiLCJ0aGlzIiwibG9hZCIsImltYWdlIiwiYWRkIiwidGlsZVNwcml0ZSIsImNhbWVyYXMiLCJtYWluIiwibW91c2UiLCJNb3VzZSIsInBsYXllciIsIlNoaXBQb2QiLCJzZXR1cENhbWVyYSIsImlucHV0Iiwib24iLCJldmVudCIsImlzUGF1c2VkIiwicG9pbnRlciIsImN1cnJlbnRseU92ZXIiLCJkeCIsImR5IiwiZHoiLCJjdXJyZW50Wm9vbSIsInpvb20iLCJuZXdab29tIiwiem9vbVRvIiwidXBkYXRlIiwic2V0RnJvbVJHQiIsImciLCJiIiwic2V0Wm9vbSIsImNlbnRlck9uIiwiZHpXaWR0aCIsImZsb29yIiwiZHpIZWlnaHQiLCJkelgiLCJkelkiLCJzdGFydEZvbGxvdyIsImdldEdhbWVPYmplY3QiLCJkZWFkem9uZSIsIkdlb20iLCJSZWN0YW5nbGUiLCJTY2VuZSIsInJlbWFpbmluZ0Z1ZWwiLCJ0ZW1wZXJhdHVyZSIsImlkIiwiUk5HIiwiZ3VpZCIsImdhbWVPYmoiLCJzcHJpdGUiLCJpbnRlZ3JpdHkiLCJDb25zdGFudHMiLCJNQVhfSU5URUdSSVRZIiwiYXR0YWNobWVudHMiLCJIZWxwZXJzIiwiZW51bUxlbmd0aCIsIkF0dGFjaG1lbnRMb2NhdGlvbiIsInNldFRhcmdldCIsInNldHVwSW5wdXRIYW5kbGVycyIsImNoZWNrT3ZlcmhlYXRDb25kaXRpb24iLCJsb29rQXRUYXJnZXQiLCJ0aHJ1c3RLZXkiLCJpc0Rvd24iLCJ0aHJ1c3RGb3dhcmRzIiwicm90YXRlQXR0YWNobWVudHNDbG9ja3dpc2VLZXkiLCJyb3RhdGVBdHRhY2htZW50c0Nsb2Nrd2lzZSIsInJvdGF0ZUF0dGFjaG1lbnRzQW50aUNsb2Nrd2lzZUtleSIsInJvdGF0ZUF0dGFjaG1lbnRzQW50aUNsb2Nrd2lzZSIsImtleWJvYXJkIiwiYWRkS2V5IiwiTUFYX1RFTVBFUkFUVVJFIiwiZGVzdHJveSIsIk1BWF9TQUZFX1RFTVBFUkFUVVJFIiwiZGVsdGEiLCJhcHBseUNvb2xpbmciLCJDT09MSU5HX1JBVEUiLCJzZXRUaW1lb3V0IiwiT1ZFUkhFQVRfQ0hFQ0tfSU5URVJWQUwiLCJnZXRSZWFsUG9zaXRpb24iLCJWZWN0b3IyIiwiZ2V0UG9zaXRpb24iLCJjYW1lcmFQb3MiLCJnZXRXb3JsZFBvaW50IiwiZ2V0SWQiLCJ0YXJnZXQiLCJwb3MiLCJyYWRpYW5zIiwiQW5nbGUiLCJCZXR3ZWVuIiwic2V0Um90YXRpb24iLCJnZXRIZWFkaW5nIiwiY29zIiwicm90YXRpb24iLCJzaW4iLCJub3JtYWxpemUiLCJuZWdhdGUiLCJkZWx0YVYiLCJtdWx0aXBseSIsIlRIUlVTVEVSX0ZPUkNFIiwiYm9keSIsInZlbG9jaXR5IiwicmVkdWNlRnVlbCIsIkZVRUxfUEVSX1RIUlVTVCIsImFwcGx5SGVhdGluZyIsIkhFQVRfUEVSX1RIUlVTVCIsInN0cmFmZUxlZnQiLCJzdHJhZmVSaWdodCIsInRocnVzdEJhY2t3YXJkcyIsImRlZ3JlZXMiLCJhbW91bnQiLCJnZXRJbnRlZ3JpdHkiLCJzdXN0YWluRGFtYWdlIiwicmVwYWlyIiwibGFzdCIsInBvcCIsInVuc2hpZnQiLCJmaXJzdCIsInNoaWZ0IiwicHVzaCIsImFkZEF0dGFjaG1lbnQiLCJhdHRhY2htZW50IiwiZnJvbnQiLCJkZXRhY2giLCJhdHRhY2giLCJpbnQiLCJtaW4iLCJtYXgiLCJ2NCIsInYxIiwidXVpZCIsIl9ub2RlSWQiLCJfY2xvY2tzZXEiLCJybmciLCJieXRlc1RvVXVpZCIsIl9sYXN0TVNlY3MiLCJfbGFzdE5TZWNzIiwib3B0aW9ucyIsIm5vZGUiLCJjbG9ja3NlcSIsInVuZGVmaW5lZCIsInNlZWRCeXRlcyIsIm1zZWNzIiwiRGF0ZSIsImdldFRpbWUiLCJuc2VjcyIsImR0IiwiRXJyb3IiLCJ0bCIsInRtaCIsImlpIiwiTUFYX0ZVRUwiLCJlbnVtVHlwZSIsImNvdW50IiwiaXRlbSIsImlzTmFOIiwiTnVtYmVyIiwibG9jYXRpb24iLCJaRVJPIiwiY2FwdHVyZSIsImNsb25lIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUEyQ0EsRUFBTUMsR0FDMUIsaUJBQVpDLFNBQTBDLGlCQUFYQyxPQUN4Q0EsT0FBT0QsUUFBVUQsRUFBUUcsUUFBUSxXQUNSLG1CQUFYQyxRQUF5QkEsT0FBT0MsSUFDOUNELE9BQU8sQ0FBQyxVQUFXSixHQUNPLGlCQUFaQyxRQUNkQSxRQUFnQixPQUFJRCxFQUFRRyxRQUFRLFdBRXBD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SUFDbkIsRUFBQTlFLHFCQUErQixJQUMvQixFQUFBRixnQkFBMEIsSUFDMUIsRUFBQU8sd0JBQWtDLElBQ2xDLEVBQUFGLGFBQXVCLEdBQ3ZCLEVBQUEyQixnQkFBMEIsSUFDMUIsRUFBQUUsZ0JBQTBCLEdBQzFCLEVBQUFOLGVBQXlCLEVBVDFDLENBQWMsRUFBQS9DLFlBQUEsRUFBQUEsVUFBUyxNLDhFQ0F2QixTQUFjRyxHQVVNLEVBQUFDLFdBQWhCLFNBQTJCZ0csR0FDdkIsSUFBSUMsRUFBUSxFQUNaLElBQUksSUFBSUMsS0FBUUYsRUFDVEcsTUFBTUMsT0FBT0YsS0FDWkQsSUFHUixPQUFPQSxHQWpCZixDQUFjLEVBQUFsRyxVQUFBLEVBQUFBLFFBQU8sTSw4RUNBckIsU0FBWUUsR0FDUixxQkFDQSwrQkFDQSxxQkFDQSw2QkFFQSwyQkFDQSxtQkFDQSw2QkFSSixDQUFZLEVBQUFBLHFCQUFBLEVBQUFBLG1CQUFrQixNLDhFQ0U5QixpQkFJSSxXQUFZakUsR0FBWixXQUNJVSxLQUFLVixNQUFRQSxFQUNiVSxLQUFLMkosU0FBV3BMLE9BQU9YLEtBQUtrSCxRQUFROEUsS0FDcEM1SixLQUFLVixNQUFNc0IsTUFBTUwsTUFBTXNKLFNBQVUsRUFDakM3SixLQUFLVixNQUFNc0IsTUFBTUMsR0FBRyxlQUFlLFNBQUNHLEdBQ2hDLEVBQUsySSxTQUFXLElBQUlwTCxPQUFPWCxLQUFLa0gsUUFBUTlELEVBQVE1QixFQUFHNEIsRUFBUTNCLE1Bc0J2RSxPQWJJLFlBQUEwRixZQUFBLFdBRUksT0FBTy9FLEtBQUsySixTQUFTRyxTQU16QixZQUFBakYsZ0JBQUEsV0FHSSxPQUZpQzdFLEtBQUtWLE1BQU1lLFFBQVFDLEtBQUsyRSxjQUFjakYsS0FBSzJKLFNBQVN2SyxFQUFHWSxLQUFLMkosU0FBU3RLLElBSTlHLEVBL0JBLEdBQWEsRUFBQW1CIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcInBoYXNlclwiKSk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXCJwaGFzZXJcIl0sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiYnVuZGxlXCJdID0gZmFjdG9yeShyZXF1aXJlKFwicGhhc2VyXCIpKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJidW5kbGVcIl0gPSBmYWN0b3J5KHJvb3RbXCJwaGFzZXJcIl0pO1xufSkod2luZG93LCBmdW5jdGlvbihfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX182X18pIHtcbnJldHVybiAiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMyk7XG4iLCJpbXBvcnQgeyBTaGlwUG9kIH0gZnJvbSBcIi4uL3NoaXBzL3NoaXAtcG9kXCI7XHJcbmltcG9ydCB7IE1vdXNlIH0gZnJvbSBcIi4vbW91c2VcIjtcclxuXHJcbmV4cG9ydCBtb2R1bGUgR2xvYmFscyB7XHJcbiAgICBleHBvcnQgdmFyIGlzUGF1c2VkOiBib29sZWFuO1xyXG4gICAgZXhwb3J0IHZhciBwbGF5ZXI6IFNoaXBQb2Q7XHJcbiAgICBleHBvcnQgdmFyIG1vdXNlOiBNb3VzZTtcclxuICAgIGV4cG9ydCB2YXIgZ2FtZTogUGhhc2VyLkdhbWU7XHJcbn0iLCIvLyBVbmlxdWUgSUQgY3JlYXRpb24gcmVxdWlyZXMgYSBoaWdoIHF1YWxpdHkgcmFuZG9tICMgZ2VuZXJhdG9yLiAgSW4gdGhlXG4vLyBicm93c2VyIHRoaXMgaXMgYSBsaXR0bGUgY29tcGxpY2F0ZWQgZHVlIHRvIHVua25vd24gcXVhbGl0eSBvZiBNYXRoLnJhbmRvbSgpXG4vLyBhbmQgaW5jb25zaXN0ZW50IHN1cHBvcnQgZm9yIHRoZSBgY3J5cHRvYCBBUEkuICBXZSBkbyB0aGUgYmVzdCB3ZSBjYW4gdmlhXG4vLyBmZWF0dXJlLWRldGVjdGlvblxuXG4vLyBnZXRSYW5kb21WYWx1ZXMgbmVlZHMgdG8gYmUgaW52b2tlZCBpbiBhIGNvbnRleHQgd2hlcmUgXCJ0aGlzXCIgaXMgYSBDcnlwdG9cbi8vIGltcGxlbWVudGF0aW9uLiBBbHNvLCBmaW5kIHRoZSBjb21wbGV0ZSBpbXBsZW1lbnRhdGlvbiBvZiBjcnlwdG8gb24gSUUxMS5cbnZhciBnZXRSYW5kb21WYWx1ZXMgPSAodHlwZW9mKGNyeXB0bykgIT0gJ3VuZGVmaW5lZCcgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQoY3J5cHRvKSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAodHlwZW9mKG1zQ3J5cHRvKSAhPSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93Lm1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcyA9PSAnZnVuY3Rpb24nICYmIG1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKG1zQ3J5cHRvKSk7XG5cbmlmIChnZXRSYW5kb21WYWx1ZXMpIHtcbiAgLy8gV0hBVFdHIGNyeXB0byBSTkcgLSBodHRwOi8vd2lraS53aGF0d2cub3JnL3dpa2kvQ3J5cHRvXG4gIHZhciBybmRzOCA9IG5ldyBVaW50OEFycmF5KDE2KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gd2hhdHdnUk5HKCkge1xuICAgIGdldFJhbmRvbVZhbHVlcyhybmRzOCk7XG4gICAgcmV0dXJuIHJuZHM4O1xuICB9O1xufSBlbHNlIHtcbiAgLy8gTWF0aC5yYW5kb20oKS1iYXNlZCAoUk5HKVxuICAvL1xuICAvLyBJZiBhbGwgZWxzZSBmYWlscywgdXNlIE1hdGgucmFuZG9tKCkuICBJdCdzIGZhc3QsIGJ1dCBpcyBvZiB1bnNwZWNpZmllZFxuICAvLyBxdWFsaXR5LlxuICB2YXIgcm5kcyA9IG5ldyBBcnJheSgxNik7XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBtYXRoUk5HKCkge1xuICAgIGZvciAodmFyIGkgPSAwLCByOyBpIDwgMTY7IGkrKykge1xuICAgICAgaWYgKChpICYgMHgwMykgPT09IDApIHIgPSBNYXRoLnJhbmRvbSgpICogMHgxMDAwMDAwMDA7XG4gICAgICBybmRzW2ldID0gciA+Pj4gKChpICYgMHgwMykgPDwgMykgJiAweGZmO1xuICAgIH1cblxuICAgIHJldHVybiBybmRzO1xuICB9O1xufVxuIiwiLyoqXG4gKiBDb252ZXJ0IGFycmF5IG9mIDE2IGJ5dGUgdmFsdWVzIHRvIFVVSUQgc3RyaW5nIGZvcm1hdCBvZiB0aGUgZm9ybTpcbiAqIFhYWFhYWFhYLVhYWFgtWFhYWC1YWFhYLVhYWFhYWFhYWFhYWFxuICovXG52YXIgYnl0ZVRvSGV4ID0gW107XG5mb3IgKHZhciBpID0gMDsgaSA8IDI1NjsgKytpKSB7XG4gIGJ5dGVUb0hleFtpXSA9IChpICsgMHgxMDApLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSk7XG59XG5cbmZ1bmN0aW9uIGJ5dGVzVG9VdWlkKGJ1Ziwgb2Zmc2V0KSB7XG4gIHZhciBpID0gb2Zmc2V0IHx8IDA7XG4gIHZhciBidGggPSBieXRlVG9IZXg7XG4gIC8vIGpvaW4gdXNlZCB0byBmaXggbWVtb3J5IGlzc3VlIGNhdXNlZCBieSBjb25jYXRlbmF0aW9uOiBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMTc1I2M0XG4gIHJldHVybiAoW1xuICAgIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgJy0nLFxuICAgIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sICctJyxcbiAgICBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLCAnLScsXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgJy0nLFxuICAgIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSxcbiAgICBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dXG4gIF0pLmpvaW4oJycpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJ5dGVzVG9VdWlkO1xuIiwiaW1wb3J0IHsgU2hpcFNjZW5lIH0gZnJvbSBcIi4vc2NlbmVzL3NoaXAtc2NlbmVcIjtcclxuaW1wb3J0IHsgR2xvYmFscyB9IGZyb20gXCIuL3V0aWxpdGllcy9nbG9iYWxzXCI7XHJcblxyXG5jb25zdCBnYW1lQ29uZmlnOiBQaGFzZXIuVHlwZXMuQ29yZS5HYW1lQ29uZmlnID0ge1xyXG4gICAgdHlwZTogUGhhc2VyLkFVVE8sXHJcbiAgICBzY2FsZToge1xyXG4gICAgICAgIHdpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aCxcclxuICAgICAgICBoZWlnaHQ6IHdpbmRvdy5pbm5lckhlaWdodFxyXG4gICAgfSxcclxuICAgIGJhY2tncm91bmRDb2xvcjogJyMwMDAwMDAnLFxyXG4gICAgcGFyZW50OiAnc3BhY2Utc2ltJyxcclxuICAgIHBoeXNpY3M6IHtcclxuICAgICAgICBkZWZhdWx0OiAnYXJjYWRlJyxcclxuICAgICAgICBhcmNhZGU6IHtcclxuICAgICAgICAgICAgZ3Jhdml0eTogeyB4OiAwLCB5OiAwIH0sXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHNjZW5lOiBTaGlwU2NlbmVcclxufTtcclxuZXhwb3J0IGNvbnN0IGdhbWU6IFBoYXNlci5HYW1lID0gbmV3IFBoYXNlci5HYW1lKGdhbWVDb25maWcpO1xyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IHtcclxuICAgIGdhbWUuc2NhbGUucmVmcmVzaCgpO1xyXG59KTtcclxuXHJcbkdsb2JhbHMuZ2FtZSA9IGdhbWU7IiwiaW1wb3J0IHsgU2hpcFBvZCB9IGZyb20gXCIuLi9zaGlwcy9zaGlwLXBvZFwiO1xyXG5pbXBvcnQgeyBHbG9iYWxzIH0gZnJvbSBcIi4uL3V0aWxpdGllcy9nbG9iYWxzXCI7XHJcbmltcG9ydCB7IE1vdXNlIH0gZnJvbSBcIi4uL3V0aWxpdGllcy9tb3VzZVwiO1xyXG5cclxuY29uc3Qgc2NlbmVDb25maWc6IFBoYXNlci5UeXBlcy5TY2VuZXMuU2V0dGluZ3NDb25maWcgPSB7XHJcbiAgICBhY3RpdmU6IHRydWUsXHJcbiAgICB2aXNpYmxlOiB0cnVlLFxyXG4gICAga2V5OiAnU2hpcFNjZW5lJ1xyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIFNoaXBTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcihzY2VuZUNvbmZpZyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHByZWxvYWQoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdzdGFycycsICcuL2Fzc2V0cy9iYWNrZ3JvdW5kcy90aWxlYWJsZVN0YXJzLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnc2hpcC1wb2QnLCAnLi9hc3NldHMvc3ByaXRlcy9zaGlwLXBvZC5wbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuYWRkLnRpbGVTcHJpdGUoMCwgMCwgdGhpcy5jYW1lcmFzLm1haW4ud2lkdGggKiAxMCwgdGhpcy5jYW1lcmFzLm1haW4uaGVpZ2h0ICogMTAsICdzdGFycycpO1xyXG5cclxuICAgICAgICBpZiAoIUdsb2JhbHMubW91c2UpIHtcclxuICAgICAgICAgICAgR2xvYmFscy5tb3VzZSA9IG5ldyBNb3VzZSh0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgR2xvYmFscy5wbGF5ZXIgPSBuZXcgU2hpcFBvZCh0aGlzKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXR1cENhbWVyYShHbG9iYWxzLnBsYXllcik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5pbnB1dC5vbignS0VZX0RPV05fUCcsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBHbG9iYWxzLmlzUGF1c2VkID0gdHJ1ZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmlucHV0Lm9uKCdLRVlfRE9XTl9SJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBHbG9iYWxzLmlzUGF1c2VkID0gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5pbnB1dC5vbignd2hlZWwnLCAocG9pbnRlciwgY3VycmVudGx5T3ZlciwgZHgsIGR5LCBkeiwgZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgbGV0IGN1cnJlbnRab29tOiBudW1iZXIgPSB0aGlzLmNhbWVyYXMubWFpbi56b29tO1xyXG4gICAgICAgICAgICBpZiAoZHkgPCAwKSB7IC8vIHNjcm9sbGVkIGRvd25cclxuICAgICAgICAgICAgICAgIC8vIHpvb20gaW5cclxuICAgICAgICAgICAgICAgIGxldCBuZXdab29tOiBudW1iZXIgPSBjdXJyZW50Wm9vbSArIDAuNTtcclxuICAgICAgICAgICAgICAgIGlmIChuZXdab29tID4gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld1pvb20gPSAxO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYHpvb21pbmcgZnJvbSAke2N1cnJlbnRab29tfSB0byAke25ld1pvb219YCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi56b29tVG8obmV3Wm9vbSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZHkgPiAwKSB7IC8vIHNjcm9sbGVkIHVwXHJcbiAgICAgICAgICAgICAgICAvLyB6b29tIG91dFxyXG4gICAgICAgICAgICAgICAgbGV0IG5ld1pvb206IG51bWJlciA9IGN1cnJlbnRab29tIC0gMC41O1xyXG4gICAgICAgICAgICAgICAgaWYgKG5ld1pvb20gPCAwLjEpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdab29tID0gMC4xO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYHpvb21pbmcgZnJvbSAke2N1cnJlbnRab29tfSB0byAke25ld1pvb219YCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi56b29tVG8obmV3Wm9vbSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICghR2xvYmFscy5pc1BhdXNlZCkge1xyXG4gICAgICAgICAgICBHbG9iYWxzLnBsYXllci51cGRhdGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXR1cENhbWVyYShwbGF5ZXI6IFNoaXBQb2QpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5iYWNrZ3JvdW5kQ29sb3Iuc2V0RnJvbVJHQih7cjogMCwgZzogMCwgYjogMH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldFpvb20oMSk7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uY2VudGVyT24oMCwgMCk7XHJcblxyXG4gICAgICAgIGxldCB3aWR0aDogbnVtYmVyID0gdGhpcy5jYW1lcmFzLm1haW4ud2lkdGg7XHJcbiAgICAgICAgbGV0IGhlaWdodDogbnVtYmVyID0gdGhpcy5jYW1lcmFzLm1haW4uaGVpZ2h0O1xyXG4gICAgICAgIGxldCBkeldpZHRoOiBudW1iZXIgPSBNYXRoLmZsb29yKHdpZHRoIC8gMik7XHJcbiAgICAgICAgbGV0IGR6SGVpZ2h0OiBudW1iZXIgPSBNYXRoLmZsb29yKGhlaWdodCAvIDIpO1xyXG4gICAgICAgIGxldCBkelg6IG51bWJlciA9IE1hdGguZmxvb3IoZHpXaWR0aCAvIDIpO1xyXG4gICAgICAgIGxldCBkelk6IG51bWJlciA9IE1hdGguZmxvb3IoZHpIZWlnaHQgLyAyKTtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zdGFydEZvbGxvdyhwbGF5ZXIuZ2V0R2FtZU9iamVjdCgpLCB0cnVlKTtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5kZWFkem9uZSA9IG5ldyBQaGFzZXIuR2VvbS5SZWN0YW5nbGUoZHpYLCBkelksIGR6V2lkdGgsIGR6SGVpZ2h0KTtcclxuICAgIH1cclxufSIsImltcG9ydCBcInBoYXNlclwiO1xyXG5pbXBvcnQgeyBSTkcgfSBmcm9tIFwiLi4vdXRpbGl0aWVzL3JuZ1wiO1xyXG5pbXBvcnQgeyBVcGRhdGFibGUgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy91cGRhdGFibGVcIjtcclxuaW1wb3J0IHsgQ2FuVGFyZ2V0IH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvY2FuLXRhcmdldFwiO1xyXG5pbXBvcnQgeyBDYW5UaHJ1c3QgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9jYW4tdGhydXN0XCI7XHJcbmltcG9ydCB7IEhhc0xvY2F0aW9uIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvaGFzLWxvY2F0aW9uXCI7XHJcbmltcG9ydCB7IEhhc0dhbWVPYmplY3QgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9oYXMtZ2FtZS1vYmplY3RcIjtcclxuaW1wb3J0IHsgR2xvYmFscyB9IGZyb20gXCIuLi91dGlsaXRpZXMvZ2xvYmFsc1wiO1xyXG5pbXBvcnQgeyBIYXNJbnRlZ3JpdHkgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9oYXMtaW50ZWdyaXR5XCI7XHJcbmltcG9ydCB7IENvbnN0YW50cyB9IGZyb20gXCIuLi91dGlsaXRpZXMvY29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IFNoaXBBdHRhY2htZW50IH0gZnJvbSBcIi4vYXR0YWNobWVudHMvc2hpcC1hdHRhY2htZW50XCI7XHJcbmltcG9ydCB7IEhhc0F0dGFjaG1lbnRzIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvaGFzLWF0dGFjaG1lbnRzXCI7XHJcbmltcG9ydCB7IEhlbHBlcnMgfSBmcm9tIFwiLi4vdXRpbGl0aWVzL2hlbHBlcnNcIjtcclxuaW1wb3J0IHsgQXR0YWNobWVudExvY2F0aW9uIH0gZnJvbSBcIi4vYXR0YWNobWVudHMvYXR0YWNobWVudC1sb2NhdGlvblwiO1xyXG5pbXBvcnQgeyBIYXNUZW1wZXJhdHVyZSB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2hhcy10ZW1wZXJhdHVyZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNoaXBQb2QgaW1wbGVtZW50cyBVcGRhdGFibGUsIENhblRhcmdldCwgQ2FuVGhydXN0LCBIYXNMb2NhdGlvbiwgSGFzR2FtZU9iamVjdCwgSGFzSW50ZWdyaXR5LCBIYXNBdHRhY2htZW50cywgSGFzVGVtcGVyYXR1cmUge1xyXG4gICAgcHJpdmF0ZSBpZDogc3RyaW5nOyAvLyBVVUlEXHJcbiAgICBwcml2YXRlIHNjZW5lOiBQaGFzZXIuU2NlbmU7XHJcbiAgICBwcml2YXRlIGdhbWVPYmo6IFBoYXNlci5QaHlzaWNzLkFyY2FkZS5TcHJpdGU7XHJcbiAgICBwcml2YXRlIHRhcmdldDogSGFzTG9jYXRpb247XHJcbiAgICBwcml2YXRlIGludGVncml0eTogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBhdHRhY2htZW50czogU2hpcEF0dGFjaG1lbnRbXTtcclxuICAgIHByaXZhdGUgdGhydXN0S2V5O1xyXG4gICAgcHJpdmF0ZSByb3RhdGVBdHRhY2htZW50c0Nsb2Nrd2lzZUtleTtcclxuICAgIHByaXZhdGUgcm90YXRlQXR0YWNobWVudHNBbnRpQ2xvY2t3aXNlS2V5O1xyXG4gICAgcHJpdmF0ZSByZW1haW5pbmdGdWVsOiBudW1iZXIgPSAxMDA7XHJcbiAgICBwcml2YXRlIHRlbXBlcmF0dXJlOiBudW1iZXIgPSAwOyAvLyBpbiBDZWxjaXVzXHJcblxyXG4gICAgYWN0aXZlOiBib29sZWFuID0gdHJ1ZTtcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3Ioc2NlbmU6IFBoYXNlci5TY2VuZSkge1xyXG4gICAgICAgIHRoaXMuaWQgPSBSTkcuZ3VpZCgpO1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLmdhbWVPYmogPSBzY2VuZS5waHlzaWNzLmFkZC5zcHJpdGUoMCwgMCwgJ3NoaXAtcG9kJyk7XHJcblxyXG4gICAgICAgIHRoaXMuaW50ZWdyaXR5ID0gQ29uc3RhbnRzLk1BWF9JTlRFR1JJVFk7XHJcbiAgICAgICAgdGhpcy5hdHRhY2htZW50cyA9IG5ldyBBcnJheTxTaGlwQXR0YWNobWVudD4oSGVscGVycy5lbnVtTGVuZ3RoKEF0dGFjaG1lbnRMb2NhdGlvbikpO1xyXG5cclxuICAgICAgICB0aGlzLnNldFRhcmdldChHbG9iYWxzLm1vdXNlKTtcclxuICAgICAgICB0aGlzLnNldHVwSW5wdXRIYW5kbGVycygpO1xyXG4gICAgICAgIHRoaXMuY2hlY2tPdmVyaGVhdENvbmRpdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIUdsb2JhbHMuaXNQYXVzZWQgJiYgdGhpcy5hY3RpdmUpIHtcclxuICAgICAgICAgICAgdGhpcy5sb29rQXRUYXJnZXQoKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMudGhydXN0S2V5LmlzRG93bikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50aHJ1c3RGb3dhcmRzKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMucm90YXRlQXR0YWNobWVudHNDbG9ja3dpc2VLZXkuaXNEb3duKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJvdGF0ZUF0dGFjaG1lbnRzQ2xvY2t3aXNlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMucm90YXRlQXR0YWNobWVudHNBbnRpQ2xvY2t3aXNlS2V5LmlzRG93bikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yb3RhdGVBdHRhY2htZW50c0FudGlDbG9ja3dpc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldHVwSW5wdXRIYW5kbGVycygpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnRocnVzdEtleSA9IHRoaXMuc2NlbmUuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KCdTUEFDRScsIHRydWUsIHRydWUpO1xyXG4gICAgICAgIHRoaXMucm90YXRlQXR0YWNobWVudHNDbG9ja3dpc2VLZXkgPSB0aGlzLnNjZW5lLmlucHV0LmtleWJvYXJkLmFkZEtleSgnRScsIHRydWUsIHRydWUpO1xyXG4gICAgICAgIHRoaXMucm90YXRlQXR0YWNobWVudHNBbnRpQ2xvY2t3aXNlS2V5ID0gdGhpcy5zY2VuZS5pbnB1dC5rZXlib2FyZC5hZGRLZXkoJ1EnLCB0cnVlLCB0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGNoZWNrcyBmb3IgYW5kIGFwcGxpZXMgZGFtYWdlIGJhc2VkIG9uIGRlZ3JlZXMgb3ZlciBzYWZlIHRlbXBlcmF0dXJlIGF0IGEgcmF0ZVxyXG4gICAgICogZGVmaW5lZCBieSB7Q29uc3RhbnRzLk9WRVJIRUFUX0NIRUNLX0lOVEVSVkFMfSBtaWxsaXNlY29uZHMgYmV0d2VlbiBlYWNoIGNoZWNrLlxyXG4gICAgICogYWxzbyBhcHBsaWVzIGNvb2xpbmcgYXQgYSByYXRlIG9mIHtDb25zdGFudHMuQ09PTElOR19SQVRFfVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGNoZWNrT3ZlcmhlYXRDb25kaXRpb24oKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCFHbG9iYWxzLmlzUGF1c2VkICYmIHRoaXMuYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRlbXBlcmF0dXJlID4gQ29uc3RhbnRzLk1BWF9URU1QRVJBVFVSRSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95KCk7IC8vIHdlIGFyZSBkZWFkXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMudGVtcGVyYXR1cmUgPiBDb25zdGFudHMuTUFYX1NBRkVfVEVNUEVSQVRVUkUpIHtcclxuICAgICAgICAgICAgICAgIC8vIHJlZHVjZSBpbnRlZ3JpdHkgYmFzZWQgb24gZGVncmVlcyBvdmVyIHNhZmUgb3BlcmF0aW5nIHRlbXBcclxuICAgICAgICAgICAgICAgIGxldCBkZWx0YTogbnVtYmVyID0gdGhpcy50ZW1wZXJhdHVyZSAtIENvbnN0YW50cy5NQVhfU0FGRV9URU1QRVJBVFVSRTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW50ZWdyaXR5IC09IGRlbHRhO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuYXBwbHlDb29saW5nKENvbnN0YW50cy5DT09MSU5HX1JBVEUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZXRUaW1lb3V0KHRoaXMuY2hlY2tPdmVyaGVhdENvbmRpdGlvbiwgQ29uc3RhbnRzLk9WRVJIRUFUX0NIRUNLX0lOVEVSVkFMKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRPRE86IG5lZWRlZCBzbyB3ZSBjYW4gdXNlIEZsb2F0aW5nIE9yaWdpblxyXG4gICAgICovXHJcbiAgICBnZXRSZWFsUG9zaXRpb24oKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKHRoaXMuZ2FtZU9iai54LCB0aGlzLmdhbWVPYmoueSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiB0aGUgbG9jYXRpb24gd2l0aGluIHRoZSB2aWV3YWJsZSBhcmVhXHJcbiAgICAgKiBAcmV0dXJucyBhIHtQaGFzZXIuTWF0aC5WZWN0b3IyfSBvZmZzZXQgZm9yIGxvY2F0aW9uIHdpdGhpbiBjdXJyZW50IFxyXG4gICAgICogdmlld2FibGUgYXJlYVxyXG4gICAgICovXHJcbiAgICBnZXRQb3NpdGlvbigpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICBsZXQgY2FtZXJhUG9zOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5zY2VuZS5jYW1lcmFzLm1haW4uZ2V0V29ybGRQb2ludCgwLCAwKTtcclxuICAgICAgICByZXR1cm4gbmV3IFBoYXNlci5NYXRoLlZlY3RvcjIodGhpcy5nYW1lT2JqLnggLSBjYW1lcmFQb3MueCwgdGhpcy5nYW1lT2JqLnkgLSBjYW1lcmFQb3MueSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0SWQoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pZDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRHYW1lT2JqZWN0KCk6IFBoYXNlci5HYW1lT2JqZWN0cy5HYW1lT2JqZWN0IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nYW1lT2JqO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFRhcmdldCh0YXJnZXQ6IEhhc0xvY2F0aW9uKSB7XHJcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XHJcbiAgICB9XHJcblxyXG4gICAgbG9va0F0VGFyZ2V0KCk6IHZvaWQge1xyXG4gICAgICAgIGxldCBwb3MgPSB0aGlzLnRhcmdldC5nZXRSZWFsUG9zaXRpb24oKTtcclxuICAgICAgICBsZXQgcmFkaWFuczogbnVtYmVyID0gUGhhc2VyLk1hdGguQW5nbGUuQmV0d2Vlbihwb3MueCwgcG9zLnksIHRoaXMuZ2FtZU9iai54LCB0aGlzLmdhbWVPYmoueSk7XHJcbiAgICAgICAgdGhpcy5nYW1lT2JqLnNldFJvdGF0aW9uKHJhZGlhbnMpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEhlYWRpbmcoKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgbGV0IHg6IG51bWJlciA9IE1hdGguY29zKHRoaXMuZ2FtZU9iai5yb3RhdGlvbik7XHJcbiAgICAgICAgbGV0IHk6IG51bWJlciA9IE1hdGguc2luKHRoaXMuZ2FtZU9iai5yb3RhdGlvbik7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKHgsIHkpLm5vcm1hbGl6ZSgpLm5lZ2F0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHRocnVzdEZvd2FyZHMoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMucmVtYWluaW5nRnVlbCA+IDApIHtcclxuICAgICAgICAgICAgbGV0IGhlYWRpbmc6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSB0aGlzLmdldEhlYWRpbmcoKTtcclxuICAgICAgICAgICAgbGV0IGRlbHRhVjogUGhhc2VyLk1hdGguVmVjdG9yMiA9IGhlYWRpbmcubXVsdGlwbHkobmV3IFBoYXNlci5NYXRoLlZlY3RvcjIoQ29uc3RhbnRzLlRIUlVTVEVSX0ZPUkNFLCBDb25zdGFudHMuVEhSVVNURVJfRk9SQ0UpKTtcclxuICAgICAgICAgICAgdGhpcy5nYW1lT2JqLmJvZHkudmVsb2NpdHkuYWRkKGRlbHRhVik7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlZHVjZUZ1ZWwoQ29uc3RhbnRzLkZVRUxfUEVSX1RIUlVTVCk7XHJcbiAgICAgICAgICAgIHRoaXMuYXBwbHlIZWF0aW5nKENvbnN0YW50cy5IRUFUX1BFUl9USFJVU1QpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdHJhZmVMZWZ0KCk6IHZvaWQge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBzdHJhZmVSaWdodCgpOiB2b2lkIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgdGhydXN0QmFja3dhcmRzKCk6IHZvaWQge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBhcHBseUhlYXRpbmcoZGVncmVlczogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy50ZW1wZXJhdHVyZSArPSBkZWdyZWVzO1xyXG4gICAgfVxyXG5cclxuICAgIGFwcGx5Q29vbGluZyhkZWdyZWVzOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnRlbXBlcmF0dXJlIC09IGRlZ3JlZXM7XHJcbiAgICAgICAgaWYgKHRoaXMudGVtcGVyYXR1cmUgPCAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGVtcGVyYXR1cmUgPSAwO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZWR1Y2VGdWVsKGFtb3VudDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5yZW1haW5pbmdGdWVsIC09IGFtb3VudDtcclxuICAgICAgICBpZiAodGhpcy5yZW1haW5pbmdGdWVsIDwgMCkge1xyXG4gICAgICAgICAgICB0aGlzLnJlbWFpbmluZ0Z1ZWwgPSAwO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRJbnRlZ3JpdHkoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pbnRlZ3JpdHk7XHJcbiAgICB9XHJcblxyXG4gICAgc3VzdGFpbkRhbWFnZShhbW91bnQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuaW50ZWdyaXR5IC09IGFtb3VudDtcclxuICAgICAgICBpZiAodGhpcy5pbnRlZ3JpdHkgPD0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmludGVncml0eSA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveSgpOyAvLyB3ZSBhcmUgZGVhZFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXBhaXIoYW1vdW50OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmludGVncml0eSA9IGFtb3VudDtcclxuICAgICAgICBpZiAodGhpcy5pbnRlZ3JpdHkgPiBDb25zdGFudHMuTUFYX0lOVEVHUklUWSkge1xyXG4gICAgICAgICAgICB0aGlzLmludGVncml0eSA9IENvbnN0YW50cy5NQVhfSU5URUdSSVRZO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByb3RhdGVBdHRhY2htZW50c0Nsb2Nrd2lzZSgpOiB2b2lkIHtcclxuICAgICAgICBsZXQgbGFzdDogU2hpcEF0dGFjaG1lbnQgPSB0aGlzLmF0dGFjaG1lbnRzLnBvcCgpOyAvLyByZW1vdmUgbGFzdCBlbGVtZW50XHJcbiAgICAgICAgdGhpcy5hdHRhY2htZW50cy51bnNoaWZ0KGxhc3QpOyAvLyBwdXNoIGxhc3QgZWxlbWVudCBvbnRvIHN0YXJ0IG9mIGFycmF5XHJcbiAgICB9XHJcblxyXG4gICAgcm90YXRlQXR0YWNobWVudHNBbnRpQ2xvY2t3aXNlKCk6IHZvaWQge1xyXG4gICAgICAgIGxldCBmaXJzdDogU2hpcEF0dGFjaG1lbnQgPSB0aGlzLmF0dGFjaG1lbnRzLnNoaWZ0KCk7IC8vIHJlbW92ZSBmaXJzdCBlbGVtZW50XHJcbiAgICAgICAgdGhpcy5hdHRhY2htZW50cy5wdXNoKGZpcnN0KTsgLy8gcHVzaCBmaXJzdCBlbGVtZW50IG9udG8gZW5kIG9mIGFycmF5XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiByZXBsYWNlcyB0aGUgYXR0YWNobWVudCBpbiB7QXR0YWNobWVudExvY2F0aW9uLmZyb250fVxyXG4gICAgICogd2l0aCB0aGUgcGFzc2VkIGluIHtTaGlwQXR0YWNobWVudH0uIGlmIG5vIGF0dGFjaG1lbnRcclxuICAgICAqIGluIHRoZSB7QXR0YWNobWVudExvY2F0aW9uLmZyb250fSBzbG90IHRoZW4gaXQgaXMgXHJcbiAgICAgKiBzaW1wbHkgYWRkZWQuXHJcbiAgICAgKiBAcGFyYW0gYXR0YWNobWVudCB0aGUgYXR0YWNobWVudCB0byBiZSBhZGRlZFxyXG4gICAgICovXHJcbiAgICBhZGRBdHRhY2htZW50KGF0dGFjaG1lbnQ6IFNoaXBBdHRhY2htZW50KTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuYXR0YWNobWVudHNbQXR0YWNobWVudExvY2F0aW9uLmZyb250XSkge1xyXG4gICAgICAgICAgICBsZXQgYTogU2hpcEF0dGFjaG1lbnQgPSB0aGlzLmF0dGFjaG1lbnRzW0F0dGFjaG1lbnRMb2NhdGlvbi5mcm9udF07XHJcbiAgICAgICAgICAgIGEuZGV0YWNoKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuYXR0YWNobWVudHNbQXR0YWNobWVudExvY2F0aW9uLmZyb250XSA9IGF0dGFjaG1lbnQ7XHJcbiAgICAgICAgYXR0YWNobWVudC5hdHRhY2godGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcclxuICAgICAgICAvLyBUT0RPOlxyXG4gICAgfVxyXG59IiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX182X187IiwiaW1wb3J0IHsgdjQgfSBmcm9tIFwidXVpZFwiO1xyXG5cclxuZXhwb3J0IG1vZHVsZSBSTkcge1xyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGludChtaW46IG51bWJlciwgbWF4OiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBndWlkKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHY0KCk7XHJcbiAgICB9XHJcbn0iLCJ2YXIgdjEgPSByZXF1aXJlKCcuL3YxJyk7XG52YXIgdjQgPSByZXF1aXJlKCcuL3Y0Jyk7XG5cbnZhciB1dWlkID0gdjQ7XG51dWlkLnYxID0gdjE7XG51dWlkLnY0ID0gdjQ7XG5cbm1vZHVsZS5leHBvcnRzID0gdXVpZDtcbiIsInZhciBybmcgPSByZXF1aXJlKCcuL2xpYi9ybmcnKTtcbnZhciBieXRlc1RvVXVpZCA9IHJlcXVpcmUoJy4vbGliL2J5dGVzVG9VdWlkJyk7XG5cbi8vICoqYHYxKClgIC0gR2VuZXJhdGUgdGltZS1iYXNlZCBVVUlEKipcbi8vXG4vLyBJbnNwaXJlZCBieSBodHRwczovL2dpdGh1Yi5jb20vTGlvc0svVVVJRC5qc1xuLy8gYW5kIGh0dHA6Ly9kb2NzLnB5dGhvbi5vcmcvbGlicmFyeS91dWlkLmh0bWxcblxudmFyIF9ub2RlSWQ7XG52YXIgX2Nsb2Nrc2VxO1xuXG4vLyBQcmV2aW91cyB1dWlkIGNyZWF0aW9uIHRpbWVcbnZhciBfbGFzdE1TZWNzID0gMDtcbnZhciBfbGFzdE5TZWNzID0gMDtcblxuLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZCBmb3IgQVBJIGRldGFpbHNcbmZ1bmN0aW9uIHYxKG9wdGlvbnMsIGJ1Ziwgb2Zmc2V0KSB7XG4gIHZhciBpID0gYnVmICYmIG9mZnNldCB8fCAwO1xuICB2YXIgYiA9IGJ1ZiB8fCBbXTtcblxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgdmFyIG5vZGUgPSBvcHRpb25zLm5vZGUgfHwgX25vZGVJZDtcbiAgdmFyIGNsb2Nrc2VxID0gb3B0aW9ucy5jbG9ja3NlcSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jbG9ja3NlcSA6IF9jbG9ja3NlcTtcblxuICAvLyBub2RlIGFuZCBjbG9ja3NlcSBuZWVkIHRvIGJlIGluaXRpYWxpemVkIHRvIHJhbmRvbSB2YWx1ZXMgaWYgdGhleSdyZSBub3RcbiAgLy8gc3BlY2lmaWVkLiAgV2UgZG8gdGhpcyBsYXppbHkgdG8gbWluaW1pemUgaXNzdWVzIHJlbGF0ZWQgdG8gaW5zdWZmaWNpZW50XG4gIC8vIHN5c3RlbSBlbnRyb3B5LiAgU2VlICMxODlcbiAgaWYgKG5vZGUgPT0gbnVsbCB8fCBjbG9ja3NlcSA9PSBudWxsKSB7XG4gICAgdmFyIHNlZWRCeXRlcyA9IHJuZygpO1xuICAgIGlmIChub2RlID09IG51bGwpIHtcbiAgICAgIC8vIFBlciA0LjUsIGNyZWF0ZSBhbmQgNDgtYml0IG5vZGUgaWQsICg0NyByYW5kb20gYml0cyArIG11bHRpY2FzdCBiaXQgPSAxKVxuICAgICAgbm9kZSA9IF9ub2RlSWQgPSBbXG4gICAgICAgIHNlZWRCeXRlc1swXSB8IDB4MDEsXG4gICAgICAgIHNlZWRCeXRlc1sxXSwgc2VlZEJ5dGVzWzJdLCBzZWVkQnl0ZXNbM10sIHNlZWRCeXRlc1s0XSwgc2VlZEJ5dGVzWzVdXG4gICAgICBdO1xuICAgIH1cbiAgICBpZiAoY2xvY2tzZXEgPT0gbnVsbCkge1xuICAgICAgLy8gUGVyIDQuMi4yLCByYW5kb21pemUgKDE0IGJpdCkgY2xvY2tzZXFcbiAgICAgIGNsb2Nrc2VxID0gX2Nsb2Nrc2VxID0gKHNlZWRCeXRlc1s2XSA8PCA4IHwgc2VlZEJ5dGVzWzddKSAmIDB4M2ZmZjtcbiAgICB9XG4gIH1cblxuICAvLyBVVUlEIHRpbWVzdGFtcHMgYXJlIDEwMCBuYW5vLXNlY29uZCB1bml0cyBzaW5jZSB0aGUgR3JlZ29yaWFuIGVwb2NoLFxuICAvLyAoMTU4Mi0xMC0xNSAwMDowMCkuICBKU051bWJlcnMgYXJlbid0IHByZWNpc2UgZW5vdWdoIGZvciB0aGlzLCBzb1xuICAvLyB0aW1lIGlzIGhhbmRsZWQgaW50ZXJuYWxseSBhcyAnbXNlY3MnIChpbnRlZ2VyIG1pbGxpc2Vjb25kcykgYW5kICduc2VjcydcbiAgLy8gKDEwMC1uYW5vc2Vjb25kcyBvZmZzZXQgZnJvbSBtc2Vjcykgc2luY2UgdW5peCBlcG9jaCwgMTk3MC0wMS0wMSAwMDowMC5cbiAgdmFyIG1zZWNzID0gb3B0aW9ucy5tc2VjcyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5tc2VjcyA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXG4gIC8vIFBlciA0LjIuMS4yLCB1c2UgY291bnQgb2YgdXVpZCdzIGdlbmVyYXRlZCBkdXJpbmcgdGhlIGN1cnJlbnQgY2xvY2tcbiAgLy8gY3ljbGUgdG8gc2ltdWxhdGUgaGlnaGVyIHJlc29sdXRpb24gY2xvY2tcbiAgdmFyIG5zZWNzID0gb3B0aW9ucy5uc2VjcyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5uc2VjcyA6IF9sYXN0TlNlY3MgKyAxO1xuXG4gIC8vIFRpbWUgc2luY2UgbGFzdCB1dWlkIGNyZWF0aW9uIChpbiBtc2VjcylcbiAgdmFyIGR0ID0gKG1zZWNzIC0gX2xhc3RNU2VjcykgKyAobnNlY3MgLSBfbGFzdE5TZWNzKS8xMDAwMDtcblxuICAvLyBQZXIgNC4yLjEuMiwgQnVtcCBjbG9ja3NlcSBvbiBjbG9jayByZWdyZXNzaW9uXG4gIGlmIChkdCA8IDAgJiYgb3B0aW9ucy5jbG9ja3NlcSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgY2xvY2tzZXEgPSBjbG9ja3NlcSArIDEgJiAweDNmZmY7XG4gIH1cblxuICAvLyBSZXNldCBuc2VjcyBpZiBjbG9jayByZWdyZXNzZXMgKG5ldyBjbG9ja3NlcSkgb3Igd2UndmUgbW92ZWQgb250byBhIG5ld1xuICAvLyB0aW1lIGludGVydmFsXG4gIGlmICgoZHQgPCAwIHx8IG1zZWNzID4gX2xhc3RNU2VjcykgJiYgb3B0aW9ucy5uc2VjcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgbnNlY3MgPSAwO1xuICB9XG5cbiAgLy8gUGVyIDQuMi4xLjIgVGhyb3cgZXJyb3IgaWYgdG9vIG1hbnkgdXVpZHMgYXJlIHJlcXVlc3RlZFxuICBpZiAobnNlY3MgPj0gMTAwMDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3V1aWQudjEoKTogQ2FuXFwndCBjcmVhdGUgbW9yZSB0aGFuIDEwTSB1dWlkcy9zZWMnKTtcbiAgfVxuXG4gIF9sYXN0TVNlY3MgPSBtc2VjcztcbiAgX2xhc3ROU2VjcyA9IG5zZWNzO1xuICBfY2xvY2tzZXEgPSBjbG9ja3NlcTtcblxuICAvLyBQZXIgNC4xLjQgLSBDb252ZXJ0IGZyb20gdW5peCBlcG9jaCB0byBHcmVnb3JpYW4gZXBvY2hcbiAgbXNlY3MgKz0gMTIyMTkyOTI4MDAwMDA7XG5cbiAgLy8gYHRpbWVfbG93YFxuICB2YXIgdGwgPSAoKG1zZWNzICYgMHhmZmZmZmZmKSAqIDEwMDAwICsgbnNlY3MpICUgMHgxMDAwMDAwMDA7XG4gIGJbaSsrXSA9IHRsID4+PiAyNCAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRsID4+PiAxNiAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRsID4+PiA4ICYgMHhmZjtcbiAgYltpKytdID0gdGwgJiAweGZmO1xuXG4gIC8vIGB0aW1lX21pZGBcbiAgdmFyIHRtaCA9IChtc2VjcyAvIDB4MTAwMDAwMDAwICogMTAwMDApICYgMHhmZmZmZmZmO1xuICBiW2krK10gPSB0bWggPj4+IDggJiAweGZmO1xuICBiW2krK10gPSB0bWggJiAweGZmO1xuXG4gIC8vIGB0aW1lX2hpZ2hfYW5kX3ZlcnNpb25gXG4gIGJbaSsrXSA9IHRtaCA+Pj4gMjQgJiAweGYgfCAweDEwOyAvLyBpbmNsdWRlIHZlcnNpb25cbiAgYltpKytdID0gdG1oID4+PiAxNiAmIDB4ZmY7XG5cbiAgLy8gYGNsb2NrX3NlcV9oaV9hbmRfcmVzZXJ2ZWRgIChQZXIgNC4yLjIgLSBpbmNsdWRlIHZhcmlhbnQpXG4gIGJbaSsrXSA9IGNsb2Nrc2VxID4+PiA4IHwgMHg4MDtcblxuICAvLyBgY2xvY2tfc2VxX2xvd2BcbiAgYltpKytdID0gY2xvY2tzZXEgJiAweGZmO1xuXG4gIC8vIGBub2RlYFxuICBmb3IgKHZhciBuID0gMDsgbiA8IDY7ICsrbikge1xuICAgIGJbaSArIG5dID0gbm9kZVtuXTtcbiAgfVxuXG4gIHJldHVybiBidWYgPyBidWYgOiBieXRlc1RvVXVpZChiKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB2MTtcbiIsInZhciBybmcgPSByZXF1aXJlKCcuL2xpYi9ybmcnKTtcbnZhciBieXRlc1RvVXVpZCA9IHJlcXVpcmUoJy4vbGliL2J5dGVzVG9VdWlkJyk7XG5cbmZ1bmN0aW9uIHY0KG9wdGlvbnMsIGJ1Ziwgb2Zmc2V0KSB7XG4gIHZhciBpID0gYnVmICYmIG9mZnNldCB8fCAwO1xuXG4gIGlmICh0eXBlb2Yob3B0aW9ucykgPT0gJ3N0cmluZycpIHtcbiAgICBidWYgPSBvcHRpb25zID09PSAnYmluYXJ5JyA/IG5ldyBBcnJheSgxNikgOiBudWxsO1xuICAgIG9wdGlvbnMgPSBudWxsO1xuICB9XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIHZhciBybmRzID0gb3B0aW9ucy5yYW5kb20gfHwgKG9wdGlvbnMucm5nIHx8IHJuZykoKTtcblxuICAvLyBQZXIgNC40LCBzZXQgYml0cyBmb3IgdmVyc2lvbiBhbmQgYGNsb2NrX3NlcV9oaV9hbmRfcmVzZXJ2ZWRgXG4gIHJuZHNbNl0gPSAocm5kc1s2XSAmIDB4MGYpIHwgMHg0MDtcbiAgcm5kc1s4XSA9IChybmRzWzhdICYgMHgzZikgfCAweDgwO1xuXG4gIC8vIENvcHkgYnl0ZXMgdG8gYnVmZmVyLCBpZiBwcm92aWRlZFxuICBpZiAoYnVmKSB7XG4gICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IDE2OyArK2lpKSB7XG4gICAgICBidWZbaSArIGlpXSA9IHJuZHNbaWldO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBidWYgfHwgYnl0ZXNUb1V1aWQocm5kcyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdjQ7XG4iLCJleHBvcnQgbW9kdWxlIENvbnN0YW50cyB7XHJcbiAgICBleHBvcnQgY29uc3QgTUFYX0lOVEVHUklUWTogbnVtYmVyID0gMTAwO1xyXG4gICAgZXhwb3J0IGNvbnN0IE1BWF9GVUVMOiBudW1iZXIgPSAxMDA7XHJcbiAgICBleHBvcnQgY29uc3QgTUFYX1NBRkVfVEVNUEVSQVRVUkU6IG51bWJlciA9IDEwMDtcclxuICAgIGV4cG9ydCBjb25zdCBNQVhfVEVNUEVSQVRVUkU6IG51bWJlciA9IDIwMDtcclxuICAgIGV4cG9ydCBjb25zdCBPVkVSSEVBVF9DSEVDS19JTlRFUlZBTDogbnVtYmVyID0gMTAwMDsgLy8gbWlsbGlzZWNvbmRzXHJcbiAgICBleHBvcnQgY29uc3QgQ09PTElOR19SQVRFOiBudW1iZXIgPSAwLjE7IC8vIGRlZ3JlZXMgcGVyIHNlY29uZFxyXG4gICAgZXhwb3J0IGNvbnN0IEZVRUxfUEVSX1RIUlVTVDogbnVtYmVyID0gMC4wMTsgLy8gdW5pdHNcclxuICAgIGV4cG9ydCBjb25zdCBIRUFUX1BFUl9USFJVU1Q6IG51bWJlciA9IDAuNSAvLyBkZWdyZWVzXHJcbiAgICBleHBvcnQgY29uc3QgVEhSVVNURVJfRk9SQ0U6IG51bWJlciA9IDE7XHJcbn0iLCJleHBvcnQgbW9kdWxlIEhlbHBlcnMge1xyXG4gICAgLyoqXHJcbiAgICAgKiBnZXQgdGhlIG51bWJlciBvZiBlbGVtZW50cyBpbiBhbiBlbnVtLlxyXG4gICAgICogPHA+XHJcbiAgICAgKiBleDogPGk+ZW51bSBGb28geyBiYXIgPSAwLCBiYXogPSAxLCBib3ogPSAyIH08L2k+PGJyIC8+XHJcbiAgICAgKiByZXR1cm5zOiA8Yj4zPC9iPlxyXG4gICAgICogPC9wPlxyXG4gICAgICogQHBhcmFtIGVudW1UeXBlIHRoZSB0eXBlIG5hbWUgb2YgYW4gZW51bVxyXG4gICAgICogQHJldHVybnMgdGhlIG51bWJlciBvZiBlbGVtZW50cyBpbiB0aGUgZW51bVxyXG4gICAgICovXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gZW51bUxlbmd0aChlbnVtVHlwZTogYW55KTogbnVtYmVyIHtcclxuICAgICAgICBsZXQgY291bnQgPSAwO1xyXG4gICAgICAgIGZvcihsZXQgaXRlbSBpbiBlbnVtVHlwZSkge1xyXG4gICAgICAgICAgICBpZihpc05hTihOdW1iZXIoaXRlbSkpKSB7XHJcbiAgICAgICAgICAgICAgICBjb3VudCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb3VudDtcclxuICAgIH1cclxufSIsImV4cG9ydCBlbnVtIEF0dGFjaG1lbnRMb2NhdGlvbiB7XHJcbiAgICBmcm9udCxcclxuICAgIGZyb250UmlnaHQsXHJcbiAgICByaWdodCxcclxuICAgIGJhY2tSaWdodCxcclxuICAgIC8vIE5PVEU6IHRoZXJlIGlzIG5vICdiYWNrJyBhdHRhY2htZW50IHBvaW50IGR1ZSB0byBsb2NhdGlvbiBvZiB0aHJ1c3RlclxyXG4gICAgYmFja0xlZnQsXHJcbiAgICBsZWZ0LFxyXG4gICAgZnJvbnRMZWZ0XHJcbn0iLCJpbXBvcnQgeyBIYXNMb2NhdGlvbiB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2hhcy1sb2NhdGlvblwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1vdXNlIGltcGxlbWVudHMgSGFzTG9jYXRpb24ge1xyXG4gICAgcHJpdmF0ZSBzY2VuZTogUGhhc2VyLlNjZW5lO1xyXG4gICAgcHJpdmF0ZSBsb2NhdGlvbjogUGhhc2VyLk1hdGguVmVjdG9yMjtcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3Ioc2NlbmU6IFBoYXNlci5TY2VuZSkge1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLmxvY2F0aW9uID0gUGhhc2VyLk1hdGguVmVjdG9yMi5aRVJPO1xyXG4gICAgICAgIHRoaXMuc2NlbmUuaW5wdXQubW91c2UuY2FwdHVyZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5pbnB1dC5vbigncG9pbnRlcm1vdmUnLCAocG9pbnRlcjogUGhhc2VyLk1hdGguVmVjdG9yMikgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmxvY2F0aW9uID0gbmV3IFBoYXNlci5NYXRoLlZlY3RvcjIocG9pbnRlci54LCBwb2ludGVyLnkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmV0dXJucyB0aGUgcG9zaXRpb24gb2YgdGhlIG1vdXNlIHdpdGhpbiB0aGUgYm91bmRzIG9mIHRoZSBjdXJyZW50XHJcbiAgICAgKiBzY3JlZW4uXHJcbiAgICAgKiBAcmV0dXJucyBhIHtQaGFzZXIuTWF0aC5WZWN0b3IyfSBjbG9uZSBvZiB0aGUgcG9zaXRpb25cclxuICAgICAqL1xyXG4gICAgZ2V0UG9zaXRpb24oKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coYG1vdXNlIGxvY2F0aW9uOiAke0pTT04uc3RyaW5naWZ5KHRoaXMubG9jYXRpb24pfWApO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxvY2F0aW9uLmNsb25lKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBvZmZzZXRzIHRoZSBzY3JlZW4gcG9zaXRpb24gYmFzZWQgb24gY2FtZXJhIHBvc2l0aW9uXHJcbiAgICAgKi9cclxuICAgIGdldFJlYWxQb3NpdGlvbigpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICBsZXQgd29ybGQ6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSB0aGlzLnNjZW5lLmNhbWVyYXMubWFpbi5nZXRXb3JsZFBvaW50KHRoaXMubG9jYXRpb24ueCwgdGhpcy5sb2NhdGlvbi55KTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhgbW91c2UgUkVBTCBsb2NhdGlvbjogJHtKU09OLnN0cmluZ2lmeSh3b3JsZCl9YCk7XHJcbiAgICAgICAgcmV0dXJuIHdvcmxkO1xyXG4gICAgfVxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==