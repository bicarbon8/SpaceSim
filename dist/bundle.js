!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("phaser")):"function"==typeof define&&define.amd?define(["phaser"],e):"object"==typeof exports?exports.bundle=e(require("phaser")):t.bundle=e(t.phaser)}(window,(function(t){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=7)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.interactables=[]}(e.Globals||(e.Globals={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.enumLength=function(t){var e=0;for(var n in t)isNaN(Number(n))&&e++;return e},t.now=function(){return(new Date).getTime()},t.getHeading=function(t){if(t){var e=Math.cos(Phaser.Math.DegToRad(t.rotation)),n=Math.sin(Phaser.Math.DegToRad(t.rotation));return new Phaser.Math.Vector2(e,n).normalize().negate()}return Phaser.Math.Vector2.ZERO},t.offsetWithHeading=function(e,n){var o=t.getHeading(e);o.multiply(n),e.position.add(o)}}(e.Helpers||(e.Helpers={}))},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(18),s=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.create=function(){var t=this;this.mouse=new a.Mouse(this),this.mouse.onWheelUp((function(e){var n=t.cameras.main.zoom-.5;n<.1&&(n=.1),t.cameras.main.zoomTo(n)})),this.mouse.onWheelDown((function(e){var n=t.cameras.main.zoom+.5;n>1&&(n=1),t.cameras.main.zoomTo(n)}))},e}(Phaser.Scene);e.ZoomableScene=s},function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var o=new Uint8Array(16);t.exports=function(){return n(o),o}}else{var i=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),i[e]=t>>>((3&e)<<3)&255;return i}}},function(t,e){for(var n=[],o=0;o<256;++o)n[o]=(o+256).toString(16).substr(1);t.exports=function(t,e){var o=e||0,i=n;return[i[t[o++]],i[t[o++]],i[t[o++]],i[t[o++]],"-",i[t[o++]],i[t[o++]],"-",i[t[o++]],i[t[o++]],"-",i[t[o++]],i[t[o++]],"-",i[t[o++]],i[t[o++]],i[t[o++]],i[t[o++]],i[t[o++]],i[t[o++]]].join("")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.MAX_INTEGRITY=100,t.MAX_FUEL=100,t.MAX_SAFE_TEMPERATURE=100,t.MAX_TEMPERATURE=200,t.MAX_VELOCITY=500,t.OVERHEAT_CHECK_INTERVAL=100,t.COOLING_RATE=.3,t.THRUSTER_FORCE=1,t.FUEL_PER_THRUST=.001,t.HEAT_PER_THRUST=.1,t.BOOSTER_FORCE=300,t.FUEL_PER_BOOST=1,t.HEAT_PER_BOOST=25,t.BOOSTER_COOLDOWN_TIME=1e3,t.THROW_FORCE=100,function(t){t[t.blue=0]="blue",t[t.green=1]="green",t[t.red=2]="red",t[t.white=3]="white",t[t.yellow=4]="yellow"}(t.Flare||(t.Flare={}))}(e.Constants||(e.Constants={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.front=0]="front",t[t.frontRight=1]="frontRight",t[t.right=2]="right",t[t.backRight=3]="backRight",t[t.backLeft=4]="backLeft",t[t.left=5]="left",t[t.frontLeft=6]="frontLeft"}(e.AttachmentLocation||(e.AttachmentLocation={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(8),i=n(0),a=n(19),s=n(20),r=n(21),c={type:Phaser.AUTO,scale:{width:window.innerWidth,height:window.innerHeight},backgroundColor:"#000000",parent:"space-sim",physics:{default:"arcade",arcade:{gravity:{x:0,y:0}}},scene:[s.FarthestStarsScene,r.NearestStarsScene,o.ShipScene,a.OverlayScene]};e.game=new Phaser.Game(c),window.addEventListener("resize",(function(){e.game.scale.refresh()})),i.Globals.game=e.game},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(9),s=n(0),r=n(15),c=n(2),h={active:!0,visible:!0,key:"ShipScene"},u=function(t){function e(){return t.call(this,h)||this}return i(e,t),e.prototype.preload=function(){this.load.image("ship-pod","./assets/sprites/ship-pod.png"),this.load.image("cannon","./assets/sprites/cannon.png"),this.load.spritesheet("flares","./assets/particles/flares.png",{frameWidth:130,frameHeight:132,startFrame:0,endFrame:4}),this.load.image("explosion","./assets/particles/explosion.png"),this.load.image("bullet","./assets/sprites/bullet.png")},e.prototype.create=function(){t.prototype.create.call(this),this.player=new a.ShipPod(this),s.Globals.player=this.player,this.player.setTarget(this.mouse);var e=new r.CannonAttachment(this);this.player.addAttachment(e),this.setupCamera(this.player),this.input.keyboard.on("keydown-P",(function(){s.Globals.paused=!0})),this.input.keyboard.on("keydown-R",(function(){s.Globals.paused=!1})),this.game.canvas.oncontextmenu=function(t){t.preventDefault()}},e.prototype.update=function(){s.Globals.paused||s.Globals.player.update()},e.prototype.setupCamera=function(t){this.cameras.main.backgroundColor.setFromRGB({r:0,g:0,b:0}),this.cameras.main.setZoom(1),this.cameras.main.centerOn(0,0);var e=this.cameras.main.width,n=this.cameras.main.height,o=Math.floor(e/2),i=Math.floor(n/2),a=Math.floor(o/2),s=Math.floor(i/2);this.cameras.main.startFollow(t.getGameObject(),!0),this.cameras.main.deadzone=new Phaser.Geom.Rectangle(a,s,o,i)},e}(c.ZoomableScene);e.ShipScene=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(10);var o=n(11),i=n(0),a=n(5),s=n(1),r=n(6),c=function(){function t(t){this.remainingFuel=100,this.temperature=0,this.active=!0,this.lastOverheatCheck=0,this.lastBoostTime=0,this.id=o.RNG.guid(),this.scene=t,this.gameObj=t.add.container(0,0),this.scene.physics.add.existing(this.gameObj),this.getPhysicsBody().bounce.setTo(.7,.7),this.getPhysicsBody().setMaxVelocity(a.Constants.MAX_VELOCITY,a.Constants.MAX_VELOCITY),this.thrusterParticles=t.add.particles("flares",a.Constants.Flare.yellow),this.explosionParticles=t.add.particles("explosion");var e=t.add.sprite(0,0,"ship-pod");this.gameObj.add(e),this.integrity=a.Constants.MAX_INTEGRITY,this.attachments=new Array(s.Helpers.enumLength(r.AttachmentLocation)),this.setupInputHandlers()}return t.prototype.update=function(){!i.Globals.paused&&this.active&&(this.lookAtTarget(),this.thrustKey.isDown&&this.thrustFowards(),this.boostKey.isDown&&this.boostForwards(),this.scene.input.activePointer.leftButtonDown()&&this.attachments[0]&&this.attachments[0].trigger(),this.scene.input.activePointer.rightButtonDown()&&this.attachments[0]&&this.throwAttachment(this.attachments[0]),this.checkOverheatCondition(),this.rotateAttachmentsClockwiseKey.isDown&&this.rotateAttachmentsClockwise(),this.rotateAttachmentsAntiClockwiseKey.isDown&&this.rotateAttachmentsAntiClockwise(),this.detachAttachmentKey.isDown&&this.removeAttachment(r.AttachmentLocation.front),this.updateAttachments())},t.prototype.updateAttachments=function(){for(var t=0;t<this.attachments.length;t++){var e=this.attachments[t];e&&e.update()}},t.prototype.setupInputHandlers=function(){this.thrustKey=this.scene.input.keyboard.addKey("SPACE",!0,!0),this.boostKey=this.scene.input.keyboard.addKey("TAB",!0,!1),this.rotateAttachmentsClockwiseKey=this.scene.input.keyboard.addKey("E",!0,!1),this.rotateAttachmentsAntiClockwiseKey=this.scene.input.keyboard.addKey("Q",!0,!1),this.detachAttachmentKey=this.scene.input.keyboard.addKey("X",!0,!1)},t.prototype.checkOverheatCondition=function(){if(!i.Globals.paused&&this.active&&this.scene.game.getTime()>this.lastOverheatCheck+a.Constants.OVERHEAT_CHECK_INTERVAL){if(this.temperature>a.Constants.MAX_TEMPERATURE&&this.destroy(),this.temperature>a.Constants.MAX_SAFE_TEMPERATURE){var t=(this.temperature-a.Constants.MAX_SAFE_TEMPERATURE)/a.Constants.MAX_SAFE_TEMPERATURE;this.sustainDamage(t)}this.applyCooling(a.Constants.COOLING_RATE),this.lastOverheatCheck=this.scene.game.getTime()}},t.prototype.getRealLocation=function(){return this.getGameObject()?new Phaser.Math.Vector2(this.gameObj.x,this.gameObj.y):Phaser.Math.Vector2.ZERO},t.prototype.getLocation=function(){if(this.getGameObject()){var t=this.scene.cameras.main.getWorldPoint(0,0);return new Phaser.Math.Vector2(this.gameObj.x-t.x,this.gameObj.y-t.y)}return Phaser.Math.Vector2.ZERO},t.prototype.getId=function(){return this.id},t.prototype.getGameObject=function(){return this.gameObj},t.prototype.getPhysicsBody=function(){return this.getGameObject()?this.getGameObject().body:null},t.prototype.setTarget=function(t){this.target=t},t.prototype.getTarget=function(){return this.target},t.prototype.lookAtTarget=function(){if(this.getPhysicsBody()&&this.getTarget()){var t=this.getTarget().getRealLocation(),e=this.getRealLocation(),n=Phaser.Math.Angle.Between(t.x,t.y,e.x,e.y),o=Phaser.Math.RadToDeg(n);this.getPhysicsBody().rotation=o}},t.prototype.getRotation=function(){return this.getPhysicsBody()?this.getPhysicsBody().rotation:0},t.prototype.getHeading=function(){return s.Helpers.getHeading(this.getPhysicsBody())},t.prototype.getSpeed=function(){return this.getVelocity().length()},t.prototype.getVelocity=function(){return this.getPhysicsBody()?this.getPhysicsBody().velocity.clone():Phaser.Math.Vector2.ZERO},t.prototype.thrustFowards=function(){this.applyThrust(a.Constants.THRUSTER_FORCE,a.Constants.FUEL_PER_THRUST,a.Constants.HEAT_PER_THRUST),this.displayThrusterFire(a.Constants.Flare.yellow,.2,1)},t.prototype.boostForwards=function(){s.Helpers.now()-this.lastBoostTime>=a.Constants.BOOSTER_COOLDOWN_TIME&&(this.applyThrust(a.Constants.BOOSTER_FORCE,a.Constants.FUEL_PER_BOOST,a.Constants.HEAT_PER_BOOST),this.displayThrusterFire(a.Constants.Flare.blue,1,10),this.lastBoostTime=s.Helpers.now())},t.prototype.applyThrust=function(t,e,n){if(this.getRemainingFuel()>0){var o=this.getHeading().multiply(new Phaser.Math.Vector2(t,t));this.getPhysicsBody().velocity.add(o),this.reduceFuel(e),this.applyHeating(n)}},t.prototype.displayThrusterFire=function(t,e,n){var o=this.getRealLocation(),i=new Phaser.Math.Vector2(20,0).add(o),a=this.getHeading().negate(),s=Phaser.Math.RotateAround(i,o.x,o.y,Phaser.Math.DegToRad(this.getRotation())),r=this.getVelocity();this.thrusterParticles.createEmitter({frame:t,x:s.x,y:s.y,lifespan:{min:250,max:500},speedX:{min:100*a.x-r.x,max:500*a.x-r.x},speedY:{min:100*a.y-r.y,max:500*a.y-r.y},angle:0,gravityX:0,gravityY:0,scale:{start:e,end:0},quantity:n,blendMode:"ADD",maxParticles:10})},t.prototype.strafeLeft=function(){},t.prototype.strafeRight=function(){},t.prototype.thrustBackwards=function(){},t.prototype.getTemperature=function(){return this.temperature},t.prototype.applyHeating=function(t){this.temperature+=t},t.prototype.applyCooling=function(t){this.temperature-=t,this.temperature<0&&(this.temperature=0)},t.prototype.reduceFuel=function(t){this.remainingFuel-=t,this.remainingFuel<0&&(this.remainingFuel=0)},t.prototype.addFuel=function(t){this.remainingFuel+=t,this.remainingFuel>a.Constants.MAX_FUEL&&(this.remainingFuel=a.Constants.MAX_FUEL)},t.prototype.getRemainingFuel=function(){return this.remainingFuel},t.prototype.getIntegrity=function(){return this.integrity},t.prototype.sustainDamage=function(t){this.integrity-=t,this.integrity<=0&&(this.integrity=0,this.destroy())},t.prototype.repair=function(t){this.integrity=t,this.integrity>a.Constants.MAX_INTEGRITY&&(this.integrity=a.Constants.MAX_INTEGRITY)},t.prototype.rotateAttachmentsClockwise=function(){var t=this.attachments.pop();this.attachments.unshift(t),this.updateAttachmentPositions()},t.prototype.rotateAttachmentsAntiClockwise=function(){var t=this.attachments.shift();this.attachments.push(t),this.updateAttachmentPositions()},t.prototype.updateAttachmentPositions=function(){for(var t=0;t<this.attachments.length;t++)if(this.attachments[t])switch(t){case r.AttachmentLocation.front:this.attachments[t].setAttachmentLocation(r.AttachmentLocation.front);break;case r.AttachmentLocation.frontRight:this.attachments[t].setAttachmentLocation(r.AttachmentLocation.frontRight);break;case r.AttachmentLocation.right:this.attachments[t].setAttachmentLocation(r.AttachmentLocation.right);break;case r.AttachmentLocation.backRight:this.attachments[t].setAttachmentLocation(r.AttachmentLocation.backRight);break;case r.AttachmentLocation.backLeft:this.attachments[t].setAttachmentLocation(r.AttachmentLocation.backLeft);break;case r.AttachmentLocation.left:this.attachments[t].setAttachmentLocation(r.AttachmentLocation.left);break;case r.AttachmentLocation.frontLeft:this.attachments[t].setAttachmentLocation(r.AttachmentLocation.frontLeft)}},t.prototype.addAttachment=function(t){for(var e=!1,n=0;n<s.Helpers.enumLength(r.AttachmentLocation);n++)if(!this.attachments[n]){var o=void 0;switch(n){case r.AttachmentLocation.front:o=r.AttachmentLocation.front;break;case r.AttachmentLocation.frontRight:o=r.AttachmentLocation.frontRight;break;case r.AttachmentLocation.right:o=r.AttachmentLocation.right;break;case r.AttachmentLocation.backRight:o=r.AttachmentLocation.backRight;break;case r.AttachmentLocation.backLeft:o=r.AttachmentLocation.backLeft;break;case r.AttachmentLocation.left:o=r.AttachmentLocation.left;break;case r.AttachmentLocation.frontLeft:o=r.AttachmentLocation.frontLeft}this.attachments[n]=t,t.attach(this,o),e=!0}e||(this.attachments[r.AttachmentLocation.front].detach(),this.attachments[r.AttachmentLocation.front]=t,t.attach(this,r.AttachmentLocation.front)),this.gameObj.add(t.getGameObject())},t.prototype.removeAttachment=function(t){if(this.attachments[t]){var e=this.attachments[t].getPhysicsBody(),n=this.attachments[t].getGameObject();this.gameObj.remove(n,!1),this.attachments[t].detach(),this.attachments[t]=null,e.position=this.getRealLocation();var o=this.getPhysicsBody().velocity;e.setVelocity(o.x,o.y),e.rotation=this.getRotation()}},t.prototype.throwAttachment=function(t){if(t)for(var e=0;e<this.attachments.length;e++)if(this.attachments[e]&&this.attachments[e]==t){this.removeAttachment(e),t.throw();break}},t.prototype.getAttachments=function(){return this.attachments},t.prototype.destroy=function(){this.active=!1,this.displayShipExplosion(),this.getGameObject().destroy(),this.gameObj=null},t.prototype.displayShipExplosion=function(){var t=this.getRealLocation();this.explosionParticles.createEmitter({x:t.x,y:t.y,lifespan:{min:500,max:1e3},speedX:{min:-1,max:1},speedY:{min:-1,max:1},angle:{min:-180,max:179},gravityX:0,gravityY:0,scale:{start:1,end:0},blendMode:"ADD",maxParticles:3}),this.thrusterParticles.createEmitter({frame:a.Constants.Flare.red,x:t.x,y:t.y,lifespan:{min:100,max:500},speedX:{min:-600,max:600},speedY:{min:-600,max:600},angle:{min:-180,max:179},gravityX:0,gravityY:0,scale:{start:1,end:0},blendMode:"ADD",maxParticles:10})},t}();e.ShipPod=c},function(e,n){e.exports=t},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(12);!function(t){t.int=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},t.guid=function(){return o.v4()}}(e.RNG||(e.RNG={}))},function(t,e,n){var o=n(13),i=n(14),a=i;a.v1=o,a.v4=i,t.exports=a},function(t,e,n){var o,i,a=n(3),s=n(4),r=0,c=0;t.exports=function(t,e,n){var h=e&&n||0,u=e||[],p=(t=t||{}).node||o,l=void 0!==t.clockseq?t.clockseq:i;if(null==p||null==l){var y=a();null==p&&(p=o=[1|y[0],y[1],y[2],y[3],y[4],y[5]]),null==l&&(l=i=16383&(y[6]<<8|y[7]))}var f=void 0!==t.msecs?t.msecs:(new Date).getTime(),m=void 0!==t.nsecs?t.nsecs:c+1,d=f-r+(m-c)/1e4;if(d<0&&void 0===t.clockseq&&(l=l+1&16383),(d<0||f>r)&&void 0===t.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");r=f,c=m,i=l;var g=(1e4*(268435455&(f+=122192928e5))+m)%4294967296;u[h++]=g>>>24&255,u[h++]=g>>>16&255,u[h++]=g>>>8&255,u[h++]=255&g;var b=f/4294967296*1e4&268435455;u[h++]=b>>>8&255,u[h++]=255&b,u[h++]=b>>>24&15|16,u[h++]=b>>>16&255,u[h++]=l>>>8|128,u[h++]=255&l;for(var v=0;v<6;++v)u[h+v]=p[v];return e||s(u)}},function(t,e,n){var o=n(3),i=n(4);t.exports=function(t,e,n){var a=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var s=(t=t||{}).random||(t.rng||o)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e)for(var r=0;r<16;++r)e[a+r]=s[r];return e||i(s)}},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(16),s=n(0),r=n(17),c=function(t){function e(e){var n=t.call(this,e)||this;return n.maxAmmo=500,n.remainingAmmo=n.maxAmmo,n.cooldownTime=0,n.firingDelay=1e3,n.gameObj=n.scene.physics.add.sprite(0,0,"cannon"),n}return i(e,t),e.prototype.reload=function(t){this.remainingAmmo+=t,this.remainingAmmo>this.maxAmmo&&(this.remainingAmmo=this.maxAmmo)},e.prototype.getRemainingAmmo=function(){return this.remainingAmmo},e.prototype.update=function(){},e.prototype.trigger=function(){!s.Globals.paused&&this.active&&this.fire()},e.prototype.fire=function(t){if(!s.Globals.paused&&this.active&&this.getRemainingAmmo()>0&&this.scene.game.getTime()>this.cooldownTime){var e=this.getRealLocation();new r.Bullet(this.scene,{x:e.x,y:e.y,force:3e3,angle:this.getRotation()}),this.cooldownTime=this.scene.game.getTime()+this.firingDelay}},e}(a.ShipAttachment);e.CannonAttachment=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(5),i=n(6),a=n(1),s=function(){function t(t){this.scene=t,this.active=!0,this.integrity=o.Constants.MAX_INTEGRITY,this.isThrown=!1}return t.prototype.attach=function(t,e){e||(e=i.AttachmentLocation.front),this.ship=t,this.setAttachmentLocation(e);var n=this.ship.getRealLocation();this.getPhysicsBody().position=n,this.getPhysicsBody().rotation=this.ship.getRotation()},t.prototype.detach=function(){this.ship=null,this.attachmentLocation=null;var t=this.getGameObject();t.setActive(!0),this.scene.add.existing(t)},t.prototype.throw=function(){this.isThrown=!0;var t=this.getHeading();t.multiply(new Phaser.Math.Vector2(o.Constants.THROW_FORCE,o.Constants.THROW_FORCE)),this.ship&&t.add(this.ship.getPhysicsBody().velocity),this.getPhysicsBody().velocity.add(t)},t.prototype.getGameObject=function(){return this.gameObj},t.prototype.getPhysicsBody=function(){return this.getGameObject()?this.getGameObject().body:null},t.prototype.getRotation=function(){var t=this.gameObj.rotation;return this.ship&&(t+=this.ship.getRotation()),t},t.prototype.getHeading=function(){var t=a.Helpers.getHeading(this.getPhysicsBody());return this.ship&&t.add(this.ship.getHeading()),t},t.prototype.getSpeed=function(){var t=this.getVelocity().length();return this.ship&&(t+=this.ship.getSpeed()),t},t.prototype.getVelocity=function(){if(this.getPhysicsBody()){var t=this.getPhysicsBody().velocity.clone();return this.ship&&t.add(this.ship.getVelocity()),t}return Phaser.Math.Vector2.ZERO},t.prototype.getLocation=function(){var t=this.scene.cameras.main.getWorldPoint(0,0),e=this.getRealLocation();return new Phaser.Math.Vector2(e.x-t.x,e.y-t.y)},t.prototype.getRealLocation=function(){var t=this.getPhysicsBody(),e=new Phaser.Math.Vector2(t.x,t.y);return this.ship&&e.add(this.ship.getRealLocation()),e},t.prototype.getIntegrity=function(){return this.integrity},t.prototype.sustainDamage=function(t){this.integrity-=t,this.integrity<=0&&(this.integrity=0,this.active=!1)},t.prototype.repair=function(t){this.integrity=t,this.integrity>o.Constants.MAX_INTEGRITY&&(this.integrity=o.Constants.MAX_INTEGRITY)},t.prototype.destroy=function(){this.active=!1,this.ship.removeAttachment(this.attachmentLocation)},t.prototype.setAttachmentLocation=function(t){this.attachmentLocation=t},t}();e.ShipAttachment=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(1),a=function(){function t(t,e){this.scene=t,this.force=e.force||0,this.gameObj=t.physics.add.sprite(e.x||0,e.y||0,"bullet"),this.gameObj.setAngle(e.angle||0),this.active=!0,this.addCollisionDetection(),this.setInMotion()}return t.prototype.addCollisionDetection=function(){for(var t=0;t<o.Globals.interactables.length;t++)this.scene.physics.add.collider(this.gameObj,o.Globals.interactables[t],this.onImpact)},t.prototype.onImpact=function(t,e){},t.prototype.getGameObject=function(){return this.gameObj},t.prototype.getPhysicsBody=function(){if(this.getGameObject())return this.getGameObject().body},t.prototype.getAngle=function(){return this.gameObj.angle},t.prototype.getRotation=function(){return this.gameObj.rotation},t.prototype.getHeading=function(){return i.Helpers.getHeading(this.getPhysicsBody())},t.prototype.getSpeed=function(){return this.getVelocity().length()},t.prototype.getVelocity=function(){return this.getPhysicsBody()?this.getPhysicsBody().velocity.clone():Phaser.Math.Vector2.ZERO},t.prototype.getLocation=function(){var t=this.scene.cameras.main.getWorldPoint(0,0),e=this.getPhysicsBody();return new Phaser.Math.Vector2(e.x-t.x,e.y-t.y)},t.prototype.getRealLocation=function(){return new Phaser.Math.Vector2(this.gameObj.x,this.gameObj.y)},t.prototype.setInMotion=function(){var t=this.getHeading().multiply(new Phaser.Math.Vector2(this.force,this.force));this.gameObj.body.velocity.add(t)},t}();e.Bullet=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.scene=t,this.scene.input.mouse.capture=!0}return t.prototype.getAngle=function(){return this.scene.input.activePointer.getAngle()},t.prototype.getRotation=function(){return this.getAngle()*(Math.PI/180)},t.prototype.getHeading=function(){var t=this.getAngle(),e=Math.cos(t),n=Math.sin(t);return new Phaser.Math.Vector2(e,n).normalize().negate()},t.prototype.getSpeed=function(){return this.getVelocity().length()},t.prototype.getVelocity=function(){return this.scene.input.activePointer.velocity.clone()},t.prototype.getLocation=function(){return this.scene.input.activePointer.position.clone()},t.prototype.getRealLocation=function(){return this.scene.input.activePointer.positionToCamera(this.scene.cameras.main)},t.prototype.onWheelUp=function(t){this.scene.input.on(Phaser.Input.Events.POINTER_WHEEL,(function(e,n,o,i,a,s){i>0&&t(i)}))},t.prototype.onWheelDown=function(t){this.scene.input.on(Phaser.Input.Events.POINTER_WHEEL,(function(e,n,o,i,a,s){i<0&&t(-i)}))},t}();e.Mouse=o},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),s={active:!0,visible:!0,key:"OverlayScene"},r=function(t){function e(){return t.call(this,s)||this}return i(e,t),e.prototype.preload=function(){},e.prototype.create=function(){this.debug=this.add.text(10,10,"",{font:"16px Courier",fill:"#ffdddd"})},e.prototype.update=function(){if(!a.Globals.paused&&a.Globals.player){var t=a.Globals.player,e=t.getRealLocation();this.debug.setText(["Velocity: "+t.getSpeed().toFixed(1),"Integrity: "+t.getIntegrity().toFixed(1),"Heat: "+t.getTemperature().toFixed(1),"Fuel: "+t.getRemainingFuel().toFixed(1),"Location: "+e.x.toFixed(1)+","+e.y.toFixed(1),"Angle: "+t.getRotation().toFixed(1)])}},e}(Phaser.Scene);e.OverlayScene=r},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),s=n(2),r={active:!0,visible:!0,key:"FarthestStars"},c=function(t){function e(){return t.call(this,r)||this}return i(e,t),e.prototype.preload=function(){this.load.image("far-stars","./assets/backgrounds/starfield-tile-512x512.png")},e.prototype.create=function(){t.prototype.create.call(this),this.background=this.add.tileSprite(0,0,10*this.cameras.main.width,10*this.cameras.main.height,"far-stars")},e.prototype.update=function(){if(a.Globals.player){var t=a.Globals.player.getRealLocation();t.divide(new Phaser.Math.Vector2(1e3,1e3)),t.negate(),this.cameras.main.setPosition(t.x,t.y)}},e}(s.ZoomableScene);e.FarthestStarsScene=c},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),s=n(2),r={active:!0,visible:!0,key:"NearestStars"},c=function(t){function e(){return t.call(this,r)||this}return i(e,t),e.prototype.preload=function(){this.load.image("near-stars","./assets/backgrounds/starfield-tile-512x512.png")},e.prototype.create=function(){t.prototype.create.call(this),this.background=this.add.tileSprite(0,0,10*this.cameras.main.width,10*this.cameras.main.height,"near-stars"),this.background.setScale(2),this.background.setAngle(90)},e.prototype.update=function(){if(a.Globals.player){var t=a.Globals.player.getRealLocation();t.divide(new Phaser.Math.Vector2(500,500)),t.negate(),this.cameras.main.setPosition(t.x,t.y)}},e}(s.ZoomableScene);e.NearestStarsScene=c}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idW5kbGUvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL2J1bmRsZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvdXRpbGl0aWVzL2dsb2JhbHMudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3V0aWxpdGllcy9oZWxwZXJzLnRzIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy9zY2VuZXMvem9vbWFibGUtc2NlbmUudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vbm9kZV9tb2R1bGVzL3V1aWQvbGliL3JuZy1icm93c2VyLmpzIiwid2VicGFjazovL2J1bmRsZS8uL25vZGVfbW9kdWxlcy91dWlkL2xpYi9ieXRlc1RvVXVpZC5qcyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvdXRpbGl0aWVzL2NvbnN0YW50cy50cyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvc2hpcHMvYXR0YWNobWVudHMvYXR0YWNobWVudC1sb2NhdGlvbi50cyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvZ2FtZS50cyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvc2NlbmVzL3NoaXAtc2NlbmUudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NoaXBzL3NoaXAtcG9kLnRzIiwid2VicGFjazovL2J1bmRsZS9leHRlcm5hbCBcInBoYXNlclwiIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy91dGlsaXRpZXMvcm5nLnRzIiwid2VicGFjazovL2J1bmRsZS8uL25vZGVfbW9kdWxlcy91dWlkL2luZGV4LmpzIiwid2VicGFjazovL2J1bmRsZS8uL25vZGVfbW9kdWxlcy91dWlkL3YxLmpzIiwid2VicGFjazovL2J1bmRsZS8uL25vZGVfbW9kdWxlcy91dWlkL3Y0LmpzIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy9zaGlwcy9hdHRhY2htZW50cy9vZmZlbmNlL2Nhbm5vbi1hdHRhY2htZW50LnRzIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy9zaGlwcy9hdHRhY2htZW50cy9zaGlwLWF0dGFjaG1lbnQudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NoaXBzL2F0dGFjaG1lbnRzL29mZmVuY2UvYnVsbGV0LnRzIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy91dGlsaXRpZXMvbW91c2UudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NjZW5lcy9vdmVybGF5LXNjZW5lLnRzIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy9zY2VuZXMvZmFydGhlc3Qtc3RhcnMtc2NlbmUudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NjZW5lcy9uZWFyZXN0LXN0YXJzLXNjZW5lLnRzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsInJlcXVpcmUiLCJkZWZpbmUiLCJhbWQiLCJ3aW5kb3ciLCJfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX18xMF9fIiwiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkdsb2JhbHMiLCJpbnRlcmFjdGFibGVzIiwiSGVscGVycyIsImVudW1MZW5ndGgiLCJlbnVtVHlwZSIsImNvdW50IiwiaXRlbSIsImlzTmFOIiwiTnVtYmVyIiwibm93IiwiRGF0ZSIsImdldFRpbWUiLCJnZXRIZWFkaW5nIiwiYm9keSIsIngiLCJNYXRoIiwiY29zIiwiUGhhc2VyIiwiRGVnVG9SYWQiLCJyb3RhdGlvbiIsInkiLCJzaW4iLCJWZWN0b3IyIiwibm9ybWFsaXplIiwibmVnYXRlIiwiWkVSTyIsIm9mZnNldFdpdGhIZWFkaW5nIiwib2Zmc2V0IiwiaGVhZGluZyIsIm11bHRpcGx5IiwicG9zaXRpb24iLCJhZGQiLCJjb25maWciLCJ0aGlzIiwibW91c2UiLCJNb3VzZSIsIm9uV2hlZWxVcCIsInNjcm9sbEFtb3VudCIsIm5ld1pvb20iLCJjYW1lcmFzIiwibWFpbiIsInpvb20iLCJ6b29tVG8iLCJvbldoZWVsRG93biIsIlNjZW5lIiwiWm9vbWFibGVTY2VuZSIsImdldFJhbmRvbVZhbHVlcyIsImNyeXB0byIsIm1zQ3J5cHRvIiwicm5kczgiLCJVaW50OEFycmF5Iiwicm5kcyIsIkFycmF5IiwicmFuZG9tIiwiYnl0ZVRvSGV4IiwidG9TdHJpbmciLCJzdWJzdHIiLCJidWYiLCJidGgiLCJqb2luIiwiQ29uc3RhbnRzIiwiTUFYX0lOVEVHUklUWSIsIk1BWF9GVUVMIiwiTUFYX1NBRkVfVEVNUEVSQVRVUkUiLCJNQVhfVEVNUEVSQVRVUkUiLCJNQVhfVkVMT0NJVFkiLCJPVkVSSEVBVF9DSEVDS19JTlRFUlZBTCIsIkNPT0xJTkdfUkFURSIsIlRIUlVTVEVSX0ZPUkNFIiwiRlVFTF9QRVJfVEhSVVNUIiwiSEVBVF9QRVJfVEhSVVNUIiwiQk9PU1RFUl9GT1JDRSIsIkZVRUxfUEVSX0JPT1NUIiwiSEVBVF9QRVJfQk9PU1QiLCJCT09TVEVSX0NPT0xET1dOX1RJTUUiLCJUSFJPV19GT1JDRSIsIkZsYXJlIiwiQXR0YWNobWVudExvY2F0aW9uIiwiZ2FtZUNvbmZpZyIsInR5cGUiLCJBVVRPIiwic2NhbGUiLCJ3aWR0aCIsImlubmVyV2lkdGgiLCJoZWlnaHQiLCJpbm5lckhlaWdodCIsImJhY2tncm91bmRDb2xvciIsInBhcmVudCIsInBoeXNpY3MiLCJkZWZhdWx0IiwiYXJjYWRlIiwiZ3Jhdml0eSIsInNjZW5lIiwiRmFydGhlc3RTdGFyc1NjZW5lIiwiTmVhcmVzdFN0YXJzU2NlbmUiLCJTaGlwU2NlbmUiLCJPdmVybGF5U2NlbmUiLCJnYW1lIiwiR2FtZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZWZyZXNoIiwic2NlbmVDb25maWciLCJhY3RpdmUiLCJ2aXNpYmxlIiwicHJlbG9hZCIsImxvYWQiLCJpbWFnZSIsInNwcml0ZXNoZWV0IiwiZnJhbWVXaWR0aCIsImZyYW1lSGVpZ2h0Iiwic3RhcnRGcmFtZSIsImVuZEZyYW1lIiwicGxheWVyIiwiU2hpcFBvZCIsInNldFRhcmdldCIsImNhbm9uIiwiQ2Fubm9uQXR0YWNobWVudCIsImFkZEF0dGFjaG1lbnQiLCJzZXR1cENhbWVyYSIsImlucHV0Iiwia2V5Ym9hcmQiLCJvbiIsInBhdXNlZCIsImNhbnZhcyIsIm9uY29udGV4dG1lbnUiLCJlIiwicHJldmVudERlZmF1bHQiLCJ1cGRhdGUiLCJzZXRGcm9tUkdCIiwiZyIsImIiLCJzZXRab29tIiwiY2VudGVyT24iLCJkeldpZHRoIiwiZmxvb3IiLCJkekhlaWdodCIsImR6WCIsImR6WSIsInN0YXJ0Rm9sbG93IiwiZ2V0R2FtZU9iamVjdCIsImRlYWR6b25lIiwiR2VvbSIsIlJlY3RhbmdsZSIsInJlbWFpbmluZ0Z1ZWwiLCJ0ZW1wZXJhdHVyZSIsImxhc3RPdmVyaGVhdENoZWNrIiwibGFzdEJvb3N0VGltZSIsImlkIiwiUk5HIiwiZ3VpZCIsImdhbWVPYmoiLCJjb250YWluZXIiLCJleGlzdGluZyIsImdldFBoeXNpY3NCb2R5IiwiYm91bmNlIiwic2V0VG8iLCJzZXRNYXhWZWxvY2l0eSIsInRocnVzdGVyUGFydGljbGVzIiwicGFydGljbGVzIiwieWVsbG93IiwiZXhwbG9zaW9uUGFydGljbGVzIiwic2hpcCIsInNwcml0ZSIsImludGVncml0eSIsImF0dGFjaG1lbnRzIiwic2V0dXBJbnB1dEhhbmRsZXJzIiwibG9va0F0VGFyZ2V0IiwidGhydXN0S2V5IiwiaXNEb3duIiwidGhydXN0Rm93YXJkcyIsImJvb3N0S2V5IiwiYm9vc3RGb3J3YXJkcyIsImFjdGl2ZVBvaW50ZXIiLCJsZWZ0QnV0dG9uRG93biIsInRyaWdnZXIiLCJyaWdodEJ1dHRvbkRvd24iLCJ0aHJvd0F0dGFjaG1lbnQiLCJjaGVja092ZXJoZWF0Q29uZGl0aW9uIiwicm90YXRlQXR0YWNobWVudHNDbG9ja3dpc2VLZXkiLCJyb3RhdGVBdHRhY2htZW50c0Nsb2Nrd2lzZSIsInJvdGF0ZUF0dGFjaG1lbnRzQW50aUNsb2Nrd2lzZUtleSIsInJvdGF0ZUF0dGFjaG1lbnRzQW50aUNsb2Nrd2lzZSIsImRldGFjaEF0dGFjaG1lbnRLZXkiLCJyZW1vdmVBdHRhY2htZW50IiwiZnJvbnQiLCJ1cGRhdGVBdHRhY2htZW50cyIsImxlbmd0aCIsImEiLCJhZGRLZXkiLCJkZXN0cm95IiwiZGVsdGEiLCJzdXN0YWluRGFtYWdlIiwiYXBwbHlDb29saW5nIiwiZ2V0UmVhbExvY2F0aW9uIiwiZ2V0TG9jYXRpb24iLCJjYW1lcmFQb3MiLCJnZXRXb3JsZFBvaW50IiwiZ2V0SWQiLCJ0YXJnZXQiLCJnZXRUYXJnZXQiLCJ0YXJnZXRQb3MiLCJzaGlwUG9zIiwicmFkaWFucyIsIkFuZ2xlIiwiQmV0d2VlbiIsImRlZ3JlZXMiLCJSYWRUb0RlZyIsImdldFJvdGF0aW9uIiwiZ2V0U3BlZWQiLCJnZXRWZWxvY2l0eSIsInZlbG9jaXR5IiwiY2xvbmUiLCJhcHBseVRocnVzdCIsImRpc3BsYXlUaHJ1c3RlckZpcmUiLCJibHVlIiwiZm9yY2UiLCJmdWVsIiwiaGVhdCIsImdldFJlbWFpbmluZ0Z1ZWwiLCJkZWx0YVYiLCJyZWR1Y2VGdWVsIiwiYXBwbHlIZWF0aW5nIiwiY29sb3VyIiwic3RhcnRTY2FsZSIsInF1YW50aXR5IiwicG9zIiwiaCIsImxvYyIsIlJvdGF0ZUFyb3VuZCIsInYiLCJjcmVhdGVFbWl0dGVyIiwiZnJhbWUiLCJsaWZlc3BhbiIsIm1pbiIsIm1heCIsInNwZWVkWCIsInNwZWVkWSIsImFuZ2xlIiwiZ3Jhdml0eVgiLCJncmF2aXR5WSIsInN0YXJ0IiwiZW5kIiwiYmxlbmRNb2RlIiwibWF4UGFydGljbGVzIiwic3RyYWZlTGVmdCIsInN0cmFmZVJpZ2h0IiwidGhydXN0QmFja3dhcmRzIiwiZ2V0VGVtcGVyYXR1cmUiLCJhbW91bnQiLCJhZGRGdWVsIiwiZ2V0SW50ZWdyaXR5IiwicmVwYWlyIiwibGFzdCIsInBvcCIsInVuc2hpZnQiLCJ1cGRhdGVBdHRhY2htZW50UG9zaXRpb25zIiwiZmlyc3QiLCJzaGlmdCIsInB1c2giLCJzZXRBdHRhY2htZW50TG9jYXRpb24iLCJmcm9udFJpZ2h0IiwicmlnaHQiLCJiYWNrUmlnaHQiLCJiYWNrTGVmdCIsImxlZnQiLCJmcm9udExlZnQiLCJhdHRhY2htZW50IiwiYXR0YWNoZWQiLCJhdHRhY2giLCJkZXRhY2giLCJsb2NhdGlvbiIsImdvIiwicmVtb3ZlIiwic2hpcFZlbG9jaXR5VmVjdG9yIiwic2V0VmVsb2NpdHkiLCJ0aHJvdyIsImdldEF0dGFjaG1lbnRzIiwiZGlzcGxheVNoaXBFeHBsb3Npb24iLCJyZWQiLCJpbnQiLCJ2NCIsInYxIiwidXVpZCIsIl9ub2RlSWQiLCJfY2xvY2tzZXEiLCJybmciLCJieXRlc1RvVXVpZCIsIl9sYXN0TVNlY3MiLCJfbGFzdE5TZWNzIiwib3B0aW9ucyIsIm5vZGUiLCJjbG9ja3NlcSIsInVuZGVmaW5lZCIsInNlZWRCeXRlcyIsIm1zZWNzIiwibnNlY3MiLCJkdCIsIkVycm9yIiwidGwiLCJ0bWgiLCJpaSIsIm1heEFtbW8iLCJyZW1haW5pbmdBbW1vIiwiY29vbGRvd25UaW1lIiwiZmlyaW5nRGVsYXkiLCJyZWxvYWQiLCJnZXRSZW1haW5pbmdBbW1vIiwiZmlyZSIsImRpcmVjdGlvbiIsIkJ1bGxldCIsIlNoaXBBdHRhY2htZW50IiwiaXNUaHJvd24iLCJjZW50cmUiLCJhdHRhY2htZW50TG9jYXRpb24iLCJzZXRBY3RpdmUiLCJzcGVlZCIsInJlYWxMb2MiLCJyZWFsTG9jYXRpb24iLCJwYXJhbXMiLCJzZXRBbmdsZSIsImFkZENvbGxpc2lvbkRldGVjdGlvbiIsInNldEluTW90aW9uIiwiY29sbGlkZXIiLCJvbkltcGFjdCIsImJ1bGxldCIsImdldEFuZ2xlIiwiY2FwdHVyZSIsIlBJIiwicG9zaXRpb25Ub0NhbWVyYSIsImZ1bmMiLCJJbnB1dCIsIkV2ZW50cyIsIlBPSU5URVJfV0hFRUwiLCJwb2ludGVyIiwiY3VycmVudGx5T3ZlciIsImR4IiwiZHkiLCJkeiIsImV2ZW50IiwiZGVidWciLCJ0ZXh0IiwiZm9udCIsImZpbGwiLCJzZXRUZXh0IiwidG9GaXhlZCIsImJhY2tncm91bmQiLCJ0aWxlU3ByaXRlIiwiZGl2aWRlIiwic2V0UG9zaXRpb24iLCJzZXRTY2FsZSJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBMkNBLEVBQU1DLEdBQzFCLGlCQUFaQyxTQUEwQyxpQkFBWEMsT0FDeENBLE9BQU9ELFFBQVVELEVBQVFHLFFBQVEsV0FDUixtQkFBWEMsUUFBeUJBLE9BQU9DLElBQzlDRCxPQUFPLENBQUMsVUFBV0osR0FDTyxpQkFBWkMsUUFDZEEsUUFBZ0IsT0FBSUQsRUFBUUcsUUFBUSxXQUVwQ0osRUFBYSxPQUFJQyxFQUFRRCxFQUFhLFFBUnhDLENBU0dPLFFBQVEsU0FBU0MsR0FDcEIsTyxZQ1RFLElBQUlDLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVULFFBR25DLElBQUlDLEVBQVNNLEVBQWlCRSxHQUFZLENBQ3pDQyxFQUFHRCxFQUNIRSxHQUFHLEVBQ0hYLFFBQVMsSUFVVixPQU5BWSxFQUFRSCxHQUFVSSxLQUFLWixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTUSxHQUcvRFAsRUFBT1UsR0FBSSxFQUdKVixFQUFPRCxRQTBEZixPQXJEQVEsRUFBb0JNLEVBQUlGLEVBR3hCSixFQUFvQk8sRUFBSVIsRUFHeEJDLEVBQW9CUSxFQUFJLFNBQVNoQixFQUFTaUIsRUFBTUMsR0FDM0NWLEVBQW9CVyxFQUFFbkIsRUFBU2lCLElBQ2xDRyxPQUFPQyxlQUFlckIsRUFBU2lCLEVBQU0sQ0FBRUssWUFBWSxFQUFN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QUFHLFFBQVAsV0FDSXZFLEtBQUt3RSxLQUFLQyxNQUFNLGFBQWMsb0RBRzNCLFlBQUFwSCxPQUFQLFdBQ0ksWUFBTUEsT0FBTSxXQUNaMkMsS0FBS3dULFdBQWF4VCxLQUFLRixJQUFJMlQsV0FBVyxFQUFHLEVBQTZCLEdBQTFCelQsS0FBS00sUUFBUUMsS0FBSzBDLE1BQXVDLEdBQTNCakQsS0FBS00sUUFBUUMsS0FBSzRDLE9BQWEsY0FDekduRCxLQUFLd1QsV0FBV0ksU0FBUyxHQUN6QjVULEtBQUt3VCxXQUFXMUIsU0FBUyxLQUd0QixZQUFBaE0sT0FBUCxXQUNJLEdBQUksRUFBQS9ILFFBQVFnSCxPQUFRLENBQ2hCLElBQUltSCxFQUEyQixFQUFBbk8sUUFBUWdILE9BQU9pRixrQkFDOUNrQyxFQUFJd0gsT0FBTyxJQUFJMVUsT0FBT0YsS0FBS08sUUFBUSxJQUFLLE1BQ3hDNk0sRUFBSTNNLFNBQ0pTLEtBQUtNLFFBQVFDLEtBQUtvVCxZQUFZekgsRUFBSXJOLEVBQUdxTixFQUFJL00sS0FHckQsRUExQkEsQ0FBdUMsRUFBQXlCLGVBQTFCLEVBQUFpRCIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCJwaGFzZXJcIikpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW1wicGhhc2VyXCJdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcImJ1bmRsZVwiXSA9IGZhY3RvcnkocmVxdWlyZShcInBoYXNlclwiKSk7XG5cdGVsc2Vcblx0XHRyb290W1wiYnVuZGxlXCJdID0gZmFjdG9yeShyb290W1wicGhhc2VyXCJdKTtcbn0pKHdpbmRvdywgZnVuY3Rpb24oX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fMTBfXykge1xucmV0dXJuICIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA3KTtcbiIsImltcG9ydCB7IFNoaXBQb2QgfSBmcm9tIFwiLi4vc2hpcHMvc2hpcC1wb2RcIjtcclxuXHJcbmV4cG9ydCBtb2R1bGUgR2xvYmFscyB7XHJcbiAgICBleHBvcnQgdmFyIHBhdXNlZDogYm9vbGVhbjtcclxuICAgIGV4cG9ydCB2YXIgcGxheWVyOiBTaGlwUG9kO1xyXG4gICAgZXhwb3J0IHZhciBnYW1lOiBQaGFzZXIuR2FtZTtcclxuICAgIGV4cG9ydCB2YXIgaW50ZXJhY3RhYmxlczogUGhhc2VyLkdhbWVPYmplY3RzLkdhbWVPYmplY3RbXSA9IFtdO1xyXG59IiwiZXhwb3J0IG1vZHVsZSBIZWxwZXJzIHtcclxuICAgIC8qKlxyXG4gICAgICogZ2V0IHRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW4gYW4gZW51bS5cclxuICAgICAqIDxwPlxyXG4gICAgICogZXg6IDxpPmVudW0gRm9vIHsgYmFyID0gMCwgYmF6ID0gMSwgYm96ID0gMiB9PC9pPjxiciAvPlxyXG4gICAgICogcmV0dXJuczogPGI+MzwvYj5cclxuICAgICAqIDwvcD5cclxuICAgICAqIEBwYXJhbSBlbnVtVHlwZSB0aGUgdHlwZSBuYW1lIG9mIGFuIGVudW1cclxuICAgICAqIEByZXR1cm5zIHRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW4gdGhlIGVudW1cclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGVudW1MZW5ndGgoZW51bVR5cGU6IGFueSk6IG51bWJlciB7XHJcbiAgICAgICAgbGV0IGNvdW50ID0gMDtcclxuICAgICAgICBmb3IobGV0IGl0ZW0gaW4gZW51bVR5cGUpIHtcclxuICAgICAgICAgICAgaWYoaXNOYU4oTnVtYmVyKGl0ZW0pKSkge1xyXG4gICAgICAgICAgICAgICAgY291bnQrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY291bnQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCB0aW1lIGluIG1pbGxpc2Vjb25kcyBzaW5jZSB0aGUgZXBvY2hcclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIG5vdygpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgYSB7UGhhc2VyLk1hdGguVmVjdG9yMn0gdGhhdCByZXByZXNlbnRzIGEgbm9ybWFsaXNlZCB2ZWN0b3Igb2YgZGlyZWN0aW9uXHJcbiAgICAgKiBiYXNlZCBvbiB0aGUgcm90YXRpb24gb2YgdGhlIHBhc3NlZCBpbiB7UGhhc2VyLlBoeXNpY3MuQXJjYWRlLkJvZHl9XHJcbiAgICAgKiBAcGFyYW0gYm9keSB0aGUgcGh5c2ljcyBlbmFibGVkIHtHYW1lT2JqZWN0LmJvZHl9IGZyb20gd2hpY2ggdG8gZ2V0IHRoZSBoZWFkaW5nXHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBnZXRIZWFkaW5nKGJvZHk6IFBoYXNlci5QaHlzaWNzLkFyY2FkZS5Cb2R5KTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgaWYgKGJvZHkpIHtcclxuICAgICAgICAgICAgbGV0IHg6IG51bWJlciA9IE1hdGguY29zKFBoYXNlci5NYXRoLkRlZ1RvUmFkKGJvZHkucm90YXRpb24pKTtcclxuICAgICAgICAgICAgbGV0IHk6IG51bWJlciA9IE1hdGguc2luKFBoYXNlci5NYXRoLkRlZ1RvUmFkKGJvZHkucm90YXRpb24pKTtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKHgsIHkpLm5vcm1hbGl6ZSgpLm5lZ2F0ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUGhhc2VyLk1hdGguVmVjdG9yMi5aRVJPO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogYXBwbGllcyB0aGUgcGFzc2VkIGluIG9mZnNldCB0byBhIHJvdGF0ZWQgYm9keSBlcXVpdmFsZW50IHRvIHJldmVyc2luZyB0aGVcclxuICAgICAqIHJvdGF0aW9uLCBhcHBseWluZyB0aGUgb2Zmc2V0IGFuZCB0aGVuIHJlLWFwcGx5aW5nIHRoZSBvZmZzZXRcclxuICAgICAqIEBwYXJhbSBib2R5IHRoZSB7UGhhc2VyLlBoeXNpY3MuQXJjYWRlLkJvZHl9IHRvIG9mZnNldFxyXG4gICAgICogQHBhcmFtIG9mZnNldCBhIHtQaGFzZXIuTWF0aC5WZWN0b3IyfSByZXByZXNlbnRpbmcgdGhlIHVucm90YXRlZCBvZmZzZXQgdG8gYXBwbHlcclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIG9mZnNldFdpdGhIZWFkaW5nKGJvZHk6IFBoYXNlci5QaHlzaWNzLkFyY2FkZS5Cb2R5LCBvZmZzZXQ6IFBoYXNlci5NYXRoLlZlY3RvcjIpOiB2b2lkIHtcclxuICAgICAgICBsZXQgaGVhZGluZzogUGhhc2VyLk1hdGguVmVjdG9yMiA9IEhlbHBlcnMuZ2V0SGVhZGluZyhib2R5KTtcclxuICAgICAgICBoZWFkaW5nLm11bHRpcGx5KG9mZnNldCk7XHJcbiAgICAgICAgYm9keS5wb3NpdGlvbi5hZGQoaGVhZGluZyk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBNb3VzZSB9IGZyb20gXCIuLi91dGlsaXRpZXMvbW91c2VcIjtcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBab29tYWJsZVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIHByb3RlY3RlZCBtb3VzZTogTW91c2U7XHJcblxyXG4gICAgY29uc3RydWN0b3IoY29uZmlnOiBQaGFzZXIuVHlwZXMuU2NlbmVzLlNldHRpbmdzQ29uZmlnKSB7XHJcbiAgICAgICAgc3VwZXIoY29uZmlnKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgcHJlbG9hZCgpOiB2b2lkO1xyXG5cclxuICAgIHB1YmxpYyBjcmVhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5tb3VzZSA9IG5ldyBNb3VzZSh0aGlzKTtcclxuICAgICAgICB0aGlzLm1vdXNlLm9uV2hlZWxVcCgoc2Nyb2xsQW1vdW50OiBudW1iZXIpID0+IHtcclxuICAgICAgICAgICAgbGV0IGN1cnJlbnRab29tOiBudW1iZXIgPSB0aGlzLmNhbWVyYXMubWFpbi56b29tO1xyXG4gICAgICAgICAgICAvLyB6b29tIG91dFxyXG4gICAgICAgICAgICBsZXQgbmV3Wm9vbTogbnVtYmVyID0gY3VycmVudFpvb20gLSAwLjU7XHJcbiAgICAgICAgICAgIGlmIChuZXdab29tIDwgMC4xKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdab29tID0gMC4xO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGB6b29taW5nIGZyb20gJHtjdXJyZW50Wm9vbX0gdG8gJHtuZXdab29tfWApO1xyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi56b29tVG8obmV3Wm9vbSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5tb3VzZS5vbldoZWVsRG93bigoc2Nyb2xsQW1vdW50OiBudW1iZXIpID0+IHtcclxuICAgICAgICAgICAgbGV0IGN1cnJlbnRab29tOiBudW1iZXIgPSB0aGlzLmNhbWVyYXMubWFpbi56b29tO1xyXG4gICAgICAgICAgICAvLyB6b29tIGluXHJcbiAgICAgICAgICAgIGxldCBuZXdab29tOiBudW1iZXIgPSBjdXJyZW50Wm9vbSArIDAuNTtcclxuICAgICAgICAgICAgaWYgKG5ld1pvb20gPiAxKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdab29tID0gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgem9vbWluZyBmcm9tICR7Y3VycmVudFpvb219IHRvICR7bmV3Wm9vbX1gKTtcclxuICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uem9vbVRvKG5ld1pvb20pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCB1cGRhdGUoKTogdm9pZDtcclxufSIsIi8vIFVuaXF1ZSBJRCBjcmVhdGlvbiByZXF1aXJlcyBhIGhpZ2ggcXVhbGl0eSByYW5kb20gIyBnZW5lcmF0b3IuICBJbiB0aGVcbi8vIGJyb3dzZXIgdGhpcyBpcyBhIGxpdHRsZSBjb21wbGljYXRlZCBkdWUgdG8gdW5rbm93biBxdWFsaXR5IG9mIE1hdGgucmFuZG9tKClcbi8vIGFuZCBpbmNvbnNpc3RlbnQgc3VwcG9ydCBmb3IgdGhlIGBjcnlwdG9gIEFQSS4gIFdlIGRvIHRoZSBiZXN0IHdlIGNhbiB2aWFcbi8vIGZlYXR1cmUtZGV0ZWN0aW9uXG5cbi8vIGdldFJhbmRvbVZhbHVlcyBuZWVkcyB0byBiZSBpbnZva2VkIGluIGEgY29udGV4dCB3aGVyZSBcInRoaXNcIiBpcyBhIENyeXB0b1xuLy8gaW1wbGVtZW50YXRpb24uIEFsc28sIGZpbmQgdGhlIGNvbXBsZXRlIGltcGxlbWVudGF0aW9uIG9mIGNyeXB0byBvbiBJRTExLlxudmFyIGdldFJhbmRvbVZhbHVlcyA9ICh0eXBlb2YoY3J5cHRvKSAhPSAndW5kZWZpbmVkJyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChjcnlwdG8pKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICh0eXBlb2YobXNDcnlwdG8pICE9ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cubXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzID09ICdmdW5jdGlvbicgJiYgbXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQobXNDcnlwdG8pKTtcblxuaWYgKGdldFJhbmRvbVZhbHVlcykge1xuICAvLyBXSEFUV0cgY3J5cHRvIFJORyAtIGh0dHA6Ly93aWtpLndoYXR3Zy5vcmcvd2lraS9DcnlwdG9cbiAgdmFyIHJuZHM4ID0gbmV3IFVpbnQ4QXJyYXkoMTYpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB3aGF0d2dSTkcoKSB7XG4gICAgZ2V0UmFuZG9tVmFsdWVzKHJuZHM4KTtcbiAgICByZXR1cm4gcm5kczg7XG4gIH07XG59IGVsc2Uge1xuICAvLyBNYXRoLnJhbmRvbSgpLWJhc2VkIChSTkcpXG4gIC8vXG4gIC8vIElmIGFsbCBlbHNlIGZhaWxzLCB1c2UgTWF0aC5yYW5kb20oKS4gIEl0J3MgZmFzdCwgYnV0IGlzIG9mIHVuc3BlY2lmaWVkXG4gIC8vIHF1YWxpdHkuXG4gIHZhciBybmRzID0gbmV3IEFycmF5KDE2KTtcblxuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG1hdGhSTkcoKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIHI7IGkgPCAxNjsgaSsrKSB7XG4gICAgICBpZiAoKGkgJiAweDAzKSA9PT0gMCkgciA9IE1hdGgucmFuZG9tKCkgKiAweDEwMDAwMDAwMDtcbiAgICAgIHJuZHNbaV0gPSByID4+PiAoKGkgJiAweDAzKSA8PCAzKSAmIDB4ZmY7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJuZHM7XG4gIH07XG59XG4iLCIvKipcbiAqIENvbnZlcnQgYXJyYXkgb2YgMTYgYnl0ZSB2YWx1ZXMgdG8gVVVJRCBzdHJpbmcgZm9ybWF0IG9mIHRoZSBmb3JtOlxuICogWFhYWFhYWFgtWFhYWC1YWFhYLVhYWFgtWFhYWFhYWFhYWFhYXG4gKi9cbnZhciBieXRlVG9IZXggPSBbXTtcbmZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyArK2kpIHtcbiAgYnl0ZVRvSGV4W2ldID0gKGkgKyAweDEwMCkudG9TdHJpbmcoMTYpLnN1YnN0cigxKTtcbn1cblxuZnVuY3Rpb24gYnl0ZXNUb1V1aWQoYnVmLCBvZmZzZXQpIHtcbiAgdmFyIGkgPSBvZmZzZXQgfHwgMDtcbiAgdmFyIGJ0aCA9IGJ5dGVUb0hleDtcbiAgLy8gam9pbiB1c2VkIHRvIGZpeCBtZW1vcnkgaXNzdWUgY2F1c2VkIGJ5IGNvbmNhdGVuYXRpb246IGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMxNzUjYzRcbiAgcmV0dXJuIChbXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSxcbiAgICBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLCAnLScsXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgJy0nLFxuICAgIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sICctJyxcbiAgICBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLCAnLScsXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSxcbiAgICBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLFxuICAgIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV1cbiAgXSkuam9pbignJyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYnl0ZXNUb1V1aWQ7XG4iLCJleHBvcnQgbW9kdWxlIENvbnN0YW50cyB7XHJcbiAgICBleHBvcnQgY29uc3QgTUFYX0lOVEVHUklUWTogbnVtYmVyID0gMTAwO1xyXG4gICAgZXhwb3J0IGNvbnN0IE1BWF9GVUVMOiBudW1iZXIgPSAxMDA7XHJcbiAgICBleHBvcnQgY29uc3QgTUFYX1NBRkVfVEVNUEVSQVRVUkU6IG51bWJlciA9IDEwMDtcclxuICAgIGV4cG9ydCBjb25zdCBNQVhfVEVNUEVSQVRVUkU6IG51bWJlciA9IDIwMDtcclxuICAgIGV4cG9ydCBjb25zdCBNQVhfVkVMT0NJVFk6IG51bWJlciA9IDUwMDtcclxuICAgIGV4cG9ydCBjb25zdCBPVkVSSEVBVF9DSEVDS19JTlRFUlZBTDogbnVtYmVyID0gMTAwOyAvLyBtaWxsaXNlY29uZHNcclxuICAgIGV4cG9ydCBjb25zdCBDT09MSU5HX1JBVEU6IG51bWJlciA9IDAuMzsgLy8gZGVncmVlcyBwZXIgc2Vjb25kXHJcbiAgICBleHBvcnQgY29uc3QgVEhSVVNURVJfRk9SQ0U6IG51bWJlciA9IDE7XHJcbiAgICBleHBvcnQgY29uc3QgRlVFTF9QRVJfVEhSVVNUOiBudW1iZXIgPSAwLjAwMTsgLy8gdW5pdHNcclxuICAgIGV4cG9ydCBjb25zdCBIRUFUX1BFUl9USFJVU1Q6IG51bWJlciA9IDAuMSAvLyBkZWdyZWVzXHJcbiAgICBleHBvcnQgY29uc3QgQk9PU1RFUl9GT1JDRTogbnVtYmVyID0gMzAwO1xyXG4gICAgZXhwb3J0IGNvbnN0IEZVRUxfUEVSX0JPT1NUOiBudW1iZXIgPSAxOyAvLyB1bml0c1xyXG4gICAgZXhwb3J0IGNvbnN0IEhFQVRfUEVSX0JPT1NUOiBudW1iZXIgPSAyNTsgLy8gZGVncmVlc1xyXG4gICAgZXhwb3J0IGNvbnN0IEJPT1NURVJfQ09PTERPV05fVElNRTogbnVtYmVyID0gMTAwMDsgLy8gbWlsbGlzZWNvbmRzXHJcbiAgICBleHBvcnQgY29uc3QgVEhST1dfRk9SQ0U6IG51bWJlciA9IDEwMDtcclxuICAgIGV4cG9ydCBlbnVtIEZsYXJlIHtcclxuICAgICAgICBibHVlID0gMCxcclxuICAgICAgICBncmVlbiA9IDEsXHJcbiAgICAgICAgcmVkID0gMixcclxuICAgICAgICB3aGl0ZSA9IDMsXHJcbiAgICAgICAgeWVsbG93ID0gNFxyXG4gICAgfVxyXG59IiwiZXhwb3J0IGVudW0gQXR0YWNobWVudExvY2F0aW9uIHtcclxuICAgIGZyb250LFxyXG4gICAgZnJvbnRSaWdodCxcclxuICAgIHJpZ2h0LFxyXG4gICAgYmFja1JpZ2h0LFxyXG4gICAgLy8gTk9URTogdGhlcmUgaXMgbm8gJ2JhY2snIGF0dGFjaG1lbnQgcG9pbnQgZHVlIHRvIGxvY2F0aW9uIG9mIHRocnVzdGVyXHJcbiAgICBiYWNrTGVmdCxcclxuICAgIGxlZnQsXHJcbiAgICBmcm9udExlZnRcclxufSIsImltcG9ydCB7IFNoaXBTY2VuZSB9IGZyb20gXCIuL3NjZW5lcy9zaGlwLXNjZW5lXCI7XHJcbmltcG9ydCB7IEdsb2JhbHMgfSBmcm9tIFwiLi91dGlsaXRpZXMvZ2xvYmFsc1wiO1xyXG5pbXBvcnQgeyBPdmVybGF5U2NlbmUgfSBmcm9tIFwiLi9zY2VuZXMvb3ZlcmxheS1zY2VuZVwiO1xyXG5pbXBvcnQgeyBGYXJ0aGVzdFN0YXJzU2NlbmUgfSBmcm9tIFwiLi9zY2VuZXMvZmFydGhlc3Qtc3RhcnMtc2NlbmVcIjtcclxuaW1wb3J0IHsgTmVhcmVzdFN0YXJzU2NlbmUgfSBmcm9tIFwiLi9zY2VuZXMvbmVhcmVzdC1zdGFycy1zY2VuZVwiO1xyXG5cclxuY29uc3QgZ2FtZUNvbmZpZzogUGhhc2VyLlR5cGVzLkNvcmUuR2FtZUNvbmZpZyA9IHtcclxuICAgIHR5cGU6IFBoYXNlci5BVVRPLFxyXG4gICAgc2NhbGU6IHtcclxuICAgICAgICB3aWR0aDogd2luZG93LmlubmVyV2lkdGgsXHJcbiAgICAgICAgaGVpZ2h0OiB3aW5kb3cuaW5uZXJIZWlnaHRcclxuICAgIH0sXHJcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwMDAwJyxcclxuICAgIHBhcmVudDogJ3NwYWNlLXNpbScsXHJcbiAgICBwaHlzaWNzOiB7XHJcbiAgICAgICAgZGVmYXVsdDogJ2FyY2FkZScsXHJcbiAgICAgICAgYXJjYWRlOiB7XHJcbiAgICAgICAgICAgIGdyYXZpdHk6IHsgeDogMCwgeTogMCB9LFxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBzY2VuZTogW0ZhcnRoZXN0U3RhcnNTY2VuZSwgTmVhcmVzdFN0YXJzU2NlbmUsIFNoaXBTY2VuZSwgT3ZlcmxheVNjZW5lXVxyXG59O1xyXG5leHBvcnQgY29uc3QgZ2FtZTogUGhhc2VyLkdhbWUgPSBuZXcgUGhhc2VyLkdhbWUoZ2FtZUNvbmZpZyk7XHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4ge1xyXG4gICAgZ2FtZS5zY2FsZS5yZWZyZXNoKCk7XHJcbn0pO1xyXG5cclxuR2xvYmFscy5nYW1lID0gZ2FtZTsiLCJpbXBvcnQgeyBTaGlwUG9kIH0gZnJvbSBcIi4uL3NoaXBzL3NoaXAtcG9kXCI7XHJcbmltcG9ydCB7IEdsb2JhbHMgfSBmcm9tIFwiLi4vdXRpbGl0aWVzL2dsb2JhbHNcIjtcclxuaW1wb3J0IHsgTW91c2UgfSBmcm9tIFwiLi4vdXRpbGl0aWVzL21vdXNlXCI7XHJcbmltcG9ydCB7IENhbm5vbkF0dGFjaG1lbnQgfSBmcm9tIFwiLi4vc2hpcHMvYXR0YWNobWVudHMvb2ZmZW5jZS9jYW5ub24tYXR0YWNobWVudFwiO1xyXG5pbXBvcnQgeyBab29tYWJsZVNjZW5lIH0gZnJvbSBcIi4vem9vbWFibGUtc2NlbmVcIjtcclxuXHJcbmNvbnN0IHNjZW5lQ29uZmlnOiBQaGFzZXIuVHlwZXMuU2NlbmVzLlNldHRpbmdzQ29uZmlnID0ge1xyXG4gICAgYWN0aXZlOiB0cnVlLFxyXG4gICAgdmlzaWJsZTogdHJ1ZSxcclxuICAgIGtleTogJ1NoaXBTY2VuZSdcclxufTtcclxuXHJcbmV4cG9ydCBjbGFzcyBTaGlwU2NlbmUgZXh0ZW5kcyBab29tYWJsZVNjZW5lIHtcclxuICAgIHByaXZhdGUgcGxheWVyOiBTaGlwUG9kO1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcihzY2VuZUNvbmZpZyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHByZWxvYWQoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdzaGlwLXBvZCcsICcuL2Fzc2V0cy9zcHJpdGVzL3NoaXAtcG9kLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY2Fubm9uJywgJy4vYXNzZXRzL3Nwcml0ZXMvY2Fubm9uLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnZmxhcmVzJywgJy4vYXNzZXRzL3BhcnRpY2xlcy9mbGFyZXMucG5nJywge1xyXG4gICAgICAgICAgICBmcmFtZVdpZHRoOiAxMzAsXHJcbiAgICAgICAgICAgIGZyYW1lSGVpZ2h0OiAxMzIsXHJcbiAgICAgICAgICAgIHN0YXJ0RnJhbWU6IDAsXHJcbiAgICAgICAgICAgIGVuZEZyYW1lOiA0XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdleHBsb3Npb24nLCAnLi9hc3NldHMvcGFydGljbGVzL2V4cGxvc2lvbi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2J1bGxldCcsICcuL2Fzc2V0cy9zcHJpdGVzL2J1bGxldC5wbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLmNyZWF0ZSgpO1xyXG4gICAgICAgIHRoaXMucGxheWVyID0gbmV3IFNoaXBQb2QodGhpcyk7XHJcbiAgICAgICAgR2xvYmFscy5wbGF5ZXIgPSB0aGlzLnBsYXllcjtcclxuICAgICAgICB0aGlzLnBsYXllci5zZXRUYXJnZXQodGhpcy5tb3VzZSk7XHJcblxyXG4gICAgICAgIC8vIFRNUFxyXG4gICAgICAgIGxldCBjYW5vbjogQ2Fubm9uQXR0YWNobWVudCA9IG5ldyBDYW5ub25BdHRhY2htZW50KHRoaXMpO1xyXG4gICAgICAgIHRoaXMucGxheWVyLmFkZEF0dGFjaG1lbnQoY2Fub24pO1xyXG5cclxuICAgICAgICB0aGlzLnNldHVwQ2FtZXJhKHRoaXMucGxheWVyKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmlucHV0LmtleWJvYXJkLm9uKCdrZXlkb3duLVAnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIEdsb2JhbHMucGF1c2VkID0gdHJ1ZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmlucHV0LmtleWJvYXJkLm9uKCdrZXlkb3duLVInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIEdsb2JhbHMucGF1c2VkID0gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5nYW1lLmNhbnZhcy5vbmNvbnRleHRtZW51ID0gKGUpID0+IHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICghR2xvYmFscy5wYXVzZWQpIHtcclxuICAgICAgICAgICAgR2xvYmFscy5wbGF5ZXIudXBkYXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0dXBDYW1lcmEocGxheWVyOiBTaGlwUG9kKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uYmFja2dyb3VuZENvbG9yLnNldEZyb21SR0Ioe3I6IDAsIGc6IDAsIGI6IDB9KTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRab29tKDEpO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLmNlbnRlck9uKDAsIDApO1xyXG5cclxuICAgICAgICBsZXQgd2lkdGg6IG51bWJlciA9IHRoaXMuY2FtZXJhcy5tYWluLndpZHRoO1xyXG4gICAgICAgIGxldCBoZWlnaHQ6IG51bWJlciA9IHRoaXMuY2FtZXJhcy5tYWluLmhlaWdodDtcclxuICAgICAgICBsZXQgZHpXaWR0aDogbnVtYmVyID0gTWF0aC5mbG9vcih3aWR0aCAvIDIpO1xyXG4gICAgICAgIGxldCBkekhlaWdodDogbnVtYmVyID0gTWF0aC5mbG9vcihoZWlnaHQgLyAyKTtcclxuICAgICAgICBsZXQgZHpYOiBudW1iZXIgPSBNYXRoLmZsb29yKGR6V2lkdGggLyAyKTtcclxuICAgICAgICBsZXQgZHpZOiBudW1iZXIgPSBNYXRoLmZsb29yKGR6SGVpZ2h0IC8gMik7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc3RhcnRGb2xsb3cocGxheWVyLmdldEdhbWVPYmplY3QoKSwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uZGVhZHpvbmUgPSBuZXcgUGhhc2VyLkdlb20uUmVjdGFuZ2xlKGR6WCwgZHpZLCBkeldpZHRoLCBkekhlaWdodCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgXCJwaGFzZXJcIjtcclxuaW1wb3J0IHsgUk5HIH0gZnJvbSBcIi4uL3V0aWxpdGllcy9ybmdcIjtcclxuaW1wb3J0IHsgVXBkYXRhYmxlIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvdXBkYXRhYmxlXCI7XHJcbmltcG9ydCB7IENhblRhcmdldCB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2Nhbi10YXJnZXRcIjtcclxuaW1wb3J0IHsgQ2FuVGhydXN0IH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvY2FuLXRocnVzdFwiO1xyXG5pbXBvcnQgeyBIYXNMb2NhdGlvbiB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2hhcy1sb2NhdGlvblwiO1xyXG5pbXBvcnQgeyBIYXNHYW1lT2JqZWN0IH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvaGFzLWdhbWUtb2JqZWN0XCI7XHJcbmltcG9ydCB7IEdsb2JhbHMgfSBmcm9tIFwiLi4vdXRpbGl0aWVzL2dsb2JhbHNcIjtcclxuaW1wb3J0IHsgSGFzSW50ZWdyaXR5IH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvaGFzLWludGVncml0eVwiO1xyXG5pbXBvcnQgeyBDb25zdGFudHMgfSBmcm9tIFwiLi4vdXRpbGl0aWVzL2NvbnN0YW50c1wiO1xyXG5pbXBvcnQgeyBTaGlwQXR0YWNobWVudCB9IGZyb20gXCIuL2F0dGFjaG1lbnRzL3NoaXAtYXR0YWNobWVudFwiO1xyXG5pbXBvcnQgeyBIYXNBdHRhY2htZW50cyB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2hhcy1hdHRhY2htZW50c1wiO1xyXG5pbXBvcnQgeyBIZWxwZXJzIH0gZnJvbSBcIi4uL3V0aWxpdGllcy9oZWxwZXJzXCI7XHJcbmltcG9ydCB7IEF0dGFjaG1lbnRMb2NhdGlvbiB9IGZyb20gXCIuL2F0dGFjaG1lbnRzL2F0dGFjaG1lbnQtbG9jYXRpb25cIjtcclxuaW1wb3J0IHsgSGFzVGVtcGVyYXR1cmUgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9oYXMtdGVtcGVyYXR1cmVcIjtcclxuaW1wb3J0IHsgSGFzRnVlbCB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2hhcy1mdWVsXCI7XHJcbmltcG9ydCB7IEhhc1BoeXNpY3NHYW1lT2JqZWN0IH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvaGFzLXBoeXNpY3MtZ2FtZS1vYmplY3RcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTaGlwUG9kIGltcGxlbWVudHMgVXBkYXRhYmxlLCBDYW5UYXJnZXQsIENhblRocnVzdCwgSGFzTG9jYXRpb24sIEhhc0dhbWVPYmplY3QsIEhhc1BoeXNpY3NHYW1lT2JqZWN0LCBIYXNJbnRlZ3JpdHksIEhhc0F0dGFjaG1lbnRzLCBIYXNUZW1wZXJhdHVyZSwgSGFzRnVlbCB7XHJcbiAgICBwcml2YXRlIGlkOiBzdHJpbmc7IC8vIFVVSURcclxuICAgIHByaXZhdGUgc2NlbmU6IFBoYXNlci5TY2VuZTtcclxuICAgIHByaXZhdGUgZ2FtZU9iajogUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcjtcclxuICAgIHByaXZhdGUgdGFyZ2V0OiBIYXNMb2NhdGlvbjtcclxuICAgIHByaXZhdGUgaW50ZWdyaXR5OiBudW1iZXI7XHJcbiAgICBwcml2YXRlIGF0dGFjaG1lbnRzOiBTaGlwQXR0YWNobWVudFtdO1xyXG4gICAgcHJpdmF0ZSB0aHJ1c3RLZXk6IFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXk7XHJcbiAgICBwcml2YXRlIGJvb3N0S2V5OiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5O1xyXG4gICAgcHJpdmF0ZSByb3RhdGVBdHRhY2htZW50c0Nsb2Nrd2lzZUtleTogUGhhc2VyLklucHV0LktleWJvYXJkLktleTtcclxuICAgIHByaXZhdGUgcm90YXRlQXR0YWNobWVudHNBbnRpQ2xvY2t3aXNlS2V5OiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5O1xyXG4gICAgcHJpdmF0ZSBkZXRhY2hBdHRhY2htZW50S2V5OiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5O1xyXG4gICAgcHJpdmF0ZSByZW1haW5pbmdGdWVsOiBudW1iZXIgPSAxMDA7XHJcbiAgICBwcml2YXRlIHRlbXBlcmF0dXJlOiBudW1iZXIgPSAwOyAvLyBpbiBDZWxjaXVzXHJcbiAgICBwcml2YXRlIHRocnVzdGVyUGFydGljbGVzOiBQaGFzZXIuR2FtZU9iamVjdHMuUGFydGljbGVzLlBhcnRpY2xlRW1pdHRlck1hbmFnZXI7XHJcbiAgICBwcml2YXRlIGV4cGxvc2lvblBhcnRpY2xlczogUGhhc2VyLkdhbWVPYmplY3RzLlBhcnRpY2xlcy5QYXJ0aWNsZUVtaXR0ZXJNYW5hZ2VyO1xyXG5cclxuICAgIGFjdGl2ZTogYm9vbGVhbiA9IHRydWU7XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lOiBQaGFzZXIuU2NlbmUpIHtcclxuICAgICAgICB0aGlzLmlkID0gUk5HLmd1aWQoKTtcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy5nYW1lT2JqID0gc2NlbmUuYWRkLmNvbnRhaW5lcigwLCAwKTtcclxuICAgICAgICB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMuZ2FtZU9iaik7XHJcbiAgICAgICAgdGhpcy5nZXRQaHlzaWNzQm9keSgpLmJvdW5jZS5zZXRUbygwLjcsIDAuNyk7XHJcbiAgICAgICAgdGhpcy5nZXRQaHlzaWNzQm9keSgpLnNldE1heFZlbG9jaXR5KENvbnN0YW50cy5NQVhfVkVMT0NJVFksIENvbnN0YW50cy5NQVhfVkVMT0NJVFkpO1xyXG4gICAgICAgIHRoaXMudGhydXN0ZXJQYXJ0aWNsZXMgPSBzY2VuZS5hZGQucGFydGljbGVzKCdmbGFyZXMnLCBDb25zdGFudHMuRmxhcmUueWVsbG93KTtcclxuICAgICAgICB0aGlzLmV4cGxvc2lvblBhcnRpY2xlcyA9IHNjZW5lLmFkZC5wYXJ0aWNsZXMoJ2V4cGxvc2lvbicpO1xyXG4gICAgICAgIGxldCBzaGlwOiBQaGFzZXIuR2FtZU9iamVjdHMuU3ByaXRlID0gc2NlbmUuYWRkLnNwcml0ZSgwLCAwLCAnc2hpcC1wb2QnKTtcclxuICAgICAgICB0aGlzLmdhbWVPYmouYWRkKHNoaXApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuaW50ZWdyaXR5ID0gQ29uc3RhbnRzLk1BWF9JTlRFR1JJVFk7XHJcbiAgICAgICAgdGhpcy5hdHRhY2htZW50cyA9IG5ldyBBcnJheTxTaGlwQXR0YWNobWVudD4oSGVscGVycy5lbnVtTGVuZ3RoKEF0dGFjaG1lbnRMb2NhdGlvbikpO1xyXG5cclxuICAgICAgICB0aGlzLnNldHVwSW5wdXRIYW5kbGVycygpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIUdsb2JhbHMucGF1c2VkICYmIHRoaXMuYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9va0F0VGFyZ2V0KCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRocnVzdEtleS5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudGhydXN0Rm93YXJkcygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmJvb3N0S2V5LmlzRG93bikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ib29zdEZvcndhcmRzKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuc2NlbmUuaW5wdXQuYWN0aXZlUG9pbnRlci5sZWZ0QnV0dG9uRG93bigpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hdHRhY2htZW50c1swXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNobWVudHNbMF0udHJpZ2dlcigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNjZW5lLmlucHV0LmFjdGl2ZVBvaW50ZXIucmlnaHRCdXR0b25Eb3duKCkpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmF0dGFjaG1lbnRzWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aHJvd0F0dGFjaG1lbnQodGhpcy5hdHRhY2htZW50c1swXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5jaGVja092ZXJoZWF0Q29uZGl0aW9uKCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnJvdGF0ZUF0dGFjaG1lbnRzQ2xvY2t3aXNlS2V5LmlzRG93bikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yb3RhdGVBdHRhY2htZW50c0Nsb2Nrd2lzZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnJvdGF0ZUF0dGFjaG1lbnRzQW50aUNsb2Nrd2lzZUtleS5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucm90YXRlQXR0YWNobWVudHNBbnRpQ2xvY2t3aXNlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuZGV0YWNoQXR0YWNobWVudEtleS5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQXR0YWNobWVudChBdHRhY2htZW50TG9jYXRpb24uZnJvbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQXR0YWNobWVudHMoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1cGRhdGVBdHRhY2htZW50cygpOiB2b2lkIHtcclxuICAgICAgICBmb3IgKHZhciBpPTA7IGk8dGhpcy5hdHRhY2htZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgYTogU2hpcEF0dGFjaG1lbnQgPSB0aGlzLmF0dGFjaG1lbnRzW2ldO1xyXG4gICAgICAgICAgICBpZiAoYSkge1xyXG4gICAgICAgICAgICAgICAgYS51cGRhdGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldHVwSW5wdXRIYW5kbGVycygpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnRocnVzdEtleSA9IHRoaXMuc2NlbmUuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KCdTUEFDRScsIHRydWUsIHRydWUpO1xyXG4gICAgICAgIHRoaXMuYm9vc3RLZXkgPSB0aGlzLnNjZW5lLmlucHV0LmtleWJvYXJkLmFkZEtleSgnVEFCJywgdHJ1ZSwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMucm90YXRlQXR0YWNobWVudHNDbG9ja3dpc2VLZXkgPSB0aGlzLnNjZW5lLmlucHV0LmtleWJvYXJkLmFkZEtleSgnRScsIHRydWUsIGZhbHNlKTtcclxuICAgICAgICB0aGlzLnJvdGF0ZUF0dGFjaG1lbnRzQW50aUNsb2Nrd2lzZUtleSA9IHRoaXMuc2NlbmUuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KCdRJywgdHJ1ZSwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuZGV0YWNoQXR0YWNobWVudEtleSA9IHRoaXMuc2NlbmUuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KCdYJywgdHJ1ZSwgZmFsc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogY2hlY2tzIGZvciBhbmQgYXBwbGllcyBkYW1hZ2UgYmFzZWQgb24gZGVncmVlcyBvdmVyIHNhZmUgdGVtcGVyYXR1cmUgYXQgYSByYXRlXHJcbiAgICAgKiBkZWZpbmVkIGJ5IHtDb25zdGFudHMuT1ZFUkhFQVRfQ0hFQ0tfSU5URVJWQUx9IG1pbGxpc2Vjb25kcyBiZXR3ZWVuIGVhY2ggY2hlY2suXHJcbiAgICAgKiBhbHNvIGFwcGxpZXMgY29vbGluZyBhdCBhIHJhdGUgb2Yge0NvbnN0YW50cy5DT09MSU5HX1JBVEV9XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgY2hlY2tPdmVyaGVhdENvbmRpdGlvbigpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIUdsb2JhbHMucGF1c2VkICYmIHRoaXMuYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNjZW5lLmdhbWUuZ2V0VGltZSgpID4gdGhpcy5sYXN0T3ZlcmhlYXRDaGVjayArIENvbnN0YW50cy5PVkVSSEVBVF9DSEVDS19JTlRFUlZBTCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudGVtcGVyYXR1cmUgPiBDb25zdGFudHMuTUFYX1RFTVBFUkFUVVJFKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95KCk7IC8vIHdlIGFyZSBkZWFkXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50ZW1wZXJhdHVyZSA+IENvbnN0YW50cy5NQVhfU0FGRV9URU1QRVJBVFVSRSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlZHVjZSBpbnRlZ3JpdHkgYmFzZWQgb24gZGVncmVlcyBvdmVyIHNhZmUgb3BlcmF0aW5nIHRlbXBcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZGVsdGE6IG51bWJlciA9ICh0aGlzLnRlbXBlcmF0dXJlIC0gQ29uc3RhbnRzLk1BWF9TQUZFX1RFTVBFUkFUVVJFKSAvIENvbnN0YW50cy5NQVhfU0FGRV9URU1QRVJBVFVSRTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN1c3RhaW5EYW1hZ2UoZGVsdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5hcHBseUNvb2xpbmcoQ29uc3RhbnRzLkNPT0xJTkdfUkFURSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RPdmVyaGVhdENoZWNrID0gdGhpcy5zY2VuZS5nYW1lLmdldFRpbWUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHByaXZhdGUgbGFzdE92ZXJoZWF0Q2hlY2s6IG51bWJlciA9IDA7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUT0RPOiBuZWVkZWQgc28gd2UgY2FuIHVzZSBGbG9hdGluZyBPcmlnaW5cclxuICAgICAqL1xyXG4gICAgZ2V0UmVhbExvY2F0aW9uKCk6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIGlmICh0aGlzLmdldEdhbWVPYmplY3QoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFBoYXNlci5NYXRoLlZlY3RvcjIodGhpcy5nYW1lT2JqLngsIHRoaXMuZ2FtZU9iai55KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFBoYXNlci5NYXRoLlZlY3RvcjIuWkVSTztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHRoZSBsb2NhdGlvbiB3aXRoaW4gdGhlIHZpZXdhYmxlIGFyZWFcclxuICAgICAqIEByZXR1cm5zIGEge1BoYXNlci5NYXRoLlZlY3RvcjJ9IG9mZnNldCBmb3IgbG9jYXRpb24gd2l0aGluIGN1cnJlbnQgXHJcbiAgICAgKiB2aWV3YWJsZSBhcmVhXHJcbiAgICAgKi9cclxuICAgIGdldExvY2F0aW9uKCk6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIGlmICh0aGlzLmdldEdhbWVPYmplY3QoKSkge1xyXG4gICAgICAgICAgICBsZXQgY2FtZXJhUG9zOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5zY2VuZS5jYW1lcmFzLm1haW4uZ2V0V29ybGRQb2ludCgwLCAwKTtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKHRoaXMuZ2FtZU9iai54IC0gY2FtZXJhUG9zLngsIHRoaXMuZ2FtZU9iai55IC0gY2FtZXJhUG9zLnkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUGhhc2VyLk1hdGguVmVjdG9yMi5aRVJPO1xyXG4gICAgfVxyXG5cclxuICAgIGdldElkKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0R2FtZU9iamVjdCgpOiBQaGFzZXIuR2FtZU9iamVjdHMuR2FtZU9iamVjdCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZU9iajtcclxuICAgIH1cclxuXHJcbiAgICBnZXRQaHlzaWNzQm9keSgpOiBQaGFzZXIuUGh5c2ljcy5BcmNhZGUuQm9keSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0R2FtZU9iamVjdCgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEdhbWVPYmplY3QoKS5ib2R5IGFzIFBoYXNlci5QaHlzaWNzLkFyY2FkZS5Cb2R5O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBzZXRUYXJnZXQodGFyZ2V0OiBIYXNMb2NhdGlvbikge1xyXG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xyXG4gICAgfVxyXG5cclxuICAgIGdldFRhcmdldCgpOiBIYXNMb2NhdGlvbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGFyZ2V0O1xyXG4gICAgfVxyXG5cclxuICAgIGxvb2tBdFRhcmdldCgpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5nZXRQaHlzaWNzQm9keSgpKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdldFRhcmdldCgpKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0UG9zID0gdGhpcy5nZXRUYXJnZXQoKS5nZXRSZWFsTG9jYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIGxldCBzaGlwUG9zID0gdGhpcy5nZXRSZWFsTG9jYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIGxldCByYWRpYW5zOiBudW1iZXIgPSBQaGFzZXIuTWF0aC5BbmdsZS5CZXR3ZWVuKHRhcmdldFBvcy54LCB0YXJnZXRQb3MueSwgc2hpcFBvcy54LCBzaGlwUG9zLnkpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGRlZ3JlZXM6IG51bWJlciA9IFBoYXNlci5NYXRoLlJhZFRvRGVnKHJhZGlhbnMpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRQaHlzaWNzQm9keSgpLnJvdGF0aW9uID0gZGVncmVlcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHRoZSByb3RhdGlvbiBvZiB0aGUgU2hpcCdzIHtHYW1lT2JqZWN0LmJvZHl9IGluIGRlZ3JlZXNcclxuICAgICAqL1xyXG4gICAgZ2V0Um90YXRpb24oKTogbnVtYmVyIHtcclxuICAgICAgICBpZiAodGhpcy5nZXRQaHlzaWNzQm9keSgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFBoeXNpY3NCb2R5KCkucm90YXRpb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEhlYWRpbmcoKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgcmV0dXJuIEhlbHBlcnMuZ2V0SGVhZGluZyh0aGlzLmdldFBoeXNpY3NCb2R5KCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFNwZWVkKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VmVsb2NpdHkoKS5sZW5ndGgoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRWZWxvY2l0eSgpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICBpZiAodGhpcy5nZXRQaHlzaWNzQm9keSgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFBoeXNpY3NCb2R5KCkudmVsb2NpdHkuY2xvbmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFBoYXNlci5NYXRoLlZlY3RvcjIuWkVSTztcclxuICAgIH1cclxuXHJcbiAgICB0aHJ1c3RGb3dhcmRzKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuYXBwbHlUaHJ1c3QoQ29uc3RhbnRzLlRIUlVTVEVSX0ZPUkNFLCBDb25zdGFudHMuRlVFTF9QRVJfVEhSVVNULCBDb25zdGFudHMuSEVBVF9QRVJfVEhSVVNUKTtcclxuICAgICAgICB0aGlzLmRpc3BsYXlUaHJ1c3RlckZpcmUoQ29uc3RhbnRzLkZsYXJlLnllbGxvdywgMC4yLCAxKTtcclxuICAgIH1cclxuXHJcbiAgICBib29zdEZvcndhcmRzKCk6IHZvaWQge1xyXG4gICAgICAgIGlmIChIZWxwZXJzLm5vdygpIC0gdGhpcy5sYXN0Qm9vc3RUaW1lID49IENvbnN0YW50cy5CT09TVEVSX0NPT0xET1dOX1RJTUUpIHtcclxuICAgICAgICAgICAgdGhpcy5hcHBseVRocnVzdChDb25zdGFudHMuQk9PU1RFUl9GT1JDRSwgQ29uc3RhbnRzLkZVRUxfUEVSX0JPT1NULCBDb25zdGFudHMuSEVBVF9QRVJfQk9PU1QpO1xyXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlUaHJ1c3RlckZpcmUoQ29uc3RhbnRzLkZsYXJlLmJsdWUsIDEsIDEwKTtcclxuICAgICAgICAgICAgdGhpcy5sYXN0Qm9vc3RUaW1lID0gSGVscGVycy5ub3coKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGxhc3RCb29zdFRpbWU6IG51bWJlciA9IDA7XHJcblxyXG4gICAgcHJpdmF0ZSBhcHBseVRocnVzdChmb3JjZTogbnVtYmVyLCBmdWVsOiBudW1iZXIsIGhlYXQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmdldFJlbWFpbmluZ0Z1ZWwoKSA+IDApIHtcclxuICAgICAgICAgICAgbGV0IGhlYWRpbmc6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSB0aGlzLmdldEhlYWRpbmcoKTtcclxuICAgICAgICAgICAgbGV0IGRlbHRhVjogUGhhc2VyLk1hdGguVmVjdG9yMiA9IGhlYWRpbmcubXVsdGlwbHkobmV3IFBoYXNlci5NYXRoLlZlY3RvcjIoZm9yY2UsIGZvcmNlKSk7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0UGh5c2ljc0JvZHkoKS52ZWxvY2l0eS5hZGQoZGVsdGFWKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMucmVkdWNlRnVlbChmdWVsKTtcclxuICAgICAgICAgICAgdGhpcy5hcHBseUhlYXRpbmcoaGVhdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZGlzcGxheVRocnVzdGVyRmlyZShjb2xvdXI6IENvbnN0YW50cy5GbGFyZSwgc3RhcnRTY2FsZTogbnVtYmVyLCBxdWFudGl0eTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgLy8gbWFrZSB0aHJ1c3RlciBmaXJlXHJcbiAgICAgICAgbGV0IHBvczogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuZ2V0UmVhbExvY2F0aW9uKCk7XHJcbiAgICAgICAgbGV0IG9mZnNldDogUGhhc2VyLk1hdGguVmVjdG9yMiA9IG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKDIwLCAwKS5hZGQocG9zKTtcclxuICAgICAgICBsZXQgaDogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuZ2V0SGVhZGluZygpLm5lZ2F0ZSgpO1xyXG4gICAgICAgIGxldCBsb2M6IFBoYXNlci5HZW9tLlBvaW50ID0gUGhhc2VyLk1hdGguUm90YXRlQXJvdW5kKG9mZnNldCwgcG9zLngsIHBvcy55LCBQaGFzZXIuTWF0aC5EZWdUb1JhZCh0aGlzLmdldFJvdGF0aW9uKCkpKTtcclxuICAgICAgICBsZXQgdjogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuZ2V0VmVsb2NpdHkoKTtcclxuICAgICAgICB0aGlzLnRocnVzdGVyUGFydGljbGVzLmNyZWF0ZUVtaXR0ZXIoe1xyXG4gICAgICAgICAgICBmcmFtZTogY29sb3VyIGFzIG51bWJlcixcclxuICAgICAgICAgICAgeDogbG9jLngsXHJcbiAgICAgICAgICAgIHk6IGxvYy55LFxyXG4gICAgICAgICAgICBsaWZlc3BhbjogeyBtaW46IDI1MCwgbWF4OiA1MDAgfSxcclxuICAgICAgICAgICAgc3BlZWRYOiB7IG1pbjogaC54KjEwMCAtIHYueCwgbWF4OiBoLngqNTAwIC0gdi54IH0sXHJcbiAgICAgICAgICAgIHNwZWVkWTogeyBtaW46IGgueSoxMDAgLSB2LnksIG1heDogaC55KjUwMCAtIHYueSB9LFxyXG4gICAgICAgICAgICBhbmdsZTogMCxcclxuICAgICAgICAgICAgZ3Jhdml0eVg6IDAsXHJcbiAgICAgICAgICAgIGdyYXZpdHlZOiAwLFxyXG4gICAgICAgICAgICBzY2FsZTogeyBzdGFydDogc3RhcnRTY2FsZSwgZW5kOiAwIH0sXHJcbiAgICAgICAgICAgIHF1YW50aXR5OiBxdWFudGl0eSxcclxuICAgICAgICAgICAgYmxlbmRNb2RlOiAnQUREJyxcclxuICAgICAgICAgICAgbWF4UGFydGljbGVzOiAxMFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHN0cmFmZUxlZnQoKTogdm9pZCB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHN0cmFmZVJpZ2h0KCk6IHZvaWQge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICB0aHJ1c3RCYWNrd2FyZHMoKTogdm9pZCB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGdldFRlbXBlcmF0dXJlKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGVtcGVyYXR1cmU7XHJcbiAgICB9XHJcblxyXG4gICAgYXBwbHlIZWF0aW5nKGRlZ3JlZXM6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMudGVtcGVyYXR1cmUgKz0gZGVncmVlcztcclxuICAgIH1cclxuXHJcbiAgICBhcHBseUNvb2xpbmcoZGVncmVlczogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy50ZW1wZXJhdHVyZSAtPSBkZWdyZWVzO1xyXG4gICAgICAgIGlmICh0aGlzLnRlbXBlcmF0dXJlIDwgMCkge1xyXG4gICAgICAgICAgICB0aGlzLnRlbXBlcmF0dXJlID0gMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVkdWNlRnVlbChhbW91bnQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMucmVtYWluaW5nRnVlbCAtPSBhbW91bnQ7XHJcbiAgICAgICAgaWYgKHRoaXMucmVtYWluaW5nRnVlbCA8IDApIHtcclxuICAgICAgICAgICAgdGhpcy5yZW1haW5pbmdGdWVsID0gMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYWRkRnVlbChhbW91bnQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMucmVtYWluaW5nRnVlbCArPSBhbW91bnQ7XHJcbiAgICAgICAgaWYgKHRoaXMucmVtYWluaW5nRnVlbCA+IENvbnN0YW50cy5NQVhfRlVFTCkge1xyXG4gICAgICAgICAgICB0aGlzLnJlbWFpbmluZ0Z1ZWwgPSBDb25zdGFudHMuTUFYX0ZVRUw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldFJlbWFpbmluZ0Z1ZWwoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZW1haW5pbmdGdWVsO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEludGVncml0eSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmludGVncml0eTtcclxuICAgIH1cclxuXHJcbiAgICBzdXN0YWluRGFtYWdlKGFtb3VudDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5pbnRlZ3JpdHkgLT0gYW1vdW50O1xyXG4gICAgICAgIGlmICh0aGlzLmludGVncml0eSA8PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW50ZWdyaXR5ID0gMDtcclxuICAgICAgICAgICAgdGhpcy5kZXN0cm95KCk7IC8vIHdlIGFyZSBkZWFkXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlcGFpcihhbW91bnQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuaW50ZWdyaXR5ID0gYW1vdW50O1xyXG4gICAgICAgIGlmICh0aGlzLmludGVncml0eSA+IENvbnN0YW50cy5NQVhfSU5URUdSSVRZKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW50ZWdyaXR5ID0gQ29uc3RhbnRzLk1BWF9JTlRFR1JJVFk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJvdGF0ZUF0dGFjaG1lbnRzQ2xvY2t3aXNlKCk6IHZvaWQge1xyXG4gICAgICAgIGxldCBsYXN0OiBTaGlwQXR0YWNobWVudCA9IHRoaXMuYXR0YWNobWVudHMucG9wKCk7IC8vIHJlbW92ZSBsYXN0IGVsZW1lbnRcclxuICAgICAgICB0aGlzLmF0dGFjaG1lbnRzLnVuc2hpZnQobGFzdCk7IC8vIHB1c2ggbGFzdCBlbGVtZW50IG9udG8gc3RhcnQgb2YgYXJyYXlcclxuICAgICAgICB0aGlzLnVwZGF0ZUF0dGFjaG1lbnRQb3NpdGlvbnMoKTtcclxuICAgIH1cclxuXHJcbiAgICByb3RhdGVBdHRhY2htZW50c0FudGlDbG9ja3dpc2UoKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IGZpcnN0OiBTaGlwQXR0YWNobWVudCA9IHRoaXMuYXR0YWNobWVudHMuc2hpZnQoKTsgLy8gcmVtb3ZlIGZpcnN0IGVsZW1lbnRcclxuICAgICAgICB0aGlzLmF0dGFjaG1lbnRzLnB1c2goZmlyc3QpOyAvLyBwdXNoIGZpcnN0IGVsZW1lbnQgb250byBlbmQgb2YgYXJyYXlcclxuICAgICAgICB0aGlzLnVwZGF0ZUF0dGFjaG1lbnRQb3NpdGlvbnMoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHVwZGF0ZUF0dGFjaG1lbnRQb3NpdGlvbnMoKTogdm9pZCB7XHJcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPHRoaXMuYXR0YWNobWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuYXR0YWNobWVudHNbaV0pIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQXR0YWNobWVudExvY2F0aW9uLmZyb250OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzW2ldLnNldEF0dGFjaG1lbnRMb2NhdGlvbihBdHRhY2htZW50TG9jYXRpb24uZnJvbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIEF0dGFjaG1lbnRMb2NhdGlvbi5mcm9udFJpZ2h0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzW2ldLnNldEF0dGFjaG1lbnRMb2NhdGlvbihBdHRhY2htZW50TG9jYXRpb24uZnJvbnRSaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQXR0YWNobWVudExvY2F0aW9uLnJpZ2h0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzW2ldLnNldEF0dGFjaG1lbnRMb2NhdGlvbihBdHRhY2htZW50TG9jYXRpb24ucmlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIEF0dGFjaG1lbnRMb2NhdGlvbi5iYWNrUmlnaHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNobWVudHNbaV0uc2V0QXR0YWNobWVudExvY2F0aW9uKEF0dGFjaG1lbnRMb2NhdGlvbi5iYWNrUmlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIEF0dGFjaG1lbnRMb2NhdGlvbi5iYWNrTGVmdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hdHRhY2htZW50c1tpXS5zZXRBdHRhY2htZW50TG9jYXRpb24oQXR0YWNobWVudExvY2F0aW9uLmJhY2tMZWZ0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBBdHRhY2htZW50TG9jYXRpb24ubGVmdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hdHRhY2htZW50c1tpXS5zZXRBdHRhY2htZW50TG9jYXRpb24oQXR0YWNobWVudExvY2F0aW9uLmxlZnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIEF0dGFjaG1lbnRMb2NhdGlvbi5mcm9udExlZnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNobWVudHNbaV0uc2V0QXR0YWNobWVudExvY2F0aW9uKEF0dGFjaG1lbnRMb2NhdGlvbi5mcm9udExlZnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGFkZHMgdGhlIHBhc3NlZCBpbiB7U2hpcEF0dGFjaG1lbnR9IGluIHtBdHRhY2htZW50TG9jYXRpb24uZnJvbnR9IG9yXHJcbiAgICAgKiB0aGUgZmlyc3Qgb3BlbiB7QXR0YWNobWVudExvY2F0aW9ufSBpbiBhIGNsb2Nrd2lzZSBzZWFyY2guIGlmIG5vIG9wZW5cclxuICAgICAqIHNsb3RzIGV4aXN0IHRoZW4gdGhlIGV4aXN0aW5nIHtTaGlwQXR0YWNobWVudH0gYXQge0F0dGFjaG1lbnRMb2NhdGlvbi5mcm9udH1cclxuICAgICAqIGlzIGRldGFjaGVkIGFuZCByZXBsYWNlZCB3aXRoIHRoZSBwYXNzZWQgaW4ge1NoaXBBdHRhY2htZW50fVxyXG4gICAgICogQHBhcmFtIGF0dGFjaG1lbnQgdGhlIGF0dGFjaG1lbnQgdG8gYmUgYWRkZWRcclxuICAgICAqL1xyXG4gICAgYWRkQXR0YWNobWVudChhdHRhY2htZW50OiBTaGlwQXR0YWNobWVudCk6IHZvaWQge1xyXG4gICAgICAgIGxldCBhdHRhY2hlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgICAgIGZvciAodmFyIGk9MDsgaTxIZWxwZXJzLmVudW1MZW5ndGgoQXR0YWNobWVudExvY2F0aW9uKTsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5hdHRhY2htZW50c1tpXSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGxvYzogQXR0YWNobWVudExvY2F0aW9uO1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBBdHRhY2htZW50TG9jYXRpb24uZnJvbnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYyA9IEF0dGFjaG1lbnRMb2NhdGlvbi5mcm9udDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBBdHRhY2htZW50TG9jYXRpb24uZnJvbnRSaWdodDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jID0gQXR0YWNobWVudExvY2F0aW9uLmZyb250UmlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQXR0YWNobWVudExvY2F0aW9uLnJpZ2h0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2MgPSBBdHRhY2htZW50TG9jYXRpb24ucmlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQXR0YWNobWVudExvY2F0aW9uLmJhY2tSaWdodDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jID0gQXR0YWNobWVudExvY2F0aW9uLmJhY2tSaWdodDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBBdHRhY2htZW50TG9jYXRpb24uYmFja0xlZnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYyA9IEF0dGFjaG1lbnRMb2NhdGlvbi5iYWNrTGVmdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBBdHRhY2htZW50TG9jYXRpb24ubGVmdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jID0gQXR0YWNobWVudExvY2F0aW9uLmxlZnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQXR0YWNobWVudExvY2F0aW9uLmZyb250TGVmdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jID0gQXR0YWNobWVudExvY2F0aW9uLmZyb250TGVmdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzW2ldID0gYXR0YWNobWVudDtcclxuICAgICAgICAgICAgICAgIGF0dGFjaG1lbnQuYXR0YWNoKHRoaXMsIGxvYyk7XHJcbiAgICAgICAgICAgICAgICBhdHRhY2hlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghYXR0YWNoZWQpIHtcclxuICAgICAgICAgICAgLy8gZGV0YWNoIGN1cnJlbnQgZnJvbnQgYXR0YWNobWVudFxyXG4gICAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzW0F0dGFjaG1lbnRMb2NhdGlvbi5mcm9udF0uZGV0YWNoKCk7XHJcbiAgICAgICAgICAgIHRoaXMuYXR0YWNobWVudHNbQXR0YWNobWVudExvY2F0aW9uLmZyb250XSA9IGF0dGFjaG1lbnQ7XHJcbiAgICAgICAgICAgIGF0dGFjaG1lbnQuYXR0YWNoKHRoaXMsIEF0dGFjaG1lbnRMb2NhdGlvbi5mcm9udCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmdhbWVPYmouYWRkKGF0dGFjaG1lbnQuZ2V0R2FtZU9iamVjdCgpKTtcclxuICAgIH1cclxuXHJcbiAgICByZW1vdmVBdHRhY2htZW50KGxvY2F0aW9uOiBBdHRhY2htZW50TG9jYXRpb24pOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5hdHRhY2htZW50c1tsb2NhdGlvbl0pIHtcclxuICAgICAgICAgICAgbGV0IGJvZHk6IFBoYXNlci5QaHlzaWNzLkFyY2FkZS5Cb2R5ID0gdGhpcy5hdHRhY2htZW50c1tsb2NhdGlvbl0uZ2V0UGh5c2ljc0JvZHkoKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCBnbzogUGhhc2VyLkdhbWVPYmplY3RzLkdhbWVPYmplY3QgPSB0aGlzLmF0dGFjaG1lbnRzW2xvY2F0aW9uXS5nZXRHYW1lT2JqZWN0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZU9iai5yZW1vdmUoZ28sIGZhbHNlKTtcclxuICAgICAgICAgICAgdGhpcy5hdHRhY2htZW50c1tsb2NhdGlvbl0uZGV0YWNoKCk7XHJcbiAgICAgICAgICAgIHRoaXMuYXR0YWNobWVudHNbbG9jYXRpb25dID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIC8vIG1vdmUgYXR0YWNobWVudCB0byBzaGlwIGxvY2F0aW9uIGFuZCByb3RhdGlvbiBhbmQgYXBwbHkgY3VycmVudCB2ZWxvY2l0eVxyXG4gICAgICAgICAgICBib2R5LnBvc2l0aW9uID0gdGhpcy5nZXRSZWFsTG9jYXRpb24oKTtcclxuICAgICAgICAgICAgbGV0IHNoaXBWZWxvY2l0eVZlY3RvcjogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuZ2V0UGh5c2ljc0JvZHkoKS52ZWxvY2l0eTtcclxuICAgICAgICAgICAgYm9keS5zZXRWZWxvY2l0eShzaGlwVmVsb2NpdHlWZWN0b3IueCwgc2hpcFZlbG9jaXR5VmVjdG9yLnkpO1xyXG4gICAgICAgICAgICBib2R5LnJvdGF0aW9uID0gdGhpcy5nZXRSb3RhdGlvbigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aHJvd0F0dGFjaG1lbnQoYXR0YWNobWVudDogU2hpcEF0dGFjaG1lbnQpOiB2b2lkIHtcclxuICAgICAgICBpZiAoYXR0YWNobWVudCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8dGhpcy5hdHRhY2htZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYXR0YWNobWVudHNbaV0gJiYgdGhpcy5hdHRhY2htZW50c1tpXSA9PSBhdHRhY2htZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVBdHRhY2htZW50KGkpO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGF0dGFjaG1lbnQudGhyb3coKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRBdHRhY2htZW50cygpOiBTaGlwQXR0YWNobWVudFtdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hdHRhY2htZW50cztcclxuICAgIH1cclxuXHJcbiAgICBkZXN0cm95KCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5kaXNwbGF5U2hpcEV4cGxvc2lvbigpO1xyXG4gICAgICAgIHRoaXMuZ2V0R2FtZU9iamVjdCgpLmRlc3Ryb3koKTtcclxuICAgICAgICB0aGlzLmdhbWVPYmogPSBudWxsO1xyXG4gICAgICAgIC8vIFRPRE86IHNpZ25hbCBlbmQgb2YgZ2FtZSBhbmQgZGlzcGxheSBtZW51XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBkaXNwbGF5U2hpcEV4cGxvc2lvbigpOiB2b2lkIHtcclxuICAgICAgICBsZXQgcG9zOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5nZXRSZWFsTG9jYXRpb24oKTtcclxuICAgICAgICB0aGlzLmV4cGxvc2lvblBhcnRpY2xlcy5jcmVhdGVFbWl0dGVyKHtcclxuICAgICAgICAgICAgeDogcG9zLngsXHJcbiAgICAgICAgICAgIHk6IHBvcy55LFxyXG4gICAgICAgICAgICBsaWZlc3BhbjogeyBtaW46IDUwMCwgbWF4OiAxMDAwIH0sXHJcbiAgICAgICAgICAgIHNwZWVkWDogeyBtaW46IC0xLCBtYXg6IDEgfSxcclxuICAgICAgICAgICAgc3BlZWRZOiB7IG1pbjogLTEsIG1heDogMSB9LFxyXG4gICAgICAgICAgICBhbmdsZTogeyBtaW46IC0xODAsIG1heDogMTc5IH0sXHJcbiAgICAgICAgICAgIGdyYXZpdHlYOiAwLFxyXG4gICAgICAgICAgICBncmF2aXR5WTogMCxcclxuICAgICAgICAgICAgc2NhbGU6IHsgc3RhcnQ6IDEsIGVuZDogMCB9LFxyXG4gICAgICAgICAgICBibGVuZE1vZGU6ICdBREQnLFxyXG4gICAgICAgICAgICBtYXhQYXJ0aWNsZXM6IDNcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnRocnVzdGVyUGFydGljbGVzLmNyZWF0ZUVtaXR0ZXIoe1xyXG4gICAgICAgICAgICBmcmFtZTogQ29uc3RhbnRzLkZsYXJlLnJlZCBhcyBudW1iZXIsXHJcbiAgICAgICAgICAgIHg6IHBvcy54LFxyXG4gICAgICAgICAgICB5OiBwb3MueSxcclxuICAgICAgICAgICAgbGlmZXNwYW46IHsgbWluOiAxMDAsIG1heDogNTAwIH0sXHJcbiAgICAgICAgICAgIHNwZWVkWDogeyBtaW46IC02MDAsIG1heDogNjAwIH0sXHJcbiAgICAgICAgICAgIHNwZWVkWTogeyBtaW46IC02MDAsIG1heDogNjAwIH0sXHJcbiAgICAgICAgICAgIGFuZ2xlOiB7IG1pbjogLTE4MCwgbWF4OiAxNzkgfSxcclxuICAgICAgICAgICAgZ3Jhdml0eVg6IDAsXHJcbiAgICAgICAgICAgIGdyYXZpdHlZOiAwLFxyXG4gICAgICAgICAgICBzY2FsZTogeyBzdGFydDogMSwgZW5kOiAwIH0sXHJcbiAgICAgICAgICAgIGJsZW5kTW9kZTogJ0FERCcsXHJcbiAgICAgICAgICAgIG1heFBhcnRpY2xlczogMTBcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fMTBfXzsiLCJpbXBvcnQgeyB2NCB9IGZyb20gXCJ1dWlkXCI7XHJcblxyXG5leHBvcnQgbW9kdWxlIFJORyB7XHJcbiAgICBleHBvcnQgZnVuY3Rpb24gaW50KG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW47XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGd1aWQoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdjQoKTtcclxuICAgIH1cclxufSIsInZhciB2MSA9IHJlcXVpcmUoJy4vdjEnKTtcbnZhciB2NCA9IHJlcXVpcmUoJy4vdjQnKTtcblxudmFyIHV1aWQgPSB2NDtcbnV1aWQudjEgPSB2MTtcbnV1aWQudjQgPSB2NDtcblxubW9kdWxlLmV4cG9ydHMgPSB1dWlkO1xuIiwidmFyIHJuZyA9IHJlcXVpcmUoJy4vbGliL3JuZycpO1xudmFyIGJ5dGVzVG9VdWlkID0gcmVxdWlyZSgnLi9saWIvYnl0ZXNUb1V1aWQnKTtcblxuLy8gKipgdjEoKWAgLSBHZW5lcmF0ZSB0aW1lLWJhc2VkIFVVSUQqKlxuLy9cbi8vIEluc3BpcmVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS9MaW9zSy9VVUlELmpzXG4vLyBhbmQgaHR0cDovL2RvY3MucHl0aG9uLm9yZy9saWJyYXJ5L3V1aWQuaHRtbFxuXG52YXIgX25vZGVJZDtcbnZhciBfY2xvY2tzZXE7XG5cbi8vIFByZXZpb3VzIHV1aWQgY3JlYXRpb24gdGltZVxudmFyIF9sYXN0TVNlY3MgPSAwO1xudmFyIF9sYXN0TlNlY3MgPSAwO1xuXG4vLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkIGZvciBBUEkgZGV0YWlsc1xuZnVuY3Rpb24gdjEob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgdmFyIGkgPSBidWYgJiYgb2Zmc2V0IHx8IDA7XG4gIHZhciBiID0gYnVmIHx8IFtdO1xuXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgbm9kZSA9IG9wdGlvbnMubm9kZSB8fCBfbm9kZUlkO1xuICB2YXIgY2xvY2tzZXEgPSBvcHRpb25zLmNsb2Nrc2VxICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNsb2Nrc2VxIDogX2Nsb2Nrc2VxO1xuXG4gIC8vIG5vZGUgYW5kIGNsb2Nrc2VxIG5lZWQgdG8gYmUgaW5pdGlhbGl6ZWQgdG8gcmFuZG9tIHZhbHVlcyBpZiB0aGV5J3JlIG5vdFxuICAvLyBzcGVjaWZpZWQuICBXZSBkbyB0aGlzIGxhemlseSB0byBtaW5pbWl6ZSBpc3N1ZXMgcmVsYXRlZCB0byBpbnN1ZmZpY2llbnRcbiAgLy8gc3lzdGVtIGVudHJvcHkuICBTZWUgIzE4OVxuICBpZiAobm9kZSA9PSBudWxsIHx8IGNsb2Nrc2VxID09IG51bGwpIHtcbiAgICB2YXIgc2VlZEJ5dGVzID0gcm5nKCk7XG4gICAgaWYgKG5vZGUgPT0gbnVsbCkge1xuICAgICAgLy8gUGVyIDQuNSwgY3JlYXRlIGFuZCA0OC1iaXQgbm9kZSBpZCwgKDQ3IHJhbmRvbSBiaXRzICsgbXVsdGljYXN0IGJpdCA9IDEpXG4gICAgICBub2RlID0gX25vZGVJZCA9IFtcbiAgICAgICAgc2VlZEJ5dGVzWzBdIHwgMHgwMSxcbiAgICAgICAgc2VlZEJ5dGVzWzFdLCBzZWVkQnl0ZXNbMl0sIHNlZWRCeXRlc1szXSwgc2VlZEJ5dGVzWzRdLCBzZWVkQnl0ZXNbNV1cbiAgICAgIF07XG4gICAgfVxuICAgIGlmIChjbG9ja3NlcSA9PSBudWxsKSB7XG4gICAgICAvLyBQZXIgNC4yLjIsIHJhbmRvbWl6ZSAoMTQgYml0KSBjbG9ja3NlcVxuICAgICAgY2xvY2tzZXEgPSBfY2xvY2tzZXEgPSAoc2VlZEJ5dGVzWzZdIDw8IDggfCBzZWVkQnl0ZXNbN10pICYgMHgzZmZmO1xuICAgIH1cbiAgfVxuXG4gIC8vIFVVSUQgdGltZXN0YW1wcyBhcmUgMTAwIG5hbm8tc2Vjb25kIHVuaXRzIHNpbmNlIHRoZSBHcmVnb3JpYW4gZXBvY2gsXG4gIC8vICgxNTgyLTEwLTE1IDAwOjAwKS4gIEpTTnVtYmVycyBhcmVuJ3QgcHJlY2lzZSBlbm91Z2ggZm9yIHRoaXMsIHNvXG4gIC8vIHRpbWUgaXMgaGFuZGxlZCBpbnRlcm5hbGx5IGFzICdtc2VjcycgKGludGVnZXIgbWlsbGlzZWNvbmRzKSBhbmQgJ25zZWNzJ1xuICAvLyAoMTAwLW5hbm9zZWNvbmRzIG9mZnNldCBmcm9tIG1zZWNzKSBzaW5jZSB1bml4IGVwb2NoLCAxOTcwLTAxLTAxIDAwOjAwLlxuICB2YXIgbXNlY3MgPSBvcHRpb25zLm1zZWNzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm1zZWNzIDogbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cbiAgLy8gUGVyIDQuMi4xLjIsIHVzZSBjb3VudCBvZiB1dWlkJ3MgZ2VuZXJhdGVkIGR1cmluZyB0aGUgY3VycmVudCBjbG9ja1xuICAvLyBjeWNsZSB0byBzaW11bGF0ZSBoaWdoZXIgcmVzb2x1dGlvbiBjbG9ja1xuICB2YXIgbnNlY3MgPSBvcHRpb25zLm5zZWNzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm5zZWNzIDogX2xhc3ROU2VjcyArIDE7XG5cbiAgLy8gVGltZSBzaW5jZSBsYXN0IHV1aWQgY3JlYXRpb24gKGluIG1zZWNzKVxuICB2YXIgZHQgPSAobXNlY3MgLSBfbGFzdE1TZWNzKSArIChuc2VjcyAtIF9sYXN0TlNlY3MpLzEwMDAwO1xuXG4gIC8vIFBlciA0LjIuMS4yLCBCdW1wIGNsb2Nrc2VxIG9uIGNsb2NrIHJlZ3Jlc3Npb25cbiAgaWYgKGR0IDwgMCAmJiBvcHRpb25zLmNsb2Nrc2VxID09PSB1bmRlZmluZWQpIHtcbiAgICBjbG9ja3NlcSA9IGNsb2Nrc2VxICsgMSAmIDB4M2ZmZjtcbiAgfVxuXG4gIC8vIFJlc2V0IG5zZWNzIGlmIGNsb2NrIHJlZ3Jlc3NlcyAobmV3IGNsb2Nrc2VxKSBvciB3ZSd2ZSBtb3ZlZCBvbnRvIGEgbmV3XG4gIC8vIHRpbWUgaW50ZXJ2YWxcbiAgaWYgKChkdCA8IDAgfHwgbXNlY3MgPiBfbGFzdE1TZWNzKSAmJiBvcHRpb25zLm5zZWNzID09PSB1bmRlZmluZWQpIHtcbiAgICBuc2VjcyA9IDA7XG4gIH1cblxuICAvLyBQZXIgNC4yLjEuMiBUaHJvdyBlcnJvciBpZiB0b28gbWFueSB1dWlkcyBhcmUgcmVxdWVzdGVkXG4gIGlmIChuc2VjcyA+PSAxMDAwMCkge1xuICAgIHRocm93IG5ldyBFcnJvcigndXVpZC52MSgpOiBDYW5cXCd0IGNyZWF0ZSBtb3JlIHRoYW4gMTBNIHV1aWRzL3NlYycpO1xuICB9XG5cbiAgX2xhc3RNU2VjcyA9IG1zZWNzO1xuICBfbGFzdE5TZWNzID0gbnNlY3M7XG4gIF9jbG9ja3NlcSA9IGNsb2Nrc2VxO1xuXG4gIC8vIFBlciA0LjEuNCAtIENvbnZlcnQgZnJvbSB1bml4IGVwb2NoIHRvIEdyZWdvcmlhbiBlcG9jaFxuICBtc2VjcyArPSAxMjIxOTI5MjgwMDAwMDtcblxuICAvLyBgdGltZV9sb3dgXG4gIHZhciB0bCA9ICgobXNlY3MgJiAweGZmZmZmZmYpICogMTAwMDAgKyBuc2VjcykgJSAweDEwMDAwMDAwMDtcbiAgYltpKytdID0gdGwgPj4+IDI0ICYgMHhmZjtcbiAgYltpKytdID0gdGwgPj4+IDE2ICYgMHhmZjtcbiAgYltpKytdID0gdGwgPj4+IDggJiAweGZmO1xuICBiW2krK10gPSB0bCAmIDB4ZmY7XG5cbiAgLy8gYHRpbWVfbWlkYFxuICB2YXIgdG1oID0gKG1zZWNzIC8gMHgxMDAwMDAwMDAgKiAxMDAwMCkgJiAweGZmZmZmZmY7XG4gIGJbaSsrXSA9IHRtaCA+Pj4gOCAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRtaCAmIDB4ZmY7XG5cbiAgLy8gYHRpbWVfaGlnaF9hbmRfdmVyc2lvbmBcbiAgYltpKytdID0gdG1oID4+PiAyNCAmIDB4ZiB8IDB4MTA7IC8vIGluY2x1ZGUgdmVyc2lvblxuICBiW2krK10gPSB0bWggPj4+IDE2ICYgMHhmZjtcblxuICAvLyBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGAgKFBlciA0LjIuMiAtIGluY2x1ZGUgdmFyaWFudClcbiAgYltpKytdID0gY2xvY2tzZXEgPj4+IDggfCAweDgwO1xuXG4gIC8vIGBjbG9ja19zZXFfbG93YFxuICBiW2krK10gPSBjbG9ja3NlcSAmIDB4ZmY7XG5cbiAgLy8gYG5vZGVgXG4gIGZvciAodmFyIG4gPSAwOyBuIDwgNjsgKytuKSB7XG4gICAgYltpICsgbl0gPSBub2RlW25dO1xuICB9XG5cbiAgcmV0dXJuIGJ1ZiA/IGJ1ZiA6IGJ5dGVzVG9VdWlkKGIpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHYxO1xuIiwidmFyIHJuZyA9IHJlcXVpcmUoJy4vbGliL3JuZycpO1xudmFyIGJ5dGVzVG9VdWlkID0gcmVxdWlyZSgnLi9saWIvYnl0ZXNUb1V1aWQnKTtcblxuZnVuY3Rpb24gdjQob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgdmFyIGkgPSBidWYgJiYgb2Zmc2V0IHx8IDA7XG5cbiAgaWYgKHR5cGVvZihvcHRpb25zKSA9PSAnc3RyaW5nJykge1xuICAgIGJ1ZiA9IG9wdGlvbnMgPT09ICdiaW5hcnknID8gbmV3IEFycmF5KDE2KSA6IG51bGw7XG4gICAgb3B0aW9ucyA9IG51bGw7XG4gIH1cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgdmFyIHJuZHMgPSBvcHRpb25zLnJhbmRvbSB8fCAob3B0aW9ucy5ybmcgfHwgcm5nKSgpO1xuXG4gIC8vIFBlciA0LjQsIHNldCBiaXRzIGZvciB2ZXJzaW9uIGFuZCBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGBcbiAgcm5kc1s2XSA9IChybmRzWzZdICYgMHgwZikgfCAweDQwO1xuICBybmRzWzhdID0gKHJuZHNbOF0gJiAweDNmKSB8IDB4ODA7XG5cbiAgLy8gQ29weSBieXRlcyB0byBidWZmZXIsIGlmIHByb3ZpZGVkXG4gIGlmIChidWYpIHtcbiAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgMTY7ICsraWkpIHtcbiAgICAgIGJ1ZltpICsgaWldID0gcm5kc1tpaV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGJ1ZiB8fCBieXRlc1RvVXVpZChybmRzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB2NDtcbiIsImltcG9ydCB7IFNoaXBBdHRhY2htZW50IH0gZnJvbSBcIi4uL3NoaXAtYXR0YWNobWVudFwiO1xyXG5pbXBvcnQgeyBDYW5TaG9vdCB9IGZyb20gXCIuLi8uLi8uLi9pbnRlcmZhY2VzL2Nhbi1zaG9vdFwiO1xyXG5pbXBvcnQgeyBHbG9iYWxzIH0gZnJvbSBcIi4uLy4uLy4uL3V0aWxpdGllcy9nbG9iYWxzXCI7XHJcbmltcG9ydCB7IEJ1bGxldCB9IGZyb20gXCIuL2J1bGxldFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENhbm5vbkF0dGFjaG1lbnQgZXh0ZW5kcyBTaGlwQXR0YWNobWVudCBpbXBsZW1lbnRzIENhblNob290IHtcclxuICAgIHByaXZhdGUgbWF4QW1tbzogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSByZW1haW5pbmdBbW1vOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIGNvb2xkb3duVGltZTogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBmaXJpbmdEZWxheTogbnVtYmVyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lOiBQaGFzZXIuU2NlbmUpIHtcclxuICAgICAgICBzdXBlcihzY2VuZSk7XHJcblxyXG4gICAgICAgIHRoaXMubWF4QW1tbyA9IDUwMDtcclxuICAgICAgICB0aGlzLnJlbWFpbmluZ0FtbW8gPSB0aGlzLm1heEFtbW87XHJcbiAgICAgICAgdGhpcy5jb29sZG93blRpbWUgPSAwO1xyXG4gICAgICAgIHRoaXMuZmlyaW5nRGVsYXkgPSAxMDAwOyAvLyBtaWxsaXNlY29uZHNcclxuXHJcbiAgICAgICAgdGhpcy5nYW1lT2JqID0gdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5zcHJpdGUoMCwgMCwgJ2Nhbm5vbicpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbG9hZChhbW91bnQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMucmVtYWluaW5nQW1tbyArPSBhbW91bnQ7XHJcbiAgICAgICAgaWYgKHRoaXMucmVtYWluaW5nQW1tbyA+IHRoaXMubWF4QW1tbykge1xyXG4gICAgICAgICAgICB0aGlzLnJlbWFpbmluZ0FtbW8gPSB0aGlzLm1heEFtbW87XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldFJlbWFpbmluZ0FtbW8oKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZW1haW5pbmdBbW1vO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpOiB2b2lkIHtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICB0cmlnZ2VyKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICghR2xvYmFscy5wYXVzZWQgJiYgdGhpcy5hY3RpdmUpIHtcclxuICAgICAgICAgICAgdGhpcy5maXJlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZpcmUoZGlyZWN0aW9uPzogUGhhc2VyLk1hdGguVmVjdG9yMik6IHZvaWQge1xyXG4gICAgICAgIGlmICghR2xvYmFscy5wYXVzZWQgJiYgdGhpcy5hY3RpdmUpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0UmVtYWluaW5nQW1tbygpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2NlbmUuZ2FtZS5nZXRUaW1lKCkgPiB0aGlzLmNvb2xkb3duVGltZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBsb2M6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSB0aGlzLmdldFJlYWxMb2NhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBCdWxsZXQodGhpcy5zY2VuZSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB4OiBsb2MueCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeTogbG9jLnksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcmNlOiAzMDAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmdsZTogdGhpcy5nZXRSb3RhdGlvbigpXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb29sZG93blRpbWUgPSB0aGlzLnNjZW5lLmdhbWUuZ2V0VGltZSgpICsgdGhpcy5maXJpbmdEZWxheTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IFNoaXBQb2QgfSBmcm9tIFwiLi4vc2hpcC1wb2RcIjtcclxuaW1wb3J0IHsgSGFzR2FtZU9iamVjdCB9IGZyb20gXCIuLi8uLi9pbnRlcmZhY2VzL2hhcy1nYW1lLW9iamVjdFwiO1xyXG5pbXBvcnQgeyBVcGRhdGFibGUgfSBmcm9tIFwiLi4vLi4vaW50ZXJmYWNlcy91cGRhdGFibGVcIjtcclxuaW1wb3J0IHsgSGFzTG9jYXRpb24gfSBmcm9tIFwiLi4vLi4vaW50ZXJmYWNlcy9oYXMtbG9jYXRpb25cIjtcclxuaW1wb3J0IHsgSGFzSW50ZWdyaXR5IH0gZnJvbSBcIi4uLy4uL2ludGVyZmFjZXMvaGFzLWludGVncml0eVwiO1xyXG5pbXBvcnQgeyBDb25zdGFudHMgfSBmcm9tIFwiLi4vLi4vdXRpbGl0aWVzL2NvbnN0YW50c1wiO1xyXG5pbXBvcnQgeyBBdHRhY2htZW50TG9jYXRpb24gfSBmcm9tIFwiLi9hdHRhY2htZW50LWxvY2F0aW9uXCI7XHJcbmltcG9ydCB7IEhlbHBlcnMgfSBmcm9tIFwiLi4vLi4vdXRpbGl0aWVzL2hlbHBlcnNcIjtcclxuaW1wb3J0IHsgSGFzUGh5c2ljc0dhbWVPYmplY3QgfSBmcm9tIFwiLi4vLi4vaW50ZXJmYWNlcy9oYXMtcGh5c2ljcy1nYW1lLW9iamVjdFwiO1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFNoaXBBdHRhY2htZW50IGltcGxlbWVudHMgVXBkYXRhYmxlLCBIYXNHYW1lT2JqZWN0LCBIYXNQaHlzaWNzR2FtZU9iamVjdCwgSGFzTG9jYXRpb24sIEhhc0ludGVncml0eSB7XHJcbiAgICBwcm90ZWN0ZWQgc2hpcDogU2hpcFBvZDtcclxuICAgIHByb3RlY3RlZCBzY2VuZTogUGhhc2VyLlNjZW5lO1xyXG4gICAgcHJvdGVjdGVkIGdhbWVPYmo6IFBoYXNlci5QaHlzaWNzLkFyY2FkZS5TcHJpdGU7XHJcbiAgICBwcm90ZWN0ZWQgaW50ZWdyaXR5OiBudW1iZXI7XHJcbiAgICBwcm90ZWN0ZWQgYXR0YWNobWVudExvY2F0aW9uOiBBdHRhY2htZW50TG9jYXRpb247XHJcbiAgICBwcm90ZWN0ZWQgaXNUaHJvd246IGJvb2xlYW47XHJcblxyXG4gICAgYWN0aXZlOiBib29sZWFuO1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZTogUGhhc2VyLlNjZW5lKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmludGVncml0eSA9IENvbnN0YW50cy5NQVhfSU5URUdSSVRZO1xyXG4gICAgICAgIHRoaXMuaXNUaHJvd24gPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBhdHRhY2goc2hpcDogU2hpcFBvZCwgbG9jYXRpb24/OiBBdHRhY2htZW50TG9jYXRpb24pOiB2b2lkIHtcclxuICAgICAgICBpZiAoIWxvY2F0aW9uKSB7XHJcbiAgICAgICAgICAgIGxvY2F0aW9uID0gQXR0YWNobWVudExvY2F0aW9uLmZyb250O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNoaXAgPSBzaGlwO1xyXG4gICAgICAgIHRoaXMuc2V0QXR0YWNobWVudExvY2F0aW9uKGxvY2F0aW9uKTtcclxuICAgICAgICBsZXQgY2VudHJlOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5zaGlwLmdldFJlYWxMb2NhdGlvbigpO1xyXG4gICAgICAgIHRoaXMuZ2V0UGh5c2ljc0JvZHkoKS5wb3NpdGlvbiA9IGNlbnRyZTsgLy8gY2VudHJlIG9uIHNoaXAgbG9jYXRpb25cclxuICAgICAgICB0aGlzLmdldFBoeXNpY3NCb2R5KCkucm90YXRpb24gPSB0aGlzLnNoaXAuZ2V0Um90YXRpb24oKTsgLy8gc2V0IGhlYWRpbmcgdG8gbWF0Y2ggc2hpcFxyXG4gICAgICAgIC8vIFRPRE86IG9mZnNldCBhdHRhY2htZW50IGJ5IFhYIHVuaXRzIGluIHRoZSBmb3J3YXJkIGRpcmVjdGlvblxyXG4gICAgfVxyXG5cclxuICAgIGRldGFjaCgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnNoaXAgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuYXR0YWNobWVudExvY2F0aW9uID0gbnVsbDtcclxuICAgICAgICBsZXQgZ286IFBoYXNlci5HYW1lT2JqZWN0cy5HYW1lT2JqZWN0ID0gdGhpcy5nZXRHYW1lT2JqZWN0KCk7XHJcbiAgICAgICAgZ28uc2V0QWN0aXZlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuc2NlbmUuYWRkLmV4aXN0aW5nKGdvKTtcclxuICAgIH1cclxuXHJcbiAgICB0aHJvdygpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmlzVGhyb3duID0gdHJ1ZTtcclxuICAgICAgICBsZXQgZGVsdGFWID0gdGhpcy5nZXRIZWFkaW5nKCk7XHJcbiAgICAgICAgZGVsdGFWLm11bHRpcGx5KG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKENvbnN0YW50cy5USFJPV19GT1JDRSwgQ29uc3RhbnRzLlRIUk9XX0ZPUkNFKSk7XHJcbiAgICAgICAgaWYgKHRoaXMuc2hpcCkge1xyXG4gICAgICAgICAgICBkZWx0YVYuYWRkKHRoaXMuc2hpcC5nZXRQaHlzaWNzQm9keSgpLnZlbG9jaXR5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gYWRkIHRocm93IGZvcmNlIHRvIGN1cnJlbnQgdmVsb2NpdHlcclxuICAgICAgICB0aGlzLmdldFBoeXNpY3NCb2R5KCkudmVsb2NpdHkuYWRkKGRlbHRhVik7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGdldEdhbWVPYmplY3QoKTogUGhhc2VyLkdhbWVPYmplY3RzLkdhbWVPYmplY3Qge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdhbWVPYmo7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UGh5c2ljc0JvZHkoKTogUGhhc2VyLlBoeXNpY3MuQXJjYWRlLkJvZHkge1xyXG4gICAgICAgIGlmICh0aGlzLmdldEdhbWVPYmplY3QoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRHYW1lT2JqZWN0KCkuYm9keSBhcyBQaGFzZXIuUGh5c2ljcy5BcmNhZGUuQm9keTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgYWJzdHJhY3QgdXBkYXRlKCk6IHZvaWQ7XHJcblxyXG4gICAgYWJzdHJhY3QgdHJpZ2dlcigpOiB2b2lkO1xyXG5cclxuICAgIGdldFJvdGF0aW9uKCk6IG51bWJlciB7XHJcbiAgICAgICAgbGV0IHJvdGF0aW9uOiBudW1iZXIgPSB0aGlzLmdhbWVPYmoucm90YXRpb247XHJcbiAgICAgICAgaWYgKHRoaXMuc2hpcCkge1xyXG4gICAgICAgICAgICByb3RhdGlvbiArPSB0aGlzLnNoaXAuZ2V0Um90YXRpb24oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJvdGF0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmV0dXJucyBhIG5vcm1hbGlzZWQge1BoYXNlci5NYXRoLlZlY3RvcjJ9IHJlcHJlc2VudGluZyBcclxuICAgICAqIHRoZSBkaXJlY3Rpb24gdGhpcyBvYmplY3Qgd291bGQgdHJhdmVsXHJcbiAgICAgKi9cclxuICAgIGdldEhlYWRpbmcoKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgbGV0IGhlYWRpbmc6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSBIZWxwZXJzLmdldEhlYWRpbmcodGhpcy5nZXRQaHlzaWNzQm9keSgpKTtcclxuICAgICAgICBpZiAodGhpcy5zaGlwKSB7XHJcbiAgICAgICAgICAgIGhlYWRpbmcuYWRkKHRoaXMuc2hpcC5nZXRIZWFkaW5nKCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaGVhZGluZztcclxuICAgIH1cclxuXHJcbiAgICBnZXRTcGVlZCgpOiBudW1iZXIge1xyXG4gICAgICAgIGxldCBzcGVlZDogbnVtYmVyID0gdGhpcy5nZXRWZWxvY2l0eSgpLmxlbmd0aCgpO1xyXG4gICAgICAgIGlmICh0aGlzLnNoaXApIHtcclxuICAgICAgICAgICAgc3BlZWQgKz0gdGhpcy5zaGlwLmdldFNwZWVkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzcGVlZDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRWZWxvY2l0eSgpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICBpZiAodGhpcy5nZXRQaHlzaWNzQm9keSgpKSB7XHJcbiAgICAgICAgICAgIGxldCB2ZWxvY2l0eTogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuZ2V0UGh5c2ljc0JvZHkoKS52ZWxvY2l0eS5jbG9uZSgpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zaGlwKSB7XHJcbiAgICAgICAgICAgICAgICB2ZWxvY2l0eS5hZGQodGhpcy5zaGlwLmdldFZlbG9jaXR5KCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB2ZWxvY2l0eTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFBoYXNlci5NYXRoLlZlY3RvcjIuWkVSTztcclxuICAgIH1cclxuXHJcbiAgICBnZXRMb2NhdGlvbigpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICBsZXQgY2FtZXJhUG9zOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5zY2VuZS5jYW1lcmFzLm1haW4uZ2V0V29ybGRQb2ludCgwLCAwKTtcclxuICAgICAgICBsZXQgcmVhbExvYzogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuZ2V0UmVhbExvY2F0aW9uKCk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKHJlYWxMb2MueCAtIGNhbWVyYVBvcy54LCByZWFsTG9jLnkgLSBjYW1lcmFQb3MueSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UmVhbExvY2F0aW9uKCk6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIGxldCBnbzogUGhhc2VyLlBoeXNpY3MuQXJjYWRlLkJvZHkgPSB0aGlzLmdldFBoeXNpY3NCb2R5KCk7XHJcbiAgICAgICAgbGV0IHJlYWxMb2NhdGlvbjogUGhhc2VyLk1hdGguVmVjdG9yMiA9IG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKGdvLngsIGdvLnkpO1xyXG4gICAgICAgIGlmICh0aGlzLnNoaXApIHtcclxuICAgICAgICAgICAgcmVhbExvY2F0aW9uLmFkZCh0aGlzLnNoaXAuZ2V0UmVhbExvY2F0aW9uKCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVhbExvY2F0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEludGVncml0eSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmludGVncml0eTtcclxuICAgIH1cclxuXHJcbiAgICBzdXN0YWluRGFtYWdlKGFtb3VudDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5pbnRlZ3JpdHkgLT0gYW1vdW50O1xyXG4gICAgICAgIGlmICh0aGlzLmludGVncml0eSA8PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW50ZWdyaXR5ID0gMDtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgLy8gVE9ETzogZGVzdHJveSBhdHRhY2htZW50XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlcGFpcihhbW91bnQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuaW50ZWdyaXR5ID0gYW1vdW50O1xyXG4gICAgICAgIGlmICh0aGlzLmludGVncml0eSA+IENvbnN0YW50cy5NQVhfSU5URUdSSVRZKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW50ZWdyaXR5ID0gQ29uc3RhbnRzLk1BWF9JTlRFR1JJVFk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRlc3Ryb3koKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnNoaXAucmVtb3ZlQXR0YWNobWVudCh0aGlzLmF0dGFjaG1lbnRMb2NhdGlvbik7XHJcbiAgICAgICAgLy8gVE9ETzogZGVzdHJveSBhdHRhY2htZW50XHJcbiAgICB9XHJcblxyXG4gICAgc2V0QXR0YWNobWVudExvY2F0aW9uKGxvYzogQXR0YWNobWVudExvY2F0aW9uKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5hdHRhY2htZW50TG9jYXRpb24gPSBsb2M7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBIYXNHYW1lT2JqZWN0IH0gZnJvbSBcIi4uLy4uLy4uL2ludGVyZmFjZXMvaGFzLWdhbWUtb2JqZWN0XCI7XHJcbmltcG9ydCB7IEJ1bGxldFBhcmFtZXRlcnMgfSBmcm9tIFwiLi4vLi4vLi4vaW50ZXJmYWNlcy9idWxsZXQtcGFyYW1ldGVyc1wiO1xyXG5pbXBvcnQgeyBIYXNMb2NhdGlvbiB9IGZyb20gXCIuLi8uLi8uLi9pbnRlcmZhY2VzL2hhcy1sb2NhdGlvblwiO1xyXG5pbXBvcnQgeyBHbG9iYWxzIH0gZnJvbSBcIi4uLy4uLy4uL3V0aWxpdGllcy9nbG9iYWxzXCI7XHJcbmltcG9ydCB7IEhhc1BoeXNpY3NHYW1lT2JqZWN0IH0gZnJvbSBcIi4uLy4uLy4uL2ludGVyZmFjZXMvaGFzLXBoeXNpY3MtZ2FtZS1vYmplY3RcIjtcclxuaW1wb3J0IHsgSGVscGVycyB9IGZyb20gXCIuLi8uLi8uLi91dGlsaXRpZXMvaGVscGVyc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEJ1bGxldCBpbXBsZW1lbnRzIEhhc0dhbWVPYmplY3QsIEhhc1BoeXNpY3NHYW1lT2JqZWN0LCBIYXNMb2NhdGlvbiB7XHJcbiAgICBzY2VuZTogUGhhc2VyLlNjZW5lO1xyXG4gICAgZm9yY2U6IG51bWJlcjtcclxuICAgIGdhbWVPYmo6IFBoYXNlci5QaHlzaWNzLkFyY2FkZS5TcHJpdGU7XHJcbiAgICBhY3RpdmU6IGJvb2xlYW47XHJcblxyXG4gICAgY29uc3RydWN0b3Ioc2NlbmU6IFBoYXNlci5TY2VuZSwgcGFyYW1zOiBCdWxsZXRQYXJhbWV0ZXJzKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuZm9yY2UgPSBwYXJhbXMuZm9yY2UgfHwgMDtcclxuICAgICAgICB0aGlzLmdhbWVPYmogPSBzY2VuZS5waHlzaWNzLmFkZC5zcHJpdGUocGFyYW1zLnggfHwgMCwgcGFyYW1zLnkgfHwgMCwgJ2J1bGxldCcpO1xyXG4gICAgICAgIHRoaXMuZ2FtZU9iai5zZXRBbmdsZShwYXJhbXMuYW5nbGUgfHwgMCk7XHJcbiAgICAgICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuYWRkQ29sbGlzaW9uRGV0ZWN0aW9uKCk7XHJcbiAgICAgICAgdGhpcy5zZXRJbk1vdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYWRkQ29sbGlzaW9uRGV0ZWN0aW9uKCk6IHZvaWQge1xyXG4gICAgICAgIGZvciAodmFyIGk9MDsgaTxHbG9iYWxzLmludGVyYWN0YWJsZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLmdhbWVPYmosIEdsb2JhbHMuaW50ZXJhY3RhYmxlc1tpXSwgdGhpcy5vbkltcGFjdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgb25JbXBhY3QoYnVsbGV0OiBQaGFzZXIuR2FtZU9iamVjdHMuR2FtZU9iamVjdCwgdGFyZ2V0OiBQaGFzZXIuR2FtZU9iamVjdHMuR2FtZU9iamVjdCk6IHZvaWQge1xyXG4gICAgICAgIC8vIFRPRE86IGltcGFydCBkYW1hZ2UgdG8gdGFyZ2V0IGFuZCBkZXN0cm95IGJ1bGxldFxyXG4gICAgfVxyXG5cclxuICAgIGdldEdhbWVPYmplY3QoKTogUGhhc2VyLkdhbWVPYmplY3RzLkdhbWVPYmplY3Qge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdhbWVPYmo7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UGh5c2ljc0JvZHkoKTogUGhhc2VyLlBoeXNpY3MuQXJjYWRlLkJvZHkge1xyXG4gICAgICAgIGlmICh0aGlzLmdldEdhbWVPYmplY3QoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRHYW1lT2JqZWN0KCkuYm9keSBhcyBQaGFzZXIuUGh5c2ljcy5BcmNhZGUuQm9keTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0QW5nbGUoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nYW1lT2JqLmFuZ2xlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFJvdGF0aW9uKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZU9iai5yb3RhdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBnZXRIZWFkaW5nKCk6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIHJldHVybiBIZWxwZXJzLmdldEhlYWRpbmcodGhpcy5nZXRQaHlzaWNzQm9keSgpKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRTcGVlZCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFZlbG9jaXR5KCkubGVuZ3RoKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VmVsb2NpdHkoKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0UGh5c2ljc0JvZHkoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRQaHlzaWNzQm9keSgpLnZlbG9jaXR5LmNsb25lKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBQaGFzZXIuTWF0aC5WZWN0b3IyLlpFUk87XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0TG9jYXRpb24oKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgbGV0IGNhbWVyYVBvczogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuc2NlbmUuY2FtZXJhcy5tYWluLmdldFdvcmxkUG9pbnQoMCwgMCk7XHJcbiAgICAgICAgbGV0IGdvOiBQaGFzZXIuUGh5c2ljcy5BcmNhZGUuQm9keSA9IHRoaXMuZ2V0UGh5c2ljc0JvZHkoKTtcclxuICAgICAgICByZXR1cm4gbmV3IFBoYXNlci5NYXRoLlZlY3RvcjIoZ28ueCAtIGNhbWVyYVBvcy54LCBnby55IC0gY2FtZXJhUG9zLnkpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFJlYWxMb2NhdGlvbigpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICByZXR1cm4gbmV3IFBoYXNlci5NYXRoLlZlY3RvcjIodGhpcy5nYW1lT2JqLngsIHRoaXMuZ2FtZU9iai55KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldEluTW90aW9uKCk6IHZvaWQge1xyXG4gICAgICAgIGxldCBoZWFkaW5nOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5nZXRIZWFkaW5nKCk7XHJcbiAgICAgICAgbGV0IGRlbHRhVjogUGhhc2VyLk1hdGguVmVjdG9yMiA9IGhlYWRpbmcubXVsdGlwbHkobmV3IFBoYXNlci5NYXRoLlZlY3RvcjIodGhpcy5mb3JjZSwgdGhpcy5mb3JjZSkpO1xyXG4gICAgICAgIHRoaXMuZ2FtZU9iai5ib2R5LnZlbG9jaXR5LmFkZChkZWx0YVYpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgSGFzTG9jYXRpb24gfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9oYXMtbG9jYXRpb25cIjtcclxuaW1wb3J0IHsgTW91c2VXaGVlbFNjcm9sbCB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL21vdXNlLXdoZWVsLXNjcm9sbFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1vdXNlIGltcGxlbWVudHMgSGFzTG9jYXRpb24ge1xyXG4gICAgcHJpdmF0ZSBzY2VuZTogUGhhc2VyLlNjZW5lO1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZTogUGhhc2VyLlNjZW5lKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuc2NlbmUuaW5wdXQubW91c2UuY2FwdHVyZSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0QW5nbGUoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zY2VuZS5pbnB1dC5hY3RpdmVQb2ludGVyLmdldEFuZ2xlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Um90YXRpb24oKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRBbmdsZSgpICogKE1hdGguUEkgLyAxODApO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEhlYWRpbmcoKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgbGV0IHJvdGF0aW9uOiBudW1iZXIgPSB0aGlzLmdldEFuZ2xlKCk7XHJcbiAgICAgICAgbGV0IHg6IG51bWJlciA9IE1hdGguY29zKHJvdGF0aW9uKTtcclxuICAgICAgICBsZXQgeTogbnVtYmVyID0gTWF0aC5zaW4ocm90YXRpb24pO1xyXG4gICAgICAgIHJldHVybiBuZXcgUGhhc2VyLk1hdGguVmVjdG9yMih4LCB5KS5ub3JtYWxpemUoKS5uZWdhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRTcGVlZCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFZlbG9jaXR5KCkubGVuZ3RoKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VmVsb2NpdHkoKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NlbmUuaW5wdXQuYWN0aXZlUG9pbnRlci52ZWxvY2l0eS5jbG9uZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmV0dXJucyB0aGUgcG9zaXRpb24gb2YgdGhlIG1vdXNlIHdpdGhpbiB0aGUgYm91bmRzIG9mIHRoZSBjdXJyZW50XHJcbiAgICAgKiBzY3JlZW4uXHJcbiAgICAgKiBAcmV0dXJucyBhIHtQaGFzZXIuTWF0aC5WZWN0b3IyfSBjbG9uZSBvZiB0aGUgcG9zaXRpb25cclxuICAgICAqL1xyXG4gICAgZ2V0TG9jYXRpb24oKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coYG1vdXNlIGxvY2F0aW9uOiAke0pTT04uc3RyaW5naWZ5KHRoaXMubG9jYXRpb24pfWApO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNjZW5lLmlucHV0LmFjdGl2ZVBvaW50ZXIucG9zaXRpb24uY2xvbmUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIG9mZnNldHMgdGhlIHNjcmVlbiBwb3NpdGlvbiBiYXNlZCBvbiBjYW1lcmEgcG9zaXRpb25cclxuICAgICAqL1xyXG4gICAgZ2V0UmVhbExvY2F0aW9uKCk6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGBtb3VzZSBSRUFMIGxvY2F0aW9uOiAke0pTT04uc3RyaW5naWZ5KHdvcmxkKX1gKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5zY2VuZS5pbnB1dC5hY3RpdmVQb2ludGVyLnBvc2l0aW9uVG9DYW1lcmEodGhpcy5zY2VuZS5jYW1lcmFzLm1haW4pIGFzIFBoYXNlci5NYXRoLlZlY3RvcjI7XHJcbiAgICB9XHJcblxyXG4gICAgb25XaGVlbFVwPFQgZXh0ZW5kcyBNb3VzZVdoZWVsU2Nyb2xsPihmdW5jOiBUKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5pbnB1dC5vbihQaGFzZXIuSW5wdXQuRXZlbnRzLlBPSU5URVJfV0hFRUwsIChwb2ludGVyLCBjdXJyZW50bHlPdmVyLCBkeCwgZHksIGR6LCBldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZHkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBmdW5jKGR5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG9uV2hlZWxEb3duPFQgZXh0ZW5kcyBNb3VzZVdoZWVsU2Nyb2xsPihmdW5jOiBUKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5pbnB1dC5vbihQaGFzZXIuSW5wdXQuRXZlbnRzLlBPSU5URVJfV0hFRUwsIChwb2ludGVyLCBjdXJyZW50bHlPdmVyLCBkeCwgZHksIGR6LCBldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZHkgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICBmdW5jKC1keSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEdsb2JhbHMgfSBmcm9tIFwiLi4vdXRpbGl0aWVzL2dsb2JhbHNcIjtcclxuaW1wb3J0IHsgU2hpcFBvZCB9IGZyb20gXCIuLi9zaGlwcy9zaGlwLXBvZFwiO1xyXG5cclxuY29uc3Qgc2NlbmVDb25maWc6IFBoYXNlci5UeXBlcy5TY2VuZXMuU2V0dGluZ3NDb25maWcgPSB7XHJcbiAgICBhY3RpdmU6IHRydWUsXHJcbiAgICB2aXNpYmxlOiB0cnVlLFxyXG4gICAga2V5OiAnT3ZlcmxheVNjZW5lJ1xyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIE92ZXJsYXlTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBwcml2YXRlIGRlYnVnOiBQaGFzZXIuR2FtZU9iamVjdHMuVGV4dDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcihzY2VuZUNvbmZpZyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHByZWxvYWQoKTogdm9pZCB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjcmVhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5kZWJ1ZyA9IHRoaXMuYWRkLnRleHQoMTAsIDEwLCAnJywgeyBmb250OiAnMTZweCBDb3VyaWVyJywgZmlsbDogJyNmZmRkZGQnIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCFHbG9iYWxzLnBhdXNlZCkge1xyXG4gICAgICAgICAgICBpZiAoR2xvYmFscy5wbGF5ZXIpIHtcclxuICAgICAgICAgICAgICAgIGxldCBwOiBTaGlwUG9kID0gR2xvYmFscy5wbGF5ZXI7XHJcbiAgICAgICAgICAgICAgICBsZXQgbG9jOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gcC5nZXRSZWFsTG9jYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGVidWcuc2V0VGV4dChbXHJcbiAgICAgICAgICAgICAgICAgICAgYFZlbG9jaXR5OiAke3AuZ2V0U3BlZWQoKS50b0ZpeGVkKDEpfWAsXHJcbiAgICAgICAgICAgICAgICAgICAgYEludGVncml0eTogJHtwLmdldEludGVncml0eSgpLnRvRml4ZWQoMSl9YCxcclxuICAgICAgICAgICAgICAgICAgICBgSGVhdDogJHtwLmdldFRlbXBlcmF0dXJlKCkudG9GaXhlZCgxKX1gLFxyXG4gICAgICAgICAgICAgICAgICAgIGBGdWVsOiAke3AuZ2V0UmVtYWluaW5nRnVlbCgpLnRvRml4ZWQoMSl9YCxcclxuICAgICAgICAgICAgICAgICAgICBgTG9jYXRpb246ICR7bG9jLngudG9GaXhlZCgxKX0sJHtsb2MueS50b0ZpeGVkKDEpfWAsXHJcbiAgICAgICAgICAgICAgICAgICAgYEFuZ2xlOiAke3AuZ2V0Um90YXRpb24oKS50b0ZpeGVkKDEpfWBcclxuICAgICAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgR2xvYmFscyB9IGZyb20gXCIuLi91dGlsaXRpZXMvZ2xvYmFsc1wiO1xyXG5pbXBvcnQgeyBab29tYWJsZVNjZW5lIH0gZnJvbSBcIi4vem9vbWFibGUtc2NlbmVcIjtcclxuXHJcbmNvbnN0IHNjZW5lQ29uZmlnOiBQaGFzZXIuVHlwZXMuU2NlbmVzLlNldHRpbmdzQ29uZmlnID0ge1xyXG4gICAgYWN0aXZlOiB0cnVlLFxyXG4gICAgdmlzaWJsZTogdHJ1ZSxcclxuICAgIGtleTogJ0ZhcnRoZXN0U3RhcnMnXHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgRmFydGhlc3RTdGFyc1NjZW5lIGV4dGVuZHMgWm9vbWFibGVTY2VuZSB7XHJcbiAgICBwcml2YXRlIGJhY2tncm91bmQ6IFBoYXNlci5HYW1lT2JqZWN0cy5UaWxlU3ByaXRlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKHNjZW5lQ29uZmlnKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcHJlbG9hZCgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2Zhci1zdGFycycsICcuL2Fzc2V0cy9iYWNrZ3JvdW5kcy9zdGFyZmllbGQtdGlsZS01MTJ4NTEyLnBuZycpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjcmVhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kID0gdGhpcy5hZGQudGlsZVNwcml0ZSgwLCAwLCB0aGlzLmNhbWVyYXMubWFpbi53aWR0aCAqIDEwLCB0aGlzLmNhbWVyYXMubWFpbi5oZWlnaHQgKiAxMCwgJ2Zhci1zdGFycycpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKEdsb2JhbHMucGxheWVyKSB7XHJcbiAgICAgICAgICAgIGxldCBsb2M6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSBHbG9iYWxzLnBsYXllci5nZXRSZWFsTG9jYXRpb24oKTtcclxuICAgICAgICAgICAgbG9jLmRpdmlkZShuZXcgUGhhc2VyLk1hdGguVmVjdG9yMigxMDAwLCAxMDAwKSk7XHJcbiAgICAgICAgICAgIGxvYy5uZWdhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0UG9zaXRpb24obG9jLngsIGxvYy55KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBHbG9iYWxzIH0gZnJvbSBcIi4uL3V0aWxpdGllcy9nbG9iYWxzXCI7XHJcbmltcG9ydCB7IFpvb21hYmxlU2NlbmUgfSBmcm9tIFwiLi96b29tYWJsZS1zY2VuZVwiO1xyXG5cclxuY29uc3Qgc2NlbmVDb25maWc6IFBoYXNlci5UeXBlcy5TY2VuZXMuU2V0dGluZ3NDb25maWcgPSB7XHJcbiAgICBhY3RpdmU6IHRydWUsXHJcbiAgICB2aXNpYmxlOiB0cnVlLFxyXG4gICAga2V5OiAnTmVhcmVzdFN0YXJzJ1xyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIE5lYXJlc3RTdGFyc1NjZW5lIGV4dGVuZHMgWm9vbWFibGVTY2VuZSB7XHJcbiAgICBwcml2YXRlIGJhY2tncm91bmQ6IFBoYXNlci5HYW1lT2JqZWN0cy5UaWxlU3ByaXRlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKHNjZW5lQ29uZmlnKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcHJlbG9hZCgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ25lYXItc3RhcnMnLCAnLi9hc3NldHMvYmFja2dyb3VuZHMvc3RhcmZpZWxkLXRpbGUtNTEyeDUxMi5wbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLmNyZWF0ZSgpO1xyXG4gICAgICAgIHRoaXMuYmFja2dyb3VuZCA9IHRoaXMuYWRkLnRpbGVTcHJpdGUoMCwgMCwgdGhpcy5jYW1lcmFzLm1haW4ud2lkdGggKiAxMCwgdGhpcy5jYW1lcmFzLm1haW4uaGVpZ2h0ICogMTAsICduZWFyLXN0YXJzJyk7XHJcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kLnNldFNjYWxlKDIpO1xyXG4gICAgICAgIHRoaXMuYmFja2dyb3VuZC5zZXRBbmdsZSg5MCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZSgpOiB2b2lkIHtcclxuICAgICAgICBpZiAoR2xvYmFscy5wbGF5ZXIpIHtcclxuICAgICAgICAgICAgbGV0IGxvYzogUGhhc2VyLk1hdGguVmVjdG9yMiA9IEdsb2JhbHMucGxheWVyLmdldFJlYWxMb2NhdGlvbigpO1xyXG4gICAgICAgICAgICBsb2MuZGl2aWRlKG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKDUwMCwgNTAwKSk7XHJcbiAgICAgICAgICAgIGxvYy5uZWdhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0UG9zaXRpb24obG9jLngsIGxvYy55KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9