!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("phaser")):"function"==typeof define&&define.amd?define(["phaser"],e):"object"==typeof exports?exports.bundle=e(require("phaser")):t.bundle=e(t.phaser)}(window,(function(t){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=11)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.enumLength=function(t){var e=0;for(var n in t)isNaN(Number(n))&&e++;return e},t.getHeading=function(t){var e=Math.cos(Phaser.Math.DegToRad(t)),n=Math.sin(Phaser.Math.DegToRad(t));return new Phaser.Math.Vector2(e,n).normalize().negate()},t.vector2=function(t,e){return e||(e=t),new Phaser.Math.Vector2(t,e)}}(e.Helpers||(e.Helpers={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.front=0]="front",t[t.frontRight=1]="frontRight",t[t.right=2]="right",t[t.backRight=3]="backRight",t[t.back=4]="back",t[t.backLeft=5]="backLeft",t[t.left=6]="left",t[t.frontLeft=7]="frontLeft"}(e.AttachmentLocation||(e.AttachmentLocation={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.interactables=[],t.debug=!1}(e.Globals||(e.Globals={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.MAX_INTEGRITY=100,t.MAX_FUEL=100,t.MAX_SAFE_TEMPERATURE=100,t.MAX_TEMPERATURE=200,t.MAX_VELOCITY=500,t.OVERHEAT_CHECK_INTERVAL=100,t.COOLING_RATE=.3,t.THRUSTER_FORCE=1,t.FUEL_PER_THRUST=.001,t.HEAT_PER_THRUST=.1,t.BOOSTER_FORCE=300,t.FUEL_PER_BOOST=1,t.HEAT_PER_BOOST=25,t.BOOSTER_COOLDOWN_TIME=1e3,t.THROW_FORCE=100,function(t){t[t.blue=0]="blue",t[t.green=1]="green",t[t.red=2]="red",t[t.white=3]="white",t[t.yellow=4]="yellow"}(t.Flare||(t.Flare={}))}(e.Constants||(e.Constants={}))},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.reload=function(t){this.remainingAmmo+=t,this.remainingAmmo>this.maxAmmo&&(this.remainingAmmo=this.maxAmmo)},e.prototype.getRemainingAmmo=function(){return this.remainingAmmo},e.prototype.trigger=function(){this.active&&this.fire()},e}(n(8).ShipAttachment);e.OffenceAttachment=a},function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var i=new Uint8Array(16);t.exports=function(){return n(i),i}}else{var o=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}},function(t,e){for(var n=[],i=0;i<256;++i)n[i]=(i+256).toString(16).substr(1);t.exports=function(t,e){var i=e||0,o=n;return[o[t[i++]],o[t[i++]],o[t[i++]],o[t[i++]],"-",o[t[i++]],o[t[i++]],"-",o[t[i++]],o[t[i++]],"-",o[t[i++]],o[t[i++]],"-",o[t[i++]],o[t[i++]],o[t[i++]],o[t[i++]],o[t[i++]],o[t[i++]]].join("")}},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(3),s=function(t){function e(e){var n=t.call(this,e)||this;return n.lastBoostTime=0,n.scene=e,n.flareParticles=e.add.particles("flares"),n.gameObj=n.scene.add.sprite(0,0,"thruster"),n.scene.physics.add.existing(n.gameObj),n}return o(e,t),e.prototype.update=function(){},e.prototype.trigger=function(){this.active&&this.thrustFowards()},e.prototype.thrustFowards=function(){this.applyThrust(a.Constants.THRUSTER_FORCE,a.Constants.FUEL_PER_THRUST,a.Constants.HEAT_PER_THRUST),this.displayThrusterFire(a.Constants.Flare.yellow,.2,1)},e.prototype.boostForwards=function(){this.scene.game.getTime()>=this.lastBoostTime+a.Constants.BOOSTER_COOLDOWN_TIME&&(this.applyThrust(a.Constants.BOOSTER_FORCE,a.Constants.FUEL_PER_BOOST,a.Constants.HEAT_PER_BOOST),this.displayThrusterFire(a.Constants.Flare.blue,1,10),this.lastBoostTime=this.scene.game.getTime())},e.prototype.strafeLeft=function(){},e.prototype.strafeRight=function(){},e.prototype.thrustBackwards=function(){},e.prototype.applyThrust=function(t,e,n){if(this.ship.getRemainingFuel()>0){var i=this.ship.getHeading().multiply(new Phaser.Math.Vector2(t,t));this.ship.getPhysicsBody().velocity.add(i),this.ship.reduceFuel(e),this.ship.applyHeating(n)}},e.prototype.displayThrusterFire=function(t,e,n){var i=this.ship.getRealLocation(),o=new Phaser.Math.Vector2(20,0).add(i),a=this.ship.getHeading().negate(),s=Phaser.Math.RotateAround(o,i.x,i.y,Phaser.Math.DegToRad(this.ship.getRotation())),r=this.ship.getVelocity();this.flareParticles.createEmitter({frame:t,x:s.x,y:s.y,lifespan:{min:250,max:500},speedX:{min:100*a.x+r.x,max:500*a.x+r.x},speedY:{min:100*a.y+r.y,max:500*a.y+r.y},angle:0,gravityX:0,gravityY:0,scale:{start:e,end:0},quantity:n,blendMode:"ADD",maxParticles:1})},e}(n(8).ShipAttachment);e.ThrusterAttachment=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),o=n(1),a=n(0),s=function(){function t(t){this.scene=t,this.active=!0,this.integrity=i.Constants.MAX_INTEGRITY,this.isThrown=!1}return t.prototype.attach=function(t,e){void 0===e&&(e=o.AttachmentLocation.front),this.ship=t,this.setAttachmentLocation(e);var n=this.ship.getRealLocation();this.getPhysicsBody().position=n,this.getPhysicsBody().rotation=this.ship.getRotation()},t.prototype.detach=function(){this.ship=null,this.attachmentLocation=null;var t=this.getGameObject();t.setActive(!0),this.scene.add.existing(t)},t.prototype.getGameObject=function(){return this.gameObj},t.prototype.getPhysicsBody=function(){var t=this.getGameObject();return t?t.body:null},t.prototype.getRotation=function(){var t=this.getGameObject().angle;return this.ship&&(t+=this.ship.getRotation()),t},t.prototype.getHeading=function(){var t=this.getRotation();return a.Helpers.getHeading(t)},t.prototype.getSpeed=function(){var t=this.getVelocity().length();return this.ship&&(t+=this.ship.getSpeed()),t},t.prototype.getVelocity=function(){if(this.getPhysicsBody()){var t=this.getPhysicsBody().velocity.clone();return this.ship&&t.add(this.ship.getVelocity()),t}return Phaser.Math.Vector2.ZERO},t.prototype.getLocation=function(){var t=this.scene.cameras.main.getWorldPoint(0,0),e=this.getRealLocation();return new Phaser.Math.Vector2(e.x-t.x,e.y-t.y)},t.prototype.getRealLocation=function(){var t=this.getGameObject();if(t){var e=new Phaser.Math.Vector2(t.x,t.y);return this.ship&&e.add(this.ship.getRealLocation()),e}return Phaser.Math.Vector2.ZERO},t.prototype.getIntegrity=function(){return this.integrity},t.prototype.sustainDamage=function(t){this.integrity-=t,this.integrity<=0&&(this.integrity=0,this.active=!1,this.destroy())},t.prototype.repair=function(t){this.integrity=t,this.integrity>i.Constants.MAX_INTEGRITY&&(this.integrity=i.Constants.MAX_INTEGRITY)},t.prototype.destroy=function(){this.active=!1,this.ship.attachments.removeAttachment(this.attachmentLocation),this.getGameObject().destroy()},t.prototype.setAttachmentLocation=function(t){this.attachmentLocation=t},t}();e.ShipAttachment=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),a=function(){function t(t,e){this.active=!0,this.scene=t,this.force=e.force||0,this.gameObj=this.scene.add.sprite(e.x||0,e.y||0,"bullet"),this.gameObj.setScale(e.scale||1,e.scale||1),this.scene.physics.add.existing(this.gameObj),this.getGameObject().angle=e.angle||0,this.getPhysicsBody().velocity=e.startingV||Phaser.Math.Vector2.ZERO,this.addCollisionDetection(),this.setInMotion()}return t.prototype.addCollisionDetection=function(){for(var t=0;t<i.Globals.interactables.length;t++)this.scene.physics.add.collider(this.gameObj,i.Globals.interactables[t],this.onImpact)},t.prototype.onImpact=function(t,e){},t.prototype.getGameObject=function(){return this.gameObj},t.prototype.getPhysicsBody=function(){if(this.getGameObject())return this.getGameObject().body},t.prototype.getRotation=function(){return this.getGameObject().angle},t.prototype.getHeading=function(){return o.Helpers.getHeading(this.getRotation())},t.prototype.getSpeed=function(){return this.getVelocity().length()},t.prototype.getVelocity=function(){return this.getPhysicsBody()?this.getPhysicsBody().velocity.clone():Phaser.Math.Vector2.ZERO},t.prototype.getLocation=function(){var t=this.scene.cameras.main.getWorldPoint(0,0),e=this.getRealLocation();return new Phaser.Math.Vector2(e.x-t.x,e.y-t.y)},t.prototype.getRealLocation=function(){return this.getGameObject()?new Phaser.Math.Vector2(this.getGameObject().x,this.getGameObject().y):Phaser.Math.Vector2.ZERO},t.prototype.setInMotion=function(){var t=this.getHeading().multiply(o.Helpers.vector2(this.force));this.getPhysicsBody().velocity.add(t)},t}();e.Bullet=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(21),s=function(t){function e(e,n){var i=t.call(this,n)||this;return i.increment=e,i.minZoom=1-2*e,i.maxZoom=1,i}return o(e,t),e.prototype.create=function(){var t=this;this.mouse=new a.Mouse(this),this.mouse.onWheelUp((function(e){var n=t.cameras.main.zoom-t.increment;n<t.minZoom&&(n=t.minZoom),t.cameras.main.zoomTo(n)})),this.mouse.onWheelDown((function(e){var n=t.cameras.main.zoom+t.increment;n>t.maxZoom&&(n=t.maxZoom),t.cameras.main.zoomTo(n)}))},e}(Phaser.Scene);e.ZoomableScene=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(12),o=n(2),a=n(23),s=n(24),r=n(25),c={type:Phaser.AUTO,scale:{width:window.innerWidth,height:window.innerHeight},backgroundColor:"#000000",parent:"space-sim",physics:{default:"arcade",arcade:{gravity:{x:0,y:0}}},scene:[s.FarStarsScene,r.SystemScene,i.ShipScene,a.OverlayScene]};e.game=new Phaser.Game(c),window.addEventListener("resize",(function(){e.game.scale.refresh()})),o.Globals.game=e.game,o.Globals.debug=!0},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(13),s=n(2),r=n(20),c=n(10),h=n(1),u=n(7),p=n(0),l=n(4),y=n(22),m={active:!0,visible:!0,key:"ShipScene"},f=function(t){function e(){return t.call(this,.4,m)||this}return o(e,t),e.prototype.preload=function(){this.load.image("ship-pod","./assets/sprites/ship-pod.png"),this.load.image("thruster","./assets/sprites/thruster.png"),this.load.image("cannon","./assets/sprites/cannon.png"),this.load.image("machine-gun","./assets/sprites/machine-gun.png"),this.load.spritesheet("flares","./assets/particles/flares.png",{frameWidth:130,frameHeight:132,startFrame:0,endFrame:4}),this.load.image("explosion","./assets/particles/explosion.png"),this.load.image("bullet","./assets/sprites/bullet.png")},e.prototype.create=function(){t.prototype.create.call(this),this.player=new a.ShipPod(this,{x:0,y:0}),s.Globals.player=this.player,this.player.setTarget(this.mouse);var e=new u.ThrusterAttachment(this);this.player.attachments.addAttachment(e);var n=new r.CannonAttachment(this);this.player.attachments.addAttachment(n),this.player.attachments.rotateAttachmentsClockwise();var i=new y.MachineGunAttachment(this);this.player.attachments.addAttachment(i),this.setupCamera(this.player),this.setupInputHandling()},e.prototype.update=function(){var t;this.thrustKey.isDown&&((t=this.player.getThruster())&&t.thrustFowards());this.boostKey.isDown&&((t=this.player.getThruster())&&t.boostForwards());if(this.input.activePointer.leftButtonDown())for(var e=0;e<p.Helpers.enumLength(h.AttachmentLocation);e++){var n;if(this.player.attachments.getAttachment(e)instanceof l.OffenceAttachment)(n=this.player.attachments.getAttachment(e)).trigger()}this.input.activePointer.rightButtonDown()&&((n=this.player.attachments.getAttachment(h.AttachmentLocation.front))&&n.trigger());this.rotateAttachmentsClockwiseKey.isDown&&this.player.attachments.rotateAttachmentsClockwise(),this.rotateAttachmentsAntiClockwiseKey.isDown&&this.player.attachments.rotateAttachmentsAntiClockwise(),this.detachAttachmentKey.isDown&&this.player.attachments.removeAttachment(h.AttachmentLocation.front),this.throwAttachmentKey.isDown&&this.player.attachments.throwAttachment(h.AttachmentLocation.front),this.grabAttachmentKey.isDown,this.player.update()},e.prototype.setupInputHandling=function(){this.thrustKey=this.input.keyboard.addKey("SPACE",!0,!0),this.boostKey=this.input.keyboard.addKey("TAB",!0,!1),this.rotateAttachmentsClockwiseKey=this.input.keyboard.addKey("E",!0,!1),this.rotateAttachmentsAntiClockwiseKey=this.input.keyboard.addKey("Q",!0,!1),this.detachAttachmentKey=this.input.keyboard.addKey("X",!0,!1),this.throwAttachmentKey=this.input.keyboard.addKey("T",!0,!1),this.grabAttachmentKey=this.input.keyboard.addKey("G",!0,!1),this.game.canvas.oncontextmenu=function(t){t.preventDefault()}},e.prototype.setupCamera=function(t){this.cameras.main.backgroundColor.setFromRGB({r:0,g:0,b:0}),this.cameras.main.setZoom(1);var e=t.getRealLocation();this.cameras.main.centerOn(e.x,e.y),this.cameras.main.startFollow(t.getGameObject(),!0,1,1)},e}(c.ZoomableScene);e.ShipScene=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(14);var i=n(15),o=n(3),a=n(0),s=n(19),r=n(1),c=function(){function t(t,e){this.remainingFuel=100,this.temperature=0,this.active=!0,this.lastOverheatCheck=0,e||(e={x:0,y:0}),this.id=i.RNG.guid(),this.scene=t,this.containerGameObj=t.add.container(e.x,e.y),this.flareParticles=t.add.particles("flares"),this.explosionParticles=t.add.particles("explosion");var n=t.add.sprite(0,0,"ship-pod");this.getGameObject().add(n),this.scene.physics.add.existing(this.getGameObject()),this.getPhysicsBody().bounce.setTo(.7,.7),this.getPhysicsBody().setMaxVelocity(o.Constants.MAX_VELOCITY,o.Constants.MAX_VELOCITY),this.integrity=o.Constants.MAX_INTEGRITY,this.attachments=new s.AttachmentManager(this,this.scene)}return t.prototype.getThruster=function(){return this.attachments.getAttachment(r.AttachmentLocation.back)},t.prototype.update=function(){this.active&&(this.lookAtTarget(),this.checkOverheatCondition(),this.attachments.update())},t.prototype.checkOverheatCondition=function(){if(this.active&&this.scene.game.getTime()>this.lastOverheatCheck+o.Constants.OVERHEAT_CHECK_INTERVAL){if(this.temperature>o.Constants.MAX_TEMPERATURE&&this.destroy(),this.temperature>o.Constants.MAX_SAFE_TEMPERATURE){var t=(this.temperature-o.Constants.MAX_SAFE_TEMPERATURE)/o.Constants.MAX_SAFE_TEMPERATURE;this.sustainDamage(t)}this.applyCooling(o.Constants.COOLING_RATE),this.lastOverheatCheck=this.scene.game.getTime()}},t.prototype.getRealLocation=function(){var t=this.getGameObject();return t?new Phaser.Math.Vector2(t.x,t.y):Phaser.Math.Vector2.ZERO},t.prototype.getLocation=function(){var t=this.scene.cameras.main.getWorldPoint(0,0),e=this.getRealLocation();return new Phaser.Math.Vector2(e.x-t.x,e.y-t.y)},t.prototype.getId=function(){return this.id},t.prototype.getGameObject=function(){return this.containerGameObj},t.prototype.getPhysicsBody=function(){var t=this.getGameObject();return t?t.body:null},t.prototype.setTarget=function(t){this.target=t},t.prototype.getTarget=function(){return this.target},t.prototype.lookAtTarget=function(){if(this.getPhysicsBody()&&this.getTarget()){var t=this.getTarget().getRealLocation(),e=this.getRealLocation(),n=Phaser.Math.Angle.Between(t.x,t.y,e.x,e.y),i=Phaser.Math.RadToDeg(n);this.getPhysicsBody().rotation=i}},t.prototype.getRotation=function(){return this.getGameObject()?this.getGameObject().angle:0},t.prototype.getHeading=function(){return a.Helpers.getHeading(this.getRotation())},t.prototype.getSpeed=function(){return this.getVelocity().length()},t.prototype.getVelocity=function(){return this.getPhysicsBody()?this.getPhysicsBody().velocity.clone():Phaser.Math.Vector2.ZERO},t.prototype.getTemperature=function(){return this.temperature},t.prototype.applyHeating=function(t){this.temperature+=t},t.prototype.applyCooling=function(t){this.temperature-=t,this.temperature<0&&(this.temperature=0)},t.prototype.reduceFuel=function(t){this.remainingFuel-=t,this.remainingFuel<0&&(this.remainingFuel=0)},t.prototype.addFuel=function(t){this.remainingFuel+=t,this.remainingFuel>o.Constants.MAX_FUEL&&(this.remainingFuel=o.Constants.MAX_FUEL)},t.prototype.getRemainingFuel=function(){return this.remainingFuel},t.prototype.getIntegrity=function(){return this.integrity},t.prototype.sustainDamage=function(t){this.integrity-=t,this.integrity<=0&&(this.integrity=0,this.destroy())},t.prototype.repair=function(t){this.integrity=t,this.integrity>o.Constants.MAX_INTEGRITY&&(this.integrity=o.Constants.MAX_INTEGRITY)},t.prototype.destroy=function(){this.active=!1,this.displayShipExplosion(),this.getGameObject().destroy(),this.containerGameObj=null},t.prototype.displayShipExplosion=function(){var t=this.getRealLocation();this.explosionParticles.createEmitter({x:t.x,y:t.y,lifespan:{min:500,max:1e3},speedX:{min:-1,max:1},speedY:{min:-1,max:1},angle:{min:-180,max:179},gravityX:0,gravityY:0,scale:{start:1,end:0},blendMode:"ADD",maxParticles:3}),this.flareParticles.createEmitter({frame:o.Constants.Flare.red,x:t.x,y:t.y,lifespan:{min:100,max:500},speedX:{min:-600,max:600},speedY:{min:-600,max:600},angle:{min:-180,max:179},gravityX:0,gravityY:0,scale:{start:1,end:0},blendMode:"ADD",maxParticles:10})},t}();e.ShipPod=c},function(e,n){e.exports=t},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(16);!function(t){t.int=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},t.guid=function(){return i.v4()}}(e.RNG||(e.RNG={}))},function(t,e,n){var i=n(17),o=n(18),a=o;a.v1=i,a.v4=o,t.exports=a},function(t,e,n){var i,o,a=n(5),s=n(6),r=0,c=0;t.exports=function(t,e,n){var h=e&&n||0,u=e||[],p=(t=t||{}).node||i,l=void 0!==t.clockseq?t.clockseq:o;if(null==p||null==l){var y=a();null==p&&(p=i=[1|y[0],y[1],y[2],y[3],y[4],y[5]]),null==l&&(l=o=16383&(y[6]<<8|y[7]))}var m=void 0!==t.msecs?t.msecs:(new Date).getTime(),f=void 0!==t.nsecs?t.nsecs:c+1,g=m-r+(f-c)/1e4;if(g<0&&void 0===t.clockseq&&(l=l+1&16383),(g<0||m>r)&&void 0===t.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");r=m,c=f,o=l;var d=(1e4*(268435455&(m+=122192928e5))+f)%4294967296;u[h++]=d>>>24&255,u[h++]=d>>>16&255,u[h++]=d>>>8&255,u[h++]=255&d;var v=m/4294967296*1e4&268435455;u[h++]=v>>>8&255,u[h++]=255&v,u[h++]=v>>>24&15|16,u[h++]=v>>>16&255,u[h++]=l>>>8|128,u[h++]=255&l;for(var _=0;_<6;++_)u[h+_]=p[_];return e||s(u)}},function(t,e,n){var i=n(5),o=n(6);t.exports=function(t,e,n){var a=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var s=(t=t||{}).random||(t.rng||i)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e)for(var r=0;r<16;++r)e[a+r]=s[r];return e||o(s)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(1),a=n(7),s=n(3),r=function(){function t(t,e){this.attachments=[],this.active=!0,this.ship=t,this.scene=e,this.lastRotatedTime=0,this.rotationDelay=100;for(var n=0;n<i.Helpers.enumLength(o.AttachmentLocation);n++)this.attachments.push(null)}return t.prototype.update=function(){if(this.active)for(var t=0;t<this.attachments.length;t++){var e=this.attachments[t];e&&e.update()}},t.prototype.rotateAttachmentsClockwise=function(){if(this.scene.game.getTime()>this.lastRotatedTime+this.rotationDelay){for(var t=this.getAttachment(i.Helpers.enumLength(o.AttachmentLocation)-1),e=i.Helpers.enumLength(o.AttachmentLocation)-1;e>=0;e--)e!=o.AttachmentLocation.back&&(e!=o.AttachmentLocation.backLeft?this.attachments[e]=this.attachments[e-1]:this.attachments[e]=this.attachments[e-2]);this.attachments[0]=t,this.updateAttachmentAngles(),this.lastRotatedTime=this.scene.game.getTime()}},t.prototype.rotateAttachmentsAntiClockwise=function(){if(this.scene.game.getTime()>this.lastRotatedTime+this.rotationDelay){for(var t=this.getAttachment(0),e=0;e<i.Helpers.enumLength(o.AttachmentLocation);e++)e!=o.AttachmentLocation.back&&(e!=o.AttachmentLocation.backRight?this.attachments[e]=this.attachments[e+1]:this.attachments[e]=this.attachments[e+2]);this.attachments[i.Helpers.enumLength(o.AttachmentLocation)-1]=t,this.updateAttachmentAngles(),this.lastRotatedTime=this.scene.game.getTime()}},t.prototype.addAttachment=function(t){if(t instanceof a.ThrusterAttachment)this.removeAttachment(o.AttachmentLocation.back),this.attachments[o.AttachmentLocation.back]=t,t.attach(this.ship,o.AttachmentLocation.back);else{for(var e=!1,n=0;n<i.Helpers.enumLength(o.AttachmentLocation);n++)if(!this.attachments[n]){this.attachments[n]=t,t.attach(this.ship,n),e=!0;break}e||(this.removeAttachment(o.AttachmentLocation.front),this.attachments[o.AttachmentLocation.front]=t,t.attach(this.ship,o.AttachmentLocation.front))}this.ship.getGameObject().add(t.getGameObject()),this.updateAttachmentAngles()},t.prototype.removeAttachment=function(t){if(this.attachments[t]){var e=this.attachments[t];this.attachments[t]=null,this.ship.getGameObject().remove(e.getGameObject(),!1),e.detach();var n=this.ship.getRealLocation();e.getGameObject().setPosition(n.x,n.y);var i=this.ship.getVelocity();e.getPhysicsBody().velocity=i,e.getPhysicsBody().rotation+=this.ship.getRotation()}},t.prototype.throwAttachment=function(t){var e=this.getAttachment(t);if(e){this.removeAttachment(t),e.isThrown=!0;var n=e.getHeading().multiply(new Phaser.Math.Vector2(s.Constants.THROW_FORCE,s.Constants.THROW_FORCE));e.getPhysicsBody().velocity.add(n)}},t.prototype.getAttachments=function(){return this.attachments},t.prototype.getAttachment=function(t){return this.attachments[t]},t.prototype.updateAttachmentAngles=function(){for(var t=0;t<this.attachments.length;t++){var e=this.attachments[t];if(e){var n=0;switch(t){case o.AttachmentLocation.frontRight:n=45;break;case o.AttachmentLocation.right:n=90;break;case o.AttachmentLocation.backRight:n=135;break;case o.AttachmentLocation.back:n=180;break;case o.AttachmentLocation.backLeft:n=225;break;case o.AttachmentLocation.left:n=270;break;case o.AttachmentLocation.frontLeft:n=315;break;default:n=0}e.getGameObject().angle=n}}},t}();e.AttachmentManager=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(9),s=function(t){function e(e){var n=t.call(this,e)||this;return n.maxAmmo=500,n.remainingAmmo=n.maxAmmo,n.lastFired=0,n.firingDelay=1e3,n.gameObj=n.scene.add.sprite(0,0,"cannon"),n.scene.physics.add.existing(n.gameObj),n}return o(e,t),e.prototype.update=function(){},e.prototype.fire=function(t){if(this.active&&this.getRemainingAmmo()>0&&this.scene.game.getTime()>this.lastFired+this.firingDelay){var e=new Phaser.Math.Vector2(-20,0).add(this.getRealLocation()),n=this.ship.getRealLocation(),i=Phaser.Math.RotateAround(e,n.x,n.y,Phaser.Math.DegToRad(this.getRotation()));new a.Bullet(this.scene,{x:i.x,y:i.y,force:3e3,angle:this.getRotation(),startingV:this.getVelocity(),scale:1}),this.remainingAmmo--,this.lastFired=this.scene.game.getTime()}},e}(n(4).OffenceAttachment);e.CannonAttachment=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.scene=t,this.scene.input.mouse.capture=!0}return t.prototype.getAngle=function(){return this.scene.input.activePointer.getAngle()},t.prototype.getRotation=function(){return this.getAngle()*(Math.PI/180)},t.prototype.getHeading=function(){var t=this.getAngle(),e=Math.cos(t),n=Math.sin(t);return new Phaser.Math.Vector2(e,n).normalize().negate()},t.prototype.getSpeed=function(){return this.getVelocity().length()},t.prototype.getVelocity=function(){return this.scene.input.activePointer.velocity.clone()},t.prototype.getLocation=function(){return this.scene.input.activePointer.position.clone()},t.prototype.getRealLocation=function(){return this.scene.input.activePointer.positionToCamera(this.scene.cameras.main)},t.prototype.onWheelUp=function(t){this.scene.input.on(Phaser.Input.Events.POINTER_WHEEL,(function(e,n,i,o,a,s){o>0&&t(o)}))},t.prototype.onWheelDown=function(t){this.scene.input.on(Phaser.Input.Events.POINTER_WHEEL,(function(e,n,i,o,a,s){o<0&&t(-o)}))},t}();e.Mouse=i},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(9),s=function(t){function e(e){var n=t.call(this,e)||this;return n.maxAmmo=1500,n.remainingAmmo=n.maxAmmo,n.lastFired=0,n.firingDelay=1,n.gameObj=n.scene.add.sprite(0,0,"machine-gun"),n.scene.physics.add.existing(n.gameObj),n}return o(e,t),e.prototype.update=function(){},e.prototype.fire=function(t){if(this.active&&this.getRemainingAmmo()>0&&this.scene.game.getTime()>this.lastFired+this.firingDelay){var e=new Phaser.Math.Vector2(-20,0).add(this.getRealLocation()),n=this.ship.getRealLocation(),i=Phaser.Math.RotateAround(e,n.x,n.y,Phaser.Math.DegToRad(this.getRotation()));new a.Bullet(this.scene,{x:i.x,y:i.y,force:1500,angle:this.getRotation(),startingV:this.getVelocity(),scale:.25}),this.remainingAmmo--,this.lastFired=this.scene.game.getTime()}},e}(n(4).OffenceAttachment);e.MachineGunAttachment=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(2),s=n(1),r={active:!0,visible:!0,key:"OverlayScene"},c=function(t){function e(){return t.call(this,r)||this}return o(e,t),e.prototype.preload=function(){},e.prototype.create=function(){this.shipDebug=this.add.text(10,10,"",{font:"16px Courier",fill:"#ffdddd"})},e.prototype.update=function(){a.Globals.debug&&this.displayDebugInfo()},e.prototype.displayDebugInfo=function(){if(a.Globals.player){for(var t=a.Globals.player,e=t.getRealLocation(),n=t.getVelocity(),i=["Speed: "+t.getSpeed().toFixed(1),"Integrity: "+t.getIntegrity().toFixed(1),"Heat: "+t.getTemperature().toFixed(1),"Fuel: "+t.getRemainingFuel().toFixed(1),"Location: "+e.x.toFixed(1)+","+e.y.toFixed(1),"Angle: "+t.getRotation().toFixed(1),"Velocity: "+n.x.toFixed(1)+","+n.y.toFixed(1)],o=t.attachments.getAttachments(),r=0;r<o.length;r++)if(o[r]){i.push("AttachmentLocation."+s.AttachmentLocation[r]+" - "+r);var c=o[r].getRealLocation();i.push("-- Location: "+c.x.toFixed(1)+","+c.y.toFixed(1)),i.push("-- Angle: "+o[r].getRotation().toFixed(1))}this.shipDebug.setText(i)}},e}(Phaser.Scene);e.OverlayScene=c},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a={active:!0,visible:!0,key:"FarStars"},s=function(t){function e(){return t.call(this,a)||this}return o(e,t),e.prototype.preload=function(){this.load.image("far-stars","./assets/backgrounds/starfield-tile-512x512.png")},e.prototype.create=function(){var t=Math.ceil(this.game.canvas.width/2),e=Math.ceil(this.game.canvas.height/2);this.add.tileSprite(t,e,this.game.canvas.width+10,this.game.canvas.height+10,"far-stars")},e.prototype.update=function(){},e}(Phaser.Scene);e.FarStarsScene=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(10),s=n(2),r={active:!0,visible:!0,key:"SystemScene"},c=function(t){function e(){return t.call(this,.05,r)||this}return o(e,t),e.prototype.preload=function(){this.load.image("sun","./assets/backgrounds/sun.png")},e.prototype.create=function(){t.prototype.create.call(this),this.startPosition=new Phaser.Math.Vector2(Phaser.Math.RND.between(0,this.game.canvas.width),Phaser.Math.RND.between(0,this.game.canvas.height)),this.sun=this.add.sprite(this.startPosition.x,this.startPosition.y,"sun")},e.prototype.update=function(){if(this.sun.angle+=.01,this.sun.angle>=360&&(this.sun.angle=0),s.Globals.player){var t=s.Globals.player.getRealLocation();t.divide(new Phaser.Math.Vector2(500,500)),t.negate(),this.sun.x=this.startPosition.x+t.x,this.sun.y=this.startPosition.y+t.y}},e}(a.ZoomableScene);e.SystemScene=c}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idW5kbGUvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL2J1bmRsZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvdXRpbGl0aWVzL2hlbHBlcnMudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NoaXBzL2F0dGFjaG1lbnRzL2F0dGFjaG1lbnQtbG9jYXRpb24udHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3V0aWxpdGllcy9nbG9iYWxzLnRzIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy91dGlsaXRpZXMvY29uc3RhbnRzLnRzIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy9zaGlwcy9hdHRhY2htZW50cy9vZmZlbmNlL29mZmVuY2UtYXR0YWNobWVudC50cyIsIndlYnBhY2s6Ly9idW5kbGUvLi9ub2RlX21vZHVsZXMvdXVpZC9saWIvcm5nLWJyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vbm9kZV9tb2R1bGVzL3V1aWQvbGliL2J5dGVzVG9VdWlkLmpzIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy9zaGlwcy9hdHRhY2htZW50cy91dGlsaXR5L3RocnVzdGVyLWF0dGFjaG1lbnQudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NoaXBzL2F0dGFjaG1lbnRzL3NoaXAtYXR0YWNobWVudC50cyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvc2hpcHMvYXR0YWNobWVudHMvb2ZmZW5jZS9idWxsZXQudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NjZW5lcy96b29tYWJsZS1zY2VuZS50cyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvZ2FtZS50cyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvc2NlbmVzL3NoaXAtc2NlbmUudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NoaXBzL3NoaXAtcG9kLnRzIiwid2VicGFjazovL2J1bmRsZS9leHRlcm5hbCBcInBoYXNlclwiIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy91dGlsaXRpZXMvcm5nLnRzIiwid2VicGFjazovL2J1bmRsZS8uL25vZGVfbW9kdWxlcy91dWlkL2luZGV4LmpzIiwid2VicGFjazovL2J1bmRsZS8uL25vZGVfbW9kdWxlcy91dWlkL3YxLmpzIiwid2VicGFjazovL2J1bmRsZS8uL25vZGVfbW9kdWxlcy91dWlkL3Y0LmpzIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy9zaGlwcy9hdHRhY2htZW50cy9hdHRhY2htZW50LW1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NoaXBzL2F0dGFjaG1lbnRzL29mZmVuY2UvY2Fubm9uLWF0dGFjaG1lbnQudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3V0aWxpdGllcy9tb3VzZS50cyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvc2hpcHMvYXR0YWNobWVudHMvb2ZmZW5jZS9tYWNoaW5lLWd1bi1hdHRhY2htZW50LnRzIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy9zY2VuZXMvb3ZlcmxheS1zY2VuZS50cyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvc2NlbmVzL2Zhci1zdGFycy1zY2VuZS50cyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvc2NlbmVzL3N5c3RlbS1zY2VuZS50cyJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJyZXF1aXJlIiwiZGVmaW5lIiwiYW1kIiwid2luZG93IiwiX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fMTRfXyIsImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJIZWxwZXJzIiwiZW51bUxlbmd0aCIsImVudW1UeXBlIiwiY291bnQiLCJpdGVtIiwiaXNOYU4iLCJOdW1iZXIiLCJnZXRIZWFkaW5nIiwicm90YXRpb24iLCJ4IiwiTWF0aCIsImNvcyIsIlBoYXNlciIsIkRlZ1RvUmFkIiwieSIsInNpbiIsIlZlY3RvcjIiLCJub3JtYWxpemUiLCJuZWdhdGUiLCJ2ZWN0b3IyIiwiQXR0YWNobWVudExvY2F0aW9uIiwiR2xvYmFscyIsImludGVyYWN0YWJsZXMiLCJkZWJ1ZyIsIkNvbnN0YW50cyIsIk1BWF9JTlRFR1JJVFkiLCJNQVhfRlVFTCIsIk1BWF9TQUZFX1RFTVBFUkFUVVJFIiwiTUFYX1RFTVBFUkFUVVJFIiwiTUFYX1ZFTE9DSVRZIiwiT1ZFUkhFQVRfQ0hFQ0tfSU5URVJWQUwiLCJDT09MSU5HX1JBVEUiLCJUSFJVU1RFUl9GT1JDRSIsIkZVRUxfUEVSX1RIUlVTVCIsIkhFQVRfUEVSX1RIUlVTVCIsIkJPT1NURVJfRk9SQ0UiLCJGVUVMX1BFUl9CT09TVCIsIkhFQVRfUEVSX0JPT1NUIiwiQk9PU1RFUl9DT09MRE9XTl9USU1FIiwiVEhST1dfRk9SQ0UiLCJGbGFyZSIsInJlbG9hZCIsImFtb3VudCIsInRoaXMiLCJyZW1haW5pbmdBbW1vIiwibWF4QW1tbyIsImdldFJlbWFpbmluZ0FtbW8iLCJ0cmlnZ2VyIiwiYWN0aXZlIiwiZmlyZSIsIlNoaXBBdHRhY2htZW50IiwiT2ZmZW5jZUF0dGFjaG1lbnQiLCJnZXRSYW5kb21WYWx1ZXMiLCJjcnlwdG8iLCJtc0NyeXB0byIsInJuZHM4IiwiVWludDhBcnJheSIsInJuZHMiLCJBcnJheSIsInJhbmRvbSIsImJ5dGVUb0hleCIsInRvU3RyaW5nIiwic3Vic3RyIiwiYnVmIiwib2Zmc2V0IiwiYnRoIiwiam9pbiIsInNjZW5lIiwibGFzdEJvb3N0VGltZSIsImZsYXJlUGFydGljbGVzIiwiYWRkIiwicGFydGljbGVzIiwiZ2FtZU9iaiIsInNwcml0ZSIsInBoeXNpY3MiLCJleGlzdGluZyIsInVwZGF0ZSIsInRocnVzdEZvd2FyZHMiLCJhcHBseVRocnVzdCIsImRpc3BsYXlUaHJ1c3RlckZpcmUiLCJ5ZWxsb3ciLCJib29zdEZvcndhcmRzIiwiZ2FtZSIsImdldFRpbWUiLCJibHVlIiwic3RyYWZlTGVmdCIsInN0cmFmZVJpZ2h0IiwidGhydXN0QmFja3dhcmRzIiwiZm9yY2UiLCJmdWVsIiwiaGVhdCIsInNoaXAiLCJnZXRSZW1haW5pbmdGdWVsIiwiZGVsdGFWIiwibXVsdGlwbHkiLCJnZXRQaHlzaWNzQm9keSIsInZlbG9jaXR5IiwicmVkdWNlRnVlbCIsImFwcGx5SGVhdGluZyIsImNvbG91ciIsInN0YXJ0U2NhbGUiLCJxdWFudGl0eSIsInNoaXBQb3NpdGlvbiIsImdldFJlYWxMb2NhdGlvbiIsImVtaXNzaW9uUG9zaXRpb24iLCJuZWdhdGVkU2hpcEhlYWRpbmciLCJhZGp1c3RlZEVtaXNzaW9uUG9zaXRpb24iLCJSb3RhdGVBcm91bmQiLCJnZXRSb3RhdGlvbiIsInNoaXBWZWxvY2l0eSIsImdldFZlbG9jaXR5IiwiY3JlYXRlRW1pdHRlciIsImZyYW1lIiwibGlmZXNwYW4iLCJtaW4iLCJtYXgiLCJzcGVlZFgiLCJzcGVlZFkiLCJhbmdsZSIsImdyYXZpdHlYIiwiZ3Jhdml0eVkiLCJzY2FsZSIsInN0YXJ0IiwiZW5kIiwiYmxlbmRNb2RlIiwibWF4UGFydGljbGVzIiwiVGhydXN0ZXJBdHRhY2htZW50IiwiaW50ZWdyaXR5IiwiaXNUaHJvd24iLCJhdHRhY2giLCJsb2NhdGlvbiIsImZyb250Iiwic2V0QXR0YWNobWVudExvY2F0aW9uIiwiY2VudHJlIiwicG9zaXRpb24iLCJkZXRhY2giLCJhdHRhY2htZW50TG9jYXRpb24iLCJnbyIsImdldEdhbWVPYmplY3QiLCJzZXRBY3RpdmUiLCJib2R5IiwiZ2V0U3BlZWQiLCJzcGVlZCIsImxlbmd0aCIsImNsb25lIiwiWkVSTyIsImdldExvY2F0aW9uIiwiY2FtZXJhUG9zIiwiY2FtZXJhcyIsIm1haW4iLCJnZXRXb3JsZFBvaW50IiwicmVhbExvYyIsImdldEludGVncml0eSIsInN1c3RhaW5EYW1hZ2UiLCJkZXN0cm95IiwicmVwYWlyIiwiYXR0YWNobWVudHMiLCJyZW1vdmVBdHRhY2htZW50IiwibG9jIiwicGFyYW1zIiwic2V0U2NhbGUiLCJzdGFydGluZ1YiLCJhZGRDb2xsaXNpb25EZXRlY3Rpb24iLCJzZXRJbk1vdGlvbiIsImNvbGxpZGVyIiwib25JbXBhY3QiLCJidWxsZXQiLCJ0YXJnZXQiLCJCdWxsZXQiLCJpbmNyZW1lbnQiLCJjb25maWciLCJtaW5ab29tIiwibWF4Wm9vbSIsIm1vdXNlIiwiTW91c2UiLCJvbldoZWVsVXAiLCJzY3JvbGxBbW91bnQiLCJuZXdab29tIiwiem9vbSIsInpvb21UbyIsIm9uV2hlZWxEb3duIiwiU2NlbmUiLCJab29tYWJsZVNjZW5lIiwiZ2FtZUNvbmZpZyIsInR5cGUiLCJBVVRPIiwid2lkdGgiLCJpbm5lcldpZHRoIiwiaGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJwYXJlbnQiLCJkZWZhdWx0IiwiYXJjYWRlIiwiZ3Jhdml0eSIsIkZhclN0YXJzU2NlbmUiLCJTeXN0ZW1TY2VuZSIsIlNoaXBTY2VuZSIsIk92ZXJsYXlTY2VuZSIsIkdhbWUiLCJhZGRFdmVudExpc3RlbmVyIiwicmVmcmVzaCIsInNjZW5lQ29uZmlnIiwidmlzaWJsZSIsInByZWxvYWQiLCJsb2FkIiwiaW1hZ2UiLCJzcHJpdGVzaGVldCIsImZyYW1lV2lkdGgiLCJmcmFtZUhlaWdodCIsInN0YXJ0RnJhbWUiLCJlbmRGcmFtZSIsInBsYXllciIsIlNoaXBQb2QiLCJzZXRUYXJnZXQiLCJ0aHJ1c3RlciIsImFkZEF0dGFjaG1lbnQiLCJjYW5vbiIsIkNhbm5vbkF0dGFjaG1lbnQiLCJyb3RhdGVBdHRhY2htZW50c0Nsb2Nrd2lzZSIsIm1hY2hpbmVHdW4iLCJNYWNoaW5lR3VuQXR0YWNobWVudCIsInNldHVwQ2FtZXJhIiwic2V0dXBJbnB1dEhhbmRsaW5nIiwidGhydXN0S2V5IiwiaXNEb3duIiwiZ2V0VGhydXN0ZXIiLCJib29zdEtleSIsImlucHV0IiwiYWN0aXZlUG9pbnRlciIsImxlZnRCdXR0b25Eb3duIiwiYSIsImdldEF0dGFjaG1lbnQiLCJyaWdodEJ1dHRvbkRvd24iLCJyb3RhdGVBdHRhY2htZW50c0Nsb2Nrd2lzZUtleSIsInJvdGF0ZUF0dGFjaG1lbnRzQW50aUNsb2Nrd2lzZUtleSIsInJvdGF0ZUF0dGFjaG1lbnRzQW50aUNsb2Nrd2lzZSIsImRldGFjaEF0dGFjaG1lbnRLZXkiLCJ0aHJvd0F0dGFjaG1lbnRLZXkiLCJ0aHJvd0F0dGFjaG1lbnQiLCJncmFiQXR0YWNobWVudEtleSIsImtleWJvYXJkIiwiYWRkS2V5IiwiY2FudmFzIiwib25jb250ZXh0bWVudSIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInNldEZyb21SR0IiLCJnIiwiYiIsInNldFpvb20iLCJwbGF5ZXJMb2MiLCJjZW50ZXJPbiIsInN0YXJ0Rm9sbG93IiwicmVtYWluaW5nRnVlbCIsInRlbXBlcmF0dXJlIiwibGFzdE92ZXJoZWF0Q2hlY2siLCJpZCIsIlJORyIsImd1aWQiLCJjb250YWluZXJHYW1lT2JqIiwiY29udGFpbmVyIiwiZXhwbG9zaW9uUGFydGljbGVzIiwiYm91bmNlIiwic2V0VG8iLCJzZXRNYXhWZWxvY2l0eSIsIkF0dGFjaG1lbnRNYW5hZ2VyIiwiYmFjayIsImxvb2tBdFRhcmdldCIsImNoZWNrT3ZlcmhlYXRDb25kaXRpb24iLCJkZWx0YSIsImFwcGx5Q29vbGluZyIsImdldElkIiwiZ2V0VGFyZ2V0IiwidGFyZ2V0UG9zIiwic2hpcFBvcyIsInJhZGlhbnMiLCJBbmdsZSIsIkJldHdlZW4iLCJkZWdyZWVzIiwiUmFkVG9EZWciLCJnZXRUZW1wZXJhdHVyZSIsImFkZEZ1ZWwiLCJkaXNwbGF5U2hpcEV4cGxvc2lvbiIsInBvcyIsInJlZCIsImludCIsImZsb29yIiwidjQiLCJ2MSIsInV1aWQiLCJfbm9kZUlkIiwiX2Nsb2Nrc2VxIiwicm5nIiwiYnl0ZXNUb1V1aWQiLCJfbGFzdE1TZWNzIiwiX2xhc3ROU2VjcyIsIm9wdGlvbnMiLCJub2RlIiwiY2xvY2tzZXEiLCJ1bmRlZmluZWQiLCJzZWVkQnl0ZXMiLCJtc2VjcyIsIkRhdGUiLCJuc2VjcyIsImR0IiwiRXJyb3IiLCJ0bCIsInRtaCIsImlpIiwibGFzdFJvdGF0ZWRUaW1lIiwicm90YXRpb25EZWxheSIsInB1c2giLCJ0bXAiLCJiYWNrTGVmdCIsInVwZGF0ZUF0dGFjaG1lbnRBbmdsZXMiLCJiYWNrUmlnaHQiLCJhdHRhY2htZW50IiwiYXR0YWNoZWQiLCJyZW1vdmUiLCJuZXdMb2NhdGlvbiIsInNldFBvc2l0aW9uIiwic2hpcFZlbG9jaXR5VmVjdG9yIiwiZ2V0QXR0YWNobWVudHMiLCJhdHQiLCJyb3QiLCJmcm9udFJpZ2h0IiwicmlnaHQiLCJsZWZ0IiwiZnJvbnRMZWZ0IiwibGFzdEZpcmVkIiwiZmlyaW5nRGVsYXkiLCJkaXJlY3Rpb24iLCJidWxsZXRPZmZzZXQiLCJzaGlwUmVhbExvY2F0aW9uIiwiYWRqdXN0ZWRMb2NhdGlvbiIsImNhcHR1cmUiLCJnZXRBbmdsZSIsIlBJIiwicG9zaXRpb25Ub0NhbWVyYSIsImZ1bmMiLCJvbiIsIklucHV0IiwiRXZlbnRzIiwiUE9JTlRFUl9XSEVFTCIsInBvaW50ZXIiLCJjdXJyZW50bHlPdmVyIiwiZHgiLCJkeSIsImR6IiwiZXZlbnQiLCJzaGlwRGVidWciLCJ0ZXh0IiwiZm9udCIsImZpbGwiLCJkaXNwbGF5RGVidWdJbmZvIiwidiIsImluZm8iLCJ0b0ZpeGVkIiwiYXR0TG9jIiwic2V0VGV4dCIsInhPZmZzZXQiLCJjZWlsIiwieU9mZnNldCIsInRpbGVTcHJpdGUiLCJzdGFydFBvc2l0aW9uIiwiUk5EIiwiYmV0d2VlbiIsInN1biIsImRpdmlkZSJdLCJtYXBw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WUFBQXhOLE9BQVAsV0FDSSxZQUFNQSxPQUFNLFdBQ1pxRCxLQUFLa1UsY0FBZ0IsSUFBSWpXLE9BQU9GLEtBQUtNLFFBQ2pDSixPQUFPRixLQUFLb1csSUFBSUMsUUFBUSxFQUFHcFUsS0FBS3VDLEtBQUtpSyxPQUFPekQsT0FDNUM5SyxPQUFPRixLQUFLb1csSUFBSUMsUUFBUSxFQUFHcFUsS0FBS3VDLEtBQUtpSyxPQUFPdkQsU0FFaERqSixLQUFLcVUsSUFBTXJVLEtBQUsyQixJQUFJRyxPQUFPOUIsS0FBS2tVLGNBQWNwVyxFQUFHa0MsS0FBS2tVLGNBQWMvVixFQUFHLFFBR3BFLFlBQUE4RCxPQUFQLFdBS0ksR0FKQWpDLEtBQUtxVSxJQUFJMVAsT0FBUyxJQUNkM0UsS0FBS3FVLElBQUkxUCxPQUFTLE1BQ2xCM0UsS0FBS3FVLElBQUkxUCxNQUFRLEdBRWpCLEVBQUFqRyxRQUFRK0wsT0FBUSxDQUVoQixJQUFJdEQsRUFBMkIsRUFBQXpJLFFBQVErTCxPQUFPN0csa0JBQzlDdUQsRUFBSW1OLE9BQU8sSUFBSXJXLE9BQU9GLEtBQUtNLFFBQVEsSUFBSyxNQUN4QzhJLEVBQUk1SSxTQUVKeUIsS0FBS3FVLElBQUl2VyxFQUFJa0MsS0FBS2tVLGNBQWNwVyxFQUFJcUosRUFBSXJKLEVBQ3hDa0MsS0FBS3FVLElBQUlsVyxFQUFJNkIsS0FBS2tVLGNBQWMvVixFQUFJZ0osRUFBSWhKLElBR3BELEVBcENBLENBQWlDLEVBQUF3SyxlQUFwQixFQUFBYyIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCJwaGFzZXJcIikpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW1wicGhhc2VyXCJdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcImJ1bmRsZVwiXSA9IGZhY3RvcnkocmVxdWlyZShcInBoYXNlclwiKSk7XG5cdGVsc2Vcblx0XHRyb290W1wiYnVuZGxlXCJdID0gZmFjdG9yeShyb290W1wicGhhc2VyXCJdKTtcbn0pKHdpbmRvdywgZnVuY3Rpb24oX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fMTRfXykge1xucmV0dXJuICIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxMSk7XG4iLCJleHBvcnQgbW9kdWxlIEhlbHBlcnMge1xyXG4gICAgLyoqXHJcbiAgICAgKiBnZXQgdGhlIG51bWJlciBvZiBlbGVtZW50cyBpbiBhbiBlbnVtLlxyXG4gICAgICogPHA+XHJcbiAgICAgKiBleDogPGk+ZW51bSBGb28geyBiYXIgPSAwLCBiYXogPSAxLCBib3ogPSAyIH08L2k+PGJyIC8+XHJcbiAgICAgKiByZXR1cm5zOiA8Yj4zPC9iPlxyXG4gICAgICogPC9wPlxyXG4gICAgICogQHBhcmFtIGVudW1UeXBlIHRoZSB0eXBlIG5hbWUgb2YgYW4gZW51bVxyXG4gICAgICogQHJldHVybnMgdGhlIG51bWJlciBvZiBlbGVtZW50cyBpbiB0aGUgZW51bVxyXG4gICAgICovXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gZW51bUxlbmd0aChlbnVtVHlwZTogYW55KTogbnVtYmVyIHtcclxuICAgICAgICBsZXQgY291bnQgPSAwO1xyXG4gICAgICAgIGZvcihsZXQgaXRlbSBpbiBlbnVtVHlwZSkge1xyXG4gICAgICAgICAgICBpZihpc05hTihOdW1iZXIoaXRlbSkpKSB7XHJcbiAgICAgICAgICAgICAgICBjb3VudCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb3VudDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgYSB7UGhhc2VyLk1hdGguVmVjdG9yMn0gdGhhdCByZXByZXNlbnRzIGEgbm9ybWFsaXNlZCB2ZWN0b3Igb2YgZGlyZWN0aW9uXHJcbiAgICAgKiBiYXNlZCBvbiB0aGUgcGFzc2VkIGluIHJvdGF0aW9uXHJcbiAgICAgKiBAcGFyYW0gcm90YXRpb24gdGhlIHJvdGF0aW9uIGluIGRlZ3JlZXNcclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGdldEhlYWRpbmcocm90YXRpb246IG51bWJlcik6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIGxldCB4OiBudW1iZXIgPSBNYXRoLmNvcyhQaGFzZXIuTWF0aC5EZWdUb1JhZChyb3RhdGlvbikpO1xyXG4gICAgICAgIGxldCB5OiBudW1iZXIgPSBNYXRoLnNpbihQaGFzZXIuTWF0aC5EZWdUb1JhZChyb3RhdGlvbikpO1xyXG4gICAgICAgIHJldHVybiBuZXcgUGhhc2VyLk1hdGguVmVjdG9yMih4LCB5KS5ub3JtYWxpemUoKS5uZWdhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gdmVjdG9yMih4OiBudW1iZXIsIHk/OiBudW1iZXIpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICBpZiAoIXkpIHtcclxuICAgICAgICAgICAgeSA9IHg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgUGhhc2VyLk1hdGguVmVjdG9yMih4LCB5KTtcclxuICAgIH1cclxufSIsImV4cG9ydCBlbnVtIEF0dGFjaG1lbnRMb2NhdGlvbiB7XHJcbiAgICBmcm9udCxcclxuICAgIGZyb250UmlnaHQsXHJcbiAgICByaWdodCxcclxuICAgIGJhY2tSaWdodCxcclxuICAgIGJhY2ssXHJcbiAgICBiYWNrTGVmdCxcclxuICAgIGxlZnQsXHJcbiAgICBmcm9udExlZnRcclxufSIsImltcG9ydCB7IFNoaXBQb2QgfSBmcm9tIFwiLi4vc2hpcHMvc2hpcC1wb2RcIjtcclxuXHJcbmV4cG9ydCBtb2R1bGUgR2xvYmFscyB7XHJcbiAgICBleHBvcnQgdmFyIHBsYXllcjogU2hpcFBvZDtcclxuICAgIGV4cG9ydCB2YXIgZ2FtZTogUGhhc2VyLkdhbWU7XHJcbiAgICBleHBvcnQgdmFyIGludGVyYWN0YWJsZXM6IFBoYXNlci5HYW1lT2JqZWN0cy5HYW1lT2JqZWN0W10gPSBbXTtcclxuICAgIGV4cG9ydCB2YXIgZGVidWc6IGJvb2xlYW4gPSBmYWxzZTtcclxufSIsImV4cG9ydCBtb2R1bGUgQ29uc3RhbnRzIHtcclxuICAgIGV4cG9ydCBjb25zdCBNQVhfSU5URUdSSVRZOiBudW1iZXIgPSAxMDA7XHJcbiAgICBleHBvcnQgY29uc3QgTUFYX0ZVRUw6IG51bWJlciA9IDEwMDtcclxuICAgIGV4cG9ydCBjb25zdCBNQVhfU0FGRV9URU1QRVJBVFVSRTogbnVtYmVyID0gMTAwO1xyXG4gICAgZXhwb3J0IGNvbnN0IE1BWF9URU1QRVJBVFVSRTogbnVtYmVyID0gMjAwO1xyXG4gICAgZXhwb3J0IGNvbnN0IE1BWF9WRUxPQ0lUWTogbnVtYmVyID0gNTAwO1xyXG4gICAgZXhwb3J0IGNvbnN0IE9WRVJIRUFUX0NIRUNLX0lOVEVSVkFMOiBudW1iZXIgPSAxMDA7IC8vIG1pbGxpc2Vjb25kc1xyXG4gICAgZXhwb3J0IGNvbnN0IENPT0xJTkdfUkFURTogbnVtYmVyID0gMC4zOyAvLyBkZWdyZWVzIHBlciBzZWNvbmRcclxuICAgIGV4cG9ydCBjb25zdCBUSFJVU1RFUl9GT1JDRTogbnVtYmVyID0gMTtcclxuICAgIGV4cG9ydCBjb25zdCBGVUVMX1BFUl9USFJVU1Q6IG51bWJlciA9IDAuMDAxOyAvLyB1bml0c1xyXG4gICAgZXhwb3J0IGNvbnN0IEhFQVRfUEVSX1RIUlVTVDogbnVtYmVyID0gMC4xIC8vIGRlZ3JlZXNcclxuICAgIGV4cG9ydCBjb25zdCBCT09TVEVSX0ZPUkNFOiBudW1iZXIgPSAzMDA7XHJcbiAgICBleHBvcnQgY29uc3QgRlVFTF9QRVJfQk9PU1Q6IG51bWJlciA9IDE7IC8vIHVuaXRzXHJcbiAgICBleHBvcnQgY29uc3QgSEVBVF9QRVJfQk9PU1Q6IG51bWJlciA9IDI1OyAvLyBkZWdyZWVzXHJcbiAgICBleHBvcnQgY29uc3QgQk9PU1RFUl9DT09MRE9XTl9USU1FOiBudW1iZXIgPSAxMDAwOyAvLyBtaWxsaXNlY29uZHNcclxuICAgIGV4cG9ydCBjb25zdCBUSFJPV19GT1JDRTogbnVtYmVyID0gMTAwO1xyXG4gICAgZXhwb3J0IGVudW0gRmxhcmUge1xyXG4gICAgICAgIGJsdWUgPSAwLFxyXG4gICAgICAgIGdyZWVuID0gMSxcclxuICAgICAgICByZWQgPSAyLFxyXG4gICAgICAgIHdoaXRlID0gMyxcclxuICAgICAgICB5ZWxsb3cgPSA0XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBDYW5TaG9vdCB9IGZyb20gXCIuLi8uLi8uLi9pbnRlcmZhY2VzL2Nhbi1zaG9vdFwiO1xyXG5pbXBvcnQgeyBTaGlwQXR0YWNobWVudCB9IGZyb20gXCIuLi9zaGlwLWF0dGFjaG1lbnRcIjtcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBPZmZlbmNlQXR0YWNobWVudCBleHRlbmRzIFNoaXBBdHRhY2htZW50IGltcGxlbWVudHMgQ2FuU2hvb3Qge1xyXG4gICAgcHJvdGVjdGVkIG1heEFtbW86IG51bWJlcjtcclxuICAgIHByb3RlY3RlZCByZW1haW5pbmdBbW1vOiBudW1iZXI7XHJcbiAgICBwcm90ZWN0ZWQgbGFzdEZpcmVkOiBudW1iZXI7XHJcbiAgICBwcm90ZWN0ZWQgZmlyaW5nRGVsYXk6IG51bWJlcjtcclxuICAgIHByb3RlY3RlZCBsaWZlc3BhbjogbnVtYmVyO1xyXG4gICAgXHJcbiAgICByZWxvYWQoYW1vdW50OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnJlbWFpbmluZ0FtbW8gKz0gYW1vdW50O1xyXG4gICAgICAgIGlmICh0aGlzLnJlbWFpbmluZ0FtbW8gPiB0aGlzLm1heEFtbW8pIHtcclxuICAgICAgICAgICAgdGhpcy5yZW1haW5pbmdBbW1vID0gdGhpcy5tYXhBbW1vO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRSZW1haW5pbmdBbW1vKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVtYWluaW5nQW1tbztcclxuICAgIH1cclxuXHJcbiAgICB0cmlnZ2VyKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmZpcmUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYWJzdHJhY3QgZmlyZShkaXJlY3Rpb24/OiBQaGFzZXIuTWF0aC5WZWN0b3IyKTogdm9pZDtcclxuICAgIGFic3RyYWN0IHVwZGF0ZSgpOiB2b2lkO1xyXG59IiwiLy8gVW5pcXVlIElEIGNyZWF0aW9uIHJlcXVpcmVzIGEgaGlnaCBxdWFsaXR5IHJhbmRvbSAjIGdlbmVyYXRvci4gIEluIHRoZVxuLy8gYnJvd3NlciB0aGlzIGlzIGEgbGl0dGxlIGNvbXBsaWNhdGVkIGR1ZSB0byB1bmtub3duIHF1YWxpdHkgb2YgTWF0aC5yYW5kb20oKVxuLy8gYW5kIGluY29uc2lzdGVudCBzdXBwb3J0IGZvciB0aGUgYGNyeXB0b2AgQVBJLiAgV2UgZG8gdGhlIGJlc3Qgd2UgY2FuIHZpYVxuLy8gZmVhdHVyZS1kZXRlY3Rpb25cblxuLy8gZ2V0UmFuZG9tVmFsdWVzIG5lZWRzIHRvIGJlIGludm9rZWQgaW4gYSBjb250ZXh0IHdoZXJlIFwidGhpc1wiIGlzIGEgQ3J5cHRvXG4vLyBpbXBsZW1lbnRhdGlvbi4gQWxzbywgZmluZCB0aGUgY29tcGxldGUgaW1wbGVtZW50YXRpb24gb2YgY3J5cHRvIG9uIElFMTEuXG52YXIgZ2V0UmFuZG9tVmFsdWVzID0gKHR5cGVvZihjcnlwdG8pICE9ICd1bmRlZmluZWQnICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKGNyeXB0bykpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgKHR5cGVvZihtc0NyeXB0bykgIT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5tc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMgPT0gJ2Z1bmN0aW9uJyAmJiBtc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChtc0NyeXB0bykpO1xuXG5pZiAoZ2V0UmFuZG9tVmFsdWVzKSB7XG4gIC8vIFdIQVRXRyBjcnlwdG8gUk5HIC0gaHR0cDovL3dpa2kud2hhdHdnLm9yZy93aWtpL0NyeXB0b1xuICB2YXIgcm5kczggPSBuZXcgVWludDhBcnJheSgxNik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcblxuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHdoYXR3Z1JORygpIHtcbiAgICBnZXRSYW5kb21WYWx1ZXMocm5kczgpO1xuICAgIHJldHVybiBybmRzODtcbiAgfTtcbn0gZWxzZSB7XG4gIC8vIE1hdGgucmFuZG9tKCktYmFzZWQgKFJORylcbiAgLy9cbiAgLy8gSWYgYWxsIGVsc2UgZmFpbHMsIHVzZSBNYXRoLnJhbmRvbSgpLiAgSXQncyBmYXN0LCBidXQgaXMgb2YgdW5zcGVjaWZpZWRcbiAgLy8gcXVhbGl0eS5cbiAgdmFyIHJuZHMgPSBuZXcgQXJyYXkoMTYpO1xuXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbWF0aFJORygpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgcjsgaSA8IDE2OyBpKyspIHtcbiAgICAgIGlmICgoaSAmIDB4MDMpID09PSAwKSByID0gTWF0aC5yYW5kb20oKSAqIDB4MTAwMDAwMDAwO1xuICAgICAgcm5kc1tpXSA9IHIgPj4+ICgoaSAmIDB4MDMpIDw8IDMpICYgMHhmZjtcbiAgICB9XG5cbiAgICByZXR1cm4gcm5kcztcbiAgfTtcbn1cbiIsIi8qKlxuICogQ29udmVydCBhcnJheSBvZiAxNiBieXRlIHZhbHVlcyB0byBVVUlEIHN0cmluZyBmb3JtYXQgb2YgdGhlIGZvcm06XG4gKiBYWFhYWFhYWC1YWFhYLVhYWFgtWFhYWC1YWFhYWFhYWFhYWFhcbiAqL1xudmFyIGJ5dGVUb0hleCA9IFtdO1xuZm9yICh2YXIgaSA9IDA7IGkgPCAyNTY7ICsraSkge1xuICBieXRlVG9IZXhbaV0gPSAoaSArIDB4MTAwKS50b1N0cmluZygxNikuc3Vic3RyKDEpO1xufVxuXG5mdW5jdGlvbiBieXRlc1RvVXVpZChidWYsIG9mZnNldCkge1xuICB2YXIgaSA9IG9mZnNldCB8fCAwO1xuICB2YXIgYnRoID0gYnl0ZVRvSGV4O1xuICAvLyBqb2luIHVzZWQgdG8gZml4IG1lbW9yeSBpc3N1ZSBjYXVzZWQgYnkgY29uY2F0ZW5hdGlvbjogaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzE3NSNjNFxuICByZXR1cm4gKFtcbiAgICBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLFxuICAgIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sICctJyxcbiAgICBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLCAnLScsXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgJy0nLFxuICAgIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sICctJyxcbiAgICBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLFxuICAgIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXVxuICBdKS5qb2luKCcnKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBieXRlc1RvVXVpZDtcbiIsImltcG9ydCB7IENhblRocnVzdCB9IGZyb20gXCIuLi8uLi8uLi9pbnRlcmZhY2VzL2Nhbi10aHJ1c3RcIjtcclxuaW1wb3J0IHsgU2hpcFBvZCB9IGZyb20gXCIuLi8uLi9zaGlwLXBvZFwiO1xyXG5pbXBvcnQgeyBDb25zdGFudHMgfSBmcm9tIFwiLi4vLi4vLi4vdXRpbGl0aWVzL2NvbnN0YW50c1wiO1xyXG5pbXBvcnQgeyBTaGlwQXR0YWNobWVudCB9IGZyb20gXCIuLi9zaGlwLWF0dGFjaG1lbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBUaHJ1c3RlckF0dGFjaG1lbnQgZXh0ZW5kcyBTaGlwQXR0YWNobWVudCBpbXBsZW1lbnRzIENhblRocnVzdCB7XHJcbiAgICBzaGlwOiBTaGlwUG9kO1xyXG4gICAgc2NlbmU6IFBoYXNlci5TY2VuZTtcclxuICAgIHByaXZhdGUgZmxhcmVQYXJ0aWNsZXM6IFBoYXNlci5HYW1lT2JqZWN0cy5QYXJ0aWNsZXMuUGFydGljbGVFbWl0dGVyTWFuYWdlcjtcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3Ioc2NlbmU6IFBoYXNlci5TY2VuZSkge1xyXG4gICAgICAgIHN1cGVyKHNjZW5lKTtcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy5mbGFyZVBhcnRpY2xlcyA9IHNjZW5lLmFkZC5wYXJ0aWNsZXMoJ2ZsYXJlcycpO1xyXG4gICAgICAgIHRoaXMuZ2FtZU9iaiA9IHRoaXMuc2NlbmUuYWRkLnNwcml0ZSgwLCAwLCAndGhydXN0ZXInKTtcclxuICAgICAgICB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMuZ2FtZU9iaik7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIHRyaWdnZXIoKTogdm9pZCB7XHJcbiAgICAgICAgaWYodGhpcy5hY3RpdmUpIHtcclxuICAgICAgICAgICAgdGhpcy50aHJ1c3RGb3dhcmRzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICB0aHJ1c3RGb3dhcmRzKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuYXBwbHlUaHJ1c3QoQ29uc3RhbnRzLlRIUlVTVEVSX0ZPUkNFLCBDb25zdGFudHMuRlVFTF9QRVJfVEhSVVNULCBDb25zdGFudHMuSEVBVF9QRVJfVEhSVVNUKTtcclxuICAgICAgICB0aGlzLmRpc3BsYXlUaHJ1c3RlckZpcmUoQ29uc3RhbnRzLkZsYXJlLnllbGxvdywgMC4yLCAxKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHJpdmF0ZSBsYXN0Qm9vc3RUaW1lOiBudW1iZXIgPSAwO1xyXG4gICAgYm9vc3RGb3J3YXJkcygpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5zY2VuZS5nYW1lLmdldFRpbWUoKSA+PSB0aGlzLmxhc3RCb29zdFRpbWUgKyBDb25zdGFudHMuQk9PU1RFUl9DT09MRE9XTl9USU1FKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYXBwbHlUaHJ1c3QoQ29uc3RhbnRzLkJPT1NURVJfRk9SQ0UsIENvbnN0YW50cy5GVUVMX1BFUl9CT09TVCwgQ29uc3RhbnRzLkhFQVRfUEVSX0JPT1NUKTtcclxuICAgICAgICAgICAgdGhpcy5kaXNwbGF5VGhydXN0ZXJGaXJlKENvbnN0YW50cy5GbGFyZS5ibHVlLCAxLCAxMCk7XHJcbiAgICAgICAgICAgIHRoaXMubGFzdEJvb3N0VGltZSA9IHRoaXMuc2NlbmUuZ2FtZS5nZXRUaW1lKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0cmFmZUxlZnQoKTogdm9pZCB7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgc3RyYWZlUmlnaHQoKTogdm9pZCB7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgdGhydXN0QmFja3dhcmRzKCk6IHZvaWQge1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYXBwbHlUaHJ1c3QoZm9yY2U6IG51bWJlciwgZnVlbDogbnVtYmVyLCBoZWF0OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5zaGlwLmdldFJlbWFpbmluZ0Z1ZWwoKSA+IDApIHtcclxuICAgICAgICAgICAgbGV0IGhlYWRpbmc6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSB0aGlzLnNoaXAuZ2V0SGVhZGluZygpO1xyXG4gICAgICAgICAgICBsZXQgZGVsdGFWOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gaGVhZGluZy5tdWx0aXBseShuZXcgUGhhc2VyLk1hdGguVmVjdG9yMihmb3JjZSwgZm9yY2UpKTtcclxuICAgICAgICAgICAgdGhpcy5zaGlwLmdldFBoeXNpY3NCb2R5KCkudmVsb2NpdHkuYWRkKGRlbHRhVik7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLnNoaXAucmVkdWNlRnVlbChmdWVsKTtcclxuICAgICAgICAgICAgdGhpcy5zaGlwLmFwcGx5SGVhdGluZyhoZWF0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBkaXNwbGF5VGhydXN0ZXJGaXJlKGNvbG91cjogQ29uc3RhbnRzLkZsYXJlLCBzdGFydFNjYWxlOiBudW1iZXIsIHF1YW50aXR5OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICAvLyBtYWtlIHRocnVzdGVyIGZpcmVcclxuICAgICAgICBsZXQgc2hpcFBvc2l0aW9uOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5zaGlwLmdldFJlYWxMb2NhdGlvbigpO1xyXG4gICAgICAgIGxldCBlbWlzc2lvblBvc2l0aW9uOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gbmV3IFBoYXNlci5NYXRoLlZlY3RvcjIoMjAsIDApLmFkZChzaGlwUG9zaXRpb24pO1xyXG4gICAgICAgIGxldCBuZWdhdGVkU2hpcEhlYWRpbmc6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSB0aGlzLnNoaXAuZ2V0SGVhZGluZygpLm5lZ2F0ZSgpO1xyXG4gICAgICAgIGxldCBhZGp1c3RlZEVtaXNzaW9uUG9zaXRpb246IFBoYXNlci5NYXRoLlZlY3RvcjIgPSBQaGFzZXIuTWF0aC5Sb3RhdGVBcm91bmQoZW1pc3Npb25Qb3NpdGlvbiwgc2hpcFBvc2l0aW9uLngsIHNoaXBQb3NpdGlvbi55LCBQaGFzZXIuTWF0aC5EZWdUb1JhZCh0aGlzLnNoaXAuZ2V0Um90YXRpb24oKSkpO1xyXG4gICAgICAgIGxldCBzaGlwVmVsb2NpdHk6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSB0aGlzLnNoaXAuZ2V0VmVsb2NpdHkoKTtcclxuICAgICAgICB0aGlzLmZsYXJlUGFydGljbGVzLmNyZWF0ZUVtaXR0ZXIoe1xyXG4gICAgICAgICAgICBmcmFtZTogY29sb3VyIGFzIG51bWJlcixcclxuICAgICAgICAgICAgeDogYWRqdXN0ZWRFbWlzc2lvblBvc2l0aW9uLngsXHJcbiAgICAgICAgICAgIHk6IGFkanVzdGVkRW1pc3Npb25Qb3NpdGlvbi55LFxyXG4gICAgICAgICAgICBsaWZlc3BhbjogeyBtaW46IDI1MCwgbWF4OiA1MDAgfSxcclxuICAgICAgICAgICAgc3BlZWRYOiB7IG1pbjogKG5lZ2F0ZWRTaGlwSGVhZGluZy54KjEwMCkrc2hpcFZlbG9jaXR5LngsIG1heDogKG5lZ2F0ZWRTaGlwSGVhZGluZy54KjUwMCkrc2hpcFZlbG9jaXR5LnggfSxcclxuICAgICAgICAgICAgc3BlZWRZOiB7IG1pbjogKG5lZ2F0ZWRTaGlwSGVhZGluZy55KjEwMCkrc2hpcFZlbG9jaXR5LnksIG1heDogKG5lZ2F0ZWRTaGlwSGVhZGluZy55KjUwMCkrc2hpcFZlbG9jaXR5LnkgfSxcclxuICAgICAgICAgICAgYW5nbGU6IDAsXHJcbiAgICAgICAgICAgIGdyYXZpdHlYOiAwLFxyXG4gICAgICAgICAgICBncmF2aXR5WTogMCxcclxuICAgICAgICAgICAgc2NhbGU6IHsgc3RhcnQ6IHN0YXJ0U2NhbGUsIGVuZDogMCB9LFxyXG4gICAgICAgICAgICBxdWFudGl0eTogcXVhbnRpdHksXHJcbiAgICAgICAgICAgIGJsZW5kTW9kZTogJ0FERCcsXHJcbiAgICAgICAgICAgIG1heFBhcnRpY2xlczogMVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgU2hpcFBvZCB9IGZyb20gXCIuLi9zaGlwLXBvZFwiO1xyXG5pbXBvcnQgeyBIYXNHYW1lT2JqZWN0IH0gZnJvbSBcIi4uLy4uL2ludGVyZmFjZXMvaGFzLWdhbWUtb2JqZWN0XCI7XHJcbmltcG9ydCB7IFVwZGF0YWJsZSB9IGZyb20gXCIuLi8uLi9pbnRlcmZhY2VzL3VwZGF0YWJsZVwiO1xyXG5pbXBvcnQgeyBIYXNMb2NhdGlvbiB9IGZyb20gXCIuLi8uLi9pbnRlcmZhY2VzL2hhcy1sb2NhdGlvblwiO1xyXG5pbXBvcnQgeyBIYXNJbnRlZ3JpdHkgfSBmcm9tIFwiLi4vLi4vaW50ZXJmYWNlcy9oYXMtaW50ZWdyaXR5XCI7XHJcbmltcG9ydCB7IENvbnN0YW50cyB9IGZyb20gXCIuLi8uLi91dGlsaXRpZXMvY29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IEF0dGFjaG1lbnRMb2NhdGlvbiB9IGZyb20gXCIuL2F0dGFjaG1lbnQtbG9jYXRpb25cIjtcclxuaW1wb3J0IHsgSGVscGVycyB9IGZyb20gXCIuLi8uLi91dGlsaXRpZXMvaGVscGVyc1wiO1xyXG5pbXBvcnQgeyBIYXNQaHlzaWNzR2FtZU9iamVjdCB9IGZyb20gXCIuLi8uLi9pbnRlcmZhY2VzL2hhcy1waHlzaWNzLWdhbWUtb2JqZWN0XCI7XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgU2hpcEF0dGFjaG1lbnQgaW1wbGVtZW50cyBVcGRhdGFibGUsIEhhc0dhbWVPYmplY3Q8UGhhc2VyLkdhbWVPYmplY3RzLlNwcml0ZT4sIEhhc1BoeXNpY3NHYW1lT2JqZWN0LCBIYXNMb2NhdGlvbiwgSGFzSW50ZWdyaXR5IHtcclxuICAgIHByb3RlY3RlZCBzaGlwOiBTaGlwUG9kO1xyXG4gICAgcHJvdGVjdGVkIHNjZW5lOiBQaGFzZXIuU2NlbmU7XHJcbiAgICBwcm90ZWN0ZWQgZ2FtZU9iajogUGhhc2VyLkdhbWVPYmplY3RzLlNwcml0ZTtcclxuICAgIHByb3RlY3RlZCBpbnRlZ3JpdHk6IG51bWJlcjtcclxuICAgIHByb3RlY3RlZCBhdHRhY2htZW50TG9jYXRpb246IEF0dGFjaG1lbnRMb2NhdGlvbjtcclxuICAgIFxyXG4gICAgaXNUaHJvd246IGJvb2xlYW47XHJcbiAgICBhY3RpdmU6IGJvb2xlYW47XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lOiBQaGFzZXIuU2NlbmUpIHtcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuaW50ZWdyaXR5ID0gQ29uc3RhbnRzLk1BWF9JTlRFR1JJVFk7XHJcbiAgICAgICAgdGhpcy5pc1Rocm93biA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGF0dGFjaChzaGlwOiBTaGlwUG9kLCBsb2NhdGlvbjogQXR0YWNobWVudExvY2F0aW9uID0gQXR0YWNobWVudExvY2F0aW9uLmZyb250KTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5zaGlwID0gc2hpcDtcclxuICAgICAgICB0aGlzLnNldEF0dGFjaG1lbnRMb2NhdGlvbihsb2NhdGlvbik7XHJcbiAgICAgICAgbGV0IGNlbnRyZTogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuc2hpcC5nZXRSZWFsTG9jYXRpb24oKTtcclxuICAgICAgICB0aGlzLmdldFBoeXNpY3NCb2R5KCkucG9zaXRpb24gPSBjZW50cmU7IC8vIGNlbnRyZSBvbiBzaGlwIGxvY2F0aW9uXHJcbiAgICAgICAgdGhpcy5nZXRQaHlzaWNzQm9keSgpLnJvdGF0aW9uID0gdGhpcy5zaGlwLmdldFJvdGF0aW9uKCk7IC8vIHNldCBoZWFkaW5nIHRvIG1hdGNoIHNoaXBcclxuICAgIH1cclxuXHJcbiAgICBkZXRhY2goKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5zaGlwID0gbnVsbDtcclxuICAgICAgICB0aGlzLmF0dGFjaG1lbnRMb2NhdGlvbiA9IG51bGw7XHJcbiAgICAgICAgbGV0IGdvOiBQaGFzZXIuR2FtZU9iamVjdHMuR2FtZU9iamVjdCA9IHRoaXMuZ2V0R2FtZU9iamVjdCgpO1xyXG4gICAgICAgIGdvLnNldEFjdGl2ZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnNjZW5lLmFkZC5leGlzdGluZyhnbyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGdldEdhbWVPYmplY3QoKTogUGhhc2VyLkdhbWVPYmplY3RzLlNwcml0ZSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZU9iajtcclxuICAgIH1cclxuXHJcbiAgICBnZXRQaHlzaWNzQm9keSgpOiBQaGFzZXIuUGh5c2ljcy5BcmNhZGUuQm9keSB7XHJcbiAgICAgICAgbGV0IGdvOiBQaGFzZXIuR2FtZU9iamVjdHMuU3ByaXRlID0gdGhpcy5nZXRHYW1lT2JqZWN0KCk7XHJcbiAgICAgICAgaWYgKGdvKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBnby5ib2R5IGFzIFBoYXNlci5QaHlzaWNzLkFyY2FkZS5Cb2R5O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBhYnN0cmFjdCB1cGRhdGUoKTogdm9pZDtcclxuXHJcbiAgICBhYnN0cmFjdCB0cmlnZ2VyKCk6IHZvaWQ7XHJcblxyXG4gICAgZ2V0Um90YXRpb24oKTogbnVtYmVyIHtcclxuICAgICAgICBsZXQgcm90YXRpb246IG51bWJlciA9IHRoaXMuZ2V0R2FtZU9iamVjdCgpLmFuZ2xlO1xyXG4gICAgICAgIGlmICh0aGlzLnNoaXApIHtcclxuICAgICAgICAgICAgcm90YXRpb24gKz0gdGhpcy5zaGlwLmdldFJvdGF0aW9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByb3RhdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgYSBub3JtYWxpc2VkIHtQaGFzZXIuTWF0aC5WZWN0b3IyfSByZXByZXNlbnRpbmcgXHJcbiAgICAgKiB0aGUgZGlyZWN0aW9uIHRoaXMgb2JqZWN0IHdvdWxkIHRyYXZlbFxyXG4gICAgICovXHJcbiAgICBnZXRIZWFkaW5nKCk6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIGxldCByb3RhdGlvbjogbnVtYmVyID0gdGhpcy5nZXRSb3RhdGlvbigpO1xyXG4gICAgICAgIHJldHVybiBIZWxwZXJzLmdldEhlYWRpbmcocm90YXRpb24pO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFNwZWVkKCk6IG51bWJlciB7XHJcbiAgICAgICAgbGV0IHNwZWVkOiBudW1iZXIgPSB0aGlzLmdldFZlbG9jaXR5KCkubGVuZ3RoKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuc2hpcCkge1xyXG4gICAgICAgICAgICBzcGVlZCArPSB0aGlzLnNoaXAuZ2V0U3BlZWQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHNwZWVkO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFZlbG9jaXR5KCk6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIGlmICh0aGlzLmdldFBoeXNpY3NCb2R5KCkpIHtcclxuICAgICAgICAgICAgbGV0IHZlbG9jaXR5OiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5nZXRQaHlzaWNzQm9keSgpLnZlbG9jaXR5LmNsb25lKCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNoaXApIHtcclxuICAgICAgICAgICAgICAgIHZlbG9jaXR5LmFkZCh0aGlzLnNoaXAuZ2V0VmVsb2NpdHkoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHZlbG9jaXR5O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUGhhc2VyLk1hdGguVmVjdG9yMi5aRVJPO1xyXG4gICAgfVxyXG5cclxuICAgIGdldExvY2F0aW9uKCk6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIGxldCBjYW1lcmFQb3M6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSB0aGlzLnNjZW5lLmNhbWVyYXMubWFpbi5nZXRXb3JsZFBvaW50KDAsIDApO1xyXG4gICAgICAgIGxldCByZWFsTG9jOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5nZXRSZWFsTG9jYXRpb24oKTtcclxuICAgICAgICByZXR1cm4gbmV3IFBoYXNlci5NYXRoLlZlY3RvcjIocmVhbExvYy54IC0gY2FtZXJhUG9zLngsIHJlYWxMb2MueSAtIGNhbWVyYVBvcy55KTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRSZWFsTG9jYXRpb24oKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgbGV0IGdvOiBQaGFzZXIuR2FtZU9iamVjdHMuU3ByaXRlID0gdGhpcy5nZXRHYW1lT2JqZWN0KCk7XHJcbiAgICAgICAgaWYgKGdvKSB7XHJcbiAgICAgICAgICAgIGxldCByZWFsTG9jOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gbmV3IFBoYXNlci5NYXRoLlZlY3RvcjIoZ28ueCwgZ28ueSk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNoaXApIHtcclxuICAgICAgICAgICAgICAgIHJlYWxMb2MuYWRkKHRoaXMuc2hpcC5nZXRSZWFsTG9jYXRpb24oKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJlYWxMb2M7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBQaGFzZXIuTWF0aC5WZWN0b3IyLlpFUk87XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0SW50ZWdyaXR5KCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW50ZWdyaXR5O1xyXG4gICAgfVxyXG5cclxuICAgIHN1c3RhaW5EYW1hZ2UoYW1vdW50OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmludGVncml0eSAtPSBhbW91bnQ7XHJcbiAgICAgICAgaWYgKHRoaXMuaW50ZWdyaXR5IDw9IDApIHtcclxuICAgICAgICAgICAgdGhpcy5pbnRlZ3JpdHkgPSAwO1xyXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3koKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVwYWlyKGFtb3VudDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5pbnRlZ3JpdHkgPSBhbW91bnQ7XHJcbiAgICAgICAgaWYgKHRoaXMuaW50ZWdyaXR5ID4gQ29uc3RhbnRzLk1BWF9JTlRFR1JJVFkpIHtcclxuICAgICAgICAgICAgdGhpcy5pbnRlZ3JpdHkgPSBDb25zdGFudHMuTUFYX0lOVEVHUklUWTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc2hpcC5hdHRhY2htZW50cy5yZW1vdmVBdHRhY2htZW50KHRoaXMuYXR0YWNobWVudExvY2F0aW9uKTtcclxuICAgICAgICB0aGlzLmdldEdhbWVPYmplY3QoKS5kZXN0cm95KCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0QXR0YWNobWVudExvY2F0aW9uKGxvYzogQXR0YWNobWVudExvY2F0aW9uKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5hdHRhY2htZW50TG9jYXRpb24gPSBsb2M7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBIYXNHYW1lT2JqZWN0IH0gZnJvbSBcIi4uLy4uLy4uL2ludGVyZmFjZXMvaGFzLWdhbWUtb2JqZWN0XCI7XHJcbmltcG9ydCB7IEJ1bGxldFBhcmFtZXRlcnMgfSBmcm9tIFwiLi4vLi4vLi4vaW50ZXJmYWNlcy9idWxsZXQtcGFyYW1ldGVyc1wiO1xyXG5pbXBvcnQgeyBIYXNMb2NhdGlvbiB9IGZyb20gXCIuLi8uLi8uLi9pbnRlcmZhY2VzL2hhcy1sb2NhdGlvblwiO1xyXG5pbXBvcnQgeyBHbG9iYWxzIH0gZnJvbSBcIi4uLy4uLy4uL3V0aWxpdGllcy9nbG9iYWxzXCI7XHJcbmltcG9ydCB7IEhhc1BoeXNpY3NHYW1lT2JqZWN0IH0gZnJvbSBcIi4uLy4uLy4uL2ludGVyZmFjZXMvaGFzLXBoeXNpY3MtZ2FtZS1vYmplY3RcIjtcclxuaW1wb3J0IHsgSGVscGVycyB9IGZyb20gXCIuLi8uLi8uLi91dGlsaXRpZXMvaGVscGVyc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEJ1bGxldCBpbXBsZW1lbnRzIEhhc0dhbWVPYmplY3Q8UGhhc2VyLkdhbWVPYmplY3RzLlNwcml0ZT4sIEhhc1BoeXNpY3NHYW1lT2JqZWN0LCBIYXNMb2NhdGlvbiB7XHJcbiAgICBzY2VuZTogUGhhc2VyLlNjZW5lO1xyXG4gICAgZm9yY2U6IG51bWJlcjtcclxuICAgIGdhbWVPYmo6IFBoYXNlci5HYW1lT2JqZWN0cy5TcHJpdGU7XHJcbiAgICBhY3RpdmU6IGJvb2xlYW47XHJcbiAgICBzY2FsZTogbnVtYmVyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lOiBQaGFzZXIuU2NlbmUsIHBhcmFtczogQnVsbGV0UGFyYW1ldGVycykge1xyXG4gICAgICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy5mb3JjZSA9IHBhcmFtcy5mb3JjZSB8fCAwO1xyXG4gICAgICAgIHRoaXMuZ2FtZU9iaiA9IHRoaXMuc2NlbmUuYWRkLnNwcml0ZShwYXJhbXMueCB8fCAwLCBwYXJhbXMueSB8fCAwLCAnYnVsbGV0Jyk7XHJcbiAgICAgICAgdGhpcy5nYW1lT2JqLnNldFNjYWxlKHBhcmFtcy5zY2FsZSB8fCAxLCBwYXJhbXMuc2NhbGUgfHwgMSk7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmdhbWVPYmopO1xyXG5cclxuICAgICAgICB0aGlzLmdldEdhbWVPYmplY3QoKS5hbmdsZSA9IHBhcmFtcy5hbmdsZSB8fCAwO1xyXG4gICAgICAgIHRoaXMuZ2V0UGh5c2ljc0JvZHkoKS52ZWxvY2l0eSA9IHBhcmFtcy5zdGFydGluZ1YgfHwgUGhhc2VyLk1hdGguVmVjdG9yMi5aRVJPO1xyXG4gICAgICAgIHRoaXMuYWRkQ29sbGlzaW9uRGV0ZWN0aW9uKCk7XHJcbiAgICAgICAgdGhpcy5zZXRJbk1vdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYWRkQ29sbGlzaW9uRGV0ZWN0aW9uKCk6IHZvaWQge1xyXG4gICAgICAgIGZvciAodmFyIGk9MDsgaTxHbG9iYWxzLmludGVyYWN0YWJsZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLmdhbWVPYmosIEdsb2JhbHMuaW50ZXJhY3RhYmxlc1tpXSwgdGhpcy5vbkltcGFjdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgb25JbXBhY3QoYnVsbGV0OiBQaGFzZXIuR2FtZU9iamVjdHMuR2FtZU9iamVjdCwgdGFyZ2V0OiBQaGFzZXIuR2FtZU9iamVjdHMuR2FtZU9iamVjdCk6IHZvaWQge1xyXG4gICAgICAgIC8vIFRPRE86IGltcGFydCBkYW1hZ2UgdG8gdGFyZ2V0IGFuZCBkZXN0cm95IGJ1bGxldFxyXG4gICAgfVxyXG5cclxuICAgIGdldEdhbWVPYmplY3QoKTogUGhhc2VyLkdhbWVPYmplY3RzLlNwcml0ZSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZU9iajtcclxuICAgIH1cclxuXHJcbiAgICBnZXRQaHlzaWNzQm9keSgpOiBQaGFzZXIuUGh5c2ljcy5BcmNhZGUuQm9keSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0R2FtZU9iamVjdCgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEdhbWVPYmplY3QoKS5ib2R5IGFzIFBoYXNlci5QaHlzaWNzLkFyY2FkZS5Cb2R5O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRSb3RhdGlvbigpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldEdhbWVPYmplY3QoKS5hbmdsZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRIZWFkaW5nKCk6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIHJldHVybiBIZWxwZXJzLmdldEhlYWRpbmcodGhpcy5nZXRSb3RhdGlvbigpKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRTcGVlZCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFZlbG9jaXR5KCkubGVuZ3RoKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VmVsb2NpdHkoKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0UGh5c2ljc0JvZHkoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRQaHlzaWNzQm9keSgpLnZlbG9jaXR5LmNsb25lKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBQaGFzZXIuTWF0aC5WZWN0b3IyLlpFUk87XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0TG9jYXRpb24oKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgbGV0IGNhbWVyYVBvczogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuc2NlbmUuY2FtZXJhcy5tYWluLmdldFdvcmxkUG9pbnQoMCwgMCk7XHJcbiAgICAgICAgbGV0IGxvYzogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuZ2V0UmVhbExvY2F0aW9uKCk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKGxvYy54IC0gY2FtZXJhUG9zLngsIGxvYy55IC0gY2FtZXJhUG9zLnkpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFJlYWxMb2NhdGlvbigpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICBpZiAodGhpcy5nZXRHYW1lT2JqZWN0KCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKHRoaXMuZ2V0R2FtZU9iamVjdCgpLngsIHRoaXMuZ2V0R2FtZU9iamVjdCgpLnkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUGhhc2VyLk1hdGguVmVjdG9yMi5aRVJPO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0SW5Nb3Rpb24oKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IGhlYWRpbmc6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSB0aGlzLmdldEhlYWRpbmcoKTtcclxuICAgICAgICAvLyBhZGQgZm9yY2UgdG8gaGVhZGluZ1xyXG4gICAgICAgIGxldCBkZWx0YVY6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSBoZWFkaW5nLm11bHRpcGx5KEhlbHBlcnMudmVjdG9yMih0aGlzLmZvcmNlKSk7XHJcbiAgICAgICAgLy8gYWRkIGRlbHRhViB0byBjdXJyZW50IFZlbG9jaXR5XHJcbiAgICAgICAgdGhpcy5nZXRQaHlzaWNzQm9keSgpLnZlbG9jaXR5LmFkZChkZWx0YVYpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgTW91c2UgfSBmcm9tIFwiLi4vdXRpbGl0aWVzL21vdXNlXCI7XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgWm9vbWFibGVTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBwcm90ZWN0ZWQgbW91c2U6IE1vdXNlO1xyXG4gICAgcHJpdmF0ZSBpbmNyZW1lbnQ6IG51bWJlcjtcclxuICAgIHByaXZhdGUgbWluWm9vbTogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBtYXhab29tOiBudW1iZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IoaW5jcmVtZW50OiBudW1iZXIsIGNvbmZpZzogUGhhc2VyLlR5cGVzLlNjZW5lcy5TZXR0aW5nc0NvbmZpZykge1xyXG4gICAgICAgIHN1cGVyKGNvbmZpZyk7XHJcbiAgICAgICAgdGhpcy5pbmNyZW1lbnQgPSBpbmNyZW1lbnQ7XHJcbiAgICAgICAgdGhpcy5taW5ab29tID0gMSAtIChpbmNyZW1lbnQgKiAyKTtcclxuICAgICAgICB0aGlzLm1heFpvb20gPSAxO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBwcmVsb2FkKCk6IHZvaWQ7XHJcblxyXG4gICAgcHVibGljIGNyZWF0ZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLm1vdXNlID0gbmV3IE1vdXNlKHRoaXMpO1xyXG4gICAgICAgIHRoaXMubW91c2Uub25XaGVlbFVwKChzY3JvbGxBbW91bnQ6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICBsZXQgY3VycmVudFpvb206IG51bWJlciA9IHRoaXMuY2FtZXJhcy5tYWluLnpvb207XHJcbiAgICAgICAgICAgIC8vIHpvb20gb3V0XHJcbiAgICAgICAgICAgIGxldCBuZXdab29tOiBudW1iZXIgPSBjdXJyZW50Wm9vbSAtIHRoaXMuaW5jcmVtZW50O1xyXG4gICAgICAgICAgICBpZiAobmV3Wm9vbSA8IHRoaXMubWluWm9vbSkge1xyXG4gICAgICAgICAgICAgICAgbmV3Wm9vbSA9IHRoaXMubWluWm9vbTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgem9vbWluZyBmcm9tICR7Y3VycmVudFpvb219IHRvICR7bmV3Wm9vbX1gKTtcclxuICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uem9vbVRvKG5ld1pvb20pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubW91c2Uub25XaGVlbERvd24oKHNjcm9sbEFtb3VudDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBjdXJyZW50Wm9vbTogbnVtYmVyID0gdGhpcy5jYW1lcmFzLm1haW4uem9vbTtcclxuICAgICAgICAgICAgLy8gem9vbSBpblxyXG4gICAgICAgICAgICBsZXQgbmV3Wm9vbTogbnVtYmVyID0gY3VycmVudFpvb20gKyB0aGlzLmluY3JlbWVudDtcclxuICAgICAgICAgICAgaWYgKG5ld1pvb20gPiB0aGlzLm1heFpvb20pIHtcclxuICAgICAgICAgICAgICAgIG5ld1pvb20gPSB0aGlzLm1heFpvb207XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYHpvb21pbmcgZnJvbSAke2N1cnJlbnRab29tfSB0byAke25ld1pvb219YCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnpvb21UbyhuZXdab29tKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgdXBkYXRlKCk6IHZvaWQ7XHJcbn0iLCJpbXBvcnQgeyBTaGlwU2NlbmUgfSBmcm9tIFwiLi9zY2VuZXMvc2hpcC1zY2VuZVwiO1xyXG5pbXBvcnQgeyBHbG9iYWxzIH0gZnJvbSBcIi4vdXRpbGl0aWVzL2dsb2JhbHNcIjtcclxuaW1wb3J0IHsgT3ZlcmxheVNjZW5lIH0gZnJvbSBcIi4vc2NlbmVzL292ZXJsYXktc2NlbmVcIjtcclxuaW1wb3J0IHsgRmFyU3RhcnNTY2VuZSB9IGZyb20gXCIuL3NjZW5lcy9mYXItc3RhcnMtc2NlbmVcIjtcclxuaW1wb3J0IHsgU3lzdGVtU2NlbmUgfSBmcm9tIFwiLi9zY2VuZXMvc3lzdGVtLXNjZW5lXCI7XHJcblxyXG5jb25zdCBnYW1lQ29uZmlnOiBQaGFzZXIuVHlwZXMuQ29yZS5HYW1lQ29uZmlnID0ge1xyXG4gICAgdHlwZTogUGhhc2VyLkFVVE8sXHJcbiAgICBzY2FsZToge1xyXG4gICAgICAgIHdpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aCxcclxuICAgICAgICBoZWlnaHQ6IHdpbmRvdy5pbm5lckhlaWdodFxyXG4gICAgfSxcclxuICAgIGJhY2tncm91bmRDb2xvcjogJyMwMDAwMDAnLFxyXG4gICAgcGFyZW50OiAnc3BhY2Utc2ltJyxcclxuICAgIHBoeXNpY3M6IHtcclxuICAgICAgICBkZWZhdWx0OiAnYXJjYWRlJyxcclxuICAgICAgICBhcmNhZGU6IHtcclxuICAgICAgICAgICAgZ3Jhdml0eTogeyB4OiAwLCB5OiAwIH0sXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHNjZW5lOiBbRmFyU3RhcnNTY2VuZSwgU3lzdGVtU2NlbmUsIFNoaXBTY2VuZSwgT3ZlcmxheVNjZW5lXVxyXG59O1xyXG5leHBvcnQgY29uc3QgZ2FtZTogUGhhc2VyLkdhbWUgPSBuZXcgUGhhc2VyLkdhbWUoZ2FtZUNvbmZpZyk7XHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4ge1xyXG4gICAgZ2FtZS5zY2FsZS5yZWZyZXNoKCk7XHJcbn0pO1xyXG5cclxuR2xvYmFscy5nYW1lID0gZ2FtZTtcclxuR2xvYmFscy5kZWJ1ZyA9IHRydWU7IiwiaW1wb3J0IHsgU2hpcFBvZCB9IGZyb20gXCIuLi9zaGlwcy9zaGlwLXBvZFwiO1xyXG5pbXBvcnQgeyBHbG9iYWxzIH0gZnJvbSBcIi4uL3V0aWxpdGllcy9nbG9iYWxzXCI7XHJcbmltcG9ydCB7IENhbm5vbkF0dGFjaG1lbnQgfSBmcm9tIFwiLi4vc2hpcHMvYXR0YWNobWVudHMvb2ZmZW5jZS9jYW5ub24tYXR0YWNobWVudFwiO1xyXG5pbXBvcnQgeyBab29tYWJsZVNjZW5lIH0gZnJvbSBcIi4vem9vbWFibGUtc2NlbmVcIjtcclxuaW1wb3J0IHsgQXR0YWNobWVudExvY2F0aW9uIH0gZnJvbSBcIi4uL3NoaXBzL2F0dGFjaG1lbnRzL2F0dGFjaG1lbnQtbG9jYXRpb25cIjtcclxuaW1wb3J0IHsgU2hpcEF0dGFjaG1lbnQgfSBmcm9tIFwiLi4vc2hpcHMvYXR0YWNobWVudHMvc2hpcC1hdHRhY2htZW50XCI7XHJcbmltcG9ydCB7IFRocnVzdGVyQXR0YWNobWVudCB9IGZyb20gXCIuLi9zaGlwcy9hdHRhY2htZW50cy91dGlsaXR5L3RocnVzdGVyLWF0dGFjaG1lbnRcIjtcclxuaW1wb3J0IHsgSGVscGVycyB9IGZyb20gXCIuLi91dGlsaXRpZXMvaGVscGVyc1wiO1xyXG5pbXBvcnQgeyBPZmZlbmNlQXR0YWNobWVudCB9IGZyb20gXCIuLi9zaGlwcy9hdHRhY2htZW50cy9vZmZlbmNlL29mZmVuY2UtYXR0YWNobWVudFwiO1xyXG5pbXBvcnQgeyBNYWNoaW5lR3VuQXR0YWNobWVudCB9IGZyb20gXCIuLi9zaGlwcy9hdHRhY2htZW50cy9vZmZlbmNlL21hY2hpbmUtZ3VuLWF0dGFjaG1lbnRcIjtcclxuXHJcbmNvbnN0IHNjZW5lQ29uZmlnOiBQaGFzZXIuVHlwZXMuU2NlbmVzLlNldHRpbmdzQ29uZmlnID0ge1xyXG4gICAgYWN0aXZlOiB0cnVlLFxyXG4gICAgdmlzaWJsZTogdHJ1ZSxcclxuICAgIGtleTogJ1NoaXBTY2VuZSdcclxufTtcclxuXHJcbmV4cG9ydCBjbGFzcyBTaGlwU2NlbmUgZXh0ZW5kcyBab29tYWJsZVNjZW5lIHtcclxuICAgIHByaXZhdGUgcGxheWVyOiBTaGlwUG9kO1xyXG5cclxuICAgIC8qKiBJbnB1dCBIYW5kbGVycyAqL1xyXG4gICAgcHJpdmF0ZSB0aHJ1c3RLZXk6IFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXk7XHJcbiAgICBwcml2YXRlIGJvb3N0S2V5OiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5O1xyXG4gICAgcHJpdmF0ZSByb3RhdGVBdHRhY2htZW50c0Nsb2Nrd2lzZUtleTogUGhhc2VyLklucHV0LktleWJvYXJkLktleTtcclxuICAgIHByaXZhdGUgcm90YXRlQXR0YWNobWVudHNBbnRpQ2xvY2t3aXNlS2V5OiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5O1xyXG4gICAgcHJpdmF0ZSBkZXRhY2hBdHRhY2htZW50S2V5OiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5O1xyXG4gICAgcHJpdmF0ZSB0aHJvd0F0dGFjaG1lbnRLZXk6IFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXk7XHJcbiAgICBwcml2YXRlIGdyYWJBdHRhY2htZW50S2V5OiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5O1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigwLjQsIHNjZW5lQ29uZmlnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnc2hpcC1wb2QnLCAnLi9hc3NldHMvc3ByaXRlcy9zaGlwLXBvZC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3RocnVzdGVyJywgJy4vYXNzZXRzL3Nwcml0ZXMvdGhydXN0ZXIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdjYW5ub24nLCAnLi9hc3NldHMvc3ByaXRlcy9jYW5ub24ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdtYWNoaW5lLWd1bicsICcuL2Fzc2V0cy9zcHJpdGVzL21hY2hpbmUtZ3VuLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnZmxhcmVzJywgJy4vYXNzZXRzL3BhcnRpY2xlcy9mbGFyZXMucG5nJywge1xyXG4gICAgICAgICAgICBmcmFtZVdpZHRoOiAxMzAsXHJcbiAgICAgICAgICAgIGZyYW1lSGVpZ2h0OiAxMzIsXHJcbiAgICAgICAgICAgIHN0YXJ0RnJhbWU6IDAsXHJcbiAgICAgICAgICAgIGVuZEZyYW1lOiA0XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdleHBsb3Npb24nLCAnLi9hc3NldHMvcGFydGljbGVzL2V4cGxvc2lvbi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2J1bGxldCcsICcuL2Fzc2V0cy9zcHJpdGVzL2J1bGxldC5wbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIgPSBuZXcgU2hpcFBvZCh0aGlzLCB7XHJcbiAgICAgICAgICAgIHg6IDAsXHJcbiAgICAgICAgICAgIHk6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBHbG9iYWxzLnBsYXllciA9IHRoaXMucGxheWVyO1xyXG4gICAgICAgIHRoaXMucGxheWVyLnNldFRhcmdldCh0aGlzLm1vdXNlKTtcclxuXHJcbiAgICAgICAgLy8gVE1QXHJcbiAgICAgICAgbGV0IHRocnVzdGVyOiBUaHJ1c3RlckF0dGFjaG1lbnQgPSBuZXcgVGhydXN0ZXJBdHRhY2htZW50KHRoaXMpO1xyXG4gICAgICAgIHRoaXMucGxheWVyLmF0dGFjaG1lbnRzLmFkZEF0dGFjaG1lbnQodGhydXN0ZXIpO1xyXG4gICAgICAgIGxldCBjYW5vbjogQ2Fubm9uQXR0YWNobWVudCA9IG5ldyBDYW5ub25BdHRhY2htZW50KHRoaXMpO1xyXG4gICAgICAgIHRoaXMucGxheWVyLmF0dGFjaG1lbnRzLmFkZEF0dGFjaG1lbnQoY2Fub24pO1xyXG4gICAgICAgIHRoaXMucGxheWVyLmF0dGFjaG1lbnRzLnJvdGF0ZUF0dGFjaG1lbnRzQ2xvY2t3aXNlKCk7XHJcbiAgICAgICAgbGV0IG1hY2hpbmVHdW46IE1hY2hpbmVHdW5BdHRhY2htZW50ID0gbmV3IE1hY2hpbmVHdW5BdHRhY2htZW50KHRoaXMpO1xyXG4gICAgICAgIHRoaXMucGxheWVyLmF0dGFjaG1lbnRzLmFkZEF0dGFjaG1lbnQobWFjaGluZUd1bik7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0dXBDYW1lcmEodGhpcy5wbGF5ZXIpO1xyXG4gICAgICAgIHRoaXMuc2V0dXBJbnB1dEhhbmRsaW5nKCk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIC8vIGFjdGl2YXRlIFRocnVzdGVyXHJcbiAgICAgICAgaWYgKHRoaXMudGhydXN0S2V5LmlzRG93bikge1xyXG4gICAgICAgICAgICBsZXQgdGhydXN0ZXI6IFRocnVzdGVyQXR0YWNobWVudCA9IHRoaXMucGxheWVyLmdldFRocnVzdGVyKCk7XHJcbiAgICAgICAgICAgIGlmICh0aHJ1c3Rlcikge1xyXG4gICAgICAgICAgICAgICAgdGhydXN0ZXIudGhydXN0Rm93YXJkcygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGFjdGl2YXRlIEJvb3N0ZXJcclxuICAgICAgICBpZiAodGhpcy5ib29zdEtleS5pc0Rvd24pIHtcclxuICAgICAgICAgICAgbGV0IHRocnVzdGVyOiBUaHJ1c3RlckF0dGFjaG1lbnQgPSB0aGlzLnBsYXllci5nZXRUaHJ1c3RlcigpO1xyXG4gICAgICAgICAgICBpZiAodGhydXN0ZXIpIHtcclxuICAgICAgICAgICAgICAgIHRocnVzdGVyLmJvb3N0Rm9yd2FyZHMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBMZWZ0IENsaWNrOiBmaXJlIGFueSB3ZWFwb25zXHJcbiAgICAgICAgaWYgKHRoaXMuaW5wdXQuYWN0aXZlUG9pbnRlci5sZWZ0QnV0dG9uRG93bigpKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGk9MDsgaTxIZWxwZXJzLmVudW1MZW5ndGgoQXR0YWNobWVudExvY2F0aW9uKTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXIuYXR0YWNobWVudHMuZ2V0QXR0YWNobWVudChpKSBpbnN0YW5jZW9mIE9mZmVuY2VBdHRhY2htZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGE6IE9mZmVuY2VBdHRhY2htZW50ID0gdGhpcy5wbGF5ZXIuYXR0YWNobWVudHMuZ2V0QXR0YWNobWVudChpKSBhcyBPZmZlbmNlQXR0YWNobWVudDtcclxuICAgICAgICAgICAgICAgICAgICBhLnRyaWdnZXIoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBSaWdodCBDbGljazogYWN0aXZhdGUgZnJvbnQgYXR0YWNobWVudFxyXG4gICAgICAgIGlmICh0aGlzLmlucHV0LmFjdGl2ZVBvaW50ZXIucmlnaHRCdXR0b25Eb3duKCkpIHtcclxuICAgICAgICAgICAgbGV0IGE6IFNoaXBBdHRhY2htZW50ID0gdGhpcy5wbGF5ZXIuYXR0YWNobWVudHMuZ2V0QXR0YWNobWVudChBdHRhY2htZW50TG9jYXRpb24uZnJvbnQpO1xyXG4gICAgICAgICAgICBpZiAoYSkge1xyXG4gICAgICAgICAgICAgICAgYS50cmlnZ2VyKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMucm90YXRlQXR0YWNobWVudHNDbG9ja3dpc2VLZXkuaXNEb3duKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyLmF0dGFjaG1lbnRzLnJvdGF0ZUF0dGFjaG1lbnRzQ2xvY2t3aXNlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnJvdGF0ZUF0dGFjaG1lbnRzQW50aUNsb2Nrd2lzZUtleS5pc0Rvd24pIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIuYXR0YWNobWVudHMucm90YXRlQXR0YWNobWVudHNBbnRpQ2xvY2t3aXNlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGRpc2NhcmQgRnJvbnQgQXR0YWNobWVudFxyXG4gICAgICAgIGlmICh0aGlzLmRldGFjaEF0dGFjaG1lbnRLZXkuaXNEb3duKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyLmF0dGFjaG1lbnRzLnJlbW92ZUF0dGFjaG1lbnQoQXR0YWNobWVudExvY2F0aW9uLmZyb250KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gdGhyb3cgRnJvbnQgQXR0YWNobWVudFxyXG4gICAgICAgIGlmICh0aGlzLnRocm93QXR0YWNobWVudEtleS5pc0Rvd24pIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIuYXR0YWNobWVudHMudGhyb3dBdHRhY2htZW50KEF0dGFjaG1lbnRMb2NhdGlvbi5mcm9udCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGdyYWIgbmVhcmJ5IEF0dGFjaG1lbnRzXHJcbiAgICAgICAgaWYgKHRoaXMuZ3JhYkF0dGFjaG1lbnRLZXkuaXNEb3duKSB7XHJcbiAgICAgICAgICAgIC8vIFRPRE86IGdyYWIgbmVhcmJ5IGF0dGFjaG1lbnRzIGFuZCBhdHRhY2ggdGhlbSB0byBwbGF5ZXJcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIudXBkYXRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXR1cElucHV0SGFuZGxpbmcoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy50aHJ1c3RLZXkgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleSgnU1BBQ0UnLCB0cnVlLCB0cnVlKTtcclxuICAgICAgICB0aGlzLmJvb3N0S2V5ID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoJ1RBQicsIHRydWUsIGZhbHNlKTtcclxuICAgICAgICB0aGlzLnJvdGF0ZUF0dGFjaG1lbnRzQ2xvY2t3aXNlS2V5ID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoJ0UnLCB0cnVlLCBmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5yb3RhdGVBdHRhY2htZW50c0FudGlDbG9ja3dpc2VLZXkgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleSgnUScsIHRydWUsIGZhbHNlKTtcclxuICAgICAgICB0aGlzLmRldGFjaEF0dGFjaG1lbnRLZXkgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleSgnWCcsIHRydWUsIGZhbHNlKTtcclxuICAgICAgICB0aGlzLnRocm93QXR0YWNobWVudEtleSA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KCdUJywgdHJ1ZSwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuZ3JhYkF0dGFjaG1lbnRLZXkgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleSgnRycsIHRydWUsIGZhbHNlKTtcclxuICAgICAgICB0aGlzLmdhbWUuY2FudmFzLm9uY29udGV4dG1lbnUgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0dXBDYW1lcmEocGxheWVyOiBTaGlwUG9kKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uYmFja2dyb3VuZENvbG9yLnNldEZyb21SR0Ioe3I6IDAsIGc6IDAsIGI6IDB9KTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRab29tKDEpO1xyXG4gICAgICAgIGxldCBwbGF5ZXJMb2M6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSBwbGF5ZXIuZ2V0UmVhbExvY2F0aW9uKCk7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uY2VudGVyT24ocGxheWVyTG9jLngsIHBsYXllckxvYy55KTtcclxuXHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc3RhcnRGb2xsb3cocGxheWVyLmdldEdhbWVPYmplY3QoKSwgdHJ1ZSwgMSwgMSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgXCJwaGFzZXJcIjtcclxuaW1wb3J0IHsgUk5HIH0gZnJvbSBcIi4uL3V0aWxpdGllcy9ybmdcIjtcclxuaW1wb3J0IHsgVXBkYXRhYmxlIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvdXBkYXRhYmxlXCI7XHJcbmltcG9ydCB7IENhblRhcmdldCB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2Nhbi10YXJnZXRcIjtcclxuaW1wb3J0IHsgSGFzTG9jYXRpb24gfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9oYXMtbG9jYXRpb25cIjtcclxuaW1wb3J0IHsgSGFzR2FtZU9iamVjdCB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2hhcy1nYW1lLW9iamVjdFwiO1xyXG5pbXBvcnQgeyBIYXNJbnRlZ3JpdHkgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9oYXMtaW50ZWdyaXR5XCI7XHJcbmltcG9ydCB7IENvbnN0YW50cyB9IGZyb20gXCIuLi91dGlsaXRpZXMvY29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IEhlbHBlcnMgfSBmcm9tIFwiLi4vdXRpbGl0aWVzL2hlbHBlcnNcIjtcclxuaW1wb3J0IHsgSGFzVGVtcGVyYXR1cmUgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9oYXMtdGVtcGVyYXR1cmVcIjtcclxuaW1wb3J0IHsgSGFzRnVlbCB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2hhcy1mdWVsXCI7XHJcbmltcG9ydCB7IEhhc1BoeXNpY3NHYW1lT2JqZWN0IH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvaGFzLXBoeXNpY3MtZ2FtZS1vYmplY3RcIjtcclxuaW1wb3J0IHsgQXR0YWNobWVudE1hbmFnZXIgfSBmcm9tIFwiLi9hdHRhY2htZW50cy9hdHRhY2htZW50LW1hbmFnZXJcIjtcclxuaW1wb3J0IHsgVGhydXN0ZXJBdHRhY2htZW50IH0gZnJvbSBcIi4vYXR0YWNobWVudHMvdXRpbGl0eS90aHJ1c3Rlci1hdHRhY2htZW50XCI7XHJcbmltcG9ydCB7IFNoaXBQb2RDb25maWcgfSBmcm9tIFwiLi9zaGlwLXBvZC1jb25maWdcIjtcclxuaW1wb3J0IHsgQXR0YWNobWVudExvY2F0aW9uIH0gZnJvbSBcIi4vYXR0YWNobWVudHMvYXR0YWNobWVudC1sb2NhdGlvblwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNoaXBQb2QgaW1wbGVtZW50cyBVcGRhdGFibGUsIENhblRhcmdldCwgSGFzTG9jYXRpb24sIEhhc0dhbWVPYmplY3Q8UGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcj4sIEhhc1BoeXNpY3NHYW1lT2JqZWN0LCBIYXNJbnRlZ3JpdHksIEhhc1RlbXBlcmF0dXJlLCBIYXNGdWVsIHtcclxuICAgIHByaXZhdGUgaWQ6IHN0cmluZzsgLy8gVVVJRFxyXG4gICAgcHJpdmF0ZSBzY2VuZTogUGhhc2VyLlNjZW5lO1xyXG4gICAgcHJpdmF0ZSB0YXJnZXQ6IEhhc0xvY2F0aW9uO1xyXG4gICAgcHJpdmF0ZSBpbnRlZ3JpdHk6IG51bWJlcjtcclxuICAgIHByaXZhdGUgcmVtYWluaW5nRnVlbDogbnVtYmVyID0gMTAwO1xyXG4gICAgcHJpdmF0ZSB0ZW1wZXJhdHVyZTogbnVtYmVyID0gMDsgLy8gaW4gQ2VsY2l1c1xyXG4gICAgcHJpdmF0ZSBmbGFyZVBhcnRpY2xlczogUGhhc2VyLkdhbWVPYmplY3RzLlBhcnRpY2xlcy5QYXJ0aWNsZUVtaXR0ZXJNYW5hZ2VyO1xyXG4gICAgcHJpdmF0ZSBleHBsb3Npb25QYXJ0aWNsZXM6IFBoYXNlci5HYW1lT2JqZWN0cy5QYXJ0aWNsZXMuUGFydGljbGVFbWl0dGVyTWFuYWdlcjtcclxuXHJcbiAgICBhY3RpdmU6IGJvb2xlYW4gPSB0cnVlO1xyXG4gICAgYXR0YWNobWVudHM6IEF0dGFjaG1lbnRNYW5hZ2VyO1xyXG4gICAgY29udGFpbmVyR2FtZU9iajogUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcjtcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3Ioc2NlbmU6IFBoYXNlci5TY2VuZSwgY29uZmlnPzogU2hpcFBvZENvbmZpZykge1xyXG4gICAgICAgIGlmICghY29uZmlnKSB7XHJcbiAgICAgICAgICAgIGNvbmZpZyA9IHt4OiAwLCB5OiAwfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5pZCA9IFJORy5ndWlkKCk7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyR2FtZU9iaiA9IHNjZW5lLmFkZC5jb250YWluZXIoY29uZmlnLngsIGNvbmZpZy55KTtcclxuICAgICAgICB0aGlzLmZsYXJlUGFydGljbGVzID0gc2NlbmUuYWRkLnBhcnRpY2xlcygnZmxhcmVzJyk7XHJcbiAgICAgICAgdGhpcy5leHBsb3Npb25QYXJ0aWNsZXMgPSBzY2VuZS5hZGQucGFydGljbGVzKCdleHBsb3Npb24nKTtcclxuICAgICAgICBsZXQgc2hpcDogUGhhc2VyLkdhbWVPYmplY3RzLlNwcml0ZSA9IHNjZW5lLmFkZC5zcHJpdGUoMCwgMCwgJ3NoaXAtcG9kJyk7XHJcbiAgICAgICAgdGhpcy5nZXRHYW1lT2JqZWN0KCkuYWRkKHNoaXApO1xyXG4gICAgICAgIHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5nZXRHYW1lT2JqZWN0KCkpO1xyXG4gICAgICAgIHRoaXMuZ2V0UGh5c2ljc0JvZHkoKS5ib3VuY2Uuc2V0VG8oMC43LCAwLjcpO1xyXG4gICAgICAgIHRoaXMuZ2V0UGh5c2ljc0JvZHkoKS5zZXRNYXhWZWxvY2l0eShDb25zdGFudHMuTUFYX1ZFTE9DSVRZLCBDb25zdGFudHMuTUFYX1ZFTE9DSVRZKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmludGVncml0eSA9IENvbnN0YW50cy5NQVhfSU5URUdSSVRZO1xyXG4gICAgICAgIHRoaXMuYXR0YWNobWVudHMgPSBuZXcgQXR0YWNobWVudE1hbmFnZXIodGhpcywgdGhpcy5zY2VuZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VGhydXN0ZXIoKTogVGhydXN0ZXJBdHRhY2htZW50IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hdHRhY2htZW50cy5nZXRBdHRhY2htZW50KEF0dGFjaG1lbnRMb2NhdGlvbi5iYWNrKSBhcyBUaHJ1c3RlckF0dGFjaG1lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmxvb2tBdFRhcmdldCgpO1xyXG4gICAgICAgICAgICB0aGlzLmNoZWNrT3ZlcmhlYXRDb25kaXRpb24oKTtcclxuICAgICAgICAgICAgdGhpcy5hdHRhY2htZW50cy51cGRhdGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBjaGVja3MgZm9yIGFuZCBhcHBsaWVzIGRhbWFnZSBiYXNlZCBvbiBkZWdyZWVzIG92ZXIgc2FmZSB0ZW1wZXJhdHVyZSBhdCBhIHJhdGVcclxuICAgICAqIGRlZmluZWQgYnkge0NvbnN0YW50cy5PVkVSSEVBVF9DSEVDS19JTlRFUlZBTH0gbWlsbGlzZWNvbmRzIGJldHdlZW4gZWFjaCBjaGVjay5cclxuICAgICAqIGFsc28gYXBwbGllcyBjb29saW5nIGF0IGEgcmF0ZSBvZiB7Q29uc3RhbnRzLkNPT0xJTkdfUkFURX1cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBjaGVja092ZXJoZWF0Q29uZGl0aW9uKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zY2VuZS5nYW1lLmdldFRpbWUoKSA+IHRoaXMubGFzdE92ZXJoZWF0Q2hlY2sgKyBDb25zdGFudHMuT1ZFUkhFQVRfQ0hFQ0tfSU5URVJWQUwpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRlbXBlcmF0dXJlID4gQ29uc3RhbnRzLk1BWF9URU1QRVJBVFVSRSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVzdHJveSgpOyAvLyB3ZSBhcmUgZGVhZFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudGVtcGVyYXR1cmUgPiBDb25zdGFudHMuTUFYX1NBRkVfVEVNUEVSQVRVUkUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyByZWR1Y2UgaW50ZWdyaXR5IGJhc2VkIG9uIGRlZ3JlZXMgb3ZlciBzYWZlIG9wZXJhdGluZyB0ZW1wXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRlbHRhOiBudW1iZXIgPSAodGhpcy50ZW1wZXJhdHVyZSAtIENvbnN0YW50cy5NQVhfU0FGRV9URU1QRVJBVFVSRSkgLyBDb25zdGFudHMuTUFYX1NBRkVfVEVNUEVSQVRVUkU7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdXN0YWluRGFtYWdlKGRlbHRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlDb29saW5nKENvbnN0YW50cy5DT09MSU5HX1JBVEUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0T3ZlcmhlYXRDaGVjayA9IHRoaXMuc2NlbmUuZ2FtZS5nZXRUaW1lKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGxhc3RPdmVyaGVhdENoZWNrOiBudW1iZXIgPSAwO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVE9ETzogbmVlZGVkIHNvIHdlIGNhbiB1c2UgRmxvYXRpbmcgT3JpZ2luXHJcbiAgICAgKi9cclxuICAgIGdldFJlYWxMb2NhdGlvbigpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICBsZXQgZ286IFBoYXNlci5HYW1lT2JqZWN0cy5Db250YWluZXIgPSB0aGlzLmdldEdhbWVPYmplY3QoKTtcclxuICAgICAgICBpZiAoZ28pIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKGdvLngsIGdvLnkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUGhhc2VyLk1hdGguVmVjdG9yMi5aRVJPO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogdGhlIGxvY2F0aW9uIHdpdGhpbiB0aGUgdmlld2FibGUgYXJlYVxyXG4gICAgICogQHJldHVybnMgYSB7UGhhc2VyLk1hdGguVmVjdG9yMn0gb2Zmc2V0IGZvciBsb2NhdGlvbiB3aXRoaW4gY3VycmVudCBcclxuICAgICAqIHZpZXdhYmxlIGFyZWFcclxuICAgICAqL1xyXG4gICAgZ2V0TG9jYXRpb24oKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgbGV0IGNhbWVyYVBvczogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuc2NlbmUuY2FtZXJhcy5tYWluLmdldFdvcmxkUG9pbnQoMCwgMCk7XHJcbiAgICAgICAgbGV0IHJlYWxMb2M6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSB0aGlzLmdldFJlYWxMb2NhdGlvbigpO1xyXG4gICAgICAgIHJldHVybiBuZXcgUGhhc2VyLk1hdGguVmVjdG9yMihyZWFsTG9jLnggLSBjYW1lcmFQb3MueCwgcmVhbExvYy55IC0gY2FtZXJhUG9zLnkpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldElkKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0R2FtZU9iamVjdCgpOiBQaGFzZXIuR2FtZU9iamVjdHMuQ29udGFpbmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXJHYW1lT2JqO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFBoeXNpY3NCb2R5KCk6IFBoYXNlci5QaHlzaWNzLkFyY2FkZS5Cb2R5IHtcclxuICAgICAgICBsZXQgZ286IFBoYXNlci5HYW1lT2JqZWN0cy5Db250YWluZXIgPSB0aGlzLmdldEdhbWVPYmplY3QoKTtcclxuICAgICAgICBpZiAoZ28pIHtcclxuICAgICAgICAgICAgcmV0dXJuIGdvLmJvZHkgYXMgUGhhc2VyLlBoeXNpY3MuQXJjYWRlLkJvZHk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFRhcmdldCh0YXJnZXQ6IEhhc0xvY2F0aW9uKSB7XHJcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VGFyZ2V0KCk6IEhhc0xvY2F0aW9uIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50YXJnZXQ7XHJcbiAgICB9XHJcblxyXG4gICAgbG9va0F0VGFyZ2V0KCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmdldFBoeXNpY3NCb2R5KCkpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0VGFyZ2V0KCkpIHtcclxuICAgICAgICAgICAgICAgIGxldCB0YXJnZXRQb3MgPSB0aGlzLmdldFRhcmdldCgpLmdldFJlYWxMb2NhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHNoaXBQb3MgPSB0aGlzLmdldFJlYWxMb2NhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHJhZGlhbnM6IG51bWJlciA9IFBoYXNlci5NYXRoLkFuZ2xlLkJldHdlZW4odGFyZ2V0UG9zLngsIHRhcmdldFBvcy55LCBzaGlwUG9zLngsIHNoaXBQb3MueSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGVncmVlczogbnVtYmVyID0gUGhhc2VyLk1hdGguUmFkVG9EZWcocmFkaWFucyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdldFBoeXNpY3NCb2R5KCkucm90YXRpb24gPSBkZWdyZWVzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogdGhlIHJvdGF0aW9uIG9mIHRoZSBTaGlwJ3Mge0dhbWVPYmplY3QuYm9keX0gaW4gZGVncmVlc1xyXG4gICAgICovXHJcbiAgICBnZXRSb3RhdGlvbigpOiBudW1iZXIge1xyXG4gICAgICAgIGlmICh0aGlzLmdldEdhbWVPYmplY3QoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRHYW1lT2JqZWN0KCkuYW5nbGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEhlYWRpbmcoKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgcmV0dXJuIEhlbHBlcnMuZ2V0SGVhZGluZyh0aGlzLmdldFJvdGF0aW9uKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFNwZWVkKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VmVsb2NpdHkoKS5sZW5ndGgoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRWZWxvY2l0eSgpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICBpZiAodGhpcy5nZXRQaHlzaWNzQm9keSgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFBoeXNpY3NCb2R5KCkudmVsb2NpdHkuY2xvbmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFBoYXNlci5NYXRoLlZlY3RvcjIuWkVSTztcclxuICAgIH1cclxuXHJcbiAgICBnZXRUZW1wZXJhdHVyZSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRlbXBlcmF0dXJlO1xyXG4gICAgfVxyXG5cclxuICAgIGFwcGx5SGVhdGluZyhkZWdyZWVzOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnRlbXBlcmF0dXJlICs9IGRlZ3JlZXM7XHJcbiAgICB9XHJcblxyXG4gICAgYXBwbHlDb29saW5nKGRlZ3JlZXM6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMudGVtcGVyYXR1cmUgLT0gZGVncmVlcztcclxuICAgICAgICBpZiAodGhpcy50ZW1wZXJhdHVyZSA8IDApIHtcclxuICAgICAgICAgICAgdGhpcy50ZW1wZXJhdHVyZSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlZHVjZUZ1ZWwoYW1vdW50OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnJlbWFpbmluZ0Z1ZWwgLT0gYW1vdW50O1xyXG4gICAgICAgIGlmICh0aGlzLnJlbWFpbmluZ0Z1ZWwgPCAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVtYWluaW5nRnVlbCA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFkZEZ1ZWwoYW1vdW50OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnJlbWFpbmluZ0Z1ZWwgKz0gYW1vdW50O1xyXG4gICAgICAgIGlmICh0aGlzLnJlbWFpbmluZ0Z1ZWwgPiBDb25zdGFudHMuTUFYX0ZVRUwpIHtcclxuICAgICAgICAgICAgdGhpcy5yZW1haW5pbmdGdWVsID0gQ29uc3RhbnRzLk1BWF9GVUVMO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRSZW1haW5pbmdGdWVsKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVtYWluaW5nRnVlbDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRJbnRlZ3JpdHkoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pbnRlZ3JpdHk7XHJcbiAgICB9XHJcblxyXG4gICAgc3VzdGFpbkRhbWFnZShhbW91bnQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuaW50ZWdyaXR5IC09IGFtb3VudDtcclxuICAgICAgICBpZiAodGhpcy5pbnRlZ3JpdHkgPD0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmludGVncml0eSA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveSgpOyAvLyB3ZSBhcmUgZGVhZFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXBhaXIoYW1vdW50OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmludGVncml0eSA9IGFtb3VudDtcclxuICAgICAgICBpZiAodGhpcy5pbnRlZ3JpdHkgPiBDb25zdGFudHMuTUFYX0lOVEVHUklUWSkge1xyXG4gICAgICAgICAgICB0aGlzLmludGVncml0eSA9IENvbnN0YW50cy5NQVhfSU5URUdSSVRZO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkZXN0cm95KCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5kaXNwbGF5U2hpcEV4cGxvc2lvbigpO1xyXG4gICAgICAgIHRoaXMuZ2V0R2FtZU9iamVjdCgpLmRlc3Ryb3koKTtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lckdhbWVPYmogPSBudWxsO1xyXG4gICAgICAgIC8vIFRPRE86IHNpZ25hbCBlbmQgb2YgZ2FtZSBhbmQgZGlzcGxheSBtZW51XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBkaXNwbGF5U2hpcEV4cGxvc2lvbigpOiB2b2lkIHtcclxuICAgICAgICBsZXQgcG9zOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5nZXRSZWFsTG9jYXRpb24oKTtcclxuICAgICAgICB0aGlzLmV4cGxvc2lvblBhcnRpY2xlcy5jcmVhdGVFbWl0dGVyKHtcclxuICAgICAgICAgICAgeDogcG9zLngsXHJcbiAgICAgICAgICAgIHk6IHBvcy55LFxyXG4gICAgICAgICAgICBsaWZlc3BhbjogeyBtaW46IDUwMCwgbWF4OiAxMDAwIH0sXHJcbiAgICAgICAgICAgIHNwZWVkWDogeyBtaW46IC0xLCBtYXg6IDEgfSxcclxuICAgICAgICAgICAgc3BlZWRZOiB7IG1pbjogLTEsIG1heDogMSB9LFxyXG4gICAgICAgICAgICBhbmdsZTogeyBtaW46IC0xODAsIG1heDogMTc5IH0sXHJcbiAgICAgICAgICAgIGdyYXZpdHlYOiAwLFxyXG4gICAgICAgICAgICBncmF2aXR5WTogMCxcclxuICAgICAgICAgICAgc2NhbGU6IHsgc3RhcnQ6IDEsIGVuZDogMCB9LFxyXG4gICAgICAgICAgICBibGVuZE1vZGU6ICdBREQnLFxyXG4gICAgICAgICAgICBtYXhQYXJ0aWNsZXM6IDNcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmZsYXJlUGFydGljbGVzLmNyZWF0ZUVtaXR0ZXIoe1xyXG4gICAgICAgICAgICBmcmFtZTogQ29uc3RhbnRzLkZsYXJlLnJlZCBhcyBudW1iZXIsXHJcbiAgICAgICAgICAgIHg6IHBvcy54LFxyXG4gICAgICAgICAgICB5OiBwb3MueSxcclxuICAgICAgICAgICAgbGlmZXNwYW46IHsgbWluOiAxMDAsIG1heDogNTAwIH0sXHJcbiAgICAgICAgICAgIHNwZWVkWDogeyBtaW46IC02MDAsIG1heDogNjAwIH0sXHJcbiAgICAgICAgICAgIHNwZWVkWTogeyBtaW46IC02MDAsIG1heDogNjAwIH0sXHJcbiAgICAgICAgICAgIGFuZ2xlOiB7IG1pbjogLTE4MCwgbWF4OiAxNzkgfSxcclxuICAgICAgICAgICAgZ3Jhdml0eVg6IDAsXHJcbiAgICAgICAgICAgIGdyYXZpdHlZOiAwLFxyXG4gICAgICAgICAgICBzY2FsZTogeyBzdGFydDogMSwgZW5kOiAwIH0sXHJcbiAgICAgICAgICAgIGJsZW5kTW9kZTogJ0FERCcsXHJcbiAgICAgICAgICAgIG1heFBhcnRpY2xlczogMTBcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fMTRfXzsiLCJpbXBvcnQgeyB2NCB9IGZyb20gXCJ1dWlkXCI7XHJcblxyXG5leHBvcnQgbW9kdWxlIFJORyB7XHJcbiAgICBleHBvcnQgZnVuY3Rpb24gaW50KG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW47XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGd1aWQoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdjQoKTtcclxuICAgIH1cclxufSIsInZhciB2MSA9IHJlcXVpcmUoJy4vdjEnKTtcbnZhciB2NCA9IHJlcXVpcmUoJy4vdjQnKTtcblxudmFyIHV1aWQgPSB2NDtcbnV1aWQudjEgPSB2MTtcbnV1aWQudjQgPSB2NDtcblxubW9kdWxlLmV4cG9ydHMgPSB1dWlkO1xuIiwidmFyIHJuZyA9IHJlcXVpcmUoJy4vbGliL3JuZycpO1xudmFyIGJ5dGVzVG9VdWlkID0gcmVxdWlyZSgnLi9saWIvYnl0ZXNUb1V1aWQnKTtcblxuLy8gKipgdjEoKWAgLSBHZW5lcmF0ZSB0aW1lLWJhc2VkIFVVSUQqKlxuLy9cbi8vIEluc3BpcmVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS9MaW9zSy9VVUlELmpzXG4vLyBhbmQgaHR0cDovL2RvY3MucHl0aG9uLm9yZy9saWJyYXJ5L3V1aWQuaHRtbFxuXG52YXIgX25vZGVJZDtcbnZhciBfY2xvY2tzZXE7XG5cbi8vIFByZXZpb3VzIHV1aWQgY3JlYXRpb24gdGltZVxudmFyIF9sYXN0TVNlY3MgPSAwO1xudmFyIF9sYXN0TlNlY3MgPSAwO1xuXG4vLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkIGZvciBBUEkgZGV0YWlsc1xuZnVuY3Rpb24gdjEob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgdmFyIGkgPSBidWYgJiYgb2Zmc2V0IHx8IDA7XG4gIHZhciBiID0gYnVmIHx8IFtdO1xuXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgbm9kZSA9IG9wdGlvbnMubm9kZSB8fCBfbm9kZUlkO1xuICB2YXIgY2xvY2tzZXEgPSBvcHRpb25zLmNsb2Nrc2VxICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNsb2Nrc2VxIDogX2Nsb2Nrc2VxO1xuXG4gIC8vIG5vZGUgYW5kIGNsb2Nrc2VxIG5lZWQgdG8gYmUgaW5pdGlhbGl6ZWQgdG8gcmFuZG9tIHZhbHVlcyBpZiB0aGV5J3JlIG5vdFxuICAvLyBzcGVjaWZpZWQuICBXZSBkbyB0aGlzIGxhemlseSB0byBtaW5pbWl6ZSBpc3N1ZXMgcmVsYXRlZCB0byBpbnN1ZmZpY2llbnRcbiAgLy8gc3lzdGVtIGVudHJvcHkuICBTZWUgIzE4OVxuICBpZiAobm9kZSA9PSBudWxsIHx8IGNsb2Nrc2VxID09IG51bGwpIHtcbiAgICB2YXIgc2VlZEJ5dGVzID0gcm5nKCk7XG4gICAgaWYgKG5vZGUgPT0gbnVsbCkge1xuICAgICAgLy8gUGVyIDQuNSwgY3JlYXRlIGFuZCA0OC1iaXQgbm9kZSBpZCwgKDQ3IHJhbmRvbSBiaXRzICsgbXVsdGljYXN0IGJpdCA9IDEpXG4gICAgICBub2RlID0gX25vZGVJZCA9IFtcbiAgICAgICAgc2VlZEJ5dGVzWzBdIHwgMHgwMSxcbiAgICAgICAgc2VlZEJ5dGVzWzFdLCBzZWVkQnl0ZXNbMl0sIHNlZWRCeXRlc1szXSwgc2VlZEJ5dGVzWzRdLCBzZWVkQnl0ZXNbNV1cbiAgICAgIF07XG4gICAgfVxuICAgIGlmIChjbG9ja3NlcSA9PSBudWxsKSB7XG4gICAgICAvLyBQZXIgNC4yLjIsIHJhbmRvbWl6ZSAoMTQgYml0KSBjbG9ja3NlcVxuICAgICAgY2xvY2tzZXEgPSBfY2xvY2tzZXEgPSAoc2VlZEJ5dGVzWzZdIDw8IDggfCBzZWVkQnl0ZXNbN10pICYgMHgzZmZmO1xuICAgIH1cbiAgfVxuXG4gIC8vIFVVSUQgdGltZXN0YW1wcyBhcmUgMTAwIG5hbm8tc2Vjb25kIHVuaXRzIHNpbmNlIHRoZSBHcmVnb3JpYW4gZXBvY2gsXG4gIC8vICgxNTgyLTEwLTE1IDAwOjAwKS4gIEpTTnVtYmVycyBhcmVuJ3QgcHJlY2lzZSBlbm91Z2ggZm9yIHRoaXMsIHNvXG4gIC8vIHRpbWUgaXMgaGFuZGxlZCBpbnRlcm5hbGx5IGFzICdtc2VjcycgKGludGVnZXIgbWlsbGlzZWNvbmRzKSBhbmQgJ25zZWNzJ1xuICAvLyAoMTAwLW5hbm9zZWNvbmRzIG9mZnNldCBmcm9tIG1zZWNzKSBzaW5jZSB1bml4IGVwb2NoLCAxOTcwLTAxLTAxIDAwOjAwLlxuICB2YXIgbXNlY3MgPSBvcHRpb25zLm1zZWNzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm1zZWNzIDogbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cbiAgLy8gUGVyIDQuMi4xLjIsIHVzZSBjb3VudCBvZiB1dWlkJ3MgZ2VuZXJhdGVkIGR1cmluZyB0aGUgY3VycmVudCBjbG9ja1xuICAvLyBjeWNsZSB0byBzaW11bGF0ZSBoaWdoZXIgcmVzb2x1dGlvbiBjbG9ja1xuICB2YXIgbnNlY3MgPSBvcHRpb25zLm5zZWNzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm5zZWNzIDogX2xhc3ROU2VjcyArIDE7XG5cbiAgLy8gVGltZSBzaW5jZSBsYXN0IHV1aWQgY3JlYXRpb24gKGluIG1zZWNzKVxuICB2YXIgZHQgPSAobXNlY3MgLSBfbGFzdE1TZWNzKSArIChuc2VjcyAtIF9sYXN0TlNlY3MpLzEwMDAwO1xuXG4gIC8vIFBlciA0LjIuMS4yLCBCdW1wIGNsb2Nrc2VxIG9uIGNsb2NrIHJlZ3Jlc3Npb25cbiAgaWYgKGR0IDwgMCAmJiBvcHRpb25zLmNsb2Nrc2VxID09PSB1bmRlZmluZWQpIHtcbiAgICBjbG9ja3NlcSA9IGNsb2Nrc2VxICsgMSAmIDB4M2ZmZjtcbiAgfVxuXG4gIC8vIFJlc2V0IG5zZWNzIGlmIGNsb2NrIHJlZ3Jlc3NlcyAobmV3IGNsb2Nrc2VxKSBvciB3ZSd2ZSBtb3ZlZCBvbnRvIGEgbmV3XG4gIC8vIHRpbWUgaW50ZXJ2YWxcbiAgaWYgKChkdCA8IDAgfHwgbXNlY3MgPiBfbGFzdE1TZWNzKSAmJiBvcHRpb25zLm5zZWNzID09PSB1bmRlZmluZWQpIHtcbiAgICBuc2VjcyA9IDA7XG4gIH1cblxuICAvLyBQZXIgNC4yLjEuMiBUaHJvdyBlcnJvciBpZiB0b28gbWFueSB1dWlkcyBhcmUgcmVxdWVzdGVkXG4gIGlmIChuc2VjcyA+PSAxMDAwMCkge1xuICAgIHRocm93IG5ldyBFcnJvcigndXVpZC52MSgpOiBDYW5cXCd0IGNyZWF0ZSBtb3JlIHRoYW4gMTBNIHV1aWRzL3NlYycpO1xuICB9XG5cbiAgX2xhc3RNU2VjcyA9IG1zZWNzO1xuICBfbGFzdE5TZWNzID0gbnNlY3M7XG4gIF9jbG9ja3NlcSA9IGNsb2Nrc2VxO1xuXG4gIC8vIFBlciA0LjEuNCAtIENvbnZlcnQgZnJvbSB1bml4IGVwb2NoIHRvIEdyZWdvcmlhbiBlcG9jaFxuICBtc2VjcyArPSAxMjIxOTI5MjgwMDAwMDtcblxuICAvLyBgdGltZV9sb3dgXG4gIHZhciB0bCA9ICgobXNlY3MgJiAweGZmZmZmZmYpICogMTAwMDAgKyBuc2VjcykgJSAweDEwMDAwMDAwMDtcbiAgYltpKytdID0gdGwgPj4+IDI0ICYgMHhmZjtcbiAgYltpKytdID0gdGwgPj4+IDE2ICYgMHhmZjtcbiAgYltpKytdID0gdGwgPj4+IDggJiAweGZmO1xuICBiW2krK10gPSB0bCAmIDB4ZmY7XG5cbiAgLy8gYHRpbWVfbWlkYFxuICB2YXIgdG1oID0gKG1zZWNzIC8gMHgxMDAwMDAwMDAgKiAxMDAwMCkgJiAweGZmZmZmZmY7XG4gIGJbaSsrXSA9IHRtaCA+Pj4gOCAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRtaCAmIDB4ZmY7XG5cbiAgLy8gYHRpbWVfaGlnaF9hbmRfdmVyc2lvbmBcbiAgYltpKytdID0gdG1oID4+PiAyNCAmIDB4ZiB8IDB4MTA7IC8vIGluY2x1ZGUgdmVyc2lvblxuICBiW2krK10gPSB0bWggPj4+IDE2ICYgMHhmZjtcblxuICAvLyBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGAgKFBlciA0LjIuMiAtIGluY2x1ZGUgdmFyaWFudClcbiAgYltpKytdID0gY2xvY2tzZXEgPj4+IDggfCAweDgwO1xuXG4gIC8vIGBjbG9ja19zZXFfbG93YFxuICBiW2krK10gPSBjbG9ja3NlcSAmIDB4ZmY7XG5cbiAgLy8gYG5vZGVgXG4gIGZvciAodmFyIG4gPSAwOyBuIDwgNjsgKytuKSB7XG4gICAgYltpICsgbl0gPSBub2RlW25dO1xuICB9XG5cbiAgcmV0dXJuIGJ1ZiA/IGJ1ZiA6IGJ5dGVzVG9VdWlkKGIpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHYxO1xuIiwidmFyIHJuZyA9IHJlcXVpcmUoJy4vbGliL3JuZycpO1xudmFyIGJ5dGVzVG9VdWlkID0gcmVxdWlyZSgnLi9saWIvYnl0ZXNUb1V1aWQnKTtcblxuZnVuY3Rpb24gdjQob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgdmFyIGkgPSBidWYgJiYgb2Zmc2V0IHx8IDA7XG5cbiAgaWYgKHR5cGVvZihvcHRpb25zKSA9PSAnc3RyaW5nJykge1xuICAgIGJ1ZiA9IG9wdGlvbnMgPT09ICdiaW5hcnknID8gbmV3IEFycmF5KDE2KSA6IG51bGw7XG4gICAgb3B0aW9ucyA9IG51bGw7XG4gIH1cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgdmFyIHJuZHMgPSBvcHRpb25zLnJhbmRvbSB8fCAob3B0aW9ucy5ybmcgfHwgcm5nKSgpO1xuXG4gIC8vIFBlciA0LjQsIHNldCBiaXRzIGZvciB2ZXJzaW9uIGFuZCBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGBcbiAgcm5kc1s2XSA9IChybmRzWzZdICYgMHgwZikgfCAweDQwO1xuICBybmRzWzhdID0gKHJuZHNbOF0gJiAweDNmKSB8IDB4ODA7XG5cbiAgLy8gQ29weSBieXRlcyB0byBidWZmZXIsIGlmIHByb3ZpZGVkXG4gIGlmIChidWYpIHtcbiAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgMTY7ICsraWkpIHtcbiAgICAgIGJ1ZltpICsgaWldID0gcm5kc1tpaV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGJ1ZiB8fCBieXRlc1RvVXVpZChybmRzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB2NDtcbiIsImltcG9ydCB7IEhhc0F0dGFjaG1lbnRzIH0gZnJvbSBcIi4uLy4uL2ludGVyZmFjZXMvaGFzLWF0dGFjaG1lbnRzXCI7XHJcbmltcG9ydCB7IFNoaXBBdHRhY2htZW50IH0gZnJvbSBcIi4vc2hpcC1hdHRhY2htZW50XCI7XHJcbmltcG9ydCB7IEhlbHBlcnMgfSBmcm9tIFwiLi4vLi4vdXRpbGl0aWVzL2hlbHBlcnNcIjtcclxuaW1wb3J0IHsgQXR0YWNobWVudExvY2F0aW9uIH0gZnJvbSBcIi4vYXR0YWNobWVudC1sb2NhdGlvblwiO1xyXG5pbXBvcnQgeyBVcGRhdGFibGUgfSBmcm9tIFwiLi4vLi4vaW50ZXJmYWNlcy91cGRhdGFibGVcIjtcclxuaW1wb3J0IHsgU2hpcFBvZCB9IGZyb20gXCIuLi9zaGlwLXBvZFwiO1xyXG5pbXBvcnQgeyBUaHJ1c3RlckF0dGFjaG1lbnQgfSBmcm9tIFwiLi91dGlsaXR5L3RocnVzdGVyLWF0dGFjaG1lbnRcIjtcclxuaW1wb3J0IHsgdGltZVN0YW1wIH0gZnJvbSBcImNvbnNvbGVcIjtcclxuaW1wb3J0IHsgQ29uc3RhbnRzIH0gZnJvbSBcIi4uLy4uL3V0aWxpdGllcy9jb25zdGFudHNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBdHRhY2htZW50TWFuYWdlciBpbXBsZW1lbnRzIEhhc0F0dGFjaG1lbnRzLCBVcGRhdGFibGUge1xyXG4gICAgcHJpdmF0ZSBhdHRhY2htZW50czogU2hpcEF0dGFjaG1lbnRbXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBzaGlwOiBTaGlwUG9kO1xyXG4gICAgcHJpdmF0ZSBzY2VuZTogUGhhc2VyLlNjZW5lO1xyXG4gICAgcHJpdmF0ZSBsYXN0Um90YXRlZFRpbWU6IG51bWJlcjtcclxuICAgIHByaXZhdGUgcm90YXRpb25EZWxheTogbnVtYmVyO1xyXG5cclxuICAgIGFjdGl2ZTogYm9vbGVhbjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQ6IFNoaXBQb2QsIHNjZW5lOiBQaGFzZXIuU2NlbmUpIHtcclxuICAgICAgICB0aGlzLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5zaGlwID0gcGFyZW50O1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLmxhc3RSb3RhdGVkVGltZSA9IDA7XHJcbiAgICAgICAgdGhpcy5yb3RhdGlvbkRlbGF5ID0gMTAwOyAvLyBtaWxsaXNlY29uZHNcclxuICAgICAgICBmb3IgKHZhciBpPTA7IGk8SGVscGVycy5lbnVtTGVuZ3RoKEF0dGFjaG1lbnRMb2NhdGlvbik7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzLnB1c2gobnVsbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5hY3RpdmUpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaT0wOyBpPHRoaXMuYXR0YWNobWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBhOiBTaGlwQXR0YWNobWVudCA9IHRoaXMuYXR0YWNobWVudHNbaV07XHJcbiAgICAgICAgICAgICAgICBpZiAoYSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGEudXBkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJvdGF0ZUF0dGFjaG1lbnRzQ2xvY2t3aXNlKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLnNjZW5lLmdhbWUuZ2V0VGltZSgpID4gdGhpcy5sYXN0Um90YXRlZFRpbWUgKyB0aGlzLnJvdGF0aW9uRGVsYXkpIHtcclxuICAgICAgICAgICAgbGV0IHRtcDogU2hpcEF0dGFjaG1lbnQgPSB0aGlzLmdldEF0dGFjaG1lbnQoSGVscGVycy5lbnVtTGVuZ3RoKEF0dGFjaG1lbnRMb2NhdGlvbiktMSk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGk9SGVscGVycy5lbnVtTGVuZ3RoKEF0dGFjaG1lbnRMb2NhdGlvbiktMTsgaT49MDsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaSA9PSBBdHRhY2htZW50TG9jYXRpb24uYmFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOyAvLyBza2lwXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoaSA9PSBBdHRhY2htZW50TG9jYXRpb24uYmFja0xlZnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzW2ldID0gdGhpcy5hdHRhY2htZW50c1tpLTJdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5hdHRhY2htZW50c1tpXSA9IHRoaXMuYXR0YWNobWVudHNbaS0xXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzWzBdID0gdG1wO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUF0dGFjaG1lbnRBbmdsZXMoKTtcclxuICAgICAgICAgICAgdGhpcy5sYXN0Um90YXRlZFRpbWUgPSB0aGlzLnNjZW5lLmdhbWUuZ2V0VGltZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgcm90YXRlQXR0YWNobWVudHNBbnRpQ2xvY2t3aXNlKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLnNjZW5lLmdhbWUuZ2V0VGltZSgpID4gdGhpcy5sYXN0Um90YXRlZFRpbWUgKyB0aGlzLnJvdGF0aW9uRGVsYXkpIHtcclxuICAgICAgICAgICAgbGV0IHRtcDogU2hpcEF0dGFjaG1lbnQgPSB0aGlzLmdldEF0dGFjaG1lbnQoMCk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGk9MDsgaTxIZWxwZXJzLmVudW1MZW5ndGgoQXR0YWNobWVudExvY2F0aW9uKTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaSA9PSBBdHRhY2htZW50TG9jYXRpb24uYmFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOyAvLyBza2lwXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoaSA9PSBBdHRhY2htZW50TG9jYXRpb24uYmFja1JpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdHRhY2htZW50c1tpXSA9IHRoaXMuYXR0YWNobWVudHNbaSsyXTtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNobWVudHNbaV0gPSB0aGlzLmF0dGFjaG1lbnRzW2krMV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5hdHRhY2htZW50c1tIZWxwZXJzLmVudW1MZW5ndGgoQXR0YWNobWVudExvY2F0aW9uKS0xXSA9IHRtcDtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVBdHRhY2htZW50QW5nbGVzKCk7XHJcbiAgICAgICAgICAgIHRoaXMubGFzdFJvdGF0ZWRUaW1lID0gdGhpcy5zY2VuZS5nYW1lLmdldFRpbWUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogYWRkcyB0aGUgcGFzc2VkIGluIHtTaGlwQXR0YWNobWVudH0gaW4ge0F0dGFjaG1lbnRMb2NhdGlvbi5mcm9udH0gb3JcclxuICAgICAqIHRoZSBmaXJzdCBvcGVuIHtBdHRhY2htZW50TG9jYXRpb259IGluIGEgY2xvY2t3aXNlIHNlYXJjaC4gaWYgbm8gb3BlblxyXG4gICAgICogc2xvdHMgZXhpc3QgdGhlbiB0aGUgZXhpc3Rpbmcge1NoaXBBdHRhY2htZW50fSBhdCB7QXR0YWNobWVudExvY2F0aW9uLmZyb250fVxyXG4gICAgICogaXMgZGV0YWNoZWQgYW5kIHJlcGxhY2VkIHdpdGggdGhlIHBhc3NlZCBpbiB7U2hpcEF0dGFjaG1lbnR9XHJcbiAgICAgKiBAcGFyYW0gYXR0YWNobWVudCB0aGUgYXR0YWNobWVudCB0byBiZSBhZGRlZFxyXG4gICAgICovXHJcbiAgICBhZGRBdHRhY2htZW50KGF0dGFjaG1lbnQ6IFNoaXBBdHRhY2htZW50KTogdm9pZCB7XHJcbiAgICAgICAgaWYgKGF0dGFjaG1lbnQgaW5zdGFuY2VvZiBUaHJ1c3RlckF0dGFjaG1lbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdmVBdHRhY2htZW50KEF0dGFjaG1lbnRMb2NhdGlvbi5iYWNrKTtcclxuICAgICAgICAgICAgdGhpcy5hdHRhY2htZW50c1tBdHRhY2htZW50TG9jYXRpb24uYmFja10gPSBhdHRhY2htZW50O1xyXG4gICAgICAgICAgICBhdHRhY2htZW50LmF0dGFjaCh0aGlzLnNoaXAsIEF0dGFjaG1lbnRMb2NhdGlvbi5iYWNrKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgYXR0YWNoZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGk9MDsgaTxIZWxwZXJzLmVudW1MZW5ndGgoQXR0YWNobWVudExvY2F0aW9uKTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuYXR0YWNobWVudHNbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzW2ldID0gYXR0YWNobWVudDtcclxuICAgICAgICAgICAgICAgICAgICBhdHRhY2htZW50LmF0dGFjaCh0aGlzLnNoaXAsIGkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGF0dGFjaGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gaWYgd2FzIHVuYWJsZSB0byBmaW5kIGFuIG9wZW4gc3BvdFxyXG4gICAgICAgICAgICBpZiAoIWF0dGFjaGVkKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBkZXRhY2ggY3VycmVudCBmcm9udCBhdHRhY2htZW50XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUF0dGFjaG1lbnQoQXR0YWNobWVudExvY2F0aW9uLmZyb250KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNobWVudHNbQXR0YWNobWVudExvY2F0aW9uLmZyb250XSA9IGF0dGFjaG1lbnQ7XHJcbiAgICAgICAgICAgICAgICBhdHRhY2htZW50LmF0dGFjaCh0aGlzLnNoaXAsIEF0dGFjaG1lbnRMb2NhdGlvbi5mcm9udCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc2hpcC5nZXRHYW1lT2JqZWN0KCkuYWRkKGF0dGFjaG1lbnQuZ2V0R2FtZU9iamVjdCgpKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZUF0dGFjaG1lbnRBbmdsZXMoKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmVtb3ZlQXR0YWNobWVudChsb2NhdGlvbjogQXR0YWNobWVudExvY2F0aW9uKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuYXR0YWNobWVudHNbbG9jYXRpb25dKSB7XHJcbiAgICAgICAgICAgIGxldCBhdHRhY2htZW50OiBTaGlwQXR0YWNobWVudCA9IHRoaXMuYXR0YWNobWVudHNbbG9jYXRpb25dO1xyXG4gICAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzW2xvY2F0aW9uXSA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuc2hpcC5nZXRHYW1lT2JqZWN0KCkucmVtb3ZlKGF0dGFjaG1lbnQuZ2V0R2FtZU9iamVjdCgpLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGF0dGFjaG1lbnQuZGV0YWNoKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBtb3ZlIGF0dGFjaG1lbnQgdG8gc2hpcCBsb2NhdGlvbiBhbmQgcm90YXRpb24gYW5kIGFwcGx5IGN1cnJlbnQgdmVsb2NpdHlcclxuICAgICAgICAgICAgbGV0IHNoaXBSZWFsTG9jYXRpb246IFBoYXNlci5NYXRoLlZlY3RvcjIgPSB0aGlzLnNoaXAuZ2V0UmVhbExvY2F0aW9uKCk7XHJcbiAgICAgICAgICAgIGxldCBuZXdMb2NhdGlvbjogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHNoaXBSZWFsTG9jYXRpb247XHJcbiAgICAgICAgICAgIGF0dGFjaG1lbnQuZ2V0R2FtZU9iamVjdCgpLnNldFBvc2l0aW9uKG5ld0xvY2F0aW9uLngsIG5ld0xvY2F0aW9uLnkpO1xyXG4gICAgICAgICAgICBsZXQgc2hpcFZlbG9jaXR5VmVjdG9yOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5zaGlwLmdldFZlbG9jaXR5KCk7XHJcbiAgICAgICAgICAgIGF0dGFjaG1lbnQuZ2V0UGh5c2ljc0JvZHkoKS52ZWxvY2l0eSA9IHNoaXBWZWxvY2l0eVZlY3RvcjtcclxuICAgICAgICAgICAgYXR0YWNobWVudC5nZXRQaHlzaWNzQm9keSgpLnJvdGF0aW9uICs9IHRoaXMuc2hpcC5nZXRSb3RhdGlvbigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgdGhyb3dBdHRhY2htZW50KGxvY2F0aW9uOiBBdHRhY2htZW50TG9jYXRpb24pOiB2b2lkIHtcclxuICAgICAgICBsZXQgYXR0YWNobWVudDogU2hpcEF0dGFjaG1lbnQgPSB0aGlzLmdldEF0dGFjaG1lbnQobG9jYXRpb24pO1xyXG4gICAgICAgIGlmIChhdHRhY2htZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQXR0YWNobWVudChsb2NhdGlvbik7XHJcbiAgICAgICAgICAgIGF0dGFjaG1lbnQuaXNUaHJvd24gPSB0cnVlO1xyXG4gICAgICAgICAgICBsZXQgaGVhZGluZyA9IGF0dGFjaG1lbnQuZ2V0SGVhZGluZygpO1xyXG4gICAgICAgICAgICBsZXQgZGVsdGFWOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gaGVhZGluZy5tdWx0aXBseShuZXcgUGhhc2VyLk1hdGguVmVjdG9yMihDb25zdGFudHMuVEhST1dfRk9SQ0UsIENvbnN0YW50cy5USFJPV19GT1JDRSkpO1xyXG4gICAgICAgICAgICAvLyBhZGQgdGhyb3cgZm9yY2UgdG8gY3VycmVudCB2ZWxvY2l0eVxyXG4gICAgICAgICAgICBhdHRhY2htZW50LmdldFBoeXNpY3NCb2R5KCkudmVsb2NpdHkuYWRkKGRlbHRhVik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBnZXRBdHRhY2htZW50cygpOiBTaGlwQXR0YWNobWVudFtdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hdHRhY2htZW50cztcclxuICAgIH1cclxuICAgIFxyXG4gICAgZ2V0QXR0YWNobWVudChsb2NhdGlvbjogQXR0YWNobWVudExvY2F0aW9uKTogU2hpcEF0dGFjaG1lbnQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmF0dGFjaG1lbnRzW2xvY2F0aW9uXTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHVwZGF0ZUF0dGFjaG1lbnRBbmdsZXMoKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IGFuZ2xlOiBudW1iZXIgPSAzNjAgLyA4O1xyXG4gICAgICAgIGZvciAodmFyIGk9MDsgaTx0aGlzLmF0dGFjaG1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBhdHQ6IFNoaXBBdHRhY2htZW50ID0gdGhpcy5hdHRhY2htZW50c1tpXTtcclxuICAgICAgICAgICAgaWYgKGF0dCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHJvdDogbnVtYmVyID0gMDtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQXR0YWNobWVudExvY2F0aW9uLmZyb250UmlnaHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdCA9IGFuZ2xlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIEF0dGFjaG1lbnRMb2NhdGlvbi5yaWdodDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm90ID0gYW5nbGUgKiAyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIEF0dGFjaG1lbnRMb2NhdGlvbi5iYWNrUmlnaHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdCA9IGFuZ2xlICogMztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBBdHRhY2htZW50TG9jYXRpb24uYmFjazpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm90ID0gYW5nbGUgKiA0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIEF0dGFjaG1lbnRMb2NhdGlvbi5iYWNrTGVmdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm90ID0gYW5nbGUgKiA1O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIEF0dGFjaG1lbnRMb2NhdGlvbi5sZWZ0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByb3QgPSBhbmdsZSAqIDY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQXR0YWNobWVudExvY2F0aW9uLmZyb250TGVmdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm90ID0gYW5nbGUgKiA3O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByb3QgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGF0dC5nZXRHYW1lT2JqZWN0KCkuYW5nbGUgPSByb3Q7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBCdWxsZXQgfSBmcm9tIFwiLi9idWxsZXRcIjtcclxuaW1wb3J0IHsgT2ZmZW5jZUF0dGFjaG1lbnQgfSBmcm9tIFwiLi9vZmZlbmNlLWF0dGFjaG1lbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDYW5ub25BdHRhY2htZW50IGV4dGVuZHMgT2ZmZW5jZUF0dGFjaG1lbnQge1xyXG4gICAgY29uc3RydWN0b3Ioc2NlbmU6IFBoYXNlci5TY2VuZSkge1xyXG4gICAgICAgIHN1cGVyKHNjZW5lKTtcclxuXHJcbiAgICAgICAgdGhpcy5tYXhBbW1vID0gNTAwO1xyXG4gICAgICAgIHRoaXMucmVtYWluaW5nQW1tbyA9IHRoaXMubWF4QW1tbztcclxuICAgICAgICB0aGlzLmxhc3RGaXJlZCA9IDA7XHJcbiAgICAgICAgdGhpcy5maXJpbmdEZWxheSA9IDEwMDA7IC8vIG1pbGxpc2Vjb25kc1xyXG5cclxuICAgICAgICB0aGlzLmdhbWVPYmogPSB0aGlzLnNjZW5lLmFkZC5zcHJpdGUoMCwgMCwgJ2Nhbm5vbicpO1xyXG4gICAgICAgIHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5nYW1lT2JqKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKTogdm9pZCB7XHJcblxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBmaXJlKGRpcmVjdGlvbj86IFBoYXNlci5NYXRoLlZlY3RvcjIpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5hY3RpdmUpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0UmVtYWluaW5nQW1tbygpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2NlbmUuZ2FtZS5nZXRUaW1lKCkgPiB0aGlzLmxhc3RGaXJlZCArIHRoaXMuZmlyaW5nRGVsYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgYnVsbGV0T2Zmc2V0OiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gbmV3IFBoYXNlci5NYXRoLlZlY3RvcjIoLTIwLCAwKS5hZGQodGhpcy5nZXRSZWFsTG9jYXRpb24oKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNoaXBSZWFsTG9jYXRpb246IFBoYXNlci5NYXRoLlZlY3RvcjIgPSB0aGlzLnNoaXAuZ2V0UmVhbExvY2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGFkanVzdGVkTG9jYXRpb246IFBoYXNlci5NYXRoLlZlY3RvcjIgPSBQaGFzZXIuTWF0aC5Sb3RhdGVBcm91bmQoYnVsbGV0T2Zmc2V0LCBzaGlwUmVhbExvY2F0aW9uLngsIHNoaXBSZWFsTG9jYXRpb24ueSwgUGhhc2VyLk1hdGguRGVnVG9SYWQodGhpcy5nZXRSb3RhdGlvbigpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IEJ1bGxldCh0aGlzLnNjZW5lLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHg6IGFkanVzdGVkTG9jYXRpb24ueCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeTogYWRqdXN0ZWRMb2NhdGlvbi55LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JjZTogMzAwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYW5nbGU6IHRoaXMuZ2V0Um90YXRpb24oKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRpbmdWOiB0aGlzLmdldFZlbG9jaXR5KCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlOiAxXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1haW5pbmdBbW1vLS07XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0RmlyZWQgPSB0aGlzLnNjZW5lLmdhbWUuZ2V0VGltZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgSGFzTG9jYXRpb24gfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9oYXMtbG9jYXRpb25cIjtcclxuaW1wb3J0IHsgTW91c2VXaGVlbFNjcm9sbCB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL21vdXNlLXdoZWVsLXNjcm9sbFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1vdXNlIGltcGxlbWVudHMgSGFzTG9jYXRpb24ge1xyXG4gICAgcHJpdmF0ZSBzY2VuZTogUGhhc2VyLlNjZW5lO1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZTogUGhhc2VyLlNjZW5lKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuc2NlbmUuaW5wdXQubW91c2UuY2FwdHVyZSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0QW5nbGUoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zY2VuZS5pbnB1dC5hY3RpdmVQb2ludGVyLmdldEFuZ2xlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Um90YXRpb24oKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRBbmdsZSgpICogKE1hdGguUEkgLyAxODApO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEhlYWRpbmcoKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgbGV0IHJvdGF0aW9uOiBudW1iZXIgPSB0aGlzLmdldEFuZ2xlKCk7XHJcbiAgICAgICAgbGV0IHg6IG51bWJlciA9IE1hdGguY29zKHJvdGF0aW9uKTtcclxuICAgICAgICBsZXQgeTogbnVtYmVyID0gTWF0aC5zaW4ocm90YXRpb24pO1xyXG4gICAgICAgIHJldHVybiBuZXcgUGhhc2VyLk1hdGguVmVjdG9yMih4LCB5KS5ub3JtYWxpemUoKS5uZWdhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRTcGVlZCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFZlbG9jaXR5KCkubGVuZ3RoKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VmVsb2NpdHkoKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NlbmUuaW5wdXQuYWN0aXZlUG9pbnRlci52ZWxvY2l0eS5jbG9uZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmV0dXJucyB0aGUgcG9zaXRpb24gb2YgdGhlIG1vdXNlIHdpdGhpbiB0aGUgYm91bmRzIG9mIHRoZSBjdXJyZW50XHJcbiAgICAgKiBzY3JlZW4uXHJcbiAgICAgKiBAcmV0dXJucyBhIHtQaGFzZXIuTWF0aC5WZWN0b3IyfSBjbG9uZSBvZiB0aGUgcG9zaXRpb25cclxuICAgICAqL1xyXG4gICAgZ2V0TG9jYXRpb24oKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coYG1vdXNlIGxvY2F0aW9uOiAke0pTT04uc3RyaW5naWZ5KHRoaXMubG9jYXRpb24pfWApO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNjZW5lLmlucHV0LmFjdGl2ZVBvaW50ZXIucG9zaXRpb24uY2xvbmUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIG9mZnNldHMgdGhlIHNjcmVlbiBwb3NpdGlvbiBiYXNlZCBvbiBjYW1lcmEgcG9zaXRpb25cclxuICAgICAqL1xyXG4gICAgZ2V0UmVhbExvY2F0aW9uKCk6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGBtb3VzZSBSRUFMIGxvY2F0aW9uOiAke0pTT04uc3RyaW5naWZ5KHdvcmxkKX1gKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5zY2VuZS5pbnB1dC5hY3RpdmVQb2ludGVyLnBvc2l0aW9uVG9DYW1lcmEodGhpcy5zY2VuZS5jYW1lcmFzLm1haW4pIGFzIFBoYXNlci5NYXRoLlZlY3RvcjI7XHJcbiAgICB9XHJcblxyXG4gICAgb25XaGVlbFVwPFQgZXh0ZW5kcyBNb3VzZVdoZWVsU2Nyb2xsPihmdW5jOiBUKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5pbnB1dC5vbihQaGFzZXIuSW5wdXQuRXZlbnRzLlBPSU5URVJfV0hFRUwsIChwb2ludGVyLCBjdXJyZW50bHlPdmVyLCBkeCwgZHksIGR6LCBldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZHkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBmdW5jKGR5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG9uV2hlZWxEb3duPFQgZXh0ZW5kcyBNb3VzZVdoZWVsU2Nyb2xsPihmdW5jOiBUKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5pbnB1dC5vbihQaGFzZXIuSW5wdXQuRXZlbnRzLlBPSU5URVJfV0hFRUwsIChwb2ludGVyLCBjdXJyZW50bHlPdmVyLCBkeCwgZHksIGR6LCBldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZHkgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICBmdW5jKC1keSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEJ1bGxldCB9IGZyb20gXCIuL2J1bGxldFwiO1xyXG5pbXBvcnQgeyBPZmZlbmNlQXR0YWNobWVudCB9IGZyb20gXCIuL29mZmVuY2UtYXR0YWNobWVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1hY2hpbmVHdW5BdHRhY2htZW50IGV4dGVuZHMgT2ZmZW5jZUF0dGFjaG1lbnQge1xyXG4gICAgY29uc3RydWN0b3Ioc2NlbmU6IFBoYXNlci5TY2VuZSkge1xyXG4gICAgICAgIHN1cGVyKHNjZW5lKTtcclxuXHJcbiAgICAgICAgdGhpcy5tYXhBbW1vID0gMTUwMDtcclxuICAgICAgICB0aGlzLnJlbWFpbmluZ0FtbW8gPSB0aGlzLm1heEFtbW87XHJcbiAgICAgICAgdGhpcy5sYXN0RmlyZWQgPSAwO1xyXG4gICAgICAgIHRoaXMuZmlyaW5nRGVsYXkgPSAxOyAvLyBtaWxsaXNlY29uZHNcclxuXHJcbiAgICAgICAgdGhpcy5nYW1lT2JqID0gdGhpcy5zY2VuZS5hZGQuc3ByaXRlKDAsIDAsICdtYWNoaW5lLWd1bicpO1xyXG4gICAgICAgIHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5nYW1lT2JqKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKTogdm9pZCB7XHJcblxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBmaXJlKGRpcmVjdGlvbj86IFBoYXNlci5NYXRoLlZlY3RvcjIpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5hY3RpdmUpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0UmVtYWluaW5nQW1tbygpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2NlbmUuZ2FtZS5nZXRUaW1lKCkgPiB0aGlzLmxhc3RGaXJlZCArIHRoaXMuZmlyaW5nRGVsYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgYnVsbGV0T2Zmc2V0OiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gbmV3IFBoYXNlci5NYXRoLlZlY3RvcjIoLTIwLCAwKS5hZGQodGhpcy5nZXRSZWFsTG9jYXRpb24oKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNoaXBSZWFsTG9jYXRpb246IFBoYXNlci5NYXRoLlZlY3RvcjIgPSB0aGlzLnNoaXAuZ2V0UmVhbExvY2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGFkanVzdGVkTG9jYXRpb246IFBoYXNlci5NYXRoLlZlY3RvcjIgPSBQaGFzZXIuTWF0aC5Sb3RhdGVBcm91bmQoYnVsbGV0T2Zmc2V0LCBzaGlwUmVhbExvY2F0aW9uLngsIHNoaXBSZWFsTG9jYXRpb24ueSwgUGhhc2VyLk1hdGguRGVnVG9SYWQodGhpcy5nZXRSb3RhdGlvbigpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IEJ1bGxldCh0aGlzLnNjZW5lLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHg6IGFkanVzdGVkTG9jYXRpb24ueCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeTogYWRqdXN0ZWRMb2NhdGlvbi55LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JjZTogMTUwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYW5nbGU6IHRoaXMuZ2V0Um90YXRpb24oKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRpbmdWOiB0aGlzLmdldFZlbG9jaXR5KCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlOiAwLjI1XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1haW5pbmdBbW1vLS07XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0RmlyZWQgPSB0aGlzLnNjZW5lLmdhbWUuZ2V0VGltZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgR2xvYmFscyB9IGZyb20gXCIuLi91dGlsaXRpZXMvZ2xvYmFsc1wiO1xyXG5pbXBvcnQgeyBTaGlwUG9kIH0gZnJvbSBcIi4uL3NoaXBzL3NoaXAtcG9kXCI7XHJcbmltcG9ydCB7IFNoaXBBdHRhY2htZW50IH0gZnJvbSBcIi4uL3NoaXBzL2F0dGFjaG1lbnRzL3NoaXAtYXR0YWNobWVudFwiO1xyXG5pbXBvcnQgeyBBdHRhY2htZW50TG9jYXRpb24gfSBmcm9tIFwiLi4vc2hpcHMvYXR0YWNobWVudHMvYXR0YWNobWVudC1sb2NhdGlvblwiO1xyXG5cclxuY29uc3Qgc2NlbmVDb25maWc6IFBoYXNlci5UeXBlcy5TY2VuZXMuU2V0dGluZ3NDb25maWcgPSB7XHJcbiAgICBhY3RpdmU6IHRydWUsXHJcbiAgICB2aXNpYmxlOiB0cnVlLFxyXG4gICAga2V5OiAnT3ZlcmxheVNjZW5lJ1xyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIE92ZXJsYXlTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBwcml2YXRlIHNoaXBEZWJ1ZzogUGhhc2VyLkdhbWVPYmplY3RzLlRleHQ7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoc2NlbmVDb25maWcpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwcmVsb2FkKCk6IHZvaWQge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc2hpcERlYnVnID0gdGhpcy5hZGQudGV4dCgxMCwgMTAsICcnLCB7IGZvbnQ6ICcxNnB4IENvdXJpZXInLCBmaWxsOiAnI2ZmZGRkZCcgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZSgpOiB2b2lkIHtcclxuICAgICAgICBpZiAoR2xvYmFscy5kZWJ1Zykge1xyXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlEZWJ1Z0luZm8oKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBkaXNwbGF5RGVidWdJbmZvKCk6IHZvaWQge1xyXG4gICAgICAgIGlmIChHbG9iYWxzLnBsYXllcikge1xyXG4gICAgICAgICAgICBsZXQgcDogU2hpcFBvZCA9IEdsb2JhbHMucGxheWVyO1xyXG4gICAgICAgICAgICBsZXQgbG9jOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gcC5nZXRSZWFsTG9jYXRpb24oKTtcclxuICAgICAgICAgICAgbGV0IHY6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSBwLmdldFZlbG9jaXR5KCk7XHJcbiAgICAgICAgICAgIGxldCBpbmZvOiBzdHJpbmdbXSA9IFtcclxuICAgICAgICAgICAgICAgIGBTcGVlZDogJHtwLmdldFNwZWVkKCkudG9GaXhlZCgxKX1gLFxyXG4gICAgICAgICAgICAgICAgYEludGVncml0eTogJHtwLmdldEludGVncml0eSgpLnRvRml4ZWQoMSl9YCxcclxuICAgICAgICAgICAgICAgIGBIZWF0OiAke3AuZ2V0VGVtcGVyYXR1cmUoKS50b0ZpeGVkKDEpfWAsXHJcbiAgICAgICAgICAgICAgICBgRnVlbDogJHtwLmdldFJlbWFpbmluZ0Z1ZWwoKS50b0ZpeGVkKDEpfWAsXHJcbiAgICAgICAgICAgICAgICBgTG9jYXRpb246ICR7bG9jLngudG9GaXhlZCgxKX0sJHtsb2MueS50b0ZpeGVkKDEpfWAsXHJcbiAgICAgICAgICAgICAgICBgQW5nbGU6ICR7cC5nZXRSb3RhdGlvbigpLnRvRml4ZWQoMSl9YCxcclxuICAgICAgICAgICAgICAgIGBWZWxvY2l0eTogJHt2LngudG9GaXhlZCgxKX0sJHt2LnkudG9GaXhlZCgxKX1gXHJcbiAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIGxldCBhdHRhY2htZW50czogU2hpcEF0dGFjaG1lbnRbXSA9IHAuYXR0YWNobWVudHMuZ2V0QXR0YWNobWVudHMoKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaT0wOyBpPGF0dGFjaG1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXR0YWNobWVudHNbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBpbmZvLnB1c2goYEF0dGFjaG1lbnRMb2NhdGlvbi4ke0F0dGFjaG1lbnRMb2NhdGlvbltpXX0gLSAke2l9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGF0dExvYzogUGhhc2VyLk1hdGguVmVjdG9yMiA9IGF0dGFjaG1lbnRzW2ldLmdldFJlYWxMb2NhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIGluZm8ucHVzaChgLS0gTG9jYXRpb246ICR7YXR0TG9jLngudG9GaXhlZCgxKX0sJHthdHRMb2MueS50b0ZpeGVkKDEpfWApO1xyXG4gICAgICAgICAgICAgICAgICAgIGluZm8ucHVzaChgLS0gQW5nbGU6ICR7YXR0YWNobWVudHNbaV0uZ2V0Um90YXRpb24oKS50b0ZpeGVkKDEpfWApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc2hpcERlYnVnLnNldFRleHQoaW5mbyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiY29uc3Qgc2NlbmVDb25maWc6IFBoYXNlci5UeXBlcy5TY2VuZXMuU2V0dGluZ3NDb25maWcgPSB7XHJcbiAgICBhY3RpdmU6IHRydWUsXHJcbiAgICB2aXNpYmxlOiB0cnVlLFxyXG4gICAga2V5OiAnRmFyU3RhcnMnXHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgRmFyU3RhcnNTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcihzY2VuZUNvbmZpZyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHByZWxvYWQoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmYXItc3RhcnMnLCAnLi9hc3NldHMvYmFja2dyb3VuZHMvc3RhcmZpZWxkLXRpbGUtNTEyeDUxMi5wbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIGxldCB4T2Zmc2V0OiBudW1iZXIgPSBNYXRoLmNlaWwodGhpcy5nYW1lLmNhbnZhcy53aWR0aCAvIDIpO1xyXG4gICAgICAgIGxldCB5T2Zmc2V0OiBudW1iZXIgPSBNYXRoLmNlaWwodGhpcy5nYW1lLmNhbnZhcy5oZWlnaHQgLyAyKTtcclxuICAgICAgICB0aGlzLmFkZC50aWxlU3ByaXRlKHhPZmZzZXQsIHlPZmZzZXQsIHRoaXMuZ2FtZS5jYW52YXMud2lkdGggKyAxMCwgdGhpcy5nYW1lLmNhbnZhcy5oZWlnaHQgKyAxMCwgJ2Zhci1zdGFycycpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBab29tYWJsZVNjZW5lIH0gZnJvbSBcIi4vem9vbWFibGUtc2NlbmVcIjtcclxuaW1wb3J0IHsgR2xvYmFscyB9IGZyb20gXCIuLi91dGlsaXRpZXMvZ2xvYmFsc1wiO1xyXG5cclxuY29uc3Qgc2NlbmVDb25maWc6IFBoYXNlci5UeXBlcy5TY2VuZXMuU2V0dGluZ3NDb25maWcgPSB7XHJcbiAgICBhY3RpdmU6IHRydWUsXHJcbiAgICB2aXNpYmxlOiB0cnVlLFxyXG4gICAga2V5OiAnU3lzdGVtU2NlbmUnXHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgU3lzdGVtU2NlbmUgZXh0ZW5kcyBab29tYWJsZVNjZW5lIHtcclxuICAgIHN1bjogUGhhc2VyLkdhbWVPYmplY3RzLlNwcml0ZTtcclxuICAgIHN0YXJ0UG9zaXRpb246IFBoYXNlci5NYXRoLlZlY3RvcjI7XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKDAuMDUsIHNjZW5lQ29uZmlnKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHVibGljIHByZWxvYWQoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdzdW4nLCAnLi9hc3NldHMvYmFja2dyb3VuZHMvc3VuLnBuZycpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjcmVhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5zdGFydFBvc2l0aW9uID0gbmV3IFBoYXNlci5NYXRoLlZlY3RvcjIoXHJcbiAgICAgICAgICAgIFBoYXNlci5NYXRoLlJORC5iZXR3ZWVuKDAsIHRoaXMuZ2FtZS5jYW52YXMud2lkdGgpLFxyXG4gICAgICAgICAgICBQaGFzZXIuTWF0aC5STkQuYmV0d2VlbigwLCB0aGlzLmdhbWUuY2FudmFzLmhlaWdodClcclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMuc3VuID0gdGhpcy5hZGQuc3ByaXRlKHRoaXMuc3RhcnRQb3NpdGlvbi54LCB0aGlzLnN0YXJ0UG9zaXRpb24ueSwgJ3N1bicpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwdWJsaWMgdXBkYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc3VuLmFuZ2xlICs9IDAuMDE7XHJcbiAgICAgICAgaWYgKHRoaXMuc3VuLmFuZ2xlID49IDM2MCkge1xyXG4gICAgICAgICAgICB0aGlzLnN1bi5hbmdsZSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChHbG9iYWxzLnBsYXllcikge1xyXG4gICAgICAgICAgICAvLyBtb3ZlIHRoZSBzdW4gaW4gdGhlIG9wcG9zaXRlIGRpcmVjdGlvbiBvZiB0cmF2ZWwgYXQgYSByYXRlIG9mIDE6NTAwXHJcbiAgICAgICAgICAgIGxldCBsb2M6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSBHbG9iYWxzLnBsYXllci5nZXRSZWFsTG9jYXRpb24oKTtcclxuICAgICAgICAgICAgbG9jLmRpdmlkZShuZXcgUGhhc2VyLk1hdGguVmVjdG9yMig1MDAsIDUwMCkpO1xyXG4gICAgICAgICAgICBsb2MubmVnYXRlKCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnN1bi54ID0gdGhpcy5zdGFydFBvc2l0aW9uLnggKyBsb2MueDtcclxuICAgICAgICAgICAgdGhpcy5zdW4ueSA9IHRoaXMuc3RhcnRQb3NpdGlvbi55ICsgbG9jLnk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==