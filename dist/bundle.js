!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("phaser")):"function"==typeof define&&define.amd?define(["phaser"],e):"object"==typeof exports?exports.bundle=e(require("phaser")):t.bundle=e(t.phaser)}(window,(function(t){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=7)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.interactables=[],t.debug=!1}(e.Globals||(e.Globals={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.enumLength=function(t){var e=0;for(var n in t)isNaN(Number(n))&&e++;return e},t.getHeading=function(t){var e=Math.cos(Phaser.Math.DegToRad(t)),n=Math.sin(Phaser.Math.DegToRad(t));return new Phaser.Math.Vector2(e,n).normalize().negate()},t.vector2=function(t,e){return e||(e=t),new Phaser.Math.Vector2(t,e)}}(e.Helpers||(e.Helpers={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.front=0]="front",t[t.frontRight=1]="frontRight",t[t.right=2]="right",t[t.backRight=3]="backRight",t[t.backLeft=4]="backLeft",t[t.left=5]="left",t[t.frontLeft=6]="frontLeft"}(e.AttachmentLocation||(e.AttachmentLocation={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.MAX_INTEGRITY=100,t.MAX_FUEL=100,t.MAX_SAFE_TEMPERATURE=100,t.MAX_TEMPERATURE=200,t.MAX_VELOCITY=500,t.OVERHEAT_CHECK_INTERVAL=100,t.COOLING_RATE=.3,t.THRUSTER_FORCE=1,t.FUEL_PER_THRUST=.001,t.HEAT_PER_THRUST=.1,t.BOOSTER_FORCE=300,t.FUEL_PER_BOOST=1,t.HEAT_PER_BOOST=25,t.BOOSTER_COOLDOWN_TIME=1e3,t.THROW_FORCE=100,function(t){t[t.blue=0]="blue",t[t.green=1]="green",t[t.red=2]="red",t[t.white=3]="white",t[t.yellow=4]="yellow"}(t.Flare||(t.Flare={}))}(e.Constants||(e.Constants={}))},function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var i=new Uint8Array(16);t.exports=function(){return n(i),i}}else{var o=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}},function(t,e){for(var n=[],i=0;i<256;++i)n[i]=(i+256).toString(16).substr(1);t.exports=function(t,e){var i=e||0,o=n;return[o[t[i++]],o[t[i++]],o[t[i++]],o[t[i++]],"-",o[t[i++]],o[t[i++]],"-",o[t[i++]],o[t[i++]],"-",o[t[i++]],o[t[i++]],"-",o[t[i++]],o[t[i++]],o[t[i++]],o[t[i++]],o[t[i++]],o[t[i++]]].join("")}},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var s=n(20),a=function(t){function e(e,n){var i=t.call(this,n)||this;return i.increment=e,i.minZoom=1-2*e,i.maxZoom=1,i}return o(e,t),e.prototype.create=function(){var t=this;this.mouse=new s.Mouse(this),this.mouse.onWheelUp((function(e){var n=t.cameras.main.zoom-t.increment;n<t.minZoom&&(n=t.minZoom),t.cameras.main.zoomTo(n)})),this.mouse.onWheelDown((function(e){var n=t.cameras.main.zoom+t.increment;n>t.maxZoom&&(n=t.maxZoom),t.cameras.main.zoomTo(n)}))},e}(Phaser.Scene);e.ZoomableScene=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(8),o=n(0),s=n(21),a=n(22),r=n(23),c={type:Phaser.AUTO,scale:{width:window.innerWidth,height:window.innerHeight},backgroundColor:"#000000",parent:"space-sim",physics:{default:"arcade",arcade:{gravity:{x:0,y:0}}},scene:[a.FarStarsScene,r.SystemScene,i.ShipScene,s.OverlayScene]};e.game=new Phaser.Game(c),window.addEventListener("resize",(function(){e.game.scale.refresh()})),o.Globals.game=e.game,o.Globals.debug=!0},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var s=n(9),a=n(0),r=n(17),c=n(6),h=n(2),u={active:!0,visible:!0,key:"ShipScene"},p=function(t){function e(){return t.call(this,.4,u)||this}return o(e,t),e.prototype.preload=function(){this.load.image("ship-pod","./assets/sprites/ship-pod.png"),this.load.image("cannon","./assets/sprites/cannon.png"),this.load.spritesheet("flares","./assets/particles/flares.png",{frameWidth:130,frameHeight:132,startFrame:0,endFrame:4}),this.load.image("explosion","./assets/particles/explosion.png"),this.load.image("bullet","./assets/sprites/bullet.png")},e.prototype.create=function(){t.prototype.create.call(this),this.player=new s.ShipPod(this,{x:0,y:0}),a.Globals.player=this.player,this.player.setTarget(this.mouse);var e=new r.CannonAttachment(this);this.player.attachments.addAttachment(e),this.setupCamera(this.player),this.setupInputHandling()},e.prototype.update=function(){var t;(this.thrustKey.isDown&&this.player.thruster.thrustFowards(),this.boostKey.isDown&&this.player.thruster.boostForwards(),this.input.activePointer.leftButtonDown())&&((t=this.player.attachments.getAttachment(h.AttachmentLocation.front))&&t.trigger());this.input.activePointer.rightButtonDown()&&((t=this.player.attachments.getAttachment(h.AttachmentLocation.front))&&this.player.attachments.throwAttachment(h.AttachmentLocation.front));this.rotateAttachmentsClockwiseKey.isDown&&this.player.attachments.rotateAttachmentsClockwise(),this.rotateAttachmentsAntiClockwiseKey.isDown&&this.player.attachments.rotateAttachmentsAntiClockwise(),this.detachAttachmentKey.isDown&&this.player.attachments.removeAttachment(h.AttachmentLocation.front),this.player.update()},e.prototype.setupInputHandling=function(){this.thrustKey=this.input.keyboard.addKey("SPACE",!0,!0),this.boostKey=this.input.keyboard.addKey("TAB",!0,!1),this.rotateAttachmentsClockwiseKey=this.input.keyboard.addKey("E",!0,!1),this.rotateAttachmentsAntiClockwiseKey=this.input.keyboard.addKey("Q",!0,!1),this.detachAttachmentKey=this.input.keyboard.addKey("X",!0,!1),this.game.canvas.oncontextmenu=function(t){t.preventDefault()}},e.prototype.setupCamera=function(t){this.cameras.main.backgroundColor.setFromRGB({r:0,g:0,b:0}),this.cameras.main.setZoom(1);var e=t.getRealLocation();this.cameras.main.centerOn(e.x,e.y),this.cameras.main.startFollow(t.getGameObject(),!0,.1,.1)},e}(c.ZoomableScene);e.ShipScene=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(10);var i=n(11),o=n(3),s=n(1),a=n(15),r=n(16),c=function(){function t(t,e){this.remainingFuel=100,this.temperature=0,this.active=!0,this.lastOverheatCheck=0,e||(e={x:0,y:0}),this.id=i.RNG.guid(),this.scene=t,this.gameObj=t.add.container(e.x,e.y),this.scene.physics.add.existing(this.gameObj),this.getPhysicsBody().bounce.setTo(.7,.7),this.getPhysicsBody().setMaxVelocity(o.Constants.MAX_VELOCITY,o.Constants.MAX_VELOCITY),this.flareParticles=t.add.particles("flares"),this.explosionParticles=t.add.particles("explosion");var n=t.add.sprite(0,0,"ship-pod");this.getGameObject().add(n),this.integrity=o.Constants.MAX_INTEGRITY,this.thruster=new r.Thruster(this,this.scene),this.attachments=new a.AttachmentManager(this,this.scene)}return t.prototype.update=function(){this.active&&(this.lookAtTarget(),this.checkOverheatCondition(),this.attachments.update())},t.prototype.checkOverheatCondition=function(){if(this.active&&this.scene.game.getTime()>this.lastOverheatCheck+o.Constants.OVERHEAT_CHECK_INTERVAL){if(this.temperature>o.Constants.MAX_TEMPERATURE&&this.destroy(),this.temperature>o.Constants.MAX_SAFE_TEMPERATURE){var t=(this.temperature-o.Constants.MAX_SAFE_TEMPERATURE)/o.Constants.MAX_SAFE_TEMPERATURE;this.sustainDamage(t)}this.applyCooling(o.Constants.COOLING_RATE),this.lastOverheatCheck=this.scene.game.getTime()}},t.prototype.getRealLocation=function(){return this.getGameObject()?new Phaser.Math.Vector2(this.getGameObject().x,this.getGameObject().y):Phaser.Math.Vector2.ZERO},t.prototype.getLocation=function(){if(this.getGameObject()){var t=this.scene.cameras.main.getWorldPoint(0,0);return new Phaser.Math.Vector2(this.gameObj.x-t.x,this.gameObj.y-t.y)}return Phaser.Math.Vector2.ZERO},t.prototype.getId=function(){return this.id},t.prototype.getGameObject=function(){return this.gameObj},t.prototype.getPhysicsBody=function(){return this.getGameObject()?this.getGameObject().body:null},t.prototype.setTarget=function(t){this.target=t},t.prototype.getTarget=function(){return this.target},t.prototype.lookAtTarget=function(){if(this.getPhysicsBody()&&this.getTarget()){var t=this.getTarget().getRealLocation(),e=this.getRealLocation(),n=Phaser.Math.Angle.Between(t.x,t.y,e.x,e.y),i=Phaser.Math.RadToDeg(n);this.getPhysicsBody().rotation=i}},t.prototype.getRotation=function(){return this.getGameObject()?this.getGameObject().angle:0},t.prototype.getHeading=function(){return s.Helpers.getHeading(this.getRotation())},t.prototype.getSpeed=function(){return this.getVelocity().length()},t.prototype.getVelocity=function(){return this.getPhysicsBody()?this.getPhysicsBody().velocity.clone():Phaser.Math.Vector2.ZERO},t.prototype.getTemperature=function(){return this.temperature},t.prototype.applyHeating=function(t){this.temperature+=t},t.prototype.applyCooling=function(t){this.temperature-=t,this.temperature<0&&(this.temperature=0)},t.prototype.reduceFuel=function(t){this.remainingFuel-=t,this.remainingFuel<0&&(this.remainingFuel=0)},t.prototype.addFuel=function(t){this.remainingFuel+=t,this.remainingFuel>o.Constants.MAX_FUEL&&(this.remainingFuel=o.Constants.MAX_FUEL)},t.prototype.getRemainingFuel=function(){return this.remainingFuel},t.prototype.getIntegrity=function(){return this.integrity},t.prototype.sustainDamage=function(t){this.integrity-=t,this.integrity<=0&&(this.integrity=0,this.destroy())},t.prototype.repair=function(t){this.integrity=t,this.integrity>o.Constants.MAX_INTEGRITY&&(this.integrity=o.Constants.MAX_INTEGRITY)},t.prototype.destroy=function(){this.active=!1,this.displayShipExplosion(),this.getGameObject().destroy(),this.gameObj=null},t.prototype.displayShipExplosion=function(){var t=this.getRealLocation();this.explosionParticles.createEmitter({x:t.x,y:t.y,lifespan:{min:500,max:1e3},speedX:{min:-1,max:1},speedY:{min:-1,max:1},angle:{min:-180,max:179},gravityX:0,gravityY:0,scale:{start:1,end:0},blendMode:"ADD",maxParticles:3}),this.flareParticles.createEmitter({frame:o.Constants.Flare.red,x:t.x,y:t.y,lifespan:{min:100,max:500},speedX:{min:-600,max:600},speedY:{min:-600,max:600},angle:{min:-180,max:179},gravityX:0,gravityY:0,scale:{start:1,end:0},blendMode:"ADD",maxParticles:10})},t}();e.ShipPod=c},function(e,n){e.exports=t},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(12);!function(t){t.int=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},t.guid=function(){return i.v4()}}(e.RNG||(e.RNG={}))},function(t,e,n){var i=n(13),o=n(14),s=o;s.v1=i,s.v4=o,t.exports=s},function(t,e,n){var i,o,s=n(4),a=n(5),r=0,c=0;t.exports=function(t,e,n){var h=e&&n||0,u=e||[],p=(t=t||{}).node||i,l=void 0!==t.clockseq?t.clockseq:o;if(null==p||null==l){var y=s();null==p&&(p=i=[1|y[0],y[1],y[2],y[3],y[4],y[5]]),null==l&&(l=o=16383&(y[6]<<8|y[7]))}var g=void 0!==t.msecs?t.msecs:(new Date).getTime(),f=void 0!==t.nsecs?t.nsecs:c+1,m=g-r+(f-c)/1e4;if(m<0&&void 0===t.clockseq&&(l=l+1&16383),(m<0||g>r)&&void 0===t.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");r=g,c=f,o=l;var d=(1e4*(268435455&(g+=122192928e5))+f)%4294967296;u[h++]=d>>>24&255,u[h++]=d>>>16&255,u[h++]=d>>>8&255,u[h++]=255&d;var v=g/4294967296*1e4&268435455;u[h++]=v>>>8&255,u[h++]=255&v,u[h++]=v>>>24&15|16,u[h++]=v>>>16&255,u[h++]=l>>>8|128,u[h++]=255&l;for(var b=0;b<6;++b)u[h+b]=p[b];return e||a(u)}},function(t,e,n){var i=n(4),o=n(5);t.exports=function(t,e,n){var s=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var a=(t=t||{}).random||(t.rng||i)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e)for(var r=0;r<16;++r)e[s+r]=a[r];return e||o(a)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n(2),s=function(){function t(t,e){this.attachments=[],this.active=!0,this.ship=t,this.scene=e,this.lastRotatedTime=0,this.rotationDelay=100;for(var n=0;n<i.Helpers.enumLength(o.AttachmentLocation);n++)this.attachments.push(null)}return t.prototype.update=function(){if(this.active)for(var t=0;t<this.attachments.length;t++){var e=this.attachments[t];e&&e.update()}},t.prototype.rotateAttachmentsClockwise=function(){if(this.scene.game.getTime()>this.lastRotatedTime+this.rotationDelay){var t=this.attachments.pop();this.attachments.unshift(t),this.updateAttachmentPositions(),this.lastRotatedTime=this.scene.game.getTime()}},t.prototype.rotateAttachmentsAntiClockwise=function(){if(this.scene.game.getTime()>this.lastRotatedTime+this.rotationDelay){var t=this.attachments.shift();this.attachments.push(t),this.updateAttachmentPositions(),this.lastRotatedTime=this.scene.game.getTime()}},t.prototype.addAttachment=function(t){for(var e=!1,n=0;n<i.Helpers.enumLength(o.AttachmentLocation);n++)if(!this.attachments[n]){this.attachments[n]=t,t.attach(this.ship,n),e=!0;break}e||(this.attachments[o.AttachmentLocation.front].detach(),this.attachments[o.AttachmentLocation.front]=t,t.attach(this.ship,o.AttachmentLocation.front)),this.ship.getGameObject().add(t.getGameObject())},t.prototype.removeAttachment=function(t){if(this.attachments[t]){var e=this.attachments[t].getPhysicsBody(),n=this.attachments[t].getGameObject();this.ship.getGameObject().remove(n,!1),this.attachments[t].detach(),this.attachments[t]=null,e.position=this.ship.getRealLocation();var i=this.ship.getPhysicsBody().velocity;e.setVelocity(i.x,i.y),e.rotation=this.ship.getRotation()}},t.prototype.throwAttachment=function(t){var e=this.getAttachment(t);if(e)for(var n=0;n<this.attachments.length;n++)if(this.attachments[n]&&this.attachments[n]==e){this.removeAttachment(n),e.throw();break}},t.prototype.getAttachments=function(){return this.attachments},t.prototype.getAttachment=function(t){return this.attachments[t]},t.prototype.updateAttachmentPositions=function(){for(var t=0;t<this.attachments.length;t++){var e=this.attachments[t];if(e){e.setAttachmentLocation(t);var n=0;switch(t){case o.AttachmentLocation.frontRight:n=45;break;case o.AttachmentLocation.right:n=90;break;case o.AttachmentLocation.backRight:n=135;break;case o.AttachmentLocation.backLeft:n=225;break;case o.AttachmentLocation.left:n=270;break;case o.AttachmentLocation.frontLeft:n=315;break;default:n=0}e.getGameObject().angle=n}}},t}();e.AttachmentManager=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),o=function(){function t(t,e){this.lastBoostTime=0,this.ship=t,this.scene=e,this.flareParticles=e.add.particles("flares")}return t.prototype.thrustFowards=function(){this.applyThrust(i.Constants.THRUSTER_FORCE,i.Constants.FUEL_PER_THRUST,i.Constants.HEAT_PER_THRUST),this.displayThrusterFire(i.Constants.Flare.yellow,.2,1)},t.prototype.boostForwards=function(){this.scene.game.getTime()>=this.lastBoostTime+i.Constants.BOOSTER_COOLDOWN_TIME&&(this.applyThrust(i.Constants.BOOSTER_FORCE,i.Constants.FUEL_PER_BOOST,i.Constants.HEAT_PER_BOOST),this.displayThrusterFire(i.Constants.Flare.blue,1,10),this.lastBoostTime=this.scene.game.getTime())},t.prototype.strafeLeft=function(){},t.prototype.strafeRight=function(){},t.prototype.thrustBackwards=function(){},t.prototype.applyThrust=function(t,e,n){if(this.ship.getRemainingFuel()>0){var i=this.ship.getHeading().multiply(new Phaser.Math.Vector2(t,t));this.ship.getPhysicsBody().velocity.add(i),this.ship.reduceFuel(e),this.ship.applyHeating(n)}},t.prototype.displayThrusterFire=function(t,e,n){var i=this.ship.getRealLocation(),o=new Phaser.Math.Vector2(20,0).add(i),s=this.ship.getHeading().negate(),a=Phaser.Math.RotateAround(o,i.x,i.y,Phaser.Math.DegToRad(this.ship.getRotation()));this.ship.getVelocity();this.flareParticles.createEmitter({frame:t,x:a.x,y:a.y,lifespan:{min:250,max:500},speedX:{min:100*s.x,max:500*s.x},speedY:{min:100*s.y,max:500*s.y},angle:0,gravityX:0,gravityY:0,scale:{start:e,end:0},quantity:n,blendMode:"ADD",maxParticles:10})},t}();e.Thruster=o},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var s=n(18),a=n(19),r=function(t){function e(e){var n=t.call(this,e)||this;return n.maxAmmo=500,n.remainingAmmo=n.maxAmmo,n.lastFired=0,n.firingDelay=1e3,n.gameObj=n.scene.add.sprite(0,0,"cannon"),n.scene.physics.add.existing(n.gameObj),n}return o(e,t),e.prototype.reload=function(t){this.remainingAmmo+=t,this.remainingAmmo>this.maxAmmo&&(this.remainingAmmo=this.maxAmmo)},e.prototype.getRemainingAmmo=function(){return this.remainingAmmo},e.prototype.update=function(){},e.prototype.trigger=function(){this.active&&this.fire()},e.prototype.fire=function(t){if(this.active&&this.getRemainingAmmo()>0&&this.scene.game.getTime()>this.lastFired+this.firingDelay){var e=this.getRealLocation();new a.Bullet(this.scene,{x:e.x,y:e.y,force:3e3,angle:this.getRotation(),startingV:this.getVelocity()}),this.lastFired=this.scene.game.getTime()}},e}(s.ShipAttachment);e.CannonAttachment=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),o=n(2),s=n(1),a=function(){function t(t){this.scene=t,this.active=!0,this.integrity=i.Constants.MAX_INTEGRITY,this.isThrown=!1}return t.prototype.attach=function(t,e){e||(e=o.AttachmentLocation.front),this.ship=t,this.setAttachmentLocation(e);var n=this.ship.getRealLocation();this.getPhysicsBody().position=n,this.getPhysicsBody().rotation=this.ship.getRotation()},t.prototype.detach=function(){this.ship=null,this.attachmentLocation=null;var t=this.getGameObject();t.setActive(!0),this.scene.add.existing(t)},t.prototype.throw=function(){this.isThrown=!0;var t=this.getHeading();t.multiply(new Phaser.Math.Vector2(i.Constants.THROW_FORCE,i.Constants.THROW_FORCE)),this.ship&&t.add(this.ship.getPhysicsBody().velocity),this.getPhysicsBody().velocity.add(t)},t.prototype.getGameObject=function(){return this.gameObj},t.prototype.getPhysicsBody=function(){return this.getGameObject()?this.getGameObject().body:null},t.prototype.getRotation=function(){var t=this.getGameObject().angle;return this.ship&&(t+=this.ship.getRotation()),t},t.prototype.getHeading=function(){var t=this.getRotation();return s.Helpers.getHeading(t)},t.prototype.getSpeed=function(){var t=this.getVelocity().length();return this.ship&&(t+=this.ship.getSpeed()),t},t.prototype.getVelocity=function(){if(this.getPhysicsBody()){var t=this.getPhysicsBody().velocity.clone();return this.ship&&t.add(this.ship.getVelocity()),t}return Phaser.Math.Vector2.ZERO},t.prototype.getLocation=function(){var t=this.scene.cameras.main.getWorldPoint(0,0),e=this.getRealLocation();return new Phaser.Math.Vector2(e.x-t.x,e.y-t.y)},t.prototype.getRealLocation=function(){if(this.getGameObject()){var t=new Phaser.Math.Vector2(this.getGameObject().x,this.getGameObject().y);return this.ship&&t.add(this.ship.getRealLocation()),t}return Phaser.Math.Vector2.ZERO},t.prototype.getIntegrity=function(){return this.integrity},t.prototype.sustainDamage=function(t){this.integrity-=t,this.integrity<=0&&(this.integrity=0,this.active=!1,this.destroy())},t.prototype.repair=function(t){this.integrity=t,this.integrity>i.Constants.MAX_INTEGRITY&&(this.integrity=i.Constants.MAX_INTEGRITY)},t.prototype.destroy=function(){this.active=!1,this.ship.attachments.removeAttachment(this.attachmentLocation),this.getGameObject().destroy()},t.prototype.setAttachmentLocation=function(t){this.attachmentLocation=t},t}();e.ShipAttachment=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(1),s=function(){function t(t,e){this.active=!0,this.scene=t,this.force=e.force||0,this.gameObj=this.scene.add.sprite(e.x||0,e.y||0,"bullet"),this.scene.physics.add.existing(this.gameObj),this.getGameObject().angle=e.angle||0,this.getPhysicsBody().velocity=e.startingV||Phaser.Math.Vector2.ZERO,this.addCollisionDetection(),this.setInMotion()}return t.prototype.addCollisionDetection=function(){for(var t=0;t<i.Globals.interactables.length;t++)this.scene.physics.add.collider(this.gameObj,i.Globals.interactables[t],this.onImpact)},t.prototype.onImpact=function(t,e){},t.prototype.getGameObject=function(){return this.gameObj},t.prototype.getPhysicsBody=function(){if(this.getGameObject())return this.getGameObject().body},t.prototype.getRotation=function(){return this.getGameObject().angle},t.prototype.getHeading=function(){return o.Helpers.getHeading(this.getRotation())},t.prototype.getSpeed=function(){return this.getVelocity().length()},t.prototype.getVelocity=function(){return this.getPhysicsBody()?this.getPhysicsBody().velocity.clone():Phaser.Math.Vector2.ZERO},t.prototype.getLocation=function(){var t=this.scene.cameras.main.getWorldPoint(0,0),e=this.getRealLocation();return new Phaser.Math.Vector2(e.x-t.x,e.y-t.y)},t.prototype.getRealLocation=function(){return this.getGameObject()?new Phaser.Math.Vector2(this.getGameObject().x,this.getGameObject().y):Phaser.Math.Vector2.ZERO},t.prototype.setInMotion=function(){var t=this.getHeading().multiply(o.Helpers.vector2(this.force));this.getPhysicsBody().velocity.add(t)},t}();e.Bullet=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.scene=t,this.scene.input.mouse.capture=!0}return t.prototype.getAngle=function(){return this.scene.input.activePointer.getAngle()},t.prototype.getRotation=function(){return this.getAngle()*(Math.PI/180)},t.prototype.getHeading=function(){var t=this.getAngle(),e=Math.cos(t),n=Math.sin(t);return new Phaser.Math.Vector2(e,n).normalize().negate()},t.prototype.getSpeed=function(){return this.getVelocity().length()},t.prototype.getVelocity=function(){return this.scene.input.activePointer.velocity.clone()},t.prototype.getLocation=function(){return this.scene.input.activePointer.position.clone()},t.prototype.getRealLocation=function(){return this.scene.input.activePointer.positionToCamera(this.scene.cameras.main)},t.prototype.onWheelUp=function(t){this.scene.input.on(Phaser.Input.Events.POINTER_WHEEL,(function(e,n,i,o,s,a){o>0&&t(o)}))},t.prototype.onWheelDown=function(t){this.scene.input.on(Phaser.Input.Events.POINTER_WHEEL,(function(e,n,i,o,s,a){o<0&&t(-o)}))},t}();e.Mouse=i},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),a=n(2),r={active:!0,visible:!0,key:"OverlayScene"},c=function(t){function e(){return t.call(this,r)||this}return o(e,t),e.prototype.preload=function(){},e.prototype.create=function(){this.shipDebug=this.add.text(10,10,"",{font:"16px Courier",fill:"#ffdddd"})},e.prototype.update=function(){s.Globals.debug&&this.displayDebugInfo()},e.prototype.displayDebugInfo=function(){if(s.Globals.player){for(var t=s.Globals.player,e=t.getRealLocation(),n=t.getVelocity(),i=["Speed: "+t.getSpeed().toFixed(1),"Integrity: "+t.getIntegrity().toFixed(1),"Heat: "+t.getTemperature().toFixed(1),"Fuel: "+t.getRemainingFuel().toFixed(1),"Location: "+e.x.toFixed(1)+","+e.y.toFixed(1),"Angle: "+t.getRotation().toFixed(1),"Velocity: "+n.x.toFixed(1)+","+n.y.toFixed(1)],o=t.attachments.getAttachments(),r=0;r<o.length;r++)if(o[r]){i.push("AttachmentLocation."+a.AttachmentLocation[r]+" - "+r);var c=o[r].getRealLocation();i.push("-- Location: "+c.x.toFixed(1)+","+c.y.toFixed(1)),i.push("-- Angle: "+o[r].getRotation().toFixed(1))}this.shipDebug.setText(i)}},e}(Phaser.Scene);e.OverlayScene=c},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var s={active:!0,visible:!0,key:"FarStars"},a=function(t){function e(){return t.call(this,s)||this}return o(e,t),e.prototype.preload=function(){this.load.image("far-stars","./assets/backgrounds/starfield-tile-512x512.png")},e.prototype.create=function(){var t=Math.ceil(this.game.canvas.width/2),e=Math.ceil(this.game.canvas.height/2);this.add.tileSprite(t,e,this.game.canvas.width+10,this.game.canvas.height+10,"far-stars")},e.prototype.update=function(){},e}(Phaser.Scene);e.FarStarsScene=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var s=n(6),a=n(0),r={active:!0,visible:!0,key:"SystemScene"},c=function(t){function e(){return t.call(this,.05,r)||this}return o(e,t),e.prototype.preload=function(){this.load.image("sun","./assets/backgrounds/sun.png")},e.prototype.create=function(){t.prototype.create.call(this),this.startPosition=new Phaser.Math.Vector2(Phaser.Math.RND.between(0,this.game.canvas.width),Phaser.Math.RND.between(0,this.game.canvas.height)),this.sun=this.add.sprite(this.startPosition.x,this.startPosition.y,"sun")},e.prototype.update=function(){if(this.sun.angle+=.01,this.sun.angle>=360&&(this.sun.angle=0),a.Globals.player){var t=a.Globals.player.getRealLocation();t.divide(new Phaser.Math.Vector2(500,500)),t.negate(),this.sun.x=this.startPosition.x+t.x,this.sun.y=this.startPosition.y+t.y}},e}(s.ZoomableScene);e.SystemScene=c}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idW5kbGUvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL2J1bmRsZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvdXRpbGl0aWVzL2dsb2JhbHMudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3V0aWxpdGllcy9oZWxwZXJzLnRzIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy9zaGlwcy9hdHRhY2htZW50cy9hdHRhY2htZW50LWxvY2F0aW9uLnRzIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy91dGlsaXRpZXMvY29uc3RhbnRzLnRzIiwid2VicGFjazovL2J1bmRsZS8uL25vZGVfbW9kdWxlcy91dWlkL2xpYi9ybmctYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly9idW5kbGUvLi9ub2RlX21vZHVsZXMvdXVpZC9saWIvYnl0ZXNUb1V1aWQuanMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NjZW5lcy96b29tYWJsZS1zY2VuZS50cyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvZ2FtZS50cyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvc2NlbmVzL3NoaXAtc2NlbmUudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NoaXBzL3NoaXAtcG9kLnRzIiwid2VicGFjazovL2J1bmRsZS9leHRlcm5hbCBcInBoYXNlclwiIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy91dGlsaXRpZXMvcm5nLnRzIiwid2VicGFjazovL2J1bmRsZS8uL25vZGVfbW9kdWxlcy91dWlkL2luZGV4LmpzIiwid2VicGFjazovL2J1bmRsZS8uL25vZGVfbW9kdWxlcy91dWlkL3YxLmpzIiwid2VicGFjazovL2J1bmRsZS8uL25vZGVfbW9kdWxlcy91dWlkL3Y0LmpzIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy9zaGlwcy9hdHRhY2htZW50cy9hdHRhY2htZW50LW1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NoaXBzL2F0dGFjaG1lbnRzL3V0aWxpdHkvdGhydXN0ZXIudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NoaXBzL2F0dGFjaG1lbnRzL29mZmVuY2UvY2Fubm9uLWF0dGFjaG1lbnQudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NoaXBzL2F0dGFjaG1lbnRzL3NoaXAtYXR0YWNobWVudC50cyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvc2hpcHMvYXR0YWNobWVudHMvb2ZmZW5jZS9idWxsZXQudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3V0aWxpdGllcy9tb3VzZS50cyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvc2NlbmVzL292ZXJsYXktc2NlbmUudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NjZW5lcy9mYXItc3RhcnMtc2NlbmUudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NjZW5lcy9zeXN0ZW0tc2NlbmUudHMiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwicmVxdWlyZSIsImRlZmluZSIsImFtZCIsIndpbmRvdyIsIl9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzEwX18iLCJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiR2xvYmFscyIsImludGVyYWN0YWJsZXMiLCJkZWJ1ZyIsIkhlbHBlcnMiLCJlbnVtTGVuZ3RoIiwiZW51bVR5cGUiLCJjb3VudCIsIml0ZW0iLCJpc05hTiIsIk51bWJlciIsImdldEhlYWRpbmciLCJyb3RhdGlvbiIsIngiLCJNYXRoIiwiY29zIiwiUGhhc2VyIiwiRGVnVG9SYWQiLCJ5Iiwic2luIiwiVmVjdG9yMiIsIm5vcm1hbGl6ZSIsIm5lZ2F0ZSIsInZlY3RvcjIiLCJBdHRhY2htZW50TG9jYXRpb24iLCJDb25zdGFudHMiLCJNQVhfSU5URUdSSVRZIiwiTUFYX0ZVRUwiLCJNQVhfU0FGRV9URU1QRVJBVFVSRSIsIk1BWF9URU1QRVJBVFVSRSIsIk1BWF9WRUxPQ0lUWSIsIk9WRVJIRUFUX0NIRUNLX0lOVEVSVkFMIiwiQ09PTElOR19SQVRFIiwiVEhSVVNURVJfRk9SQ0UiLCJGVUVMX1BFUl9USFJVU1QiLCJIRUFUX1BFUl9USFJVU1QiLCJCT09TVEVSX0ZPUkNFIiwiRlVFTF9QRVJfQk9PU1QiLCJIRUFUX1BFUl9CT09TVCIsIkJPT1NURVJfQ09PTERPV05fVElNRSIsIlRIUk9XX0ZPUkNFIiwiRmxhcmUiLCJnZXRSYW5kb21WYWx1ZXMiLCJjcnlwdG8iLCJtc0NyeXB0byIsInJuZHM4IiwiVWludDhBcnJheSIsInJuZHMiLCJBcnJheSIsInJhbmRvbSIsImJ5dGVUb0hleCIsInRvU3RyaW5nIiwic3Vic3RyIiwiYnVmIiwib2Zmc2V0IiwiYnRoIiwiam9pbiIsImluY3JlbWVudCIsImNvbmZpZyIsIm1pblpvb20iLCJtYXhab29tIiwidGhpcyIsIm1vdXNlIiwiTW91c2UiLCJvbldoZWVsVXAiLCJzY3JvbGxBbW91bnQiLCJuZXdab29tIiwiY2FtZXJhcyIsIm1haW4iLCJ6b29tIiwiem9vbVRvIiwib25XaGVlbERvd24iLCJTY2VuZSIsIlpvb21hYmxlU2NlbmUiLCJnYW1lQ29uZmlnIiwidHlwZSIsIkFVVE8iLCJzY2FsZSIsIndpZHRoIiwiaW5uZXJXaWR0aCIsImhlaWdodCIsImlubmVySGVpZ2h0IiwiYmFja2dyb3VuZENvbG9yIiwicGFyZW50IiwicGh5c2ljcyIsImRlZmF1bHQiLCJhcmNhZGUiLCJncmF2aXR5Iiwic2NlbmUiLCJGYXJTdGFyc1NjZW5lIiwiU3lzdGVtU2NlbmUiLCJTaGlwU2NlbmUiLCJPdmVybGF5U2NlbmUiLCJnYW1lIiwiR2FtZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZWZyZXNoIiwic2NlbmVDb25maWciLCJhY3RpdmUiLCJ2aXNpYmxlIiwicHJlbG9hZCIsImxvYWQiLCJpbWFnZSIsInNwcml0ZXNoZWV0IiwiZnJhbWVXaWR0aCIsImZyYW1lSGVpZ2h0Iiwic3RhcnRGcmFtZSIsImVuZEZyYW1lIiwicGxheWVyIiwiU2hpcFBvZCIsInNldFRhcmdldCIsImNhbm9uIiwiQ2Fubm9uQXR0YWNobWVudCIsImF0dGFjaG1lbnRzIiwiYWRkQXR0YWNobWVudCIsInNldHVwQ2FtZXJhIiwic2V0dXBJbnB1dEhhbmRsaW5nIiwidXBkYXRlIiwiYSIsInRocnVzdEtleSIsImlzRG93biIsInRocnVzdGVyIiwidGhydXN0Rm93YXJkcyIsImJvb3N0S2V5IiwiYm9vc3RGb3J3YXJkcyIsImlucHV0IiwiYWN0aXZlUG9pbnRlciIsImxlZnRCdXR0b25Eb3duIiwiZ2V0QXR0YWNobWVudCIsImZyb250IiwidHJpZ2dlciIsInJpZ2h0QnV0dG9uRG93biIsInRocm93QXR0YWNobWVudCIsInJvdGF0ZUF0dGFjaG1lbnRzQ2xvY2t3aXNlS2V5Iiwicm90YXRlQXR0YWNobWVudHNDbG9ja3dpc2UiLCJyb3RhdGVBdHRhY2htZW50c0FudGlDbG9ja3dpc2VLZXkiLCJyb3RhdGVBdHRhY2htZW50c0FudGlDbG9ja3dpc2UiLCJkZXRhY2hBdHRhY2htZW50S2V5IiwicmVtb3ZlQXR0YWNobWVudCIsImtleWJvYXJkIiwiYWRkS2V5IiwiY2FudmFzIiwib25jb250ZXh0bWVudSIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInNldEZyb21SR0IiLCJnIiwiYiIsInNldFpvb20iLCJwbGF5ZXJMb2MiLCJnZXRSZWFsTG9jYXRpb24iLCJjZW50ZXJPbiIsInN0YXJ0Rm9sbG93IiwiZ2V0R2FtZU9iamVjdCIsInJlbWFpbmluZ0Z1ZWwiLCJ0ZW1wZXJhdHVyZSIsImxhc3RPdmVyaGVhdENoZWNrIiwiaWQiLCJSTkciLCJndWlkIiwiZ2FtZU9iaiIsImFkZCIsImNvbnRhaW5lciIsImV4aXN0aW5nIiwiZ2V0UGh5c2ljc0JvZHkiLCJib3VuY2UiLCJzZXRUbyIsInNldE1heFZlbG9jaXR5IiwiZmxhcmVQYXJ0aWNsZXMiLCJwYXJ0aWNsZXMiLCJleHBsb3Npb25QYXJ0aWNsZXMiLCJzaGlwIiwic3ByaXRlIiwiaW50ZWdyaXR5IiwiVGhydXN0ZXIiLCJBdHRhY2htZW50TWFuYWdlciIsImxvb2tBdFRhcmdldCIsImNoZWNrT3ZlcmhlYXRDb25kaXRpb24iLCJnZXRUaW1lIiwiZGVzdHJveSIsImRlbHRhIiwic3VzdGFpbkRhbWFnZSIsImFwcGx5Q29vbGluZyIsIlpFUk8iLCJnZXRMb2NhdGlvbiIsImNhbWVyYVBvcyIsImdldFdvcmxkUG9pbnQiLCJnZXRJZCIsImJvZHkiLCJ0YXJnZXQiLCJnZXRUYXJnZXQiLCJ0YXJnZXRQb3MiLCJzaGlwUG9zIiwicmFkaWFucyIsIkFuZ2xlIiwiQmV0d2VlbiIsImRlZ3JlZXMiLCJSYWRUb0RlZyIsImdldFJvdGF0aW9uIiwiYW5nbGUiLCJnZXRTcGVlZCIsImdldFZlbG9jaXR5IiwibGVuZ3RoIiwidmVsb2NpdHkiLCJjbG9uZSIsImdldFRlbXBlcmF0dXJlIiwiYXBwbHlIZWF0aW5nIiwicmVkdWNlRnVlbCIsImFtb3VudCIsImFkZEZ1ZWwiLCJnZXRSZW1haW5pbmdGdWVsIiwiZ2V0SW50ZWdyaXR5IiwicmVwYWlyIiwiZGlzcGxheVNoaXBFeHBsb3Npb24iLCJwb3MiLCJjcmVhdGVFbWl0dGVyIiwibGlmZXNwYW4iLCJtaW4iLCJtYXgiLCJzcGVlZFgiLCJzcGVlZFkiLCJncmF2aXR5WCIsImdyYXZpdHlZIiwic3RhcnQiLCJlbmQiLCJibGVuZE1vZGUiLCJtYXhQYXJ0aWNsZXMiLCJmcmFtZSIsInJlZCIsImludCIsImZsb29yIiwidjQiLCJ2MSIsInV1aWQiLCJfbm9kZUlkIiwiX2Nsb2Nrc2VxIiwicm5nIiwiYnl0ZXNUb1V1aWQiLCJfbGFzdE1TZWNzIiwiX2xhc3ROU2VjcyIsIm9wdGlvbnMiLCJub2RlIiwiY2xvY2tzZXEiLCJ1bmRlZmluZWQiLCJzZWVkQnl0ZXMiLCJtc2VjcyIsIkRhdGUiLCJuc2VjcyIsImR0IiwiRXJyb3IiLCJ0bCIsInRtaCIsImlpIiwibGFzdFJvdGF0ZWRUaW1lIiwicm90YXRpb25EZWxheSIsInB1c2giLCJsYXN0IiwicG9wIiwidW5zaGlmdCIsInVwZGF0ZUF0dGFjaG1lbnRQb3NpdGlvbnMiLCJmaXJzdCIsInNoaWZ0IiwiYXR0YWNobWVudCIsImF0dGFjaGVkIiwiYXR0YWNoIiwiZGV0YWNoIiwibG9jYXRpb24iLCJnbyIsInJlbW92ZSIsInBvc2l0aW9uIiwic2hpcFZlbG9jaXR5VmVjdG9yIiwic2V0VmVsb2NpdHkiLCJ0aHJvdyIsImdldEF0dGFjaG1lbnRzIiwiYXR0Iiwic2V0QXR0YWNobWVudExvY2F0aW9uIiwicm90IiwiZnJvbnRSaWdodCIsInJpZ2h0IiwiYmFja1JpZ2h0IiwiYmFja0xlZnQiLCJsZWZ0IiwiZnJvbnRMZWZ0IiwibGFzdEJvb3N0VGltZSIsImFwcGx5VGhydXN0IiwiZGlzcGxheVRocnVzdGVyRmlyZSIsInllbGxvdyIsImJsdWUiLCJzdHJhZmVMZWZ0Iiwic3RyYWZlUmlnaHQiLCJ0aHJ1c3RCYWNrd2FyZHMiLCJmb3JjZSIsImZ1ZWwiLCJoZWF0IiwiZGVsdGFWIiwibXVsdGlwbHkiLCJjb2xvdXIiLCJzdGFydFNjYWxlIiwicXVhbnRpdHkiLCJoIiwibG9jIiwiUm90YXRlQXJvdW5kIiwibWF4QW1tbyIsInJlbWFpbmluZ0FtbW8iLCJsYXN0RmlyZWQiLCJmaXJpbmdEZWxheSIsInJlbG9hZCIsImdldFJlbWFpbmluZ0FtbW8iLCJmaXJlIiwiZGlyZWN0aW9uIiwiQnVsbGV0Iiwic3RhcnRpbmdWIiwiU2hpcEF0dGFjaG1lbnQiLCJpc1Rocm93biIsImNlbnRyZSIsImF0dGFjaG1lbnRMb2NhdGlvbiIsInNldEFjdGl2ZSIsInNwZWVkIiwicmVhbExvYyIsInBhcmFtcyIsImFkZENvbGxpc2lvbkRldGVjdGlvbiIsInNldEluTW90aW9uIiwiY29sbGlkZXIiLCJvbkltcGFjdCIsImJ1bGxldCIsImNhcHR1cmUiLCJnZXRBbmdsZSIsIlBJIiwicG9zaXRpb25Ub0NhbWVyYSIsImZ1bmMiLCJvbiIsIklucHV0IiwiRXZlbnRzIiwiUE9JTlRFUl9XSEVFTCIsInBvaW50ZXIiLCJjdXJyZW50bHlPdmVyIiwiZHgiLCJkeSIsImR6IiwiZXZlbnQiLCJzaGlwRGVidWciLCJ0ZXh0IiwiZm9udCIsImZpbGwiLCJkaXNwbGF5RGVidWdJbmZvIiwidiIsImluZm8iLCJ0b0ZpeGVkIiwiYXR0TG9jIiwic2V0VGV4dCIsInhPZmZzZXQiLCJjZWlsIiwieU9mZnNldCIsInRpbGVTcHJpdGUiLCJzdGFydFBvc2l0aW9uIiwiUk5EIiwiYmV0d2VlbiIsInN1biIsImRpdmlkZSJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBMkNBLEVBQU1DLEdBQzFCLGlCQUFaQyxTQUEwQyxpQkFBWEMsT0FDeENBLE9BQU9ELFFBQVVELEVBQVFHLFFBQVEsV0FDUixtQkFBWEMsUUFBeUJBLE9BQU9DLElBQzlDRCxPQUFPLENBQUMsVUFBV0osR0FDTyxpQkFBWkMsUUFDZEEsUUFBZ0IsT0FBSUQsRUFBUUcsUUFBUSxXQUVwQ0osRUFBYSxPQUFJQyxFQUFRRCxFQUFhLFFBUnhDLENBU0dPLFFBQVEsU0FBU0MsR0FDcEIsTyxZQ1RFLElBQUlDLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVULFFBR25DLElBQUlDLEVBQVNNLEVBQWlCRSxHQUFZLENBQ3pDQyxFQUFHRCxFQUNIRSxHQUFHLEVBQ0hYLFFBQVMsSUFVVixPQU5BWSxFQUFRSCxHQUFVSSxLQUFLWixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTUSxH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QUtnRCxPQUFPL0QsT0FDNUM5RCxPQUFPRixLQUFLcVYsSUFBSUMsUUFBUSxFQUFHdlMsS0FBS2dDLEtBQUtnRCxPQUFPN0QsU0FFaERuQixLQUFLd1MsSUFBTXhTLEtBQUtvRyxJQUFJVyxPQUFPL0csS0FBS3FTLGNBQWNyVixFQUFHZ0QsS0FBS3FTLGNBQWNoVixFQUFHLFFBR3BFLFlBQUFtRyxPQUFQLFdBS0ksR0FKQXhELEtBQUt3UyxJQUFJOUosT0FBUyxJQUNkMUksS0FBS3dTLElBQUk5SixPQUFTLE1BQ2xCMUksS0FBS3dTLElBQUk5SixNQUFRLEdBRWpCLEVBQUF0TSxRQUFRMkcsT0FBUSxDQUVoQixJQUFJZ00sRUFBMkIsRUFBQTNTLFFBQVEyRyxPQUFPMEMsa0JBQzlDc0osRUFBSTBELE9BQU8sSUFBSXRWLE9BQU9GLEtBQUtNLFFBQVEsSUFBSyxNQUN4Q3dSLEVBQUl0UixTQUVKdUMsS0FBS3dTLElBQUl4VixFQUFJZ0QsS0FBS3FTLGNBQWNyVixFQUFJK1IsRUFBSS9SLEVBQ3hDZ0QsS0FBS3dTLElBQUluVixFQUFJMkMsS0FBS3FTLGNBQWNoVixFQUFJMFIsRUFBSTFSLElBR3BELEVBcENBLENBQWlDLEVBQUF1RCxlQUFwQixFQUFBaUIiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwicGhhc2VyXCIpKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtcInBoYXNlclwiXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJidW5kbGVcIl0gPSBmYWN0b3J5KHJlcXVpcmUoXCJwaGFzZXJcIikpO1xuXHRlbHNlXG5cdFx0cm9vdFtcImJ1bmRsZVwiXSA9IGZhY3Rvcnkocm9vdFtcInBoYXNlclwiXSk7XG59KSh3aW5kb3csIGZ1bmN0aW9uKF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzEwX18pIHtcbnJldHVybiAiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNyk7XG4iLCJpbXBvcnQgeyBTaGlwUG9kIH0gZnJvbSBcIi4uL3NoaXBzL3NoaXAtcG9kXCI7XHJcblxyXG5leHBvcnQgbW9kdWxlIEdsb2JhbHMge1xyXG4gICAgZXhwb3J0IHZhciBwbGF5ZXI6IFNoaXBQb2Q7XHJcbiAgICBleHBvcnQgdmFyIGdhbWU6IFBoYXNlci5HYW1lO1xyXG4gICAgZXhwb3J0IHZhciBpbnRlcmFjdGFibGVzOiBQaGFzZXIuR2FtZU9iamVjdHMuR2FtZU9iamVjdFtdID0gW107XHJcbiAgICBleHBvcnQgdmFyIGRlYnVnOiBib29sZWFuID0gZmFsc2U7XHJcbn0iLCJleHBvcnQgbW9kdWxlIEhlbHBlcnMge1xyXG4gICAgLyoqXHJcbiAgICAgKiBnZXQgdGhlIG51bWJlciBvZiBlbGVtZW50cyBpbiBhbiBlbnVtLlxyXG4gICAgICogPHA+XHJcbiAgICAgKiBleDogPGk+ZW51bSBGb28geyBiYXIgPSAwLCBiYXogPSAxLCBib3ogPSAyIH08L2k+PGJyIC8+XHJcbiAgICAgKiByZXR1cm5zOiA8Yj4zPC9iPlxyXG4gICAgICogPC9wPlxyXG4gICAgICogQHBhcmFtIGVudW1UeXBlIHRoZSB0eXBlIG5hbWUgb2YgYW4gZW51bVxyXG4gICAgICogQHJldHVybnMgdGhlIG51bWJlciBvZiBlbGVtZW50cyBpbiB0aGUgZW51bVxyXG4gICAgICovXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gZW51bUxlbmd0aChlbnVtVHlwZTogYW55KTogbnVtYmVyIHtcclxuICAgICAgICBsZXQgY291bnQgPSAwO1xyXG4gICAgICAgIGZvcihsZXQgaXRlbSBpbiBlbnVtVHlwZSkge1xyXG4gICAgICAgICAgICBpZihpc05hTihOdW1iZXIoaXRlbSkpKSB7XHJcbiAgICAgICAgICAgICAgICBjb3VudCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb3VudDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgYSB7UGhhc2VyLk1hdGguVmVjdG9yMn0gdGhhdCByZXByZXNlbnRzIGEgbm9ybWFsaXNlZCB2ZWN0b3Igb2YgZGlyZWN0aW9uXHJcbiAgICAgKiBiYXNlZCBvbiB0aGUgcGFzc2VkIGluIHJvdGF0aW9uXHJcbiAgICAgKiBAcGFyYW0gcm90YXRpb24gdGhlIHJvdGF0aW9uIGluIGRlZ3JlZXNcclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGdldEhlYWRpbmcocm90YXRpb246IG51bWJlcik6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIGxldCB4OiBudW1iZXIgPSBNYXRoLmNvcyhQaGFzZXIuTWF0aC5EZWdUb1JhZChyb3RhdGlvbikpO1xyXG4gICAgICAgIGxldCB5OiBudW1iZXIgPSBNYXRoLnNpbihQaGFzZXIuTWF0aC5EZWdUb1JhZChyb3RhdGlvbikpO1xyXG4gICAgICAgIHJldHVybiBuZXcgUGhhc2VyLk1hdGguVmVjdG9yMih4LCB5KS5ub3JtYWxpemUoKS5uZWdhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gdmVjdG9yMih4OiBudW1iZXIsIHk/OiBudW1iZXIpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICBpZiAoIXkpIHtcclxuICAgICAgICAgICAgeSA9IHg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgUGhhc2VyLk1hdGguVmVjdG9yMih4LCB5KTtcclxuICAgIH1cclxufSIsImV4cG9ydCBlbnVtIEF0dGFjaG1lbnRMb2NhdGlvbiB7XHJcbiAgICBmcm9udCxcclxuICAgIGZyb250UmlnaHQsXHJcbiAgICByaWdodCxcclxuICAgIGJhY2tSaWdodCxcclxuICAgIC8vIE5PVEU6IHRoZXJlIGlzIG5vICdiYWNrJyBhdHRhY2htZW50IHBvaW50IGR1ZSB0byBsb2NhdGlvbiBvZiB0aHJ1c3RlclxyXG4gICAgYmFja0xlZnQsXHJcbiAgICBsZWZ0LFxyXG4gICAgZnJvbnRMZWZ0XHJcbn0iLCJleHBvcnQgbW9kdWxlIENvbnN0YW50cyB7XHJcbiAgICBleHBvcnQgY29uc3QgTUFYX0lOVEVHUklUWTogbnVtYmVyID0gMTAwO1xyXG4gICAgZXhwb3J0IGNvbnN0IE1BWF9GVUVMOiBudW1iZXIgPSAxMDA7XHJcbiAgICBleHBvcnQgY29uc3QgTUFYX1NBRkVfVEVNUEVSQVRVUkU6IG51bWJlciA9IDEwMDtcclxuICAgIGV4cG9ydCBjb25zdCBNQVhfVEVNUEVSQVRVUkU6IG51bWJlciA9IDIwMDtcclxuICAgIGV4cG9ydCBjb25zdCBNQVhfVkVMT0NJVFk6IG51bWJlciA9IDUwMDtcclxuICAgIGV4cG9ydCBjb25zdCBPVkVSSEVBVF9DSEVDS19JTlRFUlZBTDogbnVtYmVyID0gMTAwOyAvLyBtaWxsaXNlY29uZHNcclxuICAgIGV4cG9ydCBjb25zdCBDT09MSU5HX1JBVEU6IG51bWJlciA9IDAuMzsgLy8gZGVncmVlcyBwZXIgc2Vjb25kXHJcbiAgICBleHBvcnQgY29uc3QgVEhSVVNURVJfRk9SQ0U6IG51bWJlciA9IDE7XHJcbiAgICBleHBvcnQgY29uc3QgRlVFTF9QRVJfVEhSVVNUOiBudW1iZXIgPSAwLjAwMTsgLy8gdW5pdHNcclxuICAgIGV4cG9ydCBjb25zdCBIRUFUX1BFUl9USFJVU1Q6IG51bWJlciA9IDAuMSAvLyBkZWdyZWVzXHJcbiAgICBleHBvcnQgY29uc3QgQk9PU1RFUl9GT1JDRTogbnVtYmVyID0gMzAwO1xyXG4gICAgZXhwb3J0IGNvbnN0IEZVRUxfUEVSX0JPT1NUOiBudW1iZXIgPSAxOyAvLyB1bml0c1xyXG4gICAgZXhwb3J0IGNvbnN0IEhFQVRfUEVSX0JPT1NUOiBudW1iZXIgPSAyNTsgLy8gZGVncmVlc1xyXG4gICAgZXhwb3J0IGNvbnN0IEJPT1NURVJfQ09PTERPV05fVElNRTogbnVtYmVyID0gMTAwMDsgLy8gbWlsbGlzZWNvbmRzXHJcbiAgICBleHBvcnQgY29uc3QgVEhST1dfRk9SQ0U6IG51bWJlciA9IDEwMDtcclxuICAgIGV4cG9ydCBlbnVtIEZsYXJlIHtcclxuICAgICAgICBibHVlID0gMCxcclxuICAgICAgICBncmVlbiA9IDEsXHJcbiAgICAgICAgcmVkID0gMixcclxuICAgICAgICB3aGl0ZSA9IDMsXHJcbiAgICAgICAgeWVsbG93ID0gNFxyXG4gICAgfVxyXG59IiwiLy8gVW5pcXVlIElEIGNyZWF0aW9uIHJlcXVpcmVzIGEgaGlnaCBxdWFsaXR5IHJhbmRvbSAjIGdlbmVyYXRvci4gIEluIHRoZVxuLy8gYnJvd3NlciB0aGlzIGlzIGEgbGl0dGxlIGNvbXBsaWNhdGVkIGR1ZSB0byB1bmtub3duIHF1YWxpdHkgb2YgTWF0aC5yYW5kb20oKVxuLy8gYW5kIGluY29uc2lzdGVudCBzdXBwb3J0IGZvciB0aGUgYGNyeXB0b2AgQVBJLiAgV2UgZG8gdGhlIGJlc3Qgd2UgY2FuIHZpYVxuLy8gZmVhdHVyZS1kZXRlY3Rpb25cblxuLy8gZ2V0UmFuZG9tVmFsdWVzIG5lZWRzIHRvIGJlIGludm9rZWQgaW4gYSBjb250ZXh0IHdoZXJlIFwidGhpc1wiIGlzIGEgQ3J5cHRvXG4vLyBpbXBsZW1lbnRhdGlvbi4gQWxzbywgZmluZCB0aGUgY29tcGxldGUgaW1wbGVtZW50YXRpb24gb2YgY3J5cHRvIG9uIElFMTEuXG52YXIgZ2V0UmFuZG9tVmFsdWVzID0gKHR5cGVvZihjcnlwdG8pICE9ICd1bmRlZmluZWQnICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKGNyeXB0bykpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgKHR5cGVvZihtc0NyeXB0bykgIT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5tc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMgPT0gJ2Z1bmN0aW9uJyAmJiBtc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChtc0NyeXB0bykpO1xuXG5pZiAoZ2V0UmFuZG9tVmFsdWVzKSB7XG4gIC8vIFdIQVRXRyBjcnlwdG8gUk5HIC0gaHR0cDovL3dpa2kud2hhdHdnLm9yZy93aWtpL0NyeXB0b1xuICB2YXIgcm5kczggPSBuZXcgVWludDhBcnJheSgxNik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcblxuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHdoYXR3Z1JORygpIHtcbiAgICBnZXRSYW5kb21WYWx1ZXMocm5kczgpO1xuICAgIHJldHVybiBybmRzODtcbiAgfTtcbn0gZWxzZSB7XG4gIC8vIE1hdGgucmFuZG9tKCktYmFzZWQgKFJORylcbiAgLy9cbiAgLy8gSWYgYWxsIGVsc2UgZmFpbHMsIHVzZSBNYXRoLnJhbmRvbSgpLiAgSXQncyBmYXN0LCBidXQgaXMgb2YgdW5zcGVjaWZpZWRcbiAgLy8gcXVhbGl0eS5cbiAgdmFyIHJuZHMgPSBuZXcgQXJyYXkoMTYpO1xuXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbWF0aFJORygpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgcjsgaSA8IDE2OyBpKyspIHtcbiAgICAgIGlmICgoaSAmIDB4MDMpID09PSAwKSByID0gTWF0aC5yYW5kb20oKSAqIDB4MTAwMDAwMDAwO1xuICAgICAgcm5kc1tpXSA9IHIgPj4+ICgoaSAmIDB4MDMpIDw8IDMpICYgMHhmZjtcbiAgICB9XG5cbiAgICByZXR1cm4gcm5kcztcbiAgfTtcbn1cbiIsIi8qKlxuICogQ29udmVydCBhcnJheSBvZiAxNiBieXRlIHZhbHVlcyB0byBVVUlEIHN0cmluZyBmb3JtYXQgb2YgdGhlIGZvcm06XG4gKiBYWFhYWFhYWC1YWFhYLVhYWFgtWFhYWC1YWFhYWFhYWFhYWFhcbiAqL1xudmFyIGJ5dGVUb0hleCA9IFtdO1xuZm9yICh2YXIgaSA9IDA7IGkgPCAyNTY7ICsraSkge1xuICBieXRlVG9IZXhbaV0gPSAoaSArIDB4MTAwKS50b1N0cmluZygxNikuc3Vic3RyKDEpO1xufVxuXG5mdW5jdGlvbiBieXRlc1RvVXVpZChidWYsIG9mZnNldCkge1xuICB2YXIgaSA9IG9mZnNldCB8fCAwO1xuICB2YXIgYnRoID0gYnl0ZVRvSGV4O1xuICAvLyBqb2luIHVzZWQgdG8gZml4IG1lbW9yeSBpc3N1ZSBjYXVzZWQgYnkgY29uY2F0ZW5hdGlvbjogaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzE3NSNjNFxuICByZXR1cm4gKFtcbiAgICBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLFxuICAgIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sICctJyxcbiAgICBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLCAnLScsXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgJy0nLFxuICAgIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sICctJyxcbiAgICBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLFxuICAgIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXVxuICBdKS5qb2luKCcnKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBieXRlc1RvVXVpZDtcbiIsImltcG9ydCB7IE1vdXNlIH0gZnJvbSBcIi4uL3V0aWxpdGllcy9tb3VzZVwiO1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFpvb21hYmxlU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgcHJvdGVjdGVkIG1vdXNlOiBNb3VzZTtcclxuICAgIHByaXZhdGUgaW5jcmVtZW50OiBudW1iZXI7XHJcbiAgICBwcml2YXRlIG1pblpvb206IG51bWJlcjtcclxuICAgIHByaXZhdGUgbWF4Wm9vbTogbnVtYmVyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGluY3JlbWVudDogbnVtYmVyLCBjb25maWc6IFBoYXNlci5UeXBlcy5TY2VuZXMuU2V0dGluZ3NDb25maWcpIHtcclxuICAgICAgICBzdXBlcihjb25maWcpO1xyXG4gICAgICAgIHRoaXMuaW5jcmVtZW50ID0gaW5jcmVtZW50O1xyXG4gICAgICAgIHRoaXMubWluWm9vbSA9IDEgLSAoaW5jcmVtZW50ICogMik7XHJcbiAgICAgICAgdGhpcy5tYXhab29tID0gMTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgcHJlbG9hZCgpOiB2b2lkO1xyXG5cclxuICAgIHB1YmxpYyBjcmVhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5tb3VzZSA9IG5ldyBNb3VzZSh0aGlzKTtcclxuICAgICAgICB0aGlzLm1vdXNlLm9uV2hlZWxVcCgoc2Nyb2xsQW1vdW50OiBudW1iZXIpID0+IHtcclxuICAgICAgICAgICAgbGV0IGN1cnJlbnRab29tOiBudW1iZXIgPSB0aGlzLmNhbWVyYXMubWFpbi56b29tO1xyXG4gICAgICAgICAgICAvLyB6b29tIG91dFxyXG4gICAgICAgICAgICBsZXQgbmV3Wm9vbTogbnVtYmVyID0gY3VycmVudFpvb20gLSB0aGlzLmluY3JlbWVudDtcclxuICAgICAgICAgICAgaWYgKG5ld1pvb20gPCB0aGlzLm1pblpvb20pIHtcclxuICAgICAgICAgICAgICAgIG5ld1pvb20gPSB0aGlzLm1pblpvb207XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYHpvb21pbmcgZnJvbSAke2N1cnJlbnRab29tfSB0byAke25ld1pvb219YCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnpvb21UbyhuZXdab29tKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLm1vdXNlLm9uV2hlZWxEb3duKChzY3JvbGxBbW91bnQ6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICBsZXQgY3VycmVudFpvb206IG51bWJlciA9IHRoaXMuY2FtZXJhcy5tYWluLnpvb207XHJcbiAgICAgICAgICAgIC8vIHpvb20gaW5cclxuICAgICAgICAgICAgbGV0IG5ld1pvb206IG51bWJlciA9IGN1cnJlbnRab29tICsgdGhpcy5pbmNyZW1lbnQ7XHJcbiAgICAgICAgICAgIGlmIChuZXdab29tID4gdGhpcy5tYXhab29tKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdab29tID0gdGhpcy5tYXhab29tO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGB6b29taW5nIGZyb20gJHtjdXJyZW50Wm9vbX0gdG8gJHtuZXdab29tfWApO1xyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi56b29tVG8obmV3Wm9vbSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFic3RyYWN0IHVwZGF0ZSgpOiB2b2lkO1xyXG59IiwiaW1wb3J0IHsgU2hpcFNjZW5lIH0gZnJvbSBcIi4vc2NlbmVzL3NoaXAtc2NlbmVcIjtcclxuaW1wb3J0IHsgR2xvYmFscyB9IGZyb20gXCIuL3V0aWxpdGllcy9nbG9iYWxzXCI7XHJcbmltcG9ydCB7IE92ZXJsYXlTY2VuZSB9IGZyb20gXCIuL3NjZW5lcy9vdmVybGF5LXNjZW5lXCI7XHJcbmltcG9ydCB7IEZhclN0YXJzU2NlbmUgfSBmcm9tIFwiLi9zY2VuZXMvZmFyLXN0YXJzLXNjZW5lXCI7XHJcbmltcG9ydCB7IFN5c3RlbVNjZW5lIH0gZnJvbSBcIi4vc2NlbmVzL3N5c3RlbS1zY2VuZVwiO1xyXG5cclxuY29uc3QgZ2FtZUNvbmZpZzogUGhhc2VyLlR5cGVzLkNvcmUuR2FtZUNvbmZpZyA9IHtcclxuICAgIHR5cGU6IFBoYXNlci5BVVRPLFxyXG4gICAgc2NhbGU6IHtcclxuICAgICAgICB3aWR0aDogd2luZG93LmlubmVyV2lkdGgsXHJcbiAgICAgICAgaGVpZ2h0OiB3aW5kb3cuaW5uZXJIZWlnaHRcclxuICAgIH0sXHJcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwMDAwJyxcclxuICAgIHBhcmVudDogJ3NwYWNlLXNpbScsXHJcbiAgICBwaHlzaWNzOiB7XHJcbiAgICAgICAgZGVmYXVsdDogJ2FyY2FkZScsXHJcbiAgICAgICAgYXJjYWRlOiB7XHJcbiAgICAgICAgICAgIGdyYXZpdHk6IHsgeDogMCwgeTogMCB9LFxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBzY2VuZTogW0ZhclN0YXJzU2NlbmUsIFN5c3RlbVNjZW5lLCBTaGlwU2NlbmUsIE92ZXJsYXlTY2VuZV1cclxufTtcclxuZXhwb3J0IGNvbnN0IGdhbWU6IFBoYXNlci5HYW1lID0gbmV3IFBoYXNlci5HYW1lKGdhbWVDb25maWcpO1xyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IHtcclxuICAgIGdhbWUuc2NhbGUucmVmcmVzaCgpO1xyXG59KTtcclxuXHJcbkdsb2JhbHMuZ2FtZSA9IGdhbWU7XHJcbkdsb2JhbHMuZGVidWcgPSB0cnVlOyIsImltcG9ydCB7IFNoaXBQb2QgfSBmcm9tIFwiLi4vc2hpcHMvc2hpcC1wb2RcIjtcclxuaW1wb3J0IHsgR2xvYmFscyB9IGZyb20gXCIuLi91dGlsaXRpZXMvZ2xvYmFsc1wiO1xyXG5pbXBvcnQgeyBDYW5ub25BdHRhY2htZW50IH0gZnJvbSBcIi4uL3NoaXBzL2F0dGFjaG1lbnRzL29mZmVuY2UvY2Fubm9uLWF0dGFjaG1lbnRcIjtcclxuaW1wb3J0IHsgWm9vbWFibGVTY2VuZSB9IGZyb20gXCIuL3pvb21hYmxlLXNjZW5lXCI7XHJcbmltcG9ydCB7IEF0dGFjaG1lbnRMb2NhdGlvbiB9IGZyb20gXCIuLi9zaGlwcy9hdHRhY2htZW50cy9hdHRhY2htZW50LWxvY2F0aW9uXCI7XHJcbmltcG9ydCB7IFNoaXBBdHRhY2htZW50IH0gZnJvbSBcIi4uL3NoaXBzL2F0dGFjaG1lbnRzL3NoaXAtYXR0YWNobWVudFwiO1xyXG5cclxuY29uc3Qgc2NlbmVDb25maWc6IFBoYXNlci5UeXBlcy5TY2VuZXMuU2V0dGluZ3NDb25maWcgPSB7XHJcbiAgICBhY3RpdmU6IHRydWUsXHJcbiAgICB2aXNpYmxlOiB0cnVlLFxyXG4gICAga2V5OiAnU2hpcFNjZW5lJ1xyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIFNoaXBTY2VuZSBleHRlbmRzIFpvb21hYmxlU2NlbmUge1xyXG4gICAgcHJpdmF0ZSBwbGF5ZXI6IFNoaXBQb2Q7XHJcblxyXG4gICAgLyoqIElucHV0IEhhbmRsZXJzICovXHJcbiAgICBwcml2YXRlIHRocnVzdEtleTogUGhhc2VyLklucHV0LktleWJvYXJkLktleTtcclxuICAgIHByaXZhdGUgYm9vc3RLZXk6IFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXk7XHJcbiAgICBwcml2YXRlIHJvdGF0ZUF0dGFjaG1lbnRzQ2xvY2t3aXNlS2V5OiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5O1xyXG4gICAgcHJpdmF0ZSByb3RhdGVBdHRhY2htZW50c0FudGlDbG9ja3dpc2VLZXk6IFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXk7XHJcbiAgICBwcml2YXRlIGRldGFjaEF0dGFjaG1lbnRLZXk6IFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXk7XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKDAuNCwgc2NlbmVDb25maWcpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdzaGlwLXBvZCcsICcuL2Fzc2V0cy9zcHJpdGVzL3NoaXAtcG9kLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY2Fubm9uJywgJy4vYXNzZXRzL3Nwcml0ZXMvY2Fubm9uLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnZmxhcmVzJywgJy4vYXNzZXRzL3BhcnRpY2xlcy9mbGFyZXMucG5nJywge1xyXG4gICAgICAgICAgICBmcmFtZVdpZHRoOiAxMzAsXHJcbiAgICAgICAgICAgIGZyYW1lSGVpZ2h0OiAxMzIsXHJcbiAgICAgICAgICAgIHN0YXJ0RnJhbWU6IDAsXHJcbiAgICAgICAgICAgIGVuZEZyYW1lOiA0XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdleHBsb3Npb24nLCAnLi9hc3NldHMvcGFydGljbGVzL2V4cGxvc2lvbi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2J1bGxldCcsICcuL2Fzc2V0cy9zcHJpdGVzL2J1bGxldC5wbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIgPSBuZXcgU2hpcFBvZCh0aGlzLCB7XHJcbiAgICAgICAgICAgIHg6IDAsXHJcbiAgICAgICAgICAgIHk6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBHbG9iYWxzLnBsYXllciA9IHRoaXMucGxheWVyO1xyXG4gICAgICAgIHRoaXMucGxheWVyLnNldFRhcmdldCh0aGlzLm1vdXNlKTtcclxuXHJcbiAgICAgICAgLy8gVE1QXHJcbiAgICAgICAgbGV0IGNhbm9uOiBDYW5ub25BdHRhY2htZW50ID0gbmV3IENhbm5vbkF0dGFjaG1lbnQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIuYXR0YWNobWVudHMuYWRkQXR0YWNobWVudChjYW5vbik7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0dXBDYW1lcmEodGhpcy5wbGF5ZXIpO1xyXG4gICAgICAgIHRoaXMuc2V0dXBJbnB1dEhhbmRsaW5nKCk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLnRocnVzdEtleS5pc0Rvd24pIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIudGhydXN0ZXIudGhydXN0Rm93YXJkcygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5ib29zdEtleS5pc0Rvd24pIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIudGhydXN0ZXIuYm9vc3RGb3J3YXJkcygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pbnB1dC5hY3RpdmVQb2ludGVyLmxlZnRCdXR0b25Eb3duKCkpIHtcclxuICAgICAgICAgICAgbGV0IGE6IFNoaXBBdHRhY2htZW50ID0gdGhpcy5wbGF5ZXIuYXR0YWNobWVudHMuZ2V0QXR0YWNobWVudChBdHRhY2htZW50TG9jYXRpb24uZnJvbnQpO1xyXG4gICAgICAgICAgICBpZiAoYSkge1xyXG4gICAgICAgICAgICAgICAgYS50cmlnZ2VyKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaW5wdXQuYWN0aXZlUG9pbnRlci5yaWdodEJ1dHRvbkRvd24oKSkge1xyXG4gICAgICAgICAgICBsZXQgYTogU2hpcEF0dGFjaG1lbnQgPSB0aGlzLnBsYXllci5hdHRhY2htZW50cy5nZXRBdHRhY2htZW50KEF0dGFjaG1lbnRMb2NhdGlvbi5mcm9udCk7XHJcbiAgICAgICAgICAgIGlmIChhKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5hdHRhY2htZW50cy50aHJvd0F0dGFjaG1lbnQoQXR0YWNobWVudExvY2F0aW9uLmZyb250KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5yb3RhdGVBdHRhY2htZW50c0Nsb2Nrd2lzZUtleS5pc0Rvd24pIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIuYXR0YWNobWVudHMucm90YXRlQXR0YWNobWVudHNDbG9ja3dpc2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMucm90YXRlQXR0YWNobWVudHNBbnRpQ2xvY2t3aXNlS2V5LmlzRG93bikge1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllci5hdHRhY2htZW50cy5yb3RhdGVBdHRhY2htZW50c0FudGlDbG9ja3dpc2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuZGV0YWNoQXR0YWNobWVudEtleS5pc0Rvd24pIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIuYXR0YWNobWVudHMucmVtb3ZlQXR0YWNobWVudChBdHRhY2htZW50TG9jYXRpb24uZnJvbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnBsYXllci51cGRhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldHVwSW5wdXRIYW5kbGluZygpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnRocnVzdEtleSA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KCdTUEFDRScsIHRydWUsIHRydWUpO1xyXG4gICAgICAgIHRoaXMuYm9vc3RLZXkgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleSgnVEFCJywgdHJ1ZSwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMucm90YXRlQXR0YWNobWVudHNDbG9ja3dpc2VLZXkgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleSgnRScsIHRydWUsIGZhbHNlKTtcclxuICAgICAgICB0aGlzLnJvdGF0ZUF0dGFjaG1lbnRzQW50aUNsb2Nrd2lzZUtleSA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KCdRJywgdHJ1ZSwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuZGV0YWNoQXR0YWNobWVudEtleSA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KCdYJywgdHJ1ZSwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuZ2FtZS5jYW52YXMub25jb250ZXh0bWVudSA9IChlKSA9PiB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXR1cENhbWVyYShwbGF5ZXI6IFNoaXBQb2QpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5iYWNrZ3JvdW5kQ29sb3Iuc2V0RnJvbVJHQih7cjogMCwgZzogMCwgYjogMH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldFpvb20oMSk7XHJcbiAgICAgICAgbGV0IHBsYXllckxvYzogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHBsYXllci5nZXRSZWFsTG9jYXRpb24oKTtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5jZW50ZXJPbihwbGF5ZXJMb2MueCwgcGxheWVyTG9jLnkpO1xyXG5cclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zdGFydEZvbGxvdyhwbGF5ZXIuZ2V0R2FtZU9iamVjdCgpLCB0cnVlLCAwLjEsIDAuMSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgXCJwaGFzZXJcIjtcclxuaW1wb3J0IHsgUk5HIH0gZnJvbSBcIi4uL3V0aWxpdGllcy9ybmdcIjtcclxuaW1wb3J0IHsgVXBkYXRhYmxlIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvdXBkYXRhYmxlXCI7XHJcbmltcG9ydCB7IENhblRhcmdldCB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2Nhbi10YXJnZXRcIjtcclxuaW1wb3J0IHsgSGFzTG9jYXRpb24gfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9oYXMtbG9jYXRpb25cIjtcclxuaW1wb3J0IHsgSGFzR2FtZU9iamVjdCB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2hhcy1nYW1lLW9iamVjdFwiO1xyXG5pbXBvcnQgeyBIYXNJbnRlZ3JpdHkgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9oYXMtaW50ZWdyaXR5XCI7XHJcbmltcG9ydCB7IENvbnN0YW50cyB9IGZyb20gXCIuLi91dGlsaXRpZXMvY29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IEhlbHBlcnMgfSBmcm9tIFwiLi4vdXRpbGl0aWVzL2hlbHBlcnNcIjtcclxuaW1wb3J0IHsgSGFzVGVtcGVyYXR1cmUgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9oYXMtdGVtcGVyYXR1cmVcIjtcclxuaW1wb3J0IHsgSGFzRnVlbCB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2hhcy1mdWVsXCI7XHJcbmltcG9ydCB7IEhhc1BoeXNpY3NHYW1lT2JqZWN0IH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvaGFzLXBoeXNpY3MtZ2FtZS1vYmplY3RcIjtcclxuaW1wb3J0IHsgQXR0YWNobWVudE1hbmFnZXIgfSBmcm9tIFwiLi9hdHRhY2htZW50cy9hdHRhY2htZW50LW1hbmFnZXJcIjtcclxuaW1wb3J0IHsgVGhydXN0ZXIgfSBmcm9tIFwiLi9hdHRhY2htZW50cy91dGlsaXR5L3RocnVzdGVyXCI7XHJcbmltcG9ydCB7IFNoaXBQb2RDb25maWcgfSBmcm9tIFwiLi9zaGlwLXBvZC1jb25maWdcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTaGlwUG9kIGltcGxlbWVudHMgVXBkYXRhYmxlLCBDYW5UYXJnZXQsIEhhc0xvY2F0aW9uLCBIYXNHYW1lT2JqZWN0PFBoYXNlci5HYW1lT2JqZWN0cy5Db250YWluZXI+LCBIYXNQaHlzaWNzR2FtZU9iamVjdCwgSGFzSW50ZWdyaXR5LCBIYXNUZW1wZXJhdHVyZSwgSGFzRnVlbCB7XHJcbiAgICBwcml2YXRlIGlkOiBzdHJpbmc7IC8vIFVVSURcclxuICAgIHByaXZhdGUgc2NlbmU6IFBoYXNlci5TY2VuZTtcclxuICAgIHByaXZhdGUgZ2FtZU9iajogUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcjtcclxuICAgIHByaXZhdGUgdGFyZ2V0OiBIYXNMb2NhdGlvbjtcclxuICAgIHByaXZhdGUgaW50ZWdyaXR5OiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHJlbWFpbmluZ0Z1ZWw6IG51bWJlciA9IDEwMDtcclxuICAgIHByaXZhdGUgdGVtcGVyYXR1cmU6IG51bWJlciA9IDA7IC8vIGluIENlbGNpdXNcclxuICAgIHByaXZhdGUgZmxhcmVQYXJ0aWNsZXM6IFBoYXNlci5HYW1lT2JqZWN0cy5QYXJ0aWNsZXMuUGFydGljbGVFbWl0dGVyTWFuYWdlcjtcclxuICAgIHByaXZhdGUgZXhwbG9zaW9uUGFydGljbGVzOiBQaGFzZXIuR2FtZU9iamVjdHMuUGFydGljbGVzLlBhcnRpY2xlRW1pdHRlck1hbmFnZXI7XHJcblxyXG4gICAgYWN0aXZlOiBib29sZWFuID0gdHJ1ZTtcclxuICAgIGF0dGFjaG1lbnRzOiBBdHRhY2htZW50TWFuYWdlcjtcclxuICAgIHRocnVzdGVyOiBUaHJ1c3RlcjtcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3Ioc2NlbmU6IFBoYXNlci5TY2VuZSwgY29uZmlnPzogU2hpcFBvZENvbmZpZykge1xyXG4gICAgICAgIGlmICghY29uZmlnKSB7XHJcbiAgICAgICAgICAgIGNvbmZpZyA9IHt4OiAwLCB5OiAwfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5pZCA9IFJORy5ndWlkKCk7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuZ2FtZU9iaiA9IHNjZW5lLmFkZC5jb250YWluZXIoY29uZmlnLngsIGNvbmZpZy55KTtcclxuICAgICAgICB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMuZ2FtZU9iaik7XHJcbiAgICAgICAgdGhpcy5nZXRQaHlzaWNzQm9keSgpLmJvdW5jZS5zZXRUbygwLjcsIDAuNyk7XHJcbiAgICAgICAgdGhpcy5nZXRQaHlzaWNzQm9keSgpLnNldE1heFZlbG9jaXR5KENvbnN0YW50cy5NQVhfVkVMT0NJVFksIENvbnN0YW50cy5NQVhfVkVMT0NJVFkpO1xyXG4gICAgICAgIHRoaXMuZmxhcmVQYXJ0aWNsZXMgPSBzY2VuZS5hZGQucGFydGljbGVzKCdmbGFyZXMnKTtcclxuICAgICAgICB0aGlzLmV4cGxvc2lvblBhcnRpY2xlcyA9IHNjZW5lLmFkZC5wYXJ0aWNsZXMoJ2V4cGxvc2lvbicpO1xyXG4gICAgICAgIGxldCBzaGlwOiBQaGFzZXIuR2FtZU9iamVjdHMuU3ByaXRlID0gc2NlbmUuYWRkLnNwcml0ZSgwLCAwLCAnc2hpcC1wb2QnKTtcclxuICAgICAgICB0aGlzLmdldEdhbWVPYmplY3QoKS5hZGQoc2hpcCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5pbnRlZ3JpdHkgPSBDb25zdGFudHMuTUFYX0lOVEVHUklUWTtcclxuICAgICAgICB0aGlzLnRocnVzdGVyID0gbmV3IFRocnVzdGVyKHRoaXMsIHRoaXMuc2NlbmUpO1xyXG4gICAgICAgIHRoaXMuYXR0YWNobWVudHMgPSBuZXcgQXR0YWNobWVudE1hbmFnZXIodGhpcywgdGhpcy5zY2VuZSk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmxvb2tBdFRhcmdldCgpO1xyXG4gICAgICAgICAgICB0aGlzLmNoZWNrT3ZlcmhlYXRDb25kaXRpb24oKTtcclxuICAgICAgICAgICAgdGhpcy5hdHRhY2htZW50cy51cGRhdGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBjaGVja3MgZm9yIGFuZCBhcHBsaWVzIGRhbWFnZSBiYXNlZCBvbiBkZWdyZWVzIG92ZXIgc2FmZSB0ZW1wZXJhdHVyZSBhdCBhIHJhdGVcclxuICAgICAqIGRlZmluZWQgYnkge0NvbnN0YW50cy5PVkVSSEVBVF9DSEVDS19JTlRFUlZBTH0gbWlsbGlzZWNvbmRzIGJldHdlZW4gZWFjaCBjaGVjay5cclxuICAgICAqIGFsc28gYXBwbGllcyBjb29saW5nIGF0IGEgcmF0ZSBvZiB7Q29uc3RhbnRzLkNPT0xJTkdfUkFURX1cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBjaGVja092ZXJoZWF0Q29uZGl0aW9uKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zY2VuZS5nYW1lLmdldFRpbWUoKSA+IHRoaXMubGFzdE92ZXJoZWF0Q2hlY2sgKyBDb25zdGFudHMuT1ZFUkhFQVRfQ0hFQ0tfSU5URVJWQUwpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRlbXBlcmF0dXJlID4gQ29uc3RhbnRzLk1BWF9URU1QRVJBVFVSRSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVzdHJveSgpOyAvLyB3ZSBhcmUgZGVhZFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudGVtcGVyYXR1cmUgPiBDb25zdGFudHMuTUFYX1NBRkVfVEVNUEVSQVRVUkUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyByZWR1Y2UgaW50ZWdyaXR5IGJhc2VkIG9uIGRlZ3JlZXMgb3ZlciBzYWZlIG9wZXJhdGluZyB0ZW1wXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRlbHRhOiBudW1iZXIgPSAodGhpcy50ZW1wZXJhdHVyZSAtIENvbnN0YW50cy5NQVhfU0FGRV9URU1QRVJBVFVSRSkgLyBDb25zdGFudHMuTUFYX1NBRkVfVEVNUEVSQVRVUkU7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdXN0YWluRGFtYWdlKGRlbHRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlDb29saW5nKENvbnN0YW50cy5DT09MSU5HX1JBVEUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0T3ZlcmhlYXRDaGVjayA9IHRoaXMuc2NlbmUuZ2FtZS5nZXRUaW1lKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGxhc3RPdmVyaGVhdENoZWNrOiBudW1iZXIgPSAwO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVE9ETzogbmVlZGVkIHNvIHdlIGNhbiB1c2UgRmxvYXRpbmcgT3JpZ2luXHJcbiAgICAgKi9cclxuICAgIGdldFJlYWxMb2NhdGlvbigpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICBpZiAodGhpcy5nZXRHYW1lT2JqZWN0KCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKHRoaXMuZ2V0R2FtZU9iamVjdCgpLngsIHRoaXMuZ2V0R2FtZU9iamVjdCgpLnkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUGhhc2VyLk1hdGguVmVjdG9yMi5aRVJPO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogdGhlIGxvY2F0aW9uIHdpdGhpbiB0aGUgdmlld2FibGUgYXJlYVxyXG4gICAgICogQHJldHVybnMgYSB7UGhhc2VyLk1hdGguVmVjdG9yMn0gb2Zmc2V0IGZvciBsb2NhdGlvbiB3aXRoaW4gY3VycmVudCBcclxuICAgICAqIHZpZXdhYmxlIGFyZWFcclxuICAgICAqL1xyXG4gICAgZ2V0TG9jYXRpb24oKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0R2FtZU9iamVjdCgpKSB7XHJcbiAgICAgICAgICAgIGxldCBjYW1lcmFQb3M6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSB0aGlzLnNjZW5lLmNhbWVyYXMubWFpbi5nZXRXb3JsZFBvaW50KDAsIDApO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFBoYXNlci5NYXRoLlZlY3RvcjIodGhpcy5nYW1lT2JqLnggLSBjYW1lcmFQb3MueCwgdGhpcy5nYW1lT2JqLnkgLSBjYW1lcmFQb3MueSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBQaGFzZXIuTWF0aC5WZWN0b3IyLlpFUk87XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0SWQoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pZDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRHYW1lT2JqZWN0KCk6IFBoYXNlci5HYW1lT2JqZWN0cy5Db250YWluZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdhbWVPYmo7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UGh5c2ljc0JvZHkoKTogUGhhc2VyLlBoeXNpY3MuQXJjYWRlLkJvZHkge1xyXG4gICAgICAgIGlmICh0aGlzLmdldEdhbWVPYmplY3QoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRHYW1lT2JqZWN0KCkuYm9keSBhcyBQaGFzZXIuUGh5c2ljcy5BcmNhZGUuQm9keTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VGFyZ2V0KHRhcmdldDogSGFzTG9jYXRpb24pIHtcclxuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRUYXJnZXQoKTogSGFzTG9jYXRpb24ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRhcmdldDtcclxuICAgIH1cclxuXHJcbiAgICBsb29rQXRUYXJnZXQoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0UGh5c2ljc0JvZHkoKSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5nZXRUYXJnZXQoKSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHRhcmdldFBvcyA9IHRoaXMuZ2V0VGFyZ2V0KCkuZ2V0UmVhbExvY2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgc2hpcFBvcyA9IHRoaXMuZ2V0UmVhbExvY2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgcmFkaWFuczogbnVtYmVyID0gUGhhc2VyLk1hdGguQW5nbGUuQmV0d2Vlbih0YXJnZXRQb3MueCwgdGFyZ2V0UG9zLnksIHNoaXBQb3MueCwgc2hpcFBvcy55KTtcclxuICAgICAgICAgICAgICAgIGxldCBkZWdyZWVzOiBudW1iZXIgPSBQaGFzZXIuTWF0aC5SYWRUb0RlZyhyYWRpYW5zKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0UGh5c2ljc0JvZHkoKS5yb3RhdGlvbiA9IGRlZ3JlZXM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiB0aGUgcm90YXRpb24gb2YgdGhlIFNoaXAncyB7R2FtZU9iamVjdC5ib2R5fSBpbiBkZWdyZWVzXHJcbiAgICAgKi9cclxuICAgIGdldFJvdGF0aW9uKCk6IG51bWJlciB7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0R2FtZU9iamVjdCgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEdhbWVPYmplY3QoKS5hbmdsZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0SGVhZGluZygpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICByZXR1cm4gSGVscGVycy5nZXRIZWFkaW5nKHRoaXMuZ2V0Um90YXRpb24oKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0U3BlZWQoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRWZWxvY2l0eSgpLmxlbmd0aCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFZlbG9jaXR5KCk6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIGlmICh0aGlzLmdldFBoeXNpY3NCb2R5KCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UGh5c2ljc0JvZHkoKS52ZWxvY2l0eS5jbG9uZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUGhhc2VyLk1hdGguVmVjdG9yMi5aRVJPO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFRlbXBlcmF0dXJlKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGVtcGVyYXR1cmU7XHJcbiAgICB9XHJcblxyXG4gICAgYXBwbHlIZWF0aW5nKGRlZ3JlZXM6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMudGVtcGVyYXR1cmUgKz0gZGVncmVlcztcclxuICAgIH1cclxuXHJcbiAgICBhcHBseUNvb2xpbmcoZGVncmVlczogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy50ZW1wZXJhdHVyZSAtPSBkZWdyZWVzO1xyXG4gICAgICAgIGlmICh0aGlzLnRlbXBlcmF0dXJlIDwgMCkge1xyXG4gICAgICAgICAgICB0aGlzLnRlbXBlcmF0dXJlID0gMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVkdWNlRnVlbChhbW91bnQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMucmVtYWluaW5nRnVlbCAtPSBhbW91bnQ7XHJcbiAgICAgICAgaWYgKHRoaXMucmVtYWluaW5nRnVlbCA8IDApIHtcclxuICAgICAgICAgICAgdGhpcy5yZW1haW5pbmdGdWVsID0gMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYWRkRnVlbChhbW91bnQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMucmVtYWluaW5nRnVlbCArPSBhbW91bnQ7XHJcbiAgICAgICAgaWYgKHRoaXMucmVtYWluaW5nRnVlbCA+IENvbnN0YW50cy5NQVhfRlVFTCkge1xyXG4gICAgICAgICAgICB0aGlzLnJlbWFpbmluZ0Z1ZWwgPSBDb25zdGFudHMuTUFYX0ZVRUw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldFJlbWFpbmluZ0Z1ZWwoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZW1haW5pbmdGdWVsO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEludGVncml0eSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmludGVncml0eTtcclxuICAgIH1cclxuXHJcbiAgICBzdXN0YWluRGFtYWdlKGFtb3VudDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5pbnRlZ3JpdHkgLT0gYW1vdW50O1xyXG4gICAgICAgIGlmICh0aGlzLmludGVncml0eSA8PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW50ZWdyaXR5ID0gMDtcclxuICAgICAgICAgICAgdGhpcy5kZXN0cm95KCk7IC8vIHdlIGFyZSBkZWFkXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlcGFpcihhbW91bnQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuaW50ZWdyaXR5ID0gYW1vdW50O1xyXG4gICAgICAgIGlmICh0aGlzLmludGVncml0eSA+IENvbnN0YW50cy5NQVhfSU5URUdSSVRZKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW50ZWdyaXR5ID0gQ29uc3RhbnRzLk1BWF9JTlRFR1JJVFk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRlc3Ryb3koKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmRpc3BsYXlTaGlwRXhwbG9zaW9uKCk7XHJcbiAgICAgICAgdGhpcy5nZXRHYW1lT2JqZWN0KCkuZGVzdHJveSgpO1xyXG4gICAgICAgIHRoaXMuZ2FtZU9iaiA9IG51bGw7XHJcbiAgICAgICAgLy8gVE9ETzogc2lnbmFsIGVuZCBvZiBnYW1lIGFuZCBkaXNwbGF5IG1lbnVcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGRpc3BsYXlTaGlwRXhwbG9zaW9uKCk6IHZvaWQge1xyXG4gICAgICAgIGxldCBwb3M6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSB0aGlzLmdldFJlYWxMb2NhdGlvbigpO1xyXG4gICAgICAgIHRoaXMuZXhwbG9zaW9uUGFydGljbGVzLmNyZWF0ZUVtaXR0ZXIoe1xyXG4gICAgICAgICAgICB4OiBwb3MueCxcclxuICAgICAgICAgICAgeTogcG9zLnksXHJcbiAgICAgICAgICAgIGxpZmVzcGFuOiB7IG1pbjogNTAwLCBtYXg6IDEwMDAgfSxcclxuICAgICAgICAgICAgc3BlZWRYOiB7IG1pbjogLTEsIG1heDogMSB9LFxyXG4gICAgICAgICAgICBzcGVlZFk6IHsgbWluOiAtMSwgbWF4OiAxIH0sXHJcbiAgICAgICAgICAgIGFuZ2xlOiB7IG1pbjogLTE4MCwgbWF4OiAxNzkgfSxcclxuICAgICAgICAgICAgZ3Jhdml0eVg6IDAsXHJcbiAgICAgICAgICAgIGdyYXZpdHlZOiAwLFxyXG4gICAgICAgICAgICBzY2FsZTogeyBzdGFydDogMSwgZW5kOiAwIH0sXHJcbiAgICAgICAgICAgIGJsZW5kTW9kZTogJ0FERCcsXHJcbiAgICAgICAgICAgIG1heFBhcnRpY2xlczogM1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuZmxhcmVQYXJ0aWNsZXMuY3JlYXRlRW1pdHRlcih7XHJcbiAgICAgICAgICAgIGZyYW1lOiBDb25zdGFudHMuRmxhcmUucmVkIGFzIG51bWJlcixcclxuICAgICAgICAgICAgeDogcG9zLngsXHJcbiAgICAgICAgICAgIHk6IHBvcy55LFxyXG4gICAgICAgICAgICBsaWZlc3BhbjogeyBtaW46IDEwMCwgbWF4OiA1MDAgfSxcclxuICAgICAgICAgICAgc3BlZWRYOiB7IG1pbjogLTYwMCwgbWF4OiA2MDAgfSxcclxuICAgICAgICAgICAgc3BlZWRZOiB7IG1pbjogLTYwMCwgbWF4OiA2MDAgfSxcclxuICAgICAgICAgICAgYW5nbGU6IHsgbWluOiAtMTgwLCBtYXg6IDE3OSB9LFxyXG4gICAgICAgICAgICBncmF2aXR5WDogMCxcclxuICAgICAgICAgICAgZ3Jhdml0eVk6IDAsXHJcbiAgICAgICAgICAgIHNjYWxlOiB7IHN0YXJ0OiAxLCBlbmQ6IDAgfSxcclxuICAgICAgICAgICAgYmxlbmRNb2RlOiAnQUREJyxcclxuICAgICAgICAgICAgbWF4UGFydGljbGVzOiAxMFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX18xMF9fOyIsImltcG9ydCB7IHY0IH0gZnJvbSBcInV1aWRcIjtcclxuXHJcbmV4cG9ydCBtb2R1bGUgUk5HIHtcclxuICAgIGV4cG9ydCBmdW5jdGlvbiBpbnQobWluOiBudW1iZXIsIG1heDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbjtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gZ3VpZCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB2NCgpO1xyXG4gICAgfVxyXG59IiwidmFyIHYxID0gcmVxdWlyZSgnLi92MScpO1xudmFyIHY0ID0gcmVxdWlyZSgnLi92NCcpO1xuXG52YXIgdXVpZCA9IHY0O1xudXVpZC52MSA9IHYxO1xudXVpZC52NCA9IHY0O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHV1aWQ7XG4iLCJ2YXIgcm5nID0gcmVxdWlyZSgnLi9saWIvcm5nJyk7XG52YXIgYnl0ZXNUb1V1aWQgPSByZXF1aXJlKCcuL2xpYi9ieXRlc1RvVXVpZCcpO1xuXG4vLyAqKmB2MSgpYCAtIEdlbmVyYXRlIHRpbWUtYmFzZWQgVVVJRCoqXG4vL1xuLy8gSW5zcGlyZWQgYnkgaHR0cHM6Ly9naXRodWIuY29tL0xpb3NLL1VVSUQuanNcbi8vIGFuZCBodHRwOi8vZG9jcy5weXRob24ub3JnL2xpYnJhcnkvdXVpZC5odG1sXG5cbnZhciBfbm9kZUlkO1xudmFyIF9jbG9ja3NlcTtcblxuLy8gUHJldmlvdXMgdXVpZCBjcmVhdGlvbiB0aW1lXG52YXIgX2xhc3RNU2VjcyA9IDA7XG52YXIgX2xhc3ROU2VjcyA9IDA7XG5cbi8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdXVpZGpzL3V1aWQgZm9yIEFQSSBkZXRhaWxzXG5mdW5jdGlvbiB2MShvcHRpb25zLCBidWYsIG9mZnNldCkge1xuICB2YXIgaSA9IGJ1ZiAmJiBvZmZzZXQgfHwgMDtcbiAgdmFyIGIgPSBidWYgfHwgW107XG5cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHZhciBub2RlID0gb3B0aW9ucy5ub2RlIHx8IF9ub2RlSWQ7XG4gIHZhciBjbG9ja3NlcSA9IG9wdGlvbnMuY2xvY2tzZXEgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY2xvY2tzZXEgOiBfY2xvY2tzZXE7XG5cbiAgLy8gbm9kZSBhbmQgY2xvY2tzZXEgbmVlZCB0byBiZSBpbml0aWFsaXplZCB0byByYW5kb20gdmFsdWVzIGlmIHRoZXkncmUgbm90XG4gIC8vIHNwZWNpZmllZC4gIFdlIGRvIHRoaXMgbGF6aWx5IHRvIG1pbmltaXplIGlzc3VlcyByZWxhdGVkIHRvIGluc3VmZmljaWVudFxuICAvLyBzeXN0ZW0gZW50cm9weS4gIFNlZSAjMTg5XG4gIGlmIChub2RlID09IG51bGwgfHwgY2xvY2tzZXEgPT0gbnVsbCkge1xuICAgIHZhciBzZWVkQnl0ZXMgPSBybmcoKTtcbiAgICBpZiAobm9kZSA9PSBudWxsKSB7XG4gICAgICAvLyBQZXIgNC41LCBjcmVhdGUgYW5kIDQ4LWJpdCBub2RlIGlkLCAoNDcgcmFuZG9tIGJpdHMgKyBtdWx0aWNhc3QgYml0ID0gMSlcbiAgICAgIG5vZGUgPSBfbm9kZUlkID0gW1xuICAgICAgICBzZWVkQnl0ZXNbMF0gfCAweDAxLFxuICAgICAgICBzZWVkQnl0ZXNbMV0sIHNlZWRCeXRlc1syXSwgc2VlZEJ5dGVzWzNdLCBzZWVkQnl0ZXNbNF0sIHNlZWRCeXRlc1s1XVxuICAgICAgXTtcbiAgICB9XG4gICAgaWYgKGNsb2Nrc2VxID09IG51bGwpIHtcbiAgICAgIC8vIFBlciA0LjIuMiwgcmFuZG9taXplICgxNCBiaXQpIGNsb2Nrc2VxXG4gICAgICBjbG9ja3NlcSA9IF9jbG9ja3NlcSA9IChzZWVkQnl0ZXNbNl0gPDwgOCB8IHNlZWRCeXRlc1s3XSkgJiAweDNmZmY7XG4gICAgfVxuICB9XG5cbiAgLy8gVVVJRCB0aW1lc3RhbXBzIGFyZSAxMDAgbmFuby1zZWNvbmQgdW5pdHMgc2luY2UgdGhlIEdyZWdvcmlhbiBlcG9jaCxcbiAgLy8gKDE1ODItMTAtMTUgMDA6MDApLiAgSlNOdW1iZXJzIGFyZW4ndCBwcmVjaXNlIGVub3VnaCBmb3IgdGhpcywgc29cbiAgLy8gdGltZSBpcyBoYW5kbGVkIGludGVybmFsbHkgYXMgJ21zZWNzJyAoaW50ZWdlciBtaWxsaXNlY29uZHMpIGFuZCAnbnNlY3MnXG4gIC8vICgxMDAtbmFub3NlY29uZHMgb2Zmc2V0IGZyb20gbXNlY3MpIHNpbmNlIHVuaXggZXBvY2gsIDE5NzAtMDEtMDEgMDA6MDAuXG4gIHZhciBtc2VjcyA9IG9wdGlvbnMubXNlY3MgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubXNlY3MgOiBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblxuICAvLyBQZXIgNC4yLjEuMiwgdXNlIGNvdW50IG9mIHV1aWQncyBnZW5lcmF0ZWQgZHVyaW5nIHRoZSBjdXJyZW50IGNsb2NrXG4gIC8vIGN5Y2xlIHRvIHNpbXVsYXRlIGhpZ2hlciByZXNvbHV0aW9uIGNsb2NrXG4gIHZhciBuc2VjcyA9IG9wdGlvbnMubnNlY3MgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubnNlY3MgOiBfbGFzdE5TZWNzICsgMTtcblxuICAvLyBUaW1lIHNpbmNlIGxhc3QgdXVpZCBjcmVhdGlvbiAoaW4gbXNlY3MpXG4gIHZhciBkdCA9IChtc2VjcyAtIF9sYXN0TVNlY3MpICsgKG5zZWNzIC0gX2xhc3ROU2VjcykvMTAwMDA7XG5cbiAgLy8gUGVyIDQuMi4xLjIsIEJ1bXAgY2xvY2tzZXEgb24gY2xvY2sgcmVncmVzc2lvblxuICBpZiAoZHQgPCAwICYmIG9wdGlvbnMuY2xvY2tzZXEgPT09IHVuZGVmaW5lZCkge1xuICAgIGNsb2Nrc2VxID0gY2xvY2tzZXEgKyAxICYgMHgzZmZmO1xuICB9XG5cbiAgLy8gUmVzZXQgbnNlY3MgaWYgY2xvY2sgcmVncmVzc2VzIChuZXcgY2xvY2tzZXEpIG9yIHdlJ3ZlIG1vdmVkIG9udG8gYSBuZXdcbiAgLy8gdGltZSBpbnRlcnZhbFxuICBpZiAoKGR0IDwgMCB8fCBtc2VjcyA+IF9sYXN0TVNlY3MpICYmIG9wdGlvbnMubnNlY3MgPT09IHVuZGVmaW5lZCkge1xuICAgIG5zZWNzID0gMDtcbiAgfVxuXG4gIC8vIFBlciA0LjIuMS4yIFRocm93IGVycm9yIGlmIHRvbyBtYW55IHV1aWRzIGFyZSByZXF1ZXN0ZWRcbiAgaWYgKG5zZWNzID49IDEwMDAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd1dWlkLnYxKCk6IENhblxcJ3QgY3JlYXRlIG1vcmUgdGhhbiAxME0gdXVpZHMvc2VjJyk7XG4gIH1cblxuICBfbGFzdE1TZWNzID0gbXNlY3M7XG4gIF9sYXN0TlNlY3MgPSBuc2VjcztcbiAgX2Nsb2Nrc2VxID0gY2xvY2tzZXE7XG5cbiAgLy8gUGVyIDQuMS40IC0gQ29udmVydCBmcm9tIHVuaXggZXBvY2ggdG8gR3JlZ29yaWFuIGVwb2NoXG4gIG1zZWNzICs9IDEyMjE5MjkyODAwMDAwO1xuXG4gIC8vIGB0aW1lX2xvd2BcbiAgdmFyIHRsID0gKChtc2VjcyAmIDB4ZmZmZmZmZikgKiAxMDAwMCArIG5zZWNzKSAlIDB4MTAwMDAwMDAwO1xuICBiW2krK10gPSB0bCA+Pj4gMjQgJiAweGZmO1xuICBiW2krK10gPSB0bCA+Pj4gMTYgJiAweGZmO1xuICBiW2krK10gPSB0bCA+Pj4gOCAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRsICYgMHhmZjtcblxuICAvLyBgdGltZV9taWRgXG4gIHZhciB0bWggPSAobXNlY3MgLyAweDEwMDAwMDAwMCAqIDEwMDAwKSAmIDB4ZmZmZmZmZjtcbiAgYltpKytdID0gdG1oID4+PiA4ICYgMHhmZjtcbiAgYltpKytdID0gdG1oICYgMHhmZjtcblxuICAvLyBgdGltZV9oaWdoX2FuZF92ZXJzaW9uYFxuICBiW2krK10gPSB0bWggPj4+IDI0ICYgMHhmIHwgMHgxMDsgLy8gaW5jbHVkZSB2ZXJzaW9uXG4gIGJbaSsrXSA9IHRtaCA+Pj4gMTYgJiAweGZmO1xuXG4gIC8vIGBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkYCAoUGVyIDQuMi4yIC0gaW5jbHVkZSB2YXJpYW50KVxuICBiW2krK10gPSBjbG9ja3NlcSA+Pj4gOCB8IDB4ODA7XG5cbiAgLy8gYGNsb2NrX3NlcV9sb3dgXG4gIGJbaSsrXSA9IGNsb2Nrc2VxICYgMHhmZjtcblxuICAvLyBgbm9kZWBcbiAgZm9yICh2YXIgbiA9IDA7IG4gPCA2OyArK24pIHtcbiAgICBiW2kgKyBuXSA9IG5vZGVbbl07XG4gIH1cblxuICByZXR1cm4gYnVmID8gYnVmIDogYnl0ZXNUb1V1aWQoYik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdjE7XG4iLCJ2YXIgcm5nID0gcmVxdWlyZSgnLi9saWIvcm5nJyk7XG52YXIgYnl0ZXNUb1V1aWQgPSByZXF1aXJlKCcuL2xpYi9ieXRlc1RvVXVpZCcpO1xuXG5mdW5jdGlvbiB2NChvcHRpb25zLCBidWYsIG9mZnNldCkge1xuICB2YXIgaSA9IGJ1ZiAmJiBvZmZzZXQgfHwgMDtcblxuICBpZiAodHlwZW9mKG9wdGlvbnMpID09ICdzdHJpbmcnKSB7XG4gICAgYnVmID0gb3B0aW9ucyA9PT0gJ2JpbmFyeScgPyBuZXcgQXJyYXkoMTYpIDogbnVsbDtcbiAgICBvcHRpb25zID0gbnVsbDtcbiAgfVxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICB2YXIgcm5kcyA9IG9wdGlvbnMucmFuZG9tIHx8IChvcHRpb25zLnJuZyB8fCBybmcpKCk7XG5cbiAgLy8gUGVyIDQuNCwgc2V0IGJpdHMgZm9yIHZlcnNpb24gYW5kIGBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkYFxuICBybmRzWzZdID0gKHJuZHNbNl0gJiAweDBmKSB8IDB4NDA7XG4gIHJuZHNbOF0gPSAocm5kc1s4XSAmIDB4M2YpIHwgMHg4MDtcblxuICAvLyBDb3B5IGJ5dGVzIHRvIGJ1ZmZlciwgaWYgcHJvdmlkZWRcbiAgaWYgKGJ1Zikge1xuICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCAxNjsgKytpaSkge1xuICAgICAgYnVmW2kgKyBpaV0gPSBybmRzW2lpXTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYnVmIHx8IGJ5dGVzVG9VdWlkKHJuZHMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHY0O1xuIiwiaW1wb3J0IHsgSGFzQXR0YWNobWVudHMgfSBmcm9tIFwiLi4vLi4vaW50ZXJmYWNlcy9oYXMtYXR0YWNobWVudHNcIjtcclxuaW1wb3J0IHsgU2hpcEF0dGFjaG1lbnQgfSBmcm9tIFwiLi9zaGlwLWF0dGFjaG1lbnRcIjtcclxuaW1wb3J0IHsgSGVscGVycyB9IGZyb20gXCIuLi8uLi91dGlsaXRpZXMvaGVscGVyc1wiO1xyXG5pbXBvcnQgeyBBdHRhY2htZW50TG9jYXRpb24gfSBmcm9tIFwiLi9hdHRhY2htZW50LWxvY2F0aW9uXCI7XHJcbmltcG9ydCB7IFVwZGF0YWJsZSB9IGZyb20gXCIuLi8uLi9pbnRlcmZhY2VzL3VwZGF0YWJsZVwiO1xyXG5pbXBvcnQgeyBTaGlwUG9kIH0gZnJvbSBcIi4uL3NoaXAtcG9kXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQXR0YWNobWVudE1hbmFnZXIgaW1wbGVtZW50cyBIYXNBdHRhY2htZW50cywgVXBkYXRhYmxlIHtcclxuICAgIHByaXZhdGUgYXR0YWNobWVudHM6IFNoaXBBdHRhY2htZW50W10gPSBbXTtcclxuICAgIHByaXZhdGUgc2hpcDogU2hpcFBvZDtcclxuICAgIHByaXZhdGUgc2NlbmU6IFBoYXNlci5TY2VuZTtcclxuICAgIHByaXZhdGUgbGFzdFJvdGF0ZWRUaW1lOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHJvdGF0aW9uRGVsYXk6IG51bWJlcjtcclxuXHJcbiAgICBhY3RpdmU6IGJvb2xlYW47XHJcblxyXG4gICAgY29uc3RydWN0b3IocGFyZW50OiBTaGlwUG9kLCBzY2VuZTogUGhhc2VyLlNjZW5lKSB7XHJcbiAgICAgICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc2hpcCA9IHBhcmVudDtcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy5sYXN0Um90YXRlZFRpbWUgPSAwO1xyXG4gICAgICAgIHRoaXMucm90YXRpb25EZWxheSA9IDEwMDsgLy8gbWlsbGlzZWNvbmRzXHJcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPEhlbHBlcnMuZW51bUxlbmd0aChBdHRhY2htZW50TG9jYXRpb24pOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5hdHRhY2htZW50cy5wdXNoKG51bGwpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGk9MDsgaTx0aGlzLmF0dGFjaG1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgYTogU2hpcEF0dGFjaG1lbnQgPSB0aGlzLmF0dGFjaG1lbnRzW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBhLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICByb3RhdGVBdHRhY2htZW50c0Nsb2Nrd2lzZSgpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5zY2VuZS5nYW1lLmdldFRpbWUoKSA+IHRoaXMubGFzdFJvdGF0ZWRUaW1lICsgdGhpcy5yb3RhdGlvbkRlbGF5KSB7XHJcbiAgICAgICAgICAgIGxldCBsYXN0OiBTaGlwQXR0YWNobWVudCA9IHRoaXMuYXR0YWNobWVudHMucG9wKCk7IC8vIHJlbW92ZSBsYXN0IGVsZW1lbnRcclxuICAgICAgICAgICAgdGhpcy5hdHRhY2htZW50cy51bnNoaWZ0KGxhc3QpOyAvLyBwdXNoIGxhc3QgZWxlbWVudCBvbnRvIHN0YXJ0IG9mIGFycmF5XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQXR0YWNobWVudFBvc2l0aW9ucygpO1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RSb3RhdGVkVGltZSA9IHRoaXMuc2NlbmUuZ2FtZS5nZXRUaW1lKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICByb3RhdGVBdHRhY2htZW50c0FudGlDbG9ja3dpc2UoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2NlbmUuZ2FtZS5nZXRUaW1lKCkgPiB0aGlzLmxhc3RSb3RhdGVkVGltZSArIHRoaXMucm90YXRpb25EZWxheSkge1xyXG4gICAgICAgICAgICBsZXQgZmlyc3Q6IFNoaXBBdHRhY2htZW50ID0gdGhpcy5hdHRhY2htZW50cy5zaGlmdCgpOyAvLyByZW1vdmUgZmlyc3QgZWxlbWVudFxyXG4gICAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzLnB1c2goZmlyc3QpOyAvLyBwdXNoIGZpcnN0IGVsZW1lbnQgb250byBlbmQgb2YgYXJyYXlcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVBdHRhY2htZW50UG9zaXRpb25zKCk7XHJcbiAgICAgICAgICAgIHRoaXMubGFzdFJvdGF0ZWRUaW1lID0gdGhpcy5zY2VuZS5nYW1lLmdldFRpbWUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogYWRkcyB0aGUgcGFzc2VkIGluIHtTaGlwQXR0YWNobWVudH0gaW4ge0F0dGFjaG1lbnRMb2NhdGlvbi5mcm9udH0gb3JcclxuICAgICAqIHRoZSBmaXJzdCBvcGVuIHtBdHRhY2htZW50TG9jYXRpb259IGluIGEgY2xvY2t3aXNlIHNlYXJjaC4gaWYgbm8gb3BlblxyXG4gICAgICogc2xvdHMgZXhpc3QgdGhlbiB0aGUgZXhpc3Rpbmcge1NoaXBBdHRhY2htZW50fSBhdCB7QXR0YWNobWVudExvY2F0aW9uLmZyb250fVxyXG4gICAgICogaXMgZGV0YWNoZWQgYW5kIHJlcGxhY2VkIHdpdGggdGhlIHBhc3NlZCBpbiB7U2hpcEF0dGFjaG1lbnR9XHJcbiAgICAgKiBAcGFyYW0gYXR0YWNobWVudCB0aGUgYXR0YWNobWVudCB0byBiZSBhZGRlZFxyXG4gICAgICovXHJcbiAgICBhZGRBdHRhY2htZW50KGF0dGFjaG1lbnQ6IFNoaXBBdHRhY2htZW50KTogdm9pZCB7XHJcbiAgICAgICAgbGV0IGF0dGFjaGVkOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPEhlbHBlcnMuZW51bUxlbmd0aChBdHRhY2htZW50TG9jYXRpb24pOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmF0dGFjaG1lbnRzW2ldKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzW2ldID0gYXR0YWNobWVudDtcclxuICAgICAgICAgICAgICAgIGF0dGFjaG1lbnQuYXR0YWNoKHRoaXMuc2hpcCwgaSk7XHJcbiAgICAgICAgICAgICAgICBhdHRhY2hlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFhdHRhY2hlZCkge1xyXG4gICAgICAgICAgICAvLyBkZXRhY2ggY3VycmVudCBmcm9udCBhdHRhY2htZW50XHJcbiAgICAgICAgICAgIHRoaXMuYXR0YWNobWVudHNbQXR0YWNobWVudExvY2F0aW9uLmZyb250XS5kZXRhY2goKTtcclxuICAgICAgICAgICAgdGhpcy5hdHRhY2htZW50c1tBdHRhY2htZW50TG9jYXRpb24uZnJvbnRdID0gYXR0YWNobWVudDtcclxuICAgICAgICAgICAgYXR0YWNobWVudC5hdHRhY2godGhpcy5zaGlwLCBBdHRhY2htZW50TG9jYXRpb24uZnJvbnQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zaGlwLmdldEdhbWVPYmplY3QoKS5hZGQoYXR0YWNobWVudC5nZXRHYW1lT2JqZWN0KCkpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZW1vdmVBdHRhY2htZW50KGxvY2F0aW9uOiBBdHRhY2htZW50TG9jYXRpb24pOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5hdHRhY2htZW50c1tsb2NhdGlvbl0pIHtcclxuICAgICAgICAgICAgbGV0IGJvZHk6IFBoYXNlci5QaHlzaWNzLkFyY2FkZS5Cb2R5ID0gdGhpcy5hdHRhY2htZW50c1tsb2NhdGlvbl0uZ2V0UGh5c2ljc0JvZHkoKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCBnbzogUGhhc2VyLkdhbWVPYmplY3RzLkdhbWVPYmplY3QgPSB0aGlzLmF0dGFjaG1lbnRzW2xvY2F0aW9uXS5nZXRHYW1lT2JqZWN0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2hpcC5nZXRHYW1lT2JqZWN0KCkucmVtb3ZlKGdvLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIHRoaXMuYXR0YWNobWVudHNbbG9jYXRpb25dLmRldGFjaCgpO1xyXG4gICAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzW2xvY2F0aW9uXSA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICAvLyBtb3ZlIGF0dGFjaG1lbnQgdG8gc2hpcCBsb2NhdGlvbiBhbmQgcm90YXRpb24gYW5kIGFwcGx5IGN1cnJlbnQgdmVsb2NpdHlcclxuICAgICAgICAgICAgYm9keS5wb3NpdGlvbiA9IHRoaXMuc2hpcC5nZXRSZWFsTG9jYXRpb24oKTtcclxuICAgICAgICAgICAgbGV0IHNoaXBWZWxvY2l0eVZlY3RvcjogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuc2hpcC5nZXRQaHlzaWNzQm9keSgpLnZlbG9jaXR5O1xyXG4gICAgICAgICAgICBib2R5LnNldFZlbG9jaXR5KHNoaXBWZWxvY2l0eVZlY3Rvci54LCBzaGlwVmVsb2NpdHlWZWN0b3IueSk7XHJcbiAgICAgICAgICAgIGJvZHkucm90YXRpb24gPSB0aGlzLnNoaXAuZ2V0Um90YXRpb24oKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHRocm93QXR0YWNobWVudChsb2NhdGlvbjogQXR0YWNobWVudExvY2F0aW9uKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IGF0dGFjaG1lbnQ6IFNoaXBBdHRhY2htZW50ID0gdGhpcy5nZXRBdHRhY2htZW50KGxvY2F0aW9uKTtcclxuICAgICAgICBpZiAoYXR0YWNobWVudCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8dGhpcy5hdHRhY2htZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYXR0YWNobWVudHNbaV0gJiYgdGhpcy5hdHRhY2htZW50c1tpXSA9PSBhdHRhY2htZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVBdHRhY2htZW50KGkpO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGF0dGFjaG1lbnQudGhyb3coKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgZ2V0QXR0YWNobWVudHMoKTogU2hpcEF0dGFjaG1lbnRbXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYXR0YWNobWVudHM7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGdldEF0dGFjaG1lbnQobG9jYXRpb246IEF0dGFjaG1lbnRMb2NhdGlvbik6IFNoaXBBdHRhY2htZW50IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hdHRhY2htZW50c1tsb2NhdGlvbl07XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1cGRhdGVBdHRhY2htZW50UG9zaXRpb25zKCk6IHZvaWQge1xyXG4gICAgICAgIGxldCBhbmdsZTogbnVtYmVyID0gMzYwIC8gODtcclxuICAgICAgICBmb3IgKHZhciBpPTA7IGk8dGhpcy5hdHRhY2htZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgYXR0OiBTaGlwQXR0YWNobWVudCA9IHRoaXMuYXR0YWNobWVudHNbaV07XHJcbiAgICAgICAgICAgIGlmIChhdHQpIHtcclxuICAgICAgICAgICAgICAgIGF0dC5zZXRBdHRhY2htZW50TG9jYXRpb24oaSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgcm90OiBudW1iZXIgPSAwO1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBBdHRhY2htZW50TG9jYXRpb24uZnJvbnRSaWdodDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm90ID0gYW5nbGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQXR0YWNobWVudExvY2F0aW9uLnJpZ2h0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByb3QgPSBhbmdsZSAqIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQXR0YWNobWVudExvY2F0aW9uLmJhY2tSaWdodDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm90ID0gYW5nbGUgKiAzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIEF0dGFjaG1lbnRMb2NhdGlvbi5iYWNrTGVmdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm90ID0gYW5nbGUgKiA1O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIEF0dGFjaG1lbnRMb2NhdGlvbi5sZWZ0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByb3QgPSBhbmdsZSAqIDY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQXR0YWNobWVudExvY2F0aW9uLmZyb250TGVmdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm90ID0gYW5nbGUgKiA3O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByb3QgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGF0dC5nZXRHYW1lT2JqZWN0KCkuYW5nbGUgPSByb3Q7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBDYW5UaHJ1c3QgfSBmcm9tIFwiLi4vLi4vLi4vaW50ZXJmYWNlcy9jYW4tdGhydXN0XCI7XHJcbmltcG9ydCB7IFNoaXBQb2QgfSBmcm9tIFwiLi4vLi4vc2hpcC1wb2RcIjtcclxuaW1wb3J0IHsgQ29uc3RhbnRzIH0gZnJvbSBcIi4uLy4uLy4uL3V0aWxpdGllcy9jb25zdGFudHNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBUaHJ1c3RlciBpbXBsZW1lbnRzIENhblRocnVzdCB7XHJcbiAgICBwcml2YXRlIHNoaXA6IFNoaXBQb2Q7XHJcbiAgICBwcml2YXRlIHNjZW5lOiBQaGFzZXIuU2NlbmU7XHJcbiAgICBwcml2YXRlIGZsYXJlUGFydGljbGVzOiBQaGFzZXIuR2FtZU9iamVjdHMuUGFydGljbGVzLlBhcnRpY2xlRW1pdHRlck1hbmFnZXI7XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKHNoaXA6IFNoaXBQb2QsIHNjZW5lOiBQaGFzZXIuU2NlbmUpIHtcclxuICAgICAgICB0aGlzLnNoaXAgPSBzaGlwO1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLmZsYXJlUGFydGljbGVzID0gc2NlbmUuYWRkLnBhcnRpY2xlcygnZmxhcmVzJyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHRocnVzdEZvd2FyZHMoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5hcHBseVRocnVzdChDb25zdGFudHMuVEhSVVNURVJfRk9SQ0UsIENvbnN0YW50cy5GVUVMX1BFUl9USFJVU1QsIENvbnN0YW50cy5IRUFUX1BFUl9USFJVU1QpO1xyXG4gICAgICAgIHRoaXMuZGlzcGxheVRocnVzdGVyRmlyZShDb25zdGFudHMuRmxhcmUueWVsbG93LCAwLjIsIDEpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwcml2YXRlIGxhc3RCb29zdFRpbWU6IG51bWJlciA9IDA7XHJcbiAgICBib29zdEZvcndhcmRzKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLnNjZW5lLmdhbWUuZ2V0VGltZSgpID49IHRoaXMubGFzdEJvb3N0VGltZSArIENvbnN0YW50cy5CT09TVEVSX0NPT0xET1dOX1RJTUUpIHtcclxuICAgICAgICAgICAgdGhpcy5hcHBseVRocnVzdChDb25zdGFudHMuQk9PU1RFUl9GT1JDRSwgQ29uc3RhbnRzLkZVRUxfUEVSX0JPT1NULCBDb25zdGFudHMuSEVBVF9QRVJfQk9PU1QpO1xyXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlUaHJ1c3RlckZpcmUoQ29uc3RhbnRzLkZsYXJlLmJsdWUsIDEsIDEwKTtcclxuICAgICAgICAgICAgdGhpcy5sYXN0Qm9vc3RUaW1lID0gdGhpcy5zY2VuZS5nYW1lLmdldFRpbWUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RyYWZlTGVmdCgpOiB2b2lkIHtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBzdHJhZmVSaWdodCgpOiB2b2lkIHtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICB0aHJ1c3RCYWNrd2FyZHMoKTogdm9pZCB7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhcHBseVRocnVzdChmb3JjZTogbnVtYmVyLCBmdWVsOiBudW1iZXIsIGhlYXQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLnNoaXAuZ2V0UmVtYWluaW5nRnVlbCgpID4gMCkge1xyXG4gICAgICAgICAgICBsZXQgaGVhZGluZzogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuc2hpcC5nZXRIZWFkaW5nKCk7XHJcbiAgICAgICAgICAgIGxldCBkZWx0YVY6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSBoZWFkaW5nLm11bHRpcGx5KG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKGZvcmNlLCBmb3JjZSkpO1xyXG4gICAgICAgICAgICB0aGlzLnNoaXAuZ2V0UGh5c2ljc0JvZHkoKS52ZWxvY2l0eS5hZGQoZGVsdGFWKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMuc2hpcC5yZWR1Y2VGdWVsKGZ1ZWwpO1xyXG4gICAgICAgICAgICB0aGlzLnNoaXAuYXBwbHlIZWF0aW5nKGhlYXQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGRpc3BsYXlUaHJ1c3RlckZpcmUoY29sb3VyOiBDb25zdGFudHMuRmxhcmUsIHN0YXJ0U2NhbGU6IG51bWJlciwgcXVhbnRpdHk6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIC8vIG1ha2UgdGhydXN0ZXIgZmlyZVxyXG4gICAgICAgIGxldCBwb3M6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSB0aGlzLnNoaXAuZ2V0UmVhbExvY2F0aW9uKCk7XHJcbiAgICAgICAgbGV0IG9mZnNldDogUGhhc2VyLk1hdGguVmVjdG9yMiA9IG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKDIwLCAwKS5hZGQocG9zKTtcclxuICAgICAgICBsZXQgaDogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuc2hpcC5nZXRIZWFkaW5nKCkubmVnYXRlKCk7XHJcbiAgICAgICAgbGV0IGxvYzogUGhhc2VyLkdlb20uUG9pbnQgPSBQaGFzZXIuTWF0aC5Sb3RhdGVBcm91bmQob2Zmc2V0LCBwb3MueCwgcG9zLnksIFBoYXNlci5NYXRoLkRlZ1RvUmFkKHRoaXMuc2hpcC5nZXRSb3RhdGlvbigpKSk7XHJcbiAgICAgICAgbGV0IHY6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSB0aGlzLnNoaXAuZ2V0VmVsb2NpdHkoKTtcclxuICAgICAgICB0aGlzLmZsYXJlUGFydGljbGVzLmNyZWF0ZUVtaXR0ZXIoe1xyXG4gICAgICAgICAgICBmcmFtZTogY29sb3VyIGFzIG51bWJlcixcclxuICAgICAgICAgICAgeDogbG9jLngsXHJcbiAgICAgICAgICAgIHk6IGxvYy55LFxyXG4gICAgICAgICAgICBsaWZlc3BhbjogeyBtaW46IDI1MCwgbWF4OiA1MDAgfSxcclxuICAgICAgICAgICAgc3BlZWRYOiB7IG1pbjogaC54KjEwMCwgbWF4OiBoLngqNTAwIH0sXHJcbiAgICAgICAgICAgIHNwZWVkWTogeyBtaW46IGgueSoxMDAsIG1heDogaC55KjUwMCB9LFxyXG4gICAgICAgICAgICBhbmdsZTogMCxcclxuICAgICAgICAgICAgZ3Jhdml0eVg6IDAsXHJcbiAgICAgICAgICAgIGdyYXZpdHlZOiAwLFxyXG4gICAgICAgICAgICBzY2FsZTogeyBzdGFydDogc3RhcnRTY2FsZSwgZW5kOiAwIH0sXHJcbiAgICAgICAgICAgIHF1YW50aXR5OiBxdWFudGl0eSxcclxuICAgICAgICAgICAgYmxlbmRNb2RlOiAnQUREJyxcclxuICAgICAgICAgICAgbWF4UGFydGljbGVzOiAxMFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgU2hpcEF0dGFjaG1lbnQgfSBmcm9tIFwiLi4vc2hpcC1hdHRhY2htZW50XCI7XHJcbmltcG9ydCB7IENhblNob290IH0gZnJvbSBcIi4uLy4uLy4uL2ludGVyZmFjZXMvY2FuLXNob290XCI7XHJcbmltcG9ydCB7IEJ1bGxldCB9IGZyb20gXCIuL2J1bGxldFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENhbm5vbkF0dGFjaG1lbnQgZXh0ZW5kcyBTaGlwQXR0YWNobWVudCBpbXBsZW1lbnRzIENhblNob290IHtcclxuICAgIHByaXZhdGUgbWF4QW1tbzogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSByZW1haW5pbmdBbW1vOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIGxhc3RGaXJlZDogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBmaXJpbmdEZWxheTogbnVtYmVyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lOiBQaGFzZXIuU2NlbmUpIHtcclxuICAgICAgICBzdXBlcihzY2VuZSk7XHJcblxyXG4gICAgICAgIHRoaXMubWF4QW1tbyA9IDUwMDtcclxuICAgICAgICB0aGlzLnJlbWFpbmluZ0FtbW8gPSB0aGlzLm1heEFtbW87XHJcbiAgICAgICAgdGhpcy5sYXN0RmlyZWQgPSAwO1xyXG4gICAgICAgIHRoaXMuZmlyaW5nRGVsYXkgPSAxMDAwOyAvLyBtaWxsaXNlY29uZHNcclxuXHJcbiAgICAgICAgdGhpcy5nYW1lT2JqID0gdGhpcy5zY2VuZS5hZGQuc3ByaXRlKDAsIDAsICdjYW5ub24nKTtcclxuICAgICAgICB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMuZ2FtZU9iaik7XHJcbiAgICB9XHJcblxyXG4gICAgcmVsb2FkKGFtb3VudDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5yZW1haW5pbmdBbW1vICs9IGFtb3VudDtcclxuICAgICAgICBpZiAodGhpcy5yZW1haW5pbmdBbW1vID4gdGhpcy5tYXhBbW1vKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVtYWluaW5nQW1tbyA9IHRoaXMubWF4QW1tbztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UmVtYWluaW5nQW1tbygpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJlbWFpbmluZ0FtbW87XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIHRyaWdnZXIoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZmlyZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmaXJlKGRpcmVjdGlvbj86IFBoYXNlci5NYXRoLlZlY3RvcjIpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5hY3RpdmUpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0UmVtYWluaW5nQW1tbygpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2NlbmUuZ2FtZS5nZXRUaW1lKCkgPiB0aGlzLmxhc3RGaXJlZCArIHRoaXMuZmlyaW5nRGVsYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbG9jOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5nZXRSZWFsTG9jYXRpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICBuZXcgQnVsbGV0KHRoaXMuc2NlbmUsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeDogbG9jLngsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHk6IGxvYy55LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JjZTogMzAwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYW5nbGU6IHRoaXMuZ2V0Um90YXRpb24oKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRpbmdWOiB0aGlzLmdldFZlbG9jaXR5KClcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3RGaXJlZCA9IHRoaXMuc2NlbmUuZ2FtZS5nZXRUaW1lKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBTaGlwUG9kIH0gZnJvbSBcIi4uL3NoaXAtcG9kXCI7XHJcbmltcG9ydCB7IEhhc0dhbWVPYmplY3QgfSBmcm9tIFwiLi4vLi4vaW50ZXJmYWNlcy9oYXMtZ2FtZS1vYmplY3RcIjtcclxuaW1wb3J0IHsgVXBkYXRhYmxlIH0gZnJvbSBcIi4uLy4uL2ludGVyZmFjZXMvdXBkYXRhYmxlXCI7XHJcbmltcG9ydCB7IEhhc0xvY2F0aW9uIH0gZnJvbSBcIi4uLy4uL2ludGVyZmFjZXMvaGFzLWxvY2F0aW9uXCI7XHJcbmltcG9ydCB7IEhhc0ludGVncml0eSB9IGZyb20gXCIuLi8uLi9pbnRlcmZhY2VzL2hhcy1pbnRlZ3JpdHlcIjtcclxuaW1wb3J0IHsgQ29uc3RhbnRzIH0gZnJvbSBcIi4uLy4uL3V0aWxpdGllcy9jb25zdGFudHNcIjtcclxuaW1wb3J0IHsgQXR0YWNobWVudExvY2F0aW9uIH0gZnJvbSBcIi4vYXR0YWNobWVudC1sb2NhdGlvblwiO1xyXG5pbXBvcnQgeyBIZWxwZXJzIH0gZnJvbSBcIi4uLy4uL3V0aWxpdGllcy9oZWxwZXJzXCI7XHJcbmltcG9ydCB7IEhhc1BoeXNpY3NHYW1lT2JqZWN0IH0gZnJvbSBcIi4uLy4uL2ludGVyZmFjZXMvaGFzLXBoeXNpY3MtZ2FtZS1vYmplY3RcIjtcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBTaGlwQXR0YWNobWVudCBpbXBsZW1lbnRzIFVwZGF0YWJsZSwgSGFzR2FtZU9iamVjdDxQaGFzZXIuR2FtZU9iamVjdHMuU3ByaXRlPiwgSGFzUGh5c2ljc0dhbWVPYmplY3QsIEhhc0xvY2F0aW9uLCBIYXNJbnRlZ3JpdHkge1xyXG4gICAgcHJvdGVjdGVkIHNoaXA6IFNoaXBQb2Q7XHJcbiAgICBwcm90ZWN0ZWQgc2NlbmU6IFBoYXNlci5TY2VuZTtcclxuICAgIHByb3RlY3RlZCBnYW1lT2JqOiBQaGFzZXIuR2FtZU9iamVjdHMuU3ByaXRlO1xyXG4gICAgcHJvdGVjdGVkIGludGVncml0eTogbnVtYmVyO1xyXG4gICAgcHJvdGVjdGVkIGF0dGFjaG1lbnRMb2NhdGlvbjogQXR0YWNobWVudExvY2F0aW9uO1xyXG4gICAgcHJvdGVjdGVkIGlzVGhyb3duOiBib29sZWFuO1xyXG5cclxuICAgIGFjdGl2ZTogYm9vbGVhbjtcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3Ioc2NlbmU6IFBoYXNlci5TY2VuZSkge1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5pbnRlZ3JpdHkgPSBDb25zdGFudHMuTUFYX0lOVEVHUklUWTtcclxuICAgICAgICB0aGlzLmlzVGhyb3duID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgYXR0YWNoKHNoaXA6IFNoaXBQb2QsIGxvY2F0aW9uPzogQXR0YWNobWVudExvY2F0aW9uKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCFsb2NhdGlvbikge1xyXG4gICAgICAgICAgICBsb2NhdGlvbiA9IEF0dGFjaG1lbnRMb2NhdGlvbi5mcm9udDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zaGlwID0gc2hpcDtcclxuICAgICAgICB0aGlzLnNldEF0dGFjaG1lbnRMb2NhdGlvbihsb2NhdGlvbik7XHJcbiAgICAgICAgbGV0IGNlbnRyZTogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuc2hpcC5nZXRSZWFsTG9jYXRpb24oKTtcclxuICAgICAgICB0aGlzLmdldFBoeXNpY3NCb2R5KCkucG9zaXRpb24gPSBjZW50cmU7IC8vIGNlbnRyZSBvbiBzaGlwIGxvY2F0aW9uXHJcbiAgICAgICAgdGhpcy5nZXRQaHlzaWNzQm9keSgpLnJvdGF0aW9uID0gdGhpcy5zaGlwLmdldFJvdGF0aW9uKCk7IC8vIHNldCBoZWFkaW5nIHRvIG1hdGNoIHNoaXBcclxuICAgICAgICAvLyBUT0RPOiBvZmZzZXQgYXR0YWNobWVudCBieSBYWCB1bml0cyBpbiB0aGUgZm9yd2FyZCBkaXJlY3Rpb25cclxuICAgIH1cclxuXHJcbiAgICBkZXRhY2goKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5zaGlwID0gbnVsbDtcclxuICAgICAgICB0aGlzLmF0dGFjaG1lbnRMb2NhdGlvbiA9IG51bGw7XHJcbiAgICAgICAgbGV0IGdvOiBQaGFzZXIuR2FtZU9iamVjdHMuR2FtZU9iamVjdCA9IHRoaXMuZ2V0R2FtZU9iamVjdCgpO1xyXG4gICAgICAgIGdvLnNldEFjdGl2ZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnNjZW5lLmFkZC5leGlzdGluZyhnbyk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhyb3coKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5pc1Rocm93biA9IHRydWU7XHJcbiAgICAgICAgbGV0IGRlbHRhViA9IHRoaXMuZ2V0SGVhZGluZygpO1xyXG4gICAgICAgIGRlbHRhVi5tdWx0aXBseShuZXcgUGhhc2VyLk1hdGguVmVjdG9yMihDb25zdGFudHMuVEhST1dfRk9SQ0UsIENvbnN0YW50cy5USFJPV19GT1JDRSkpO1xyXG4gICAgICAgIGlmICh0aGlzLnNoaXApIHtcclxuICAgICAgICAgICAgZGVsdGFWLmFkZCh0aGlzLnNoaXAuZ2V0UGh5c2ljc0JvZHkoKS52ZWxvY2l0eSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGFkZCB0aHJvdyBmb3JjZSB0byBjdXJyZW50IHZlbG9jaXR5XHJcbiAgICAgICAgdGhpcy5nZXRQaHlzaWNzQm9keSgpLnZlbG9jaXR5LmFkZChkZWx0YVYpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBnZXRHYW1lT2JqZWN0KCk6IFBoYXNlci5HYW1lT2JqZWN0cy5TcHJpdGUge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdhbWVPYmo7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UGh5c2ljc0JvZHkoKTogUGhhc2VyLlBoeXNpY3MuQXJjYWRlLkJvZHkge1xyXG4gICAgICAgIGlmICh0aGlzLmdldEdhbWVPYmplY3QoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRHYW1lT2JqZWN0KCkuYm9keSBhcyBQaGFzZXIuUGh5c2ljcy5BcmNhZGUuQm9keTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgYWJzdHJhY3QgdXBkYXRlKCk6IHZvaWQ7XHJcblxyXG4gICAgYWJzdHJhY3QgdHJpZ2dlcigpOiB2b2lkO1xyXG5cclxuICAgIGdldFJvdGF0aW9uKCk6IG51bWJlciB7XHJcbiAgICAgICAgbGV0IHJvdGF0aW9uOiBudW1iZXIgPSB0aGlzLmdldEdhbWVPYmplY3QoKS5hbmdsZTtcclxuICAgICAgICBpZiAodGhpcy5zaGlwKSB7XHJcbiAgICAgICAgICAgIHJvdGF0aW9uICs9IHRoaXMuc2hpcC5nZXRSb3RhdGlvbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcm90YXRpb247XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiByZXR1cm5zIGEgbm9ybWFsaXNlZCB7UGhhc2VyLk1hdGguVmVjdG9yMn0gcmVwcmVzZW50aW5nIFxyXG4gICAgICogdGhlIGRpcmVjdGlvbiB0aGlzIG9iamVjdCB3b3VsZCB0cmF2ZWxcclxuICAgICAqL1xyXG4gICAgZ2V0SGVhZGluZygpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICBsZXQgcm90YXRpb246IG51bWJlciA9IHRoaXMuZ2V0Um90YXRpb24oKTtcclxuICAgICAgICByZXR1cm4gSGVscGVycy5nZXRIZWFkaW5nKHJvdGF0aW9uKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRTcGVlZCgpOiBudW1iZXIge1xyXG4gICAgICAgIGxldCBzcGVlZDogbnVtYmVyID0gdGhpcy5nZXRWZWxvY2l0eSgpLmxlbmd0aCgpO1xyXG4gICAgICAgIGlmICh0aGlzLnNoaXApIHtcclxuICAgICAgICAgICAgc3BlZWQgKz0gdGhpcy5zaGlwLmdldFNwZWVkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzcGVlZDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRWZWxvY2l0eSgpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICBpZiAodGhpcy5nZXRQaHlzaWNzQm9keSgpKSB7XHJcbiAgICAgICAgICAgIGxldCB2ZWxvY2l0eTogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuZ2V0UGh5c2ljc0JvZHkoKS52ZWxvY2l0eS5jbG9uZSgpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zaGlwKSB7XHJcbiAgICAgICAgICAgICAgICB2ZWxvY2l0eS5hZGQodGhpcy5zaGlwLmdldFZlbG9jaXR5KCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB2ZWxvY2l0eTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFBoYXNlci5NYXRoLlZlY3RvcjIuWkVSTztcclxuICAgIH1cclxuXHJcbiAgICBnZXRMb2NhdGlvbigpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICBsZXQgY2FtZXJhUG9zOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5zY2VuZS5jYW1lcmFzLm1haW4uZ2V0V29ybGRQb2ludCgwLCAwKTtcclxuICAgICAgICBsZXQgcmVhbExvYzogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuZ2V0UmVhbExvY2F0aW9uKCk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKHJlYWxMb2MueCAtIGNhbWVyYVBvcy54LCByZWFsTG9jLnkgLSBjYW1lcmFQb3MueSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UmVhbExvY2F0aW9uKCk6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIGlmICh0aGlzLmdldEdhbWVPYmplY3QoKSkge1xyXG4gICAgICAgICAgICBsZXQgcmVhbExvYzogUGhhc2VyLk1hdGguVmVjdG9yMiA9IG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKHRoaXMuZ2V0R2FtZU9iamVjdCgpLngsIHRoaXMuZ2V0R2FtZU9iamVjdCgpLnkpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zaGlwKSB7XHJcbiAgICAgICAgICAgICAgICByZWFsTG9jLmFkZCh0aGlzLnNoaXAuZ2V0UmVhbExvY2F0aW9uKCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiByZWFsTG9jO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUGhhc2VyLk1hdGguVmVjdG9yMi5aRVJPO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEludGVncml0eSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmludGVncml0eTtcclxuICAgIH1cclxuXHJcbiAgICBzdXN0YWluRGFtYWdlKGFtb3VudDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5pbnRlZ3JpdHkgLT0gYW1vdW50O1xyXG4gICAgICAgIGlmICh0aGlzLmludGVncml0eSA8PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW50ZWdyaXR5ID0gMDtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5kZXN0cm95KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlcGFpcihhbW91bnQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuaW50ZWdyaXR5ID0gYW1vdW50O1xyXG4gICAgICAgIGlmICh0aGlzLmludGVncml0eSA+IENvbnN0YW50cy5NQVhfSU5URUdSSVRZKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW50ZWdyaXR5ID0gQ29uc3RhbnRzLk1BWF9JTlRFR1JJVFk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRlc3Ryb3koKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnNoaXAuYXR0YWNobWVudHMucmVtb3ZlQXR0YWNobWVudCh0aGlzLmF0dGFjaG1lbnRMb2NhdGlvbik7XHJcbiAgICAgICAgdGhpcy5nZXRHYW1lT2JqZWN0KCkuZGVzdHJveSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEF0dGFjaG1lbnRMb2NhdGlvbihsb2M6IEF0dGFjaG1lbnRMb2NhdGlvbik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuYXR0YWNobWVudExvY2F0aW9uID0gbG9jO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgSGFzR2FtZU9iamVjdCB9IGZyb20gXCIuLi8uLi8uLi9pbnRlcmZhY2VzL2hhcy1nYW1lLW9iamVjdFwiO1xyXG5pbXBvcnQgeyBCdWxsZXRQYXJhbWV0ZXJzIH0gZnJvbSBcIi4uLy4uLy4uL2ludGVyZmFjZXMvYnVsbGV0LXBhcmFtZXRlcnNcIjtcclxuaW1wb3J0IHsgSGFzTG9jYXRpb24gfSBmcm9tIFwiLi4vLi4vLi4vaW50ZXJmYWNlcy9oYXMtbG9jYXRpb25cIjtcclxuaW1wb3J0IHsgR2xvYmFscyB9IGZyb20gXCIuLi8uLi8uLi91dGlsaXRpZXMvZ2xvYmFsc1wiO1xyXG5pbXBvcnQgeyBIYXNQaHlzaWNzR2FtZU9iamVjdCB9IGZyb20gXCIuLi8uLi8uLi9pbnRlcmZhY2VzL2hhcy1waHlzaWNzLWdhbWUtb2JqZWN0XCI7XHJcbmltcG9ydCB7IEhlbHBlcnMgfSBmcm9tIFwiLi4vLi4vLi4vdXRpbGl0aWVzL2hlbHBlcnNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBCdWxsZXQgaW1wbGVtZW50cyBIYXNHYW1lT2JqZWN0PFBoYXNlci5HYW1lT2JqZWN0cy5TcHJpdGU+LCBIYXNQaHlzaWNzR2FtZU9iamVjdCwgSGFzTG9jYXRpb24ge1xyXG4gICAgc2NlbmU6IFBoYXNlci5TY2VuZTtcclxuICAgIGZvcmNlOiBudW1iZXI7XHJcbiAgICBnYW1lT2JqOiBQaGFzZXIuR2FtZU9iamVjdHMuU3ByaXRlO1xyXG4gICAgYWN0aXZlOiBib29sZWFuO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lOiBQaGFzZXIuU2NlbmUsIHBhcmFtczogQnVsbGV0UGFyYW1ldGVycykge1xyXG4gICAgICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy5mb3JjZSA9IHBhcmFtcy5mb3JjZSB8fCAwO1xyXG4gICAgICAgIHRoaXMuZ2FtZU9iaiA9IHRoaXMuc2NlbmUuYWRkLnNwcml0ZShwYXJhbXMueCB8fCAwLCBwYXJhbXMueSB8fCAwLCAnYnVsbGV0Jyk7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmdhbWVPYmopO1xyXG5cclxuICAgICAgICB0aGlzLmdldEdhbWVPYmplY3QoKS5hbmdsZSA9IHBhcmFtcy5hbmdsZSB8fCAwO1xyXG4gICAgICAgIHRoaXMuZ2V0UGh5c2ljc0JvZHkoKS52ZWxvY2l0eSA9IHBhcmFtcy5zdGFydGluZ1YgfHwgUGhhc2VyLk1hdGguVmVjdG9yMi5aRVJPO1xyXG4gICAgICAgIHRoaXMuYWRkQ29sbGlzaW9uRGV0ZWN0aW9uKCk7XHJcbiAgICAgICAgdGhpcy5zZXRJbk1vdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYWRkQ29sbGlzaW9uRGV0ZWN0aW9uKCk6IHZvaWQge1xyXG4gICAgICAgIGZvciAodmFyIGk9MDsgaTxHbG9iYWxzLmludGVyYWN0YWJsZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLmdhbWVPYmosIEdsb2JhbHMuaW50ZXJhY3RhYmxlc1tpXSwgdGhpcy5vbkltcGFjdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgb25JbXBhY3QoYnVsbGV0OiBQaGFzZXIuR2FtZU9iamVjdHMuR2FtZU9iamVjdCwgdGFyZ2V0OiBQaGFzZXIuR2FtZU9iamVjdHMuR2FtZU9iamVjdCk6IHZvaWQge1xyXG4gICAgICAgIC8vIFRPRE86IGltcGFydCBkYW1hZ2UgdG8gdGFyZ2V0IGFuZCBkZXN0cm95IGJ1bGxldFxyXG4gICAgfVxyXG5cclxuICAgIGdldEdhbWVPYmplY3QoKTogUGhhc2VyLkdhbWVPYmplY3RzLlNwcml0ZSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZU9iajtcclxuICAgIH1cclxuXHJcbiAgICBnZXRQaHlzaWNzQm9keSgpOiBQaGFzZXIuUGh5c2ljcy5BcmNhZGUuQm9keSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0R2FtZU9iamVjdCgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEdhbWVPYmplY3QoKS5ib2R5IGFzIFBoYXNlci5QaHlzaWNzLkFyY2FkZS5Cb2R5O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRSb3RhdGlvbigpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldEdhbWVPYmplY3QoKS5hbmdsZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRIZWFkaW5nKCk6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIHJldHVybiBIZWxwZXJzLmdldEhlYWRpbmcodGhpcy5nZXRSb3RhdGlvbigpKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRTcGVlZCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFZlbG9jaXR5KCkubGVuZ3RoKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VmVsb2NpdHkoKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0UGh5c2ljc0JvZHkoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRQaHlzaWNzQm9keSgpLnZlbG9jaXR5LmNsb25lKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBQaGFzZXIuTWF0aC5WZWN0b3IyLlpFUk87XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0TG9jYXRpb24oKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgbGV0IGNhbWVyYVBvczogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuc2NlbmUuY2FtZXJhcy5tYWluLmdldFdvcmxkUG9pbnQoMCwgMCk7XHJcbiAgICAgICAgbGV0IGxvYzogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuZ2V0UmVhbExvY2F0aW9uKCk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKGxvYy54IC0gY2FtZXJhUG9zLngsIGxvYy55IC0gY2FtZXJhUG9zLnkpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFJlYWxMb2NhdGlvbigpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICBpZiAodGhpcy5nZXRHYW1lT2JqZWN0KCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKHRoaXMuZ2V0R2FtZU9iamVjdCgpLngsIHRoaXMuZ2V0R2FtZU9iamVjdCgpLnkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUGhhc2VyLk1hdGguVmVjdG9yMi5aRVJPO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0SW5Nb3Rpb24oKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IGhlYWRpbmc6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSB0aGlzLmdldEhlYWRpbmcoKTtcclxuICAgICAgICAvLyBhZGQgZm9yY2UgdG8gaGVhZGluZ1xyXG4gICAgICAgIGxldCBkZWx0YVY6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSBoZWFkaW5nLm11bHRpcGx5KEhlbHBlcnMudmVjdG9yMih0aGlzLmZvcmNlKSk7XHJcbiAgICAgICAgLy8gYWRkIGRlbHRhViB0byBjdXJyZW50IFZlbG9jaXR5XHJcbiAgICAgICAgdGhpcy5nZXRQaHlzaWNzQm9keSgpLnZlbG9jaXR5LmFkZChkZWx0YVYpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgSGFzTG9jYXRpb24gfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9oYXMtbG9jYXRpb25cIjtcclxuaW1wb3J0IHsgTW91c2VXaGVlbFNjcm9sbCB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL21vdXNlLXdoZWVsLXNjcm9sbFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1vdXNlIGltcGxlbWVudHMgSGFzTG9jYXRpb24ge1xyXG4gICAgcHJpdmF0ZSBzY2VuZTogUGhhc2VyLlNjZW5lO1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZTogUGhhc2VyLlNjZW5lKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuc2NlbmUuaW5wdXQubW91c2UuY2FwdHVyZSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0QW5nbGUoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zY2VuZS5pbnB1dC5hY3RpdmVQb2ludGVyLmdldEFuZ2xlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Um90YXRpb24oKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRBbmdsZSgpICogKE1hdGguUEkgLyAxODApO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEhlYWRpbmcoKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgbGV0IHJvdGF0aW9uOiBudW1iZXIgPSB0aGlzLmdldEFuZ2xlKCk7XHJcbiAgICAgICAgbGV0IHg6IG51bWJlciA9IE1hdGguY29zKHJvdGF0aW9uKTtcclxuICAgICAgICBsZXQgeTogbnVtYmVyID0gTWF0aC5zaW4ocm90YXRpb24pO1xyXG4gICAgICAgIHJldHVybiBuZXcgUGhhc2VyLk1hdGguVmVjdG9yMih4LCB5KS5ub3JtYWxpemUoKS5uZWdhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRTcGVlZCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFZlbG9jaXR5KCkubGVuZ3RoKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VmVsb2NpdHkoKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NlbmUuaW5wdXQuYWN0aXZlUG9pbnRlci52ZWxvY2l0eS5jbG9uZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmV0dXJucyB0aGUgcG9zaXRpb24gb2YgdGhlIG1vdXNlIHdpdGhpbiB0aGUgYm91bmRzIG9mIHRoZSBjdXJyZW50XHJcbiAgICAgKiBzY3JlZW4uXHJcbiAgICAgKiBAcmV0dXJucyBhIHtQaGFzZXIuTWF0aC5WZWN0b3IyfSBjbG9uZSBvZiB0aGUgcG9zaXRpb25cclxuICAgICAqL1xyXG4gICAgZ2V0TG9jYXRpb24oKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coYG1vdXNlIGxvY2F0aW9uOiAke0pTT04uc3RyaW5naWZ5KHRoaXMubG9jYXRpb24pfWApO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNjZW5lLmlucHV0LmFjdGl2ZVBvaW50ZXIucG9zaXRpb24uY2xvbmUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIG9mZnNldHMgdGhlIHNjcmVlbiBwb3NpdGlvbiBiYXNlZCBvbiBjYW1lcmEgcG9zaXRpb25cclxuICAgICAqL1xyXG4gICAgZ2V0UmVhbExvY2F0aW9uKCk6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGBtb3VzZSBSRUFMIGxvY2F0aW9uOiAke0pTT04uc3RyaW5naWZ5KHdvcmxkKX1gKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5zY2VuZS5pbnB1dC5hY3RpdmVQb2ludGVyLnBvc2l0aW9uVG9DYW1lcmEodGhpcy5zY2VuZS5jYW1lcmFzLm1haW4pIGFzIFBoYXNlci5NYXRoLlZlY3RvcjI7XHJcbiAgICB9XHJcblxyXG4gICAgb25XaGVlbFVwPFQgZXh0ZW5kcyBNb3VzZVdoZWVsU2Nyb2xsPihmdW5jOiBUKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5pbnB1dC5vbihQaGFzZXIuSW5wdXQuRXZlbnRzLlBPSU5URVJfV0hFRUwsIChwb2ludGVyLCBjdXJyZW50bHlPdmVyLCBkeCwgZHksIGR6LCBldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZHkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBmdW5jKGR5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG9uV2hlZWxEb3duPFQgZXh0ZW5kcyBNb3VzZVdoZWVsU2Nyb2xsPihmdW5jOiBUKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5pbnB1dC5vbihQaGFzZXIuSW5wdXQuRXZlbnRzLlBPSU5URVJfV0hFRUwsIChwb2ludGVyLCBjdXJyZW50bHlPdmVyLCBkeCwgZHksIGR6LCBldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZHkgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICBmdW5jKC1keSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEdsb2JhbHMgfSBmcm9tIFwiLi4vdXRpbGl0aWVzL2dsb2JhbHNcIjtcclxuaW1wb3J0IHsgU2hpcFBvZCB9IGZyb20gXCIuLi9zaGlwcy9zaGlwLXBvZFwiO1xyXG5pbXBvcnQgeyBTaGlwQXR0YWNobWVudCB9IGZyb20gXCIuLi9zaGlwcy9hdHRhY2htZW50cy9zaGlwLWF0dGFjaG1lbnRcIjtcclxuaW1wb3J0IHsgQXR0YWNobWVudExvY2F0aW9uIH0gZnJvbSBcIi4uL3NoaXBzL2F0dGFjaG1lbnRzL2F0dGFjaG1lbnQtbG9jYXRpb25cIjtcclxuXHJcbmNvbnN0IHNjZW5lQ29uZmlnOiBQaGFzZXIuVHlwZXMuU2NlbmVzLlNldHRpbmdzQ29uZmlnID0ge1xyXG4gICAgYWN0aXZlOiB0cnVlLFxyXG4gICAgdmlzaWJsZTogdHJ1ZSxcclxuICAgIGtleTogJ092ZXJsYXlTY2VuZSdcclxufTtcclxuXHJcbmV4cG9ydCBjbGFzcyBPdmVybGF5U2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgcHJpdmF0ZSBzaGlwRGVidWc6IFBoYXNlci5HYW1lT2JqZWN0cy5UZXh0O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKHNjZW5lQ29uZmlnKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcHJlbG9hZCgpOiB2b2lkIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNyZWF0ZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnNoaXBEZWJ1ZyA9IHRoaXMuYWRkLnRleHQoMTAsIDEwLCAnJywgeyBmb250OiAnMTZweCBDb3VyaWVyJywgZmlsbDogJyNmZmRkZGQnIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKEdsb2JhbHMuZGVidWcpIHtcclxuICAgICAgICAgICAgdGhpcy5kaXNwbGF5RGVidWdJbmZvKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZGlzcGxheURlYnVnSW5mbygpOiB2b2lkIHtcclxuICAgICAgICBpZiAoR2xvYmFscy5wbGF5ZXIpIHtcclxuICAgICAgICAgICAgbGV0IHA6IFNoaXBQb2QgPSBHbG9iYWxzLnBsYXllcjtcclxuICAgICAgICAgICAgbGV0IGxvYzogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHAuZ2V0UmVhbExvY2F0aW9uKCk7XHJcbiAgICAgICAgICAgIGxldCB2OiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gcC5nZXRWZWxvY2l0eSgpO1xyXG4gICAgICAgICAgICBsZXQgaW5mbzogc3RyaW5nW10gPSBbXHJcbiAgICAgICAgICAgICAgICBgU3BlZWQ6ICR7cC5nZXRTcGVlZCgpLnRvRml4ZWQoMSl9YCxcclxuICAgICAgICAgICAgICAgIGBJbnRlZ3JpdHk6ICR7cC5nZXRJbnRlZ3JpdHkoKS50b0ZpeGVkKDEpfWAsXHJcbiAgICAgICAgICAgICAgICBgSGVhdDogJHtwLmdldFRlbXBlcmF0dXJlKCkudG9GaXhlZCgxKX1gLFxyXG4gICAgICAgICAgICAgICAgYEZ1ZWw6ICR7cC5nZXRSZW1haW5pbmdGdWVsKCkudG9GaXhlZCgxKX1gLFxyXG4gICAgICAgICAgICAgICAgYExvY2F0aW9uOiAke2xvYy54LnRvRml4ZWQoMSl9LCR7bG9jLnkudG9GaXhlZCgxKX1gLFxyXG4gICAgICAgICAgICAgICAgYEFuZ2xlOiAke3AuZ2V0Um90YXRpb24oKS50b0ZpeGVkKDEpfWAsXHJcbiAgICAgICAgICAgICAgICBgVmVsb2NpdHk6ICR7di54LnRvRml4ZWQoMSl9LCR7di55LnRvRml4ZWQoMSl9YFxyXG4gICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICBsZXQgYXR0YWNobWVudHM6IFNoaXBBdHRhY2htZW50W10gPSBwLmF0dGFjaG1lbnRzLmdldEF0dGFjaG1lbnRzKCk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGk9MDsgaTxhdHRhY2htZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGF0dGFjaG1lbnRzW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5mby5wdXNoKGBBdHRhY2htZW50TG9jYXRpb24uJHtBdHRhY2htZW50TG9jYXRpb25baV19IC0gJHtpfWApO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBhdHRMb2M6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSBhdHRhY2htZW50c1tpXS5nZXRSZWFsTG9jYXRpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICBpbmZvLnB1c2goYC0tIExvY2F0aW9uOiAke2F0dExvYy54LnRvRml4ZWQoMSl9LCR7YXR0TG9jLnkudG9GaXhlZCgxKX1gKTtcclxuICAgICAgICAgICAgICAgICAgICBpbmZvLnB1c2goYC0tIEFuZ2xlOiAke2F0dGFjaG1lbnRzW2ldLmdldFJvdGF0aW9uKCkudG9GaXhlZCgxKX1gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnNoaXBEZWJ1Zy5zZXRUZXh0KGluZm8pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImNvbnN0IHNjZW5lQ29uZmlnOiBQaGFzZXIuVHlwZXMuU2NlbmVzLlNldHRpbmdzQ29uZmlnID0ge1xyXG4gICAgYWN0aXZlOiB0cnVlLFxyXG4gICAgdmlzaWJsZTogdHJ1ZSxcclxuICAgIGtleTogJ0ZhclN0YXJzJ1xyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIEZhclN0YXJzU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoc2NlbmVDb25maWcpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwcmVsb2FkKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZmFyLXN0YXJzJywgJy4vYXNzZXRzL2JhY2tncm91bmRzL3N0YXJmaWVsZC10aWxlLTUxMng1MTIucG5nJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNyZWF0ZSgpOiB2b2lkIHtcclxuICAgICAgICBsZXQgeE9mZnNldDogbnVtYmVyID0gTWF0aC5jZWlsKHRoaXMuZ2FtZS5jYW52YXMud2lkdGggLyAyKTtcclxuICAgICAgICBsZXQgeU9mZnNldDogbnVtYmVyID0gTWF0aC5jZWlsKHRoaXMuZ2FtZS5jYW52YXMuaGVpZ2h0IC8gMik7XHJcbiAgICAgICAgdGhpcy5hZGQudGlsZVNwcml0ZSh4T2Zmc2V0LCB5T2Zmc2V0LCB0aGlzLmdhbWUuY2FudmFzLndpZHRoICsgMTAsIHRoaXMuZ2FtZS5jYW52YXMuaGVpZ2h0ICsgMTAsICdmYXItc3RhcnMnKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgWm9vbWFibGVTY2VuZSB9IGZyb20gXCIuL3pvb21hYmxlLXNjZW5lXCI7XHJcbmltcG9ydCB7IEdsb2JhbHMgfSBmcm9tIFwiLi4vdXRpbGl0aWVzL2dsb2JhbHNcIjtcclxuXHJcbmNvbnN0IHNjZW5lQ29uZmlnOiBQaGFzZXIuVHlwZXMuU2NlbmVzLlNldHRpbmdzQ29uZmlnID0ge1xyXG4gICAgYWN0aXZlOiB0cnVlLFxyXG4gICAgdmlzaWJsZTogdHJ1ZSxcclxuICAgIGtleTogJ1N5c3RlbVNjZW5lJ1xyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIFN5c3RlbVNjZW5lIGV4dGVuZHMgWm9vbWFibGVTY2VuZSB7XHJcbiAgICBzdW46IFBoYXNlci5HYW1lT2JqZWN0cy5TcHJpdGU7XHJcbiAgICBzdGFydFBvc2l0aW9uOiBQaGFzZXIuTWF0aC5WZWN0b3IyO1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigwLjA1LCBzY2VuZUNvbmZpZyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHB1YmxpYyBwcmVsb2FkKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnc3VuJywgJy4vYXNzZXRzL2JhY2tncm91bmRzL3N1bi5wbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLmNyZWF0ZSgpO1xyXG4gICAgICAgIHRoaXMuc3RhcnRQb3NpdGlvbiA9IG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKFxyXG4gICAgICAgICAgICBQaGFzZXIuTWF0aC5STkQuYmV0d2VlbigwLCB0aGlzLmdhbWUuY2FudmFzLndpZHRoKSxcclxuICAgICAgICAgICAgUGhhc2VyLk1hdGguUk5ELmJldHdlZW4oMCwgdGhpcy5nYW1lLmNhbnZhcy5oZWlnaHQpXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLnN1biA9IHRoaXMuYWRkLnNwcml0ZSh0aGlzLnN0YXJ0UG9zaXRpb24ueCwgdGhpcy5zdGFydFBvc2l0aW9uLnksICdzdW4nKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHVibGljIHVwZGF0ZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnN1bi5hbmdsZSArPSAwLjAxO1xyXG4gICAgICAgIGlmICh0aGlzLnN1bi5hbmdsZSA+PSAzNjApIHtcclxuICAgICAgICAgICAgdGhpcy5zdW4uYW5nbGUgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoR2xvYmFscy5wbGF5ZXIpIHtcclxuICAgICAgICAgICAgLy8gbW92ZSB0aGUgc3VuIGluIHRoZSBvcHBvc2l0ZSBkaXJlY3Rpb24gb2YgdHJhdmVsIGF0IGEgcmF0ZSBvZiAxOjUwMFxyXG4gICAgICAgICAgICBsZXQgbG9jOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gR2xvYmFscy5wbGF5ZXIuZ2V0UmVhbExvY2F0aW9uKCk7XHJcbiAgICAgICAgICAgIGxvYy5kaXZpZGUobmV3IFBoYXNlci5NYXRoLlZlY3RvcjIoNTAwLCA1MDApKTtcclxuICAgICAgICAgICAgbG9jLm5lZ2F0ZSgpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zdW4ueCA9IHRoaXMuc3RhcnRQb3NpdGlvbi54ICsgbG9jLng7XHJcbiAgICAgICAgICAgIHRoaXMuc3VuLnkgPSB0aGlzLnN0YXJ0UG9zaXRpb24ueSArIGxvYy55O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJzb3VyY2VSb290IjoiIn0=