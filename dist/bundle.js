!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("phaser")):"function"==typeof define&&define.amd?define(["phaser"],e):"object"==typeof exports?exports.bundle=e(require("phaser")):t.bundle=e(t.phaser)}(window,(function(t){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=7)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.interactables=[]}(e.Globals||(e.Globals={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.enumLength=function(t){var e=0;for(var n in t)isNaN(Number(n))&&e++;return e},t.now=function(){return(new Date).getTime()},t.getHeading=function(t){if(t){var e=Math.cos(Phaser.Math.DegToRad(t.rotation)),n=Math.sin(Phaser.Math.DegToRad(t.rotation));return new Phaser.Math.Vector2(e,n).normalize().negate()}return Phaser.Math.Vector2.ZERO},t.getHeadingFromRotation=function(t){var e=Math.cos(Phaser.Math.DegToRad(t)),n=Math.sin(Phaser.Math.DegToRad(t));return new Phaser.Math.Vector2(e,n).normalize().negate()},t.offsetWithHeading=function(e,n){var i=t.getHeading(e);i.multiply(n),e.position.add(i)}}(e.Helpers||(e.Helpers={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.MAX_INTEGRITY=100,t.MAX_FUEL=100,t.MAX_SAFE_TEMPERATURE=100,t.MAX_TEMPERATURE=200,t.MAX_VELOCITY=500,t.OVERHEAT_CHECK_INTERVAL=100,t.COOLING_RATE=.3,t.THRUSTER_FORCE=1,t.FUEL_PER_THRUST=.001,t.HEAT_PER_THRUST=.1,t.BOOSTER_FORCE=300,t.FUEL_PER_BOOST=1,t.HEAT_PER_BOOST=25,t.BOOSTER_COOLDOWN_TIME=1e3,t.THROW_FORCE=100,function(t){t[t.blue=0]="blue",t[t.green=1]="green",t[t.red=2]="red",t[t.white=3]="white",t[t.yellow=4]="yellow"}(t.Flare||(t.Flare={}))}(e.Constants||(e.Constants={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.front=0]="front",t[t.frontRight=1]="frontRight",t[t.right=2]="right",t[t.backRight=3]="backRight",t[t.backLeft=4]="backLeft",t[t.left=5]="left",t[t.frontLeft=6]="frontLeft"}(e.AttachmentLocation||(e.AttachmentLocation={}))},function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var i=new Uint8Array(16);t.exports=function(){return n(i),i}}else{var o=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}},function(t,e){for(var n=[],i=0;i<256;++i)n[i]=(i+256).toString(16).substr(1);t.exports=function(t,e){var i=e||0,o=n;return[o[t[i++]],o[t[i++]],o[t[i++]],o[t[i++]],"-",o[t[i++]],o[t[i++]],"-",o[t[i++]],o[t[i++]],"-",o[t[i++]],o[t[i++]],"-",o[t[i++]],o[t[i++]],o[t[i++]],o[t[i++]],o[t[i++]],o[t[i++]]].join("")}},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(20),s=function(t){function e(e,n){var i=t.call(this,n)||this;return i.increment=e,i.minZoom=1-2*e,i.maxZoom=1,i}return o(e,t),e.prototype.create=function(){var t=this;this.mouse=new a.Mouse(this),this.mouse.onWheelUp((function(e){var n=t.cameras.main.zoom-t.increment;n<t.minZoom&&(n=t.minZoom),t.cameras.main.zoomTo(n)})),this.mouse.onWheelDown((function(e){var n=t.cameras.main.zoom+t.increment;n>t.maxZoom&&(n=t.maxZoom),t.cameras.main.zoomTo(n)}))},e}(Phaser.Scene);e.ZoomableScene=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(8),o=n(0),a=n(21),s=n(22),r=n(23),c={type:Phaser.AUTO,scale:{width:window.innerWidth,height:window.innerHeight},backgroundColor:"#000000",parent:"space-sim",physics:{default:"arcade",arcade:{gravity:{x:0,y:0}}},scene:[s.FarStarsScene,r.SystemScene,i.ShipScene,a.OverlayScene]};e.game=new Phaser.Game(c),window.addEventListener("resize",(function(){e.game.scale.refresh()})),o.Globals.game=e.game},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(9),s=n(0),r=n(17),c=n(6),h=n(3),u={active:!0,visible:!0,key:"ShipScene"},p=function(t){function e(){return t.call(this,.4,u)||this}return o(e,t),e.prototype.preload=function(){this.load.image("ship-pod","./assets/sprites/ship-pod.png"),this.load.image("cannon","./assets/sprites/cannon.png"),this.load.spritesheet("flares","./assets/particles/flares.png",{frameWidth:130,frameHeight:132,startFrame:0,endFrame:4}),this.load.image("explosion","./assets/particles/explosion.png"),this.load.image("bullet","./assets/sprites/bullet.png")},e.prototype.create=function(){t.prototype.create.call(this),this.player=new a.ShipPod(this,{x:0,y:0}),s.Globals.player=this.player,this.player.setTarget(this.mouse);var e=new r.CannonAttachment(this);this.player.attachments.addAttachment(e),this.setupCamera(this.player),this.setupInputHandling()},e.prototype.update=function(){var t;(this.thrustKey.isDown&&this.player.thruster.thrustFowards(),this.boostKey.isDown&&this.player.thruster.boostForwards(),this.input.activePointer.leftButtonDown())&&((t=this.player.attachments.getAttachment(h.AttachmentLocation.front))&&t.trigger());this.input.activePointer.rightButtonDown()&&((t=this.player.attachments.getAttachment(h.AttachmentLocation.front))&&this.player.attachments.throwAttachment(h.AttachmentLocation.front));this.rotateAttachmentsClockwiseKey.isDown&&this.player.attachments.rotateAttachmentsClockwise(),this.rotateAttachmentsAntiClockwiseKey.isDown&&this.player.attachments.rotateAttachmentsAntiClockwise(),this.detachAttachmentKey.isDown&&this.player.attachments.removeAttachment(h.AttachmentLocation.front),this.player.update()},e.prototype.setupInputHandling=function(){this.thrustKey=this.input.keyboard.addKey("SPACE",!0,!0),this.boostKey=this.input.keyboard.addKey("TAB",!0,!1),this.rotateAttachmentsClockwiseKey=this.input.keyboard.addKey("E",!0,!1),this.rotateAttachmentsAntiClockwiseKey=this.input.keyboard.addKey("Q",!0,!1),this.detachAttachmentKey=this.input.keyboard.addKey("X",!0,!1),this.game.canvas.oncontextmenu=function(t){t.preventDefault()}},e.prototype.setupCamera=function(t){this.cameras.main.backgroundColor.setFromRGB({r:0,g:0,b:0}),this.cameras.main.setZoom(1),this.cameras.main.centerOn(0,0);var e=this.cameras.main.width,n=this.cameras.main.height,i=Math.floor(e/2),o=Math.floor(n/2),a=Math.floor(i/2),s=Math.floor(o/2);this.cameras.main.startFollow(t.getGameObject(),!0),this.cameras.main.deadzone=new Phaser.Geom.Rectangle(a,s,i,o)},e}(c.ZoomableScene);e.ShipScene=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(10);var i=n(11),o=n(2),a=n(1),s=n(15),r=n(16),c=function(){function t(t,e){this.remainingFuel=100,this.temperature=0,this.active=!0,this.lastOverheatCheck=0,e||(e={x:0,y:0}),this.id=i.RNG.guid(),this.scene=t,this.gameObj=t.add.container(e.x,e.y),this.scene.physics.add.existing(this.gameObj),this.getPhysicsBody().bounce.setTo(.7,.7),this.getPhysicsBody().setMaxVelocity(o.Constants.MAX_VELOCITY,o.Constants.MAX_VELOCITY),this.flareParticles=t.add.particles("flares"),this.explosionParticles=t.add.particles("explosion");var n=t.add.sprite(0,0,"ship-pod");this.getGameObject().add(n),this.integrity=o.Constants.MAX_INTEGRITY,this.thruster=new r.Thruster(this,this.scene),this.attachments=new s.AttachmentManager(this)}return t.prototype.update=function(){this.active&&(this.lookAtTarget(),this.checkOverheatCondition(),this.attachments.update())},t.prototype.checkOverheatCondition=function(){if(this.active&&this.scene.game.getTime()>this.lastOverheatCheck+o.Constants.OVERHEAT_CHECK_INTERVAL){if(this.temperature>o.Constants.MAX_TEMPERATURE&&this.destroy(),this.temperature>o.Constants.MAX_SAFE_TEMPERATURE){var t=(this.temperature-o.Constants.MAX_SAFE_TEMPERATURE)/o.Constants.MAX_SAFE_TEMPERATURE;this.sustainDamage(t)}this.applyCooling(o.Constants.COOLING_RATE),this.lastOverheatCheck=this.scene.game.getTime()}},t.prototype.getRealLocation=function(){return this.getGameObject()?new Phaser.Math.Vector2(this.gameObj.x,this.gameObj.y):Phaser.Math.Vector2.ZERO},t.prototype.getLocation=function(){if(this.getGameObject()){var t=this.scene.cameras.main.getWorldPoint(0,0);return new Phaser.Math.Vector2(this.gameObj.x-t.x,this.gameObj.y-t.y)}return Phaser.Math.Vector2.ZERO},t.prototype.getId=function(){return this.id},t.prototype.getGameObject=function(){return this.gameObj},t.prototype.getPhysicsBody=function(){return this.getGameObject()?this.getGameObject().body:null},t.prototype.setTarget=function(t){this.target=t},t.prototype.getTarget=function(){return this.target},t.prototype.lookAtTarget=function(){if(this.getPhysicsBody()&&this.getTarget()){var t=this.getTarget().getRealLocation(),e=this.getRealLocation(),n=Phaser.Math.Angle.Between(t.x,t.y,e.x,e.y),i=Phaser.Math.RadToDeg(n);this.getPhysicsBody().rotation=i}},t.prototype.getRotation=function(){return this.getPhysicsBody()?this.getPhysicsBody().rotation:0},t.prototype.getHeading=function(){return a.Helpers.getHeading(this.getPhysicsBody())},t.prototype.getSpeed=function(){return this.getVelocity().length()},t.prototype.getVelocity=function(){return this.getPhysicsBody()?this.getPhysicsBody().velocity.clone():Phaser.Math.Vector2.ZERO},t.prototype.getTemperature=function(){return this.temperature},t.prototype.applyHeating=function(t){this.temperature+=t},t.prototype.applyCooling=function(t){this.temperature-=t,this.temperature<0&&(this.temperature=0)},t.prototype.reduceFuel=function(t){this.remainingFuel-=t,this.remainingFuel<0&&(this.remainingFuel=0)},t.prototype.addFuel=function(t){this.remainingFuel+=t,this.remainingFuel>o.Constants.MAX_FUEL&&(this.remainingFuel=o.Constants.MAX_FUEL)},t.prototype.getRemainingFuel=function(){return this.remainingFuel},t.prototype.getIntegrity=function(){return this.integrity},t.prototype.sustainDamage=function(t){this.integrity-=t,this.integrity<=0&&(this.integrity=0,this.destroy())},t.prototype.repair=function(t){this.integrity=t,this.integrity>o.Constants.MAX_INTEGRITY&&(this.integrity=o.Constants.MAX_INTEGRITY)},t.prototype.destroy=function(){this.active=!1,this.displayShipExplosion(),this.getGameObject().destroy(),this.gameObj=null},t.prototype.displayShipExplosion=function(){var t=this.getRealLocation();this.explosionParticles.createEmitter({x:t.x,y:t.y,lifespan:{min:500,max:1e3},speedX:{min:-1,max:1},speedY:{min:-1,max:1},angle:{min:-180,max:179},gravityX:0,gravityY:0,scale:{start:1,end:0},blendMode:"ADD",maxParticles:3}),this.flareParticles.createEmitter({frame:o.Constants.Flare.red,x:t.x,y:t.y,lifespan:{min:100,max:500},speedX:{min:-600,max:600},speedY:{min:-600,max:600},angle:{min:-180,max:179},gravityX:0,gravityY:0,scale:{start:1,end:0},blendMode:"ADD",maxParticles:10})},t}();e.ShipPod=c},function(e,n){e.exports=t},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(12);!function(t){t.int=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},t.guid=function(){return i.v4()}}(e.RNG||(e.RNG={}))},function(t,e,n){var i=n(13),o=n(14),a=o;a.v1=i,a.v4=o,t.exports=a},function(t,e,n){var i,o,a=n(4),s=n(5),r=0,c=0;t.exports=function(t,e,n){var h=e&&n||0,u=e||[],p=(t=t||{}).node||i,l=void 0!==t.clockseq?t.clockseq:o;if(null==p||null==l){var y=a();null==p&&(p=i=[1|y[0],y[1],y[2],y[3],y[4],y[5]]),null==l&&(l=o=16383&(y[6]<<8|y[7]))}var m=void 0!==t.msecs?t.msecs:(new Date).getTime(),f=void 0!==t.nsecs?t.nsecs:c+1,g=m-r+(f-c)/1e4;if(g<0&&void 0===t.clockseq&&(l=l+1&16383),(g<0||m>r)&&void 0===t.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");r=m,c=f,o=l;var d=(1e4*(268435455&(m+=122192928e5))+f)%4294967296;u[h++]=d>>>24&255,u[h++]=d>>>16&255,u[h++]=d>>>8&255,u[h++]=255&d;var v=m/4294967296*1e4&268435455;u[h++]=v>>>8&255,u[h++]=255&v,u[h++]=v>>>24&15|16,u[h++]=v>>>16&255,u[h++]=l>>>8|128,u[h++]=255&l;for(var b=0;b<6;++b)u[h+b]=p[b];return e||s(u)}},function(t,e,n){var i=n(4),o=n(5);t.exports=function(t,e,n){var a=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var s=(t=t||{}).random||(t.rng||i)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e)for(var r=0;r<16;++r)e[a+r]=s[r];return e||o(s)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n(3),a=function(){function t(t){this.attachments=[],this.active=!0,this.ship=t;for(var e=0;e<i.Helpers.enumLength(o.AttachmentLocation);e++)this.attachments.push(null)}return t.prototype.update=function(){if(this.active)for(var t=0;t<this.attachments.length;t++){var e=this.attachments[t];e&&e.update()}},t.prototype.rotateAttachmentsClockwise=function(){var t=this.attachments.pop();this.attachments.unshift(t),this.updateAttachmentPositions()},t.prototype.rotateAttachmentsAntiClockwise=function(){var t=this.attachments.shift();this.attachments.push(t),this.updateAttachmentPositions()},t.prototype.addAttachment=function(t){for(var e=!1,n=0;n<i.Helpers.enumLength(o.AttachmentLocation);n++)if(!this.attachments[n]){var a=void 0;switch(n){case o.AttachmentLocation.front:a=o.AttachmentLocation.front;break;case o.AttachmentLocation.frontRight:a=o.AttachmentLocation.frontRight;break;case o.AttachmentLocation.right:a=o.AttachmentLocation.right;break;case o.AttachmentLocation.backRight:a=o.AttachmentLocation.backRight;break;case o.AttachmentLocation.backLeft:a=o.AttachmentLocation.backLeft;break;case o.AttachmentLocation.left:a=o.AttachmentLocation.left;break;case o.AttachmentLocation.frontLeft:a=o.AttachmentLocation.frontLeft}this.attachments[n]=t,t.attach(this.ship,a),e=!0}e||(this.attachments[o.AttachmentLocation.front].detach(),this.attachments[o.AttachmentLocation.front]=t,t.attach(this.ship,o.AttachmentLocation.front)),this.ship.getGameObject().add(t.getGameObject())},t.prototype.removeAttachment=function(t){if(this.attachments[t]){var e=this.attachments[t].getPhysicsBody(),n=this.attachments[t].getGameObject();this.ship.getGameObject().remove(n,!1),this.attachments[t].detach(),this.attachments[t]=null,e.position=this.ship.getRealLocation();var i=this.ship.getPhysicsBody().velocity;e.setVelocity(i.x,i.y),e.rotation=this.ship.getRotation()}},t.prototype.throwAttachment=function(t){var e=this.getAttachment(t);if(e)for(var n=0;n<this.attachments.length;n++)if(this.attachments[n]&&this.attachments[n]==e){this.removeAttachment(n),e.throw();break}},t.prototype.getAttachments=function(){return this.attachments},t.prototype.getAttachment=function(t){return this.attachments[t]},t.prototype.updateAttachmentPositions=function(){for(var t=0;t<this.attachments.length;t++)if(this.attachments[t])switch(t){case o.AttachmentLocation.front:this.attachments[t].setAttachmentLocation(o.AttachmentLocation.front);break;case o.AttachmentLocation.frontRight:this.attachments[t].setAttachmentLocation(o.AttachmentLocation.frontRight);break;case o.AttachmentLocation.right:this.attachments[t].setAttachmentLocation(o.AttachmentLocation.right);break;case o.AttachmentLocation.backRight:this.attachments[t].setAttachmentLocation(o.AttachmentLocation.backRight);break;case o.AttachmentLocation.backLeft:this.attachments[t].setAttachmentLocation(o.AttachmentLocation.backLeft);break;case o.AttachmentLocation.left:this.attachments[t].setAttachmentLocation(o.AttachmentLocation.left);break;case o.AttachmentLocation.frontLeft:this.attachments[t].setAttachmentLocation(o.AttachmentLocation.frontLeft)}},t}();e.AttachmentManager=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=function(){function t(t,e){this.lastBoostTime=0,this.ship=t,this.scene=e,this.flareParticles=e.add.particles("flares")}return t.prototype.thrustFowards=function(){this.applyThrust(i.Constants.THRUSTER_FORCE,i.Constants.FUEL_PER_THRUST,i.Constants.HEAT_PER_THRUST),this.displayThrusterFire(i.Constants.Flare.yellow,.2,1)},t.prototype.boostForwards=function(){this.scene.game.getTime()>=this.lastBoostTime+i.Constants.BOOSTER_COOLDOWN_TIME&&(this.applyThrust(i.Constants.BOOSTER_FORCE,i.Constants.FUEL_PER_BOOST,i.Constants.HEAT_PER_BOOST),this.displayThrusterFire(i.Constants.Flare.blue,1,10),this.lastBoostTime=this.scene.game.getTime())},t.prototype.strafeLeft=function(){throw new Error("Method not implemented.")},t.prototype.strafeRight=function(){throw new Error("Method not implemented.")},t.prototype.thrustBackwards=function(){throw new Error("Method not implemented.")},t.prototype.applyThrust=function(t,e,n){if(this.ship.getRemainingFuel()>0){var i=this.ship.getHeading().multiply(new Phaser.Math.Vector2(t,t));this.ship.getPhysicsBody().velocity.add(i),this.ship.reduceFuel(e),this.ship.applyHeating(n)}},t.prototype.displayThrusterFire=function(t,e,n){var i=this.ship.getRealLocation(),o=new Phaser.Math.Vector2(20,0).add(i),a=this.ship.getHeading().negate(),s=Phaser.Math.RotateAround(o,i.x,i.y,Phaser.Math.DegToRad(this.ship.getRotation()));this.ship.getVelocity();this.flareParticles.createEmitter({frame:t,x:s.x,y:s.y,lifespan:{min:250,max:500},speedX:{min:100*a.x,max:500*a.x},speedY:{min:100*a.y,max:500*a.y},angle:0,gravityX:0,gravityY:0,scale:{start:e,end:0},quantity:n,blendMode:"ADD",maxParticles:10})},t}();e.Thruster=o},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(18),s=n(19),r=function(t){function e(e){var n=t.call(this,e)||this;return n.maxAmmo=500,n.remainingAmmo=n.maxAmmo,n.lastFired=0,n.firingDelay=1e3,n.gameObj=n.scene.add.sprite(0,0,"cannon"),n.scene.physics.add.existing(n.gameObj),n}return o(e,t),e.prototype.reload=function(t){this.remainingAmmo+=t,this.remainingAmmo>this.maxAmmo&&(this.remainingAmmo=this.maxAmmo)},e.prototype.getRemainingAmmo=function(){return this.remainingAmmo},e.prototype.update=function(){},e.prototype.trigger=function(){this.active&&this.fire()},e.prototype.fire=function(t){if(this.active&&this.getRemainingAmmo()>0&&this.scene.game.getTime()>this.lastFired+this.firingDelay){var e=this.getRealLocation();new s.Bullet(this.scene,{x:e.x,y:e.y,force:3e3,angle:this.getRotation()}),this.lastFired=this.scene.game.getTime()}},e}(a.ShipAttachment);e.CannonAttachment=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(3),a=n(1),s=function(){function t(t){this.scene=t,this.active=!0,this.integrity=i.Constants.MAX_INTEGRITY,this.isThrown=!1}return t.prototype.attach=function(t,e){e||(e=o.AttachmentLocation.front),this.ship=t,this.setAttachmentLocation(e);var n=this.ship.getRealLocation();this.getPhysicsBody().position=n,this.getPhysicsBody().rotation=this.ship.getRotation()},t.prototype.detach=function(){this.ship=null,this.attachmentLocation=null;var t=this.getGameObject();t.setActive(!0),this.scene.add.existing(t)},t.prototype.throw=function(){this.isThrown=!0;var t=this.getHeading();t.multiply(new Phaser.Math.Vector2(i.Constants.THROW_FORCE,i.Constants.THROW_FORCE)),this.ship&&t.add(this.ship.getPhysicsBody().velocity),this.getPhysicsBody().velocity.add(t)},t.prototype.getGameObject=function(){return this.gameObj},t.prototype.getPhysicsBody=function(){return this.getGameObject()?this.getGameObject().body:null},t.prototype.getRotation=function(){var t=this.getPhysicsBody().rotation;return this.ship&&(t+=this.ship.getRotation()),t},t.prototype.getHeading=function(){var t=this.getRotation();return a.Helpers.getHeadingFromRotation(t)},t.prototype.getSpeed=function(){var t=this.getVelocity().length();return this.ship&&(t+=this.ship.getSpeed()),t},t.prototype.getVelocity=function(){if(this.getPhysicsBody()){var t=this.getPhysicsBody().velocity.clone();return this.ship&&t.add(this.ship.getVelocity()),t}return Phaser.Math.Vector2.ZERO},t.prototype.getLocation=function(){var t=this.scene.cameras.main.getWorldPoint(0,0),e=this.getRealLocation();return new Phaser.Math.Vector2(e.x-t.x,e.y-t.y)},t.prototype.getRealLocation=function(){var t=this.getPhysicsBody(),e=new Phaser.Math.Vector2(t.x,t.y);return this.ship&&e.add(this.ship.getRealLocation()),e},t.prototype.getIntegrity=function(){return this.integrity},t.prototype.sustainDamage=function(t){this.integrity-=t,this.integrity<=0&&(this.integrity=0,this.active=!1)},t.prototype.repair=function(t){this.integrity=t,this.integrity>i.Constants.MAX_INTEGRITY&&(this.integrity=i.Constants.MAX_INTEGRITY)},t.prototype.destroy=function(){this.active=!1,this.ship.attachments.removeAttachment(this.attachmentLocation),this.getGameObject().destroy()},t.prototype.setAttachmentLocation=function(t){this.attachmentLocation=t},t}();e.ShipAttachment=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(1),a=function(){function t(t,e){this.active=!0,this.scene=t,this.force=e.force||0,this.gameObj=this.scene.add.sprite(e.x||0,e.y||0,"bullet"),this.scene.physics.add.existing(this.gameObj),this.getPhysicsBody().rotation=e.angle||0,this.addCollisionDetection(),this.setInMotion()}return t.prototype.addCollisionDetection=function(){for(var t=0;t<i.Globals.interactables.length;t++)this.scene.physics.add.collider(this.gameObj,i.Globals.interactables[t],this.onImpact)},t.prototype.onImpact=function(t,e){},t.prototype.getGameObject=function(){return this.gameObj},t.prototype.getPhysicsBody=function(){if(this.getGameObject())return this.getGameObject().body},t.prototype.getRotation=function(){return this.getPhysicsBody().rotation},t.prototype.getHeading=function(){return o.Helpers.getHeading(this.getPhysicsBody())},t.prototype.getSpeed=function(){return this.getVelocity().length()},t.prototype.getVelocity=function(){return this.getPhysicsBody()?this.getPhysicsBody().velocity.clone():Phaser.Math.Vector2.ZERO},t.prototype.getLocation=function(){var t=this.scene.cameras.main.getWorldPoint(0,0),e=this.getPhysicsBody();return new Phaser.Math.Vector2(e.x-t.x,e.y-t.y)},t.prototype.getRealLocation=function(){return new Phaser.Math.Vector2(this.gameObj.x,this.gameObj.y)},t.prototype.setInMotion=function(){var t=this.getHeading().multiply(new Phaser.Math.Vector2(this.force,this.force));this.getPhysicsBody().velocity.add(t)},t}();e.Bullet=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.scene=t,this.scene.input.mouse.capture=!0}return t.prototype.getAngle=function(){return this.scene.input.activePointer.getAngle()},t.prototype.getRotation=function(){return this.getAngle()*(Math.PI/180)},t.prototype.getHeading=function(){var t=this.getAngle(),e=Math.cos(t),n=Math.sin(t);return new Phaser.Math.Vector2(e,n).normalize().negate()},t.prototype.getSpeed=function(){return this.getVelocity().length()},t.prototype.getVelocity=function(){return this.scene.input.activePointer.velocity.clone()},t.prototype.getLocation=function(){return this.scene.input.activePointer.position.clone()},t.prototype.getRealLocation=function(){return this.scene.input.activePointer.positionToCamera(this.scene.cameras.main)},t.prototype.onWheelUp=function(t){this.scene.input.on(Phaser.Input.Events.POINTER_WHEEL,(function(e,n,i,o,a,s){o>0&&t(o)}))},t.prototype.onWheelDown=function(t){this.scene.input.on(Phaser.Input.Events.POINTER_WHEEL,(function(e,n,i,o,a,s){o<0&&t(-o)}))},t}();e.Mouse=i},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),s={active:!0,visible:!0,key:"OverlayScene"},r=function(t){function e(){return t.call(this,s)||this}return o(e,t),e.prototype.preload=function(){},e.prototype.create=function(){this.debug=this.add.text(10,10,"",{font:"16px Courier",fill:"#ffdddd"})},e.prototype.update=function(){if(a.Globals.player){var t=a.Globals.player,e=t.getRealLocation();this.debug.setText(["Speed: "+t.getSpeed().toFixed(1),"Integrity: "+t.getIntegrity().toFixed(1),"Heat: "+t.getTemperature().toFixed(1),"Fuel: "+t.getRemainingFuel().toFixed(1),"Location: "+e.x.toFixed(1)+","+e.y.toFixed(1),"Angle: "+t.getRotation().toFixed(1)])}},e}(Phaser.Scene);e.OverlayScene=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a={active:!0,visible:!0,key:"FarStars"},s=function(t){function e(){return t.call(this,a)||this}return o(e,t),e.prototype.preload=function(){this.load.image("far-stars","./assets/backgrounds/starfield-tile-512x512.png")},e.prototype.create=function(){var t=Math.ceil(this.game.canvas.width/2),e=Math.ceil(this.game.canvas.height/2);this.add.tileSprite(t,e,this.game.canvas.width+10,this.game.canvas.height+10,"far-stars")},e.prototype.update=function(){},e}(Phaser.Scene);e.FarStarsScene=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(6),s=n(0),r={active:!0,visible:!0,key:"SystemScene"},c=function(t){function e(){return t.call(this,.05,r)||this}return o(e,t),e.prototype.preload=function(){this.load.image("sun","./assets/backgrounds/sun.png")},e.prototype.create=function(){t.prototype.create.call(this),this.startPosition=new Phaser.Math.Vector2(Phaser.Math.RND.between(0,this.game.canvas.width),Phaser.Math.RND.between(0,this.game.canvas.height)),this.sun=this.add.sprite(this.startPosition.x,this.startPosition.y,"sun")},e.prototype.update=function(){if(this.sun.angle+=.01,this.sun.angle>=360&&(this.sun.angle=0),s.Globals.player){var t=s.Globals.player.getRealLocation();t.divide(new Phaser.Math.Vector2(500,500)),t.negate(),this.sun.x=this.startPosition.x+t.x,this.sun.y=this.startPosition.y+t.y}},e}(a.ZoomableScene);e.SystemScene=c}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idW5kbGUvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL2J1bmRsZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvdXRpbGl0aWVzL2dsb2JhbHMudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3V0aWxpdGllcy9oZWxwZXJzLnRzIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy91dGlsaXRpZXMvY29uc3RhbnRzLnRzIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy9zaGlwcy9hdHRhY2htZW50cy9hdHRhY2htZW50LWxvY2F0aW9uLnRzIiwid2VicGFjazovL2J1bmRsZS8uL25vZGVfbW9kdWxlcy91dWlkL2xpYi9ybmctYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly9idW5kbGUvLi9ub2RlX21vZHVsZXMvdXVpZC9saWIvYnl0ZXNUb1V1aWQuanMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NjZW5lcy96b29tYWJsZS1zY2VuZS50cyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvZ2FtZS50cyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvc2NlbmVzL3NoaXAtc2NlbmUudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NoaXBzL3NoaXAtcG9kLnRzIiwid2VicGFjazovL2J1bmRsZS9leHRlcm5hbCBcInBoYXNlclwiIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy91dGlsaXRpZXMvcm5nLnRzIiwid2VicGFjazovL2J1bmRsZS8uL25vZGVfbW9kdWxlcy91dWlkL2luZGV4LmpzIiwid2VicGFjazovL2J1bmRsZS8uL25vZGVfbW9kdWxlcy91dWlkL3YxLmpzIiwid2VicGFjazovL2J1bmRsZS8uL25vZGVfbW9kdWxlcy91dWlkL3Y0LmpzIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy9zaGlwcy9hdHRhY2htZW50cy9hdHRhY2htZW50LW1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NoaXBzL2F0dGFjaG1lbnRzL3V0aWxpdHkvdGhydXN0ZXIudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NoaXBzL2F0dGFjaG1lbnRzL29mZmVuY2UvY2Fubm9uLWF0dGFjaG1lbnQudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NoaXBzL2F0dGFjaG1lbnRzL3NoaXAtYXR0YWNobWVudC50cyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvc2hpcHMvYXR0YWNobWVudHMvb2ZmZW5jZS9idWxsZXQudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3V0aWxpdGllcy9tb3VzZS50cyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvc2NlbmVzL292ZXJsYXktc2NlbmUudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NjZW5lcy9mYXItc3RhcnMtc2NlbmUudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NjZW5lcy9zeXN0ZW0tc2NlbmUudHMiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwicmVxdWlyZSIsImRlZmluZSIsImFtZCIsIndpbmRvdyIsIl9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzEwX18iLCJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiR2xvYmFscyIsImludGVyYWN0YWJsZXMiLCJIZWxwZXJzIiwiZW51bUxlbmd0aCIsImVudW1UeXBlIiwiY291bnQiLCJpdGVtIiwiaXNOYU4iLCJOdW1iZXIiLCJub3ciLCJEYXRlIiwiZ2V0VGltZSIsImdldEhlYWRpbmciLCJib2R5IiwieCIsIk1hdGgiLCJjb3MiLCJQaGFzZXIiLCJEZWdUb1JhZCIsInJvdGF0aW9uIiwieSIsInNpbiIsIlZlY3RvcjIiLCJub3JtYWxpemUiLCJuZWdhdGUiLCJaRVJPIiwiZ2V0SGVhZGluZ0Zyb21Sb3RhdGlvbiIsIm9mZnNldFdpdGhIZWFkaW5nIiwib2Zmc2V0IiwiaGVhZGluZyIsIm11bHRpcGx5IiwicG9zaXRpb24iLCJhZGQiLCJDb25zdGFudHMiLCJNQVhfSU5URUdSSVRZIiwiTUFYX0ZVRUwiLCJNQVhfU0FGRV9URU1QRVJBVFVSRSIsIk1BWF9URU1QRVJBVFVSRSIsIk1BWF9WRUxPQ0lUWSIsIk9WRVJIRUFUX0NIRUNLX0lOVEVSVkFMIiwiQ09PTElOR19SQVRFIiwiVEhSVVNURVJfRk9SQ0UiLCJGVUVMX1BFUl9USFJVU1QiLCJIRUFUX1BFUl9USFJVU1QiLCJCT09TVEVSX0ZPUkNFIiwiRlVFTF9QRVJfQk9PU1QiLCJIRUFUX1BFUl9CT09TVCIsIkJPT1NURVJfQ09PTERPV05fVElNRSIsIlRIUk9XX0ZPUkNFIiwiRmxhcmUiLCJBdHRhY2htZW50TG9jYXRpb24iLCJnZXRSYW5kb21WYWx1ZXMiLCJjcnlwdG8iLCJtc0NyeXB0byIsInJuZHM4IiwiVWludDhBcnJheSIsInJuZHMiLCJBcnJheSIsInJhbmRvbSIsImJ5dGVUb0hleCIsInRvU3RyaW5nIiwic3Vic3RyIiwiYnVmIiwiYnRoIiwiam9pbiIsImluY3JlbWVudCIsImNvbmZpZyIsIm1pblpvb20iLCJtYXhab29tIiwidGhpcyIsIm1vdXNlIiwiTW91c2UiLCJvbldoZWVsVXAiLCJzY3JvbGxBbW91bnQiLCJuZXdab29tIiwiY2FtZXJhcyIsIm1haW4iLCJ6b29tIiwiem9vbVRvIiwib25XaGVlbERvd24iLCJTY2VuZSIsIlpvb21hYmxlU2NlbmUiLCJnYW1lQ29uZmlnIiwidHlwZSIsIkFVVE8iLCJzY2FsZSIsIndpZHRoIiwiaW5uZXJXaWR0aCIsImhlaWdodCIsImlubmVySGVpZ2h0IiwiYmFja2dyb3VuZENvbG9yIiwicGFyZW50IiwicGh5c2ljcyIsImRlZmF1bHQiLCJhcmNhZGUiLCJncmF2aXR5Iiwic2NlbmUiLCJGYXJTdGFyc1NjZW5lIiwiU3lzdGVtU2NlbmUiLCJTaGlwU2NlbmUiLCJPdmVybGF5U2NlbmUiLCJnYW1lIiwiR2FtZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZWZyZXNoIiwic2NlbmVDb25maWciLCJhY3RpdmUiLCJ2aXNpYmxlIiwicHJlbG9hZCIsImxvYWQiLCJpbWFnZSIsInNwcml0ZXNoZWV0IiwiZnJhbWVXaWR0aCIsImZyYW1lSGVpZ2h0Iiwic3RhcnRGcmFtZSIsImVuZEZyYW1lIiwicGxheWVyIiwiU2hpcFBvZCIsInNldFRhcmdldCIsImNhbm9uIiwiQ2Fubm9uQXR0YWNobWVudCIsImF0dGFjaG1lbnRzIiwiYWRkQXR0YWNobWVudCIsInNldHVwQ2FtZXJhIiwic2V0dXBJbnB1dEhhbmRsaW5nIiwidXBkYXRlIiwiYSIsInRocnVzdEtleSIsImlzRG93biIsInRocnVzdGVyIiwidGhydXN0Rm93YXJkcyIsImJvb3N0S2V5IiwiYm9vc3RGb3J3YXJkcyIsImlucHV0IiwiYWN0aXZlUG9pbnRlciIsImxlZnRCdXR0b25Eb3duIiwiZ2V0QXR0YWNobWVudCIsImZyb250IiwidHJpZ2dlciIsInJpZ2h0QnV0dG9uRG93biIsInRocm93QXR0YWNobWVudCIsInJvdGF0ZUF0dGFjaG1lbnRzQ2xvY2t3aXNlS2V5Iiwicm90YXRlQXR0YWNobWVudHNDbG9ja3dpc2UiLCJyb3RhdGVBdHRhY2htZW50c0FudGlDbG9ja3dpc2VLZXkiLCJyb3RhdGVBdHRhY2htZW50c0FudGlDbG9ja3dpc2UiLCJkZXRhY2hBdHRhY2htZW50S2V5IiwicmVtb3ZlQXR0YWNobWVudCIsImtleWJvYXJkIiwiYWRkS2V5IiwiY2FudmFzIiwib25jb250ZXh0bWVudSIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInNldEZyb21SR0IiLCJnIiwiYiIsInNldFpvb20iLCJjZW50ZXJPbiIsImR6V2lkdGgiLCJmbG9vciIsImR6SGVpZ2h0IiwiZHpYIiwiZHpZIiwic3RhcnRGb2xsb3ciLCJnZXRHYW1lT2JqZWN0IiwiZGVhZHpvbmUiLCJHZW9tIiwiUmVjdGFuZ2xlIiwicmVtYWluaW5nRnVlbCIsInRlbXBlcmF0dXJlIiwibGFzdE92ZXJoZWF0Q2hlY2siLCJpZCIsIlJORyIsImd1aWQiLCJnYW1lT2JqIiwiY29udGFpbmVyIiwiZXhpc3RpbmciLCJnZXRQaHlzaWNzQm9keSIsImJvdW5jZSIsInNldFRvIiwic2V0TWF4VmVsb2NpdHkiLCJmbGFyZVBhcnRpY2xlcyIsInBhcnRpY2xlcyIsImV4cGxvc2lvblBhcnRpY2xlcyIsInNoaXAiLCJzcHJpdGUiLCJpbnRlZ3JpdHkiLCJUaHJ1c3RlciIsIkF0dGFjaG1lbnRNYW5hZ2VyIiwibG9va0F0VGFyZ2V0IiwiY2hlY2tPdmVyaGVhdENvbmRpdGlvbiIsImRlc3Ryb3kiLCJkZWx0YSIsInN1c3RhaW5EYW1hZ2UiLCJhcHBseUNvb2xpbmciLCJnZXRSZWFsTG9jYXRpb24iLCJnZXRMb2NhdGlvbiIsImNhbWVyYVBvcyIsImdldFdvcmxkUG9pbnQiLCJnZXRJZCIsInRhcmdldCIsImdldFRhcmdldCIsInRhcmdldFBvcyIsInNoaXBQb3MiLCJyYWRpYW5zIiwiQW5nbGUiLCJCZXR3ZWVuIiwiZGVncmVlcyIsIlJhZFRvRGVnIiwiZ2V0Um90YXRpb24iLCJnZXRTcGVlZCIsImdldFZlbG9jaXR5IiwibGVuZ3RoIiwidmVsb2NpdHkiLCJjbG9uZSIsImdldFRlbXBlcmF0dXJlIiwiYXBwbHlIZWF0aW5nIiwicmVkdWNlRnVlbCIsImFtb3VudCIsImFkZEZ1ZWwiLCJnZXRSZW1haW5pbmdGdWVsIiwiZ2V0SW50ZWdyaXR5IiwicmVwYWlyIiwiZGlzcGxheVNoaXBFeHBsb3Npb24iLCJwb3MiLCJjcmVhdGVFbWl0dGVyIiwibGlmZXNwYW4iLCJtaW4iLCJtYXgiLCJzcGVlZFgiLCJzcGVlZFkiLCJhbmdsZSIsImdyYXZpdHlYIiwiZ3Jhdml0eVkiLCJzdGFydCIsImVuZCIsImJsZW5kTW9kZSIsIm1heFBhcnRpY2xlcyIsImZyYW1lIiwicmVkIiwiaW50IiwidjQiLCJ2MSIsInV1aWQiLCJfbm9kZUlkIiwiX2Nsb2Nrc2VxIiwicm5nIiwiYnl0ZXNUb1V1aWQiLCJfbGFzdE1TZWNzIiwiX2xhc3ROU2VjcyIsIm9wdGlvbnMiLCJub2RlIiwiY2xvY2tzZXEiLCJ1bmRlZmluZWQiLCJzZWVkQnl0ZXMiLCJtc2VjcyIsIm5zZWNzIiwiZHQiLCJFcnJvciIsInRsIiwidG1oIiwiaWkiLCJwdXNoIiwibGFzdCIsInBvcCIsInVuc2hpZnQiLCJ1cGRhdGVBdHRhY2htZW50UG9zaXRpb25zIiwiZmlyc3QiLCJzaGlmdCIsImF0dGFjaG1lbnQiLCJhdHRhY2hlZCIsImxvYyIsImZyb250UmlnaHQiLCJyaWdodCIsImJhY2tSaWdodCIsImJhY2tMZWZ0IiwibGVmdCIsImZyb250TGVmdCIsImF0dGFjaCIsImRldGFjaCIsImxvY2F0aW9uIiwiZ28iLCJyZW1vdmUiLCJzaGlwVmVsb2NpdHlWZWN0b3IiLCJzZXRWZWxvY2l0eSIsInRocm93IiwiZ2V0QXR0YWNobWVudHMiLCJzZXRBdHRhY2htZW50TG9jYXRpb24iLCJsYXN0Qm9vc3RUaW1lIiwiYXBwbHlUaHJ1c3QiLCJkaXNwbGF5VGhydXN0ZXJGaXJlIiwieWVsbG93IiwiYmx1ZSIsInN0cmFmZUxlZnQiLCJzdHJhZmVSaWdodCIsInRocnVzdEJhY2t3YXJkcyIsImZvcmNlIiwiZnVlbCIsImhlYXQiLCJkZWx0YVYiLCJjb2xvdXIiLCJzdGFydFNjYWxlIiwicXVhbnRpdHkiLCJoIiwiUm90YXRlQXJvdW5kIiwibWF4QW1tbyIsInJlbWFpbmluZ0FtbW8iLCJsYXN0RmlyZWQiLCJmaXJpbmdEZWxheSIsInJlbG9hZCIsImdldFJlbWFpbmluZ0FtbW8iLCJmaXJlIiwiZGlyZWN0aW9uIiwiQnVsbGV0IiwiU2hpcEF0dGFjaG1lbnQiLCJpc1Rocm93biIsImNlbnRyZSIsImF0dGFjaG1lbnRMb2NhdGlvbiIsInNldEFjdGl2ZSIsInNwZWVkIiwicmVhbExvYyIsInJlYWxMb2NhdGlvbiIsInBhcmFtcyIsImFkZENvbGxpc2lvbkRldGVjdGlvbiIsInNldEluTW90aW9uIiwiY29sbGlkZXIiLCJvbkltcGFjdCIsImJ1bGxldCIsImNhcHR1cmUiLCJnZXRBbmdsZSIsIlBJIiwicG9zaXRpb25Ub0NhbWVyYSIsImZ1bmMiLCJvbiIsIklucHV0IiwiRXZlbnRzIiwiUE9JTlRFUl9XSEVFTCIsInBvaW50ZXIiLCJjdXJyZW50bHlPdmVyIiwiZHgiLCJkeSIsImR6IiwiZXZlbnQiLCJkZWJ1ZyIsInRleHQiLCJmb250IiwiZmlsbCIsInNldFRleHQiLCJ0b0ZpeGVkIiwieE9mZnNldCIsImNlaWwiLCJ5T2Zmc2V0IiwidGlsZVNwcml0ZSIsInN0YXJ0UG9zaXRpb24iLCJSTkQiLCJiZXR3ZWVuIiwic3VuIiwiZGl2aWRlIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUEyQ0EsRUFBTUMsR0FDMUIsaUJBQVpDLFNBQTBDLGlCQUFYQyxPQUN4Q0EsT0FBT0QsUUFBVUQsRUFBUUcsUUFBUSxXQUNSLG1CQUFYQyxRQUF5QkEsT0FBT0MsSUFDOUNELE9BQU8sQ0FBQyxVQUFXSixHQUNPLGlCQUFaQyxRQUNkQSxRQUFnQixPQUFJRCxFQUFRRyxRQUFRLFdBRXBDSixFQUFhLE9BQUlDLEVBQVFELEVBQWEsUUFSeEMsQ0FTR08sUUFBUSxTQUFTQyxHQUNwQixPLFlDVEUsSUFBSUMsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVVQsUUFHbkMsSUFBSUMsRUFBU00sRUFBaUJFLEdBQVksQ0FDekNDLEVBQUdELEVBQ0hFLEdBQUcsRUFDSFgsUUFBUyxJQVVWLE9BTkFZLEVBQVFILEdBQVVJLEtBQUtaLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9E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Q1JDLFNBQVMsRUFDVHBILElBQUssZUFHVCxjQUlJLGEsT0FDSSxZQUFNLElBQU1rSCxJQUFZLEtBK0JoQyxPQXBDaUMsT0FRdEIsWUFBQUcsUUFBUCxXQUNJdkMsS0FBS3dDLEtBQUtDLE1BQU0sTUFBTyxpQ0FHcEIsWUFBQXhILE9BQVAsV0FDSSxZQUFNQSxPQUFNLFdBQ1orRSxLQUFLNFIsY0FBZ0IsSUFBSWhWLE9BQU9GLEtBQUtPLFFBQ2pDTCxPQUFPRixLQUFLbVYsSUFBSUMsUUFBUSxFQUFHOVIsS0FBS2dDLEtBQUtnRCxPQUFPL0QsT0FDNUNyRSxPQUFPRixLQUFLbVYsSUFBSUMsUUFBUSxFQUFHOVIsS0FBS2dDLEtBQUtnRCxPQUFPN0QsU0FFaERuQixLQUFLK1IsSUFBTS9SLEtBQUtyQyxJQUFJeUosT0FBT3BILEtBQUs0UixjQUFjblYsRUFBR3VELEtBQUs0UixjQUFjN1UsRUFBRyxRQUdwRSxZQUFBeUcsT0FBUCxXQUtJLEdBSkF4RCxLQUFLK1IsSUFBSTdILE9BQVMsSUFDZGxLLEtBQUsrUixJQUFJN0gsT0FBUyxNQUNsQmxLLEtBQUsrUixJQUFJN0gsTUFBUSxHQUVqQixFQUFBdk8sUUFBUW9ILE9BQVEsQ0FFaEIsSUFBSTJKLEVBQTJCLEVBQUEvUSxRQUFRb0gsT0FBTytFLGtCQUM5QzRFLEVBQUlzRixPQUFPLElBQUlwVixPQUFPRixLQUFLTyxRQUFRLElBQUssTUFDeEN5UCxFQUFJdlAsU0FFSjZDLEtBQUsrUixJQUFJdFYsRUFBSXVELEtBQUs0UixjQUFjblYsRUFBSWlRLEVBQUlqUSxFQUN4Q3VELEtBQUsrUixJQUFJaFYsRUFBSWlELEtBQUs0UixjQUFjN1UsRUFBSTJQLEVBQUkzUCxJQUdwRCxFQXBDQSxDQUFpQyxFQUFBNkQsZUFBcEIsRUFBQWlCIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcInBoYXNlclwiKSk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXCJwaGFzZXJcIl0sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiYnVuZGxlXCJdID0gZmFjdG9yeShyZXF1aXJlKFwicGhhc2VyXCIpKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJidW5kbGVcIl0gPSBmYWN0b3J5KHJvb3RbXCJwaGFzZXJcIl0pO1xufSkod2luZG93LCBmdW5jdGlvbihfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX18xMF9fKSB7XG5yZXR1cm4gIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDcpO1xuIiwiaW1wb3J0IHsgU2hpcFBvZCB9IGZyb20gXCIuLi9zaGlwcy9zaGlwLXBvZFwiO1xyXG5cclxuZXhwb3J0IG1vZHVsZSBHbG9iYWxzIHtcclxuICAgIGV4cG9ydCB2YXIgcGxheWVyOiBTaGlwUG9kO1xyXG4gICAgZXhwb3J0IHZhciBnYW1lOiBQaGFzZXIuR2FtZTtcclxuICAgIGV4cG9ydCB2YXIgaW50ZXJhY3RhYmxlczogUGhhc2VyLkdhbWVPYmplY3RzLkdhbWVPYmplY3RbXSA9IFtdO1xyXG59IiwiZXhwb3J0IG1vZHVsZSBIZWxwZXJzIHtcclxuICAgIC8qKlxyXG4gICAgICogZ2V0IHRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW4gYW4gZW51bS5cclxuICAgICAqIDxwPlxyXG4gICAgICogZXg6IDxpPmVudW0gRm9vIHsgYmFyID0gMCwgYmF6ID0gMSwgYm96ID0gMiB9PC9pPjxiciAvPlxyXG4gICAgICogcmV0dXJuczogPGI+MzwvYj5cclxuICAgICAqIDwvcD5cclxuICAgICAqIEBwYXJhbSBlbnVtVHlwZSB0aGUgdHlwZSBuYW1lIG9mIGFuIGVudW1cclxuICAgICAqIEByZXR1cm5zIHRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW4gdGhlIGVudW1cclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGVudW1MZW5ndGgoZW51bVR5cGU6IGFueSk6IG51bWJlciB7XHJcbiAgICAgICAgbGV0IGNvdW50ID0gMDtcclxuICAgICAgICBmb3IobGV0IGl0ZW0gaW4gZW51bVR5cGUpIHtcclxuICAgICAgICAgICAgaWYoaXNOYU4oTnVtYmVyKGl0ZW0pKSkge1xyXG4gICAgICAgICAgICAgICAgY291bnQrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY291bnQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCB0aW1lIGluIG1pbGxpc2Vjb25kcyBzaW5jZSB0aGUgZXBvY2hcclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIG5vdygpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgYSB7UGhhc2VyLk1hdGguVmVjdG9yMn0gdGhhdCByZXByZXNlbnRzIGEgbm9ybWFsaXNlZCB2ZWN0b3Igb2YgZGlyZWN0aW9uXHJcbiAgICAgKiBiYXNlZCBvbiB0aGUgcm90YXRpb24gb2YgdGhlIHBhc3NlZCBpbiB7UGhhc2VyLlBoeXNpY3MuQXJjYWRlLkJvZHl9XHJcbiAgICAgKiBAcGFyYW0gYm9keSB0aGUgcGh5c2ljcyBlbmFibGVkIHtHYW1lT2JqZWN0LmJvZHl9IGZyb20gd2hpY2ggdG8gZ2V0IHRoZSBoZWFkaW5nXHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBnZXRIZWFkaW5nKGJvZHk6IFBoYXNlci5QaHlzaWNzLkFyY2FkZS5Cb2R5KTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgaWYgKGJvZHkpIHtcclxuICAgICAgICAgICAgbGV0IHg6IG51bWJlciA9IE1hdGguY29zKFBoYXNlci5NYXRoLkRlZ1RvUmFkKGJvZHkucm90YXRpb24pKTtcclxuICAgICAgICAgICAgbGV0IHk6IG51bWJlciA9IE1hdGguc2luKFBoYXNlci5NYXRoLkRlZ1RvUmFkKGJvZHkucm90YXRpb24pKTtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKHgsIHkpLm5vcm1hbGl6ZSgpLm5lZ2F0ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUGhhc2VyLk1hdGguVmVjdG9yMi5aRVJPO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmV0dXJucyBhIHtQaGFzZXIuTWF0aC5WZWN0b3IyfSB0aGF0IHJlcHJlc2VudHMgYSBub3JtYWxpc2VkIHZlY3RvciBvZiBkaXJlY3Rpb25cclxuICAgICAqIGJhc2VkIG9uIHRoZSBwYXNzZWQgaW4gcm90YXRpb25cclxuICAgICAqIEBwYXJhbSByb3RhdGlvbiB0aGUgcm90YXRpb24gaW4gZGVncmVlc1xyXG4gICAgICovXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gZ2V0SGVhZGluZ0Zyb21Sb3RhdGlvbihyb3RhdGlvbjogbnVtYmVyKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgbGV0IHg6IG51bWJlciA9IE1hdGguY29zKFBoYXNlci5NYXRoLkRlZ1RvUmFkKHJvdGF0aW9uKSk7XHJcbiAgICAgICAgbGV0IHk6IG51bWJlciA9IE1hdGguc2luKFBoYXNlci5NYXRoLkRlZ1RvUmFkKHJvdGF0aW9uKSk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKHgsIHkpLm5vcm1hbGl6ZSgpLm5lZ2F0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogYXBwbGllcyB0aGUgcGFzc2VkIGluIG9mZnNldCB0byBhIHJvdGF0ZWQgYm9keSBlcXVpdmFsZW50IHRvIHJldmVyc2luZyB0aGVcclxuICAgICAqIHJvdGF0aW9uLCBhcHBseWluZyB0aGUgb2Zmc2V0IGFuZCB0aGVuIHJlLWFwcGx5aW5nIHRoZSBvZmZzZXRcclxuICAgICAqIEBwYXJhbSBib2R5IHRoZSB7UGhhc2VyLlBoeXNpY3MuQXJjYWRlLkJvZHl9IHRvIG9mZnNldFxyXG4gICAgICogQHBhcmFtIG9mZnNldCBhIHtQaGFzZXIuTWF0aC5WZWN0b3IyfSByZXByZXNlbnRpbmcgdGhlIHVucm90YXRlZCBvZmZzZXQgdG8gYXBwbHlcclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIG9mZnNldFdpdGhIZWFkaW5nKGJvZHk6IFBoYXNlci5QaHlzaWNzLkFyY2FkZS5Cb2R5LCBvZmZzZXQ6IFBoYXNlci5NYXRoLlZlY3RvcjIpOiB2b2lkIHtcclxuICAgICAgICBsZXQgaGVhZGluZzogUGhhc2VyLk1hdGguVmVjdG9yMiA9IEhlbHBlcnMuZ2V0SGVhZGluZyhib2R5KTtcclxuICAgICAgICBoZWFkaW5nLm11bHRpcGx5KG9mZnNldCk7XHJcbiAgICAgICAgYm9keS5wb3NpdGlvbi5hZGQoaGVhZGluZyk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgbW9kdWxlIENvbnN0YW50cyB7XHJcbiAgICBleHBvcnQgY29uc3QgTUFYX0lOVEVHUklUWTogbnVtYmVyID0gMTAwO1xyXG4gICAgZXhwb3J0IGNvbnN0IE1BWF9GVUVMOiBudW1iZXIgPSAxMDA7XHJcbiAgICBleHBvcnQgY29uc3QgTUFYX1NBRkVfVEVNUEVSQVRVUkU6IG51bWJlciA9IDEwMDtcclxuICAgIGV4cG9ydCBjb25zdCBNQVhfVEVNUEVSQVRVUkU6IG51bWJlciA9IDIwMDtcclxuICAgIGV4cG9ydCBjb25zdCBNQVhfVkVMT0NJVFk6IG51bWJlciA9IDUwMDtcclxuICAgIGV4cG9ydCBjb25zdCBPVkVSSEVBVF9DSEVDS19JTlRFUlZBTDogbnVtYmVyID0gMTAwOyAvLyBtaWxsaXNlY29uZHNcclxuICAgIGV4cG9ydCBjb25zdCBDT09MSU5HX1JBVEU6IG51bWJlciA9IDAuMzsgLy8gZGVncmVlcyBwZXIgc2Vjb25kXHJcbiAgICBleHBvcnQgY29uc3QgVEhSVVNURVJfRk9SQ0U6IG51bWJlciA9IDE7XHJcbiAgICBleHBvcnQgY29uc3QgRlVFTF9QRVJfVEhSVVNUOiBudW1iZXIgPSAwLjAwMTsgLy8gdW5pdHNcclxuICAgIGV4cG9ydCBjb25zdCBIRUFUX1BFUl9USFJVU1Q6IG51bWJlciA9IDAuMSAvLyBkZWdyZWVzXHJcbiAgICBleHBvcnQgY29uc3QgQk9PU1RFUl9GT1JDRTogbnVtYmVyID0gMzAwO1xyXG4gICAgZXhwb3J0IGNvbnN0IEZVRUxfUEVSX0JPT1NUOiBudW1iZXIgPSAxOyAvLyB1bml0c1xyXG4gICAgZXhwb3J0IGNvbnN0IEhFQVRfUEVSX0JPT1NUOiBudW1iZXIgPSAyNTsgLy8gZGVncmVlc1xyXG4gICAgZXhwb3J0IGNvbnN0IEJPT1NURVJfQ09PTERPV05fVElNRTogbnVtYmVyID0gMTAwMDsgLy8gbWlsbGlzZWNvbmRzXHJcbiAgICBleHBvcnQgY29uc3QgVEhST1dfRk9SQ0U6IG51bWJlciA9IDEwMDtcclxuICAgIGV4cG9ydCBlbnVtIEZsYXJlIHtcclxuICAgICAgICBibHVlID0gMCxcclxuICAgICAgICBncmVlbiA9IDEsXHJcbiAgICAgICAgcmVkID0gMixcclxuICAgICAgICB3aGl0ZSA9IDMsXHJcbiAgICAgICAgeWVsbG93ID0gNFxyXG4gICAgfVxyXG59IiwiZXhwb3J0IGVudW0gQXR0YWNobWVudExvY2F0aW9uIHtcclxuICAgIGZyb250LFxyXG4gICAgZnJvbnRSaWdodCxcclxuICAgIHJpZ2h0LFxyXG4gICAgYmFja1JpZ2h0LFxyXG4gICAgLy8gTk9URTogdGhlcmUgaXMgbm8gJ2JhY2snIGF0dGFjaG1lbnQgcG9pbnQgZHVlIHRvIGxvY2F0aW9uIG9mIHRocnVzdGVyXHJcbiAgICBiYWNrTGVmdCxcclxuICAgIGxlZnQsXHJcbiAgICBmcm9udExlZnRcclxufSIsIi8vIFVuaXF1ZSBJRCBjcmVhdGlvbiByZXF1aXJlcyBhIGhpZ2ggcXVhbGl0eSByYW5kb20gIyBnZW5lcmF0b3IuICBJbiB0aGVcbi8vIGJyb3dzZXIgdGhpcyBpcyBhIGxpdHRsZSBjb21wbGljYXRlZCBkdWUgdG8gdW5rbm93biBxdWFsaXR5IG9mIE1hdGgucmFuZG9tKClcbi8vIGFuZCBpbmNvbnNpc3RlbnQgc3VwcG9ydCBmb3IgdGhlIGBjcnlwdG9gIEFQSS4gIFdlIGRvIHRoZSBiZXN0IHdlIGNhbiB2aWFcbi8vIGZlYXR1cmUtZGV0ZWN0aW9uXG5cbi8vIGdldFJhbmRvbVZhbHVlcyBuZWVkcyB0byBiZSBpbnZva2VkIGluIGEgY29udGV4dCB3aGVyZSBcInRoaXNcIiBpcyBhIENyeXB0b1xuLy8gaW1wbGVtZW50YXRpb24uIEFsc28sIGZpbmQgdGhlIGNvbXBsZXRlIGltcGxlbWVudGF0aW9uIG9mIGNyeXB0byBvbiBJRTExLlxudmFyIGdldFJhbmRvbVZhbHVlcyA9ICh0eXBlb2YoY3J5cHRvKSAhPSAndW5kZWZpbmVkJyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChjcnlwdG8pKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICh0eXBlb2YobXNDcnlwdG8pICE9ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cubXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzID09ICdmdW5jdGlvbicgJiYgbXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQobXNDcnlwdG8pKTtcblxuaWYgKGdldFJhbmRvbVZhbHVlcykge1xuICAvLyBXSEFUV0cgY3J5cHRvIFJORyAtIGh0dHA6Ly93aWtpLndoYXR3Zy5vcmcvd2lraS9DcnlwdG9cbiAgdmFyIHJuZHM4ID0gbmV3IFVpbnQ4QXJyYXkoMTYpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB3aGF0d2dSTkcoKSB7XG4gICAgZ2V0UmFuZG9tVmFsdWVzKHJuZHM4KTtcbiAgICByZXR1cm4gcm5kczg7XG4gIH07XG59IGVsc2Uge1xuICAvLyBNYXRoLnJhbmRvbSgpLWJhc2VkIChSTkcpXG4gIC8vXG4gIC8vIElmIGFsbCBlbHNlIGZhaWxzLCB1c2UgTWF0aC5yYW5kb20oKS4gIEl0J3MgZmFzdCwgYnV0IGlzIG9mIHVuc3BlY2lmaWVkXG4gIC8vIHF1YWxpdHkuXG4gIHZhciBybmRzID0gbmV3IEFycmF5KDE2KTtcblxuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG1hdGhSTkcoKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIHI7IGkgPCAxNjsgaSsrKSB7XG4gICAgICBpZiAoKGkgJiAweDAzKSA9PT0gMCkgciA9IE1hdGgucmFuZG9tKCkgKiAweDEwMDAwMDAwMDtcbiAgICAgIHJuZHNbaV0gPSByID4+PiAoKGkgJiAweDAzKSA8PCAzKSAmIDB4ZmY7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJuZHM7XG4gIH07XG59XG4iLCIvKipcbiAqIENvbnZlcnQgYXJyYXkgb2YgMTYgYnl0ZSB2YWx1ZXMgdG8gVVVJRCBzdHJpbmcgZm9ybWF0IG9mIHRoZSBmb3JtOlxuICogWFhYWFhYWFgtWFhYWC1YWFhYLVhYWFgtWFhYWFhYWFhYWFhYXG4gKi9cbnZhciBieXRlVG9IZXggPSBbXTtcbmZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyArK2kpIHtcbiAgYnl0ZVRvSGV4W2ldID0gKGkgKyAweDEwMCkudG9TdHJpbmcoMTYpLnN1YnN0cigxKTtcbn1cblxuZnVuY3Rpb24gYnl0ZXNUb1V1aWQoYnVmLCBvZmZzZXQpIHtcbiAgdmFyIGkgPSBvZmZzZXQgfHwgMDtcbiAgdmFyIGJ0aCA9IGJ5dGVUb0hleDtcbiAgLy8gam9pbiB1c2VkIHRvIGZpeCBtZW1vcnkgaXNzdWUgY2F1c2VkIGJ5IGNvbmNhdGVuYXRpb246IGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMxNzUjYzRcbiAgcmV0dXJuIChbXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSxcbiAgICBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLCAnLScsXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgJy0nLFxuICAgIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sICctJyxcbiAgICBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLCAnLScsXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSxcbiAgICBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLFxuICAgIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV1cbiAgXSkuam9pbignJyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYnl0ZXNUb1V1aWQ7XG4iLCJpbXBvcnQgeyBNb3VzZSB9IGZyb20gXCIuLi91dGlsaXRpZXMvbW91c2VcIjtcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBab29tYWJsZVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIHByb3RlY3RlZCBtb3VzZTogTW91c2U7XHJcbiAgICBwcml2YXRlIGluY3JlbWVudDogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBtaW5ab29tOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIG1heFpvb206IG51bWJlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihpbmNyZW1lbnQ6IG51bWJlciwgY29uZmlnOiBQaGFzZXIuVHlwZXMuU2NlbmVzLlNldHRpbmdzQ29uZmlnKSB7XHJcbiAgICAgICAgc3VwZXIoY29uZmlnKTtcclxuICAgICAgICB0aGlzLmluY3JlbWVudCA9IGluY3JlbWVudDtcclxuICAgICAgICB0aGlzLm1pblpvb20gPSAxIC0gKGluY3JlbWVudCAqIDIpO1xyXG4gICAgICAgIHRoaXMubWF4Wm9vbSA9IDE7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFic3RyYWN0IHByZWxvYWQoKTogdm9pZDtcclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMubW91c2UgPSBuZXcgTW91c2UodGhpcyk7XHJcbiAgICAgICAgdGhpcy5tb3VzZS5vbldoZWVsVXAoKHNjcm9sbEFtb3VudDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBjdXJyZW50Wm9vbTogbnVtYmVyID0gdGhpcy5jYW1lcmFzLm1haW4uem9vbTtcclxuICAgICAgICAgICAgLy8gem9vbSBvdXRcclxuICAgICAgICAgICAgbGV0IG5ld1pvb206IG51bWJlciA9IGN1cnJlbnRab29tIC0gdGhpcy5pbmNyZW1lbnQ7XHJcbiAgICAgICAgICAgIGlmIChuZXdab29tIDwgdGhpcy5taW5ab29tKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdab29tID0gdGhpcy5taW5ab29tO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGB6b29taW5nIGZyb20gJHtjdXJyZW50Wm9vbX0gdG8gJHtuZXdab29tfWApO1xyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi56b29tVG8obmV3Wm9vbSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5tb3VzZS5vbldoZWVsRG93bigoc2Nyb2xsQW1vdW50OiBudW1iZXIpID0+IHtcclxuICAgICAgICAgICAgbGV0IGN1cnJlbnRab29tOiBudW1iZXIgPSB0aGlzLmNhbWVyYXMubWFpbi56b29tO1xyXG4gICAgICAgICAgICAvLyB6b29tIGluXHJcbiAgICAgICAgICAgIGxldCBuZXdab29tOiBudW1iZXIgPSBjdXJyZW50Wm9vbSArIHRoaXMuaW5jcmVtZW50O1xyXG4gICAgICAgICAgICBpZiAobmV3Wm9vbSA+IHRoaXMubWF4Wm9vbSkge1xyXG4gICAgICAgICAgICAgICAgbmV3Wm9vbSA9IHRoaXMubWF4Wm9vbTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgem9vbWluZyBmcm9tICR7Y3VycmVudFpvb219IHRvICR7bmV3Wm9vbX1gKTtcclxuICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uem9vbVRvKG5ld1pvb20pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCB1cGRhdGUoKTogdm9pZDtcclxufSIsImltcG9ydCB7IFNoaXBTY2VuZSB9IGZyb20gXCIuL3NjZW5lcy9zaGlwLXNjZW5lXCI7XHJcbmltcG9ydCB7IEdsb2JhbHMgfSBmcm9tIFwiLi91dGlsaXRpZXMvZ2xvYmFsc1wiO1xyXG5pbXBvcnQgeyBPdmVybGF5U2NlbmUgfSBmcm9tIFwiLi9zY2VuZXMvb3ZlcmxheS1zY2VuZVwiO1xyXG5pbXBvcnQgeyBGYXJTdGFyc1NjZW5lIH0gZnJvbSBcIi4vc2NlbmVzL2Zhci1zdGFycy1zY2VuZVwiO1xyXG5pbXBvcnQgeyBTeXN0ZW1TY2VuZSB9IGZyb20gXCIuL3NjZW5lcy9zeXN0ZW0tc2NlbmVcIjtcclxuXHJcbmNvbnN0IGdhbWVDb25maWc6IFBoYXNlci5UeXBlcy5Db3JlLkdhbWVDb25maWcgPSB7XHJcbiAgICB0eXBlOiBQaGFzZXIuQVVUTyxcclxuICAgIHNjYWxlOiB7XHJcbiAgICAgICAgd2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoLFxyXG4gICAgICAgIGhlaWdodDogd2luZG93LmlubmVySGVpZ2h0XHJcbiAgICB9LFxyXG4gICAgYmFja2dyb3VuZENvbG9yOiAnIzAwMDAwMCcsXHJcbiAgICBwYXJlbnQ6ICdzcGFjZS1zaW0nLFxyXG4gICAgcGh5c2ljczoge1xyXG4gICAgICAgIGRlZmF1bHQ6ICdhcmNhZGUnLFxyXG4gICAgICAgIGFyY2FkZToge1xyXG4gICAgICAgICAgICBncmF2aXR5OiB7IHg6IDAsIHk6IDAgfSxcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgc2NlbmU6IFtGYXJTdGFyc1NjZW5lLCBTeXN0ZW1TY2VuZSwgU2hpcFNjZW5lLCBPdmVybGF5U2NlbmVdXHJcbn07XHJcbmV4cG9ydCBjb25zdCBnYW1lOiBQaGFzZXIuR2FtZSA9IG5ldyBQaGFzZXIuR2FtZShnYW1lQ29uZmlnKTtcclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7XHJcbiAgICBnYW1lLnNjYWxlLnJlZnJlc2goKTtcclxufSk7XHJcblxyXG5HbG9iYWxzLmdhbWUgPSBnYW1lOyIsImltcG9ydCB7IFNoaXBQb2QgfSBmcm9tIFwiLi4vc2hpcHMvc2hpcC1wb2RcIjtcclxuaW1wb3J0IHsgR2xvYmFscyB9IGZyb20gXCIuLi91dGlsaXRpZXMvZ2xvYmFsc1wiO1xyXG5pbXBvcnQgeyBDYW5ub25BdHRhY2htZW50IH0gZnJvbSBcIi4uL3NoaXBzL2F0dGFjaG1lbnRzL29mZmVuY2UvY2Fubm9uLWF0dGFjaG1lbnRcIjtcclxuaW1wb3J0IHsgWm9vbWFibGVTY2VuZSB9IGZyb20gXCIuL3pvb21hYmxlLXNjZW5lXCI7XHJcbmltcG9ydCB7IEF0dGFjaG1lbnRMb2NhdGlvbiB9IGZyb20gXCIuLi9zaGlwcy9hdHRhY2htZW50cy9hdHRhY2htZW50LWxvY2F0aW9uXCI7XHJcbmltcG9ydCB7IFNoaXBBdHRhY2htZW50IH0gZnJvbSBcIi4uL3NoaXBzL2F0dGFjaG1lbnRzL3NoaXAtYXR0YWNobWVudFwiO1xyXG5cclxuY29uc3Qgc2NlbmVDb25maWc6IFBoYXNlci5UeXBlcy5TY2VuZXMuU2V0dGluZ3NDb25maWcgPSB7XHJcbiAgICBhY3RpdmU6IHRydWUsXHJcbiAgICB2aXNpYmxlOiB0cnVlLFxyXG4gICAga2V5OiAnU2hpcFNjZW5lJ1xyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIFNoaXBTY2VuZSBleHRlbmRzIFpvb21hYmxlU2NlbmUge1xyXG4gICAgcHJpdmF0ZSBwbGF5ZXI6IFNoaXBQb2Q7XHJcblxyXG4gICAgLyoqIElucHV0IEhhbmRsZXJzICovXHJcbiAgICBwcml2YXRlIHRocnVzdEtleTogUGhhc2VyLklucHV0LktleWJvYXJkLktleTtcclxuICAgIHByaXZhdGUgYm9vc3RLZXk6IFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXk7XHJcbiAgICBwcml2YXRlIHJvdGF0ZUF0dGFjaG1lbnRzQ2xvY2t3aXNlS2V5OiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5O1xyXG4gICAgcHJpdmF0ZSByb3RhdGVBdHRhY2htZW50c0FudGlDbG9ja3dpc2VLZXk6IFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXk7XHJcbiAgICBwcml2YXRlIGRldGFjaEF0dGFjaG1lbnRLZXk6IFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXk7XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKDAuNCwgc2NlbmVDb25maWcpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdzaGlwLXBvZCcsICcuL2Fzc2V0cy9zcHJpdGVzL3NoaXAtcG9kLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY2Fubm9uJywgJy4vYXNzZXRzL3Nwcml0ZXMvY2Fubm9uLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnZmxhcmVzJywgJy4vYXNzZXRzL3BhcnRpY2xlcy9mbGFyZXMucG5nJywge1xyXG4gICAgICAgICAgICBmcmFtZVdpZHRoOiAxMzAsXHJcbiAgICAgICAgICAgIGZyYW1lSGVpZ2h0OiAxMzIsXHJcbiAgICAgICAgICAgIHN0YXJ0RnJhbWU6IDAsXHJcbiAgICAgICAgICAgIGVuZEZyYW1lOiA0XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdleHBsb3Npb24nLCAnLi9hc3NldHMvcGFydGljbGVzL2V4cGxvc2lvbi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2J1bGxldCcsICcuL2Fzc2V0cy9zcHJpdGVzL2J1bGxldC5wbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIgPSBuZXcgU2hpcFBvZCh0aGlzLCB7XHJcbiAgICAgICAgICAgIHg6IDAsXHJcbiAgICAgICAgICAgIHk6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICBHbG9iYWxzLnBsYXllciA9IHRoaXMucGxheWVyO1xyXG4gICAgICAgIHRoaXMucGxheWVyLnNldFRhcmdldCh0aGlzLm1vdXNlKTtcclxuXHJcbiAgICAgICAgLy8gVE1QXHJcbiAgICAgICAgbGV0IGNhbm9uOiBDYW5ub25BdHRhY2htZW50ID0gbmV3IENhbm5vbkF0dGFjaG1lbnQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIuYXR0YWNobWVudHMuYWRkQXR0YWNobWVudChjYW5vbik7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0dXBDYW1lcmEodGhpcy5wbGF5ZXIpO1xyXG4gICAgICAgIHRoaXMuc2V0dXBJbnB1dEhhbmRsaW5nKCk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLnRocnVzdEtleS5pc0Rvd24pIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIudGhydXN0ZXIudGhydXN0Rm93YXJkcygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5ib29zdEtleS5pc0Rvd24pIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIudGhydXN0ZXIuYm9vc3RGb3J3YXJkcygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pbnB1dC5hY3RpdmVQb2ludGVyLmxlZnRCdXR0b25Eb3duKCkpIHtcclxuICAgICAgICAgICAgbGV0IGE6IFNoaXBBdHRhY2htZW50ID0gdGhpcy5wbGF5ZXIuYXR0YWNobWVudHMuZ2V0QXR0YWNobWVudChBdHRhY2htZW50TG9jYXRpb24uZnJvbnQpO1xyXG4gICAgICAgICAgICBpZiAoYSkge1xyXG4gICAgICAgICAgICAgICAgYS50cmlnZ2VyKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaW5wdXQuYWN0aXZlUG9pbnRlci5yaWdodEJ1dHRvbkRvd24oKSkge1xyXG4gICAgICAgICAgICBsZXQgYTogU2hpcEF0dGFjaG1lbnQgPSB0aGlzLnBsYXllci5hdHRhY2htZW50cy5nZXRBdHRhY2htZW50KEF0dGFjaG1lbnRMb2NhdGlvbi5mcm9udCk7XHJcbiAgICAgICAgICAgIGlmIChhKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5hdHRhY2htZW50cy50aHJvd0F0dGFjaG1lbnQoQXR0YWNobWVudExvY2F0aW9uLmZyb250KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5yb3RhdGVBdHRhY2htZW50c0Nsb2Nrd2lzZUtleS5pc0Rvd24pIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIuYXR0YWNobWVudHMucm90YXRlQXR0YWNobWVudHNDbG9ja3dpc2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMucm90YXRlQXR0YWNobWVudHNBbnRpQ2xvY2t3aXNlS2V5LmlzRG93bikge1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllci5hdHRhY2htZW50cy5yb3RhdGVBdHRhY2htZW50c0FudGlDbG9ja3dpc2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuZGV0YWNoQXR0YWNobWVudEtleS5pc0Rvd24pIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIuYXR0YWNobWVudHMucmVtb3ZlQXR0YWNobWVudChBdHRhY2htZW50TG9jYXRpb24uZnJvbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnBsYXllci51cGRhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldHVwSW5wdXRIYW5kbGluZygpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnRocnVzdEtleSA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KCdTUEFDRScsIHRydWUsIHRydWUpO1xyXG4gICAgICAgIHRoaXMuYm9vc3RLZXkgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleSgnVEFCJywgdHJ1ZSwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMucm90YXRlQXR0YWNobWVudHNDbG9ja3dpc2VLZXkgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleSgnRScsIHRydWUsIGZhbHNlKTtcclxuICAgICAgICB0aGlzLnJvdGF0ZUF0dGFjaG1lbnRzQW50aUNsb2Nrd2lzZUtleSA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KCdRJywgdHJ1ZSwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuZGV0YWNoQXR0YWNobWVudEtleSA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KCdYJywgdHJ1ZSwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuZ2FtZS5jYW52YXMub25jb250ZXh0bWVudSA9IChlKSA9PiB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXR1cENhbWVyYShwbGF5ZXI6IFNoaXBQb2QpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5iYWNrZ3JvdW5kQ29sb3Iuc2V0RnJvbVJHQih7cjogMCwgZzogMCwgYjogMH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldFpvb20oMSk7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uY2VudGVyT24oMCwgMCk7XHJcblxyXG4gICAgICAgIGxldCB3aWR0aDogbnVtYmVyID0gdGhpcy5jYW1lcmFzLm1haW4ud2lkdGg7XHJcbiAgICAgICAgbGV0IGhlaWdodDogbnVtYmVyID0gdGhpcy5jYW1lcmFzLm1haW4uaGVpZ2h0O1xyXG4gICAgICAgIGxldCBkeldpZHRoOiBudW1iZXIgPSBNYXRoLmZsb29yKHdpZHRoIC8gMik7XHJcbiAgICAgICAgbGV0IGR6SGVpZ2h0OiBudW1iZXIgPSBNYXRoLmZsb29yKGhlaWdodCAvIDIpO1xyXG4gICAgICAgIGxldCBkelg6IG51bWJlciA9IE1hdGguZmxvb3IoZHpXaWR0aCAvIDIpO1xyXG4gICAgICAgIGxldCBkelk6IG51bWJlciA9IE1hdGguZmxvb3IoZHpIZWlnaHQgLyAyKTtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zdGFydEZvbGxvdyhwbGF5ZXIuZ2V0R2FtZU9iamVjdCgpLCB0cnVlKTtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5kZWFkem9uZSA9IG5ldyBQaGFzZXIuR2VvbS5SZWN0YW5nbGUoZHpYLCBkelksIGR6V2lkdGgsIGR6SGVpZ2h0KTtcclxuICAgIH1cclxufSIsImltcG9ydCBcInBoYXNlclwiO1xyXG5pbXBvcnQgeyBSTkcgfSBmcm9tIFwiLi4vdXRpbGl0aWVzL3JuZ1wiO1xyXG5pbXBvcnQgeyBVcGRhdGFibGUgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy91cGRhdGFibGVcIjtcclxuaW1wb3J0IHsgQ2FuVGFyZ2V0IH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvY2FuLXRhcmdldFwiO1xyXG5pbXBvcnQgeyBIYXNMb2NhdGlvbiB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2hhcy1sb2NhdGlvblwiO1xyXG5pbXBvcnQgeyBIYXNHYW1lT2JqZWN0IH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvaGFzLWdhbWUtb2JqZWN0XCI7XHJcbmltcG9ydCB7IEhhc0ludGVncml0eSB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2hhcy1pbnRlZ3JpdHlcIjtcclxuaW1wb3J0IHsgQ29uc3RhbnRzIH0gZnJvbSBcIi4uL3V0aWxpdGllcy9jb25zdGFudHNcIjtcclxuaW1wb3J0IHsgSGVscGVycyB9IGZyb20gXCIuLi91dGlsaXRpZXMvaGVscGVyc1wiO1xyXG5pbXBvcnQgeyBIYXNUZW1wZXJhdHVyZSB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2hhcy10ZW1wZXJhdHVyZVwiO1xyXG5pbXBvcnQgeyBIYXNGdWVsIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvaGFzLWZ1ZWxcIjtcclxuaW1wb3J0IHsgSGFzUGh5c2ljc0dhbWVPYmplY3QgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9oYXMtcGh5c2ljcy1nYW1lLW9iamVjdFwiO1xyXG5pbXBvcnQgeyBBdHRhY2htZW50TWFuYWdlciB9IGZyb20gXCIuL2F0dGFjaG1lbnRzL2F0dGFjaG1lbnQtbWFuYWdlclwiO1xyXG5pbXBvcnQgeyBUaHJ1c3RlciB9IGZyb20gXCIuL2F0dGFjaG1lbnRzL3V0aWxpdHkvdGhydXN0ZXJcIjtcclxuaW1wb3J0IHsgU2hpcFBvZENvbmZpZyB9IGZyb20gXCIuL3NoaXAtcG9kLWNvbmZpZ1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNoaXBQb2QgaW1wbGVtZW50cyBVcGRhdGFibGUsIENhblRhcmdldCwgSGFzTG9jYXRpb24sIEhhc0dhbWVPYmplY3Q8UGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcj4sIEhhc1BoeXNpY3NHYW1lT2JqZWN0LCBIYXNJbnRlZ3JpdHksIEhhc1RlbXBlcmF0dXJlLCBIYXNGdWVsIHtcclxuICAgIHByaXZhdGUgaWQ6IHN0cmluZzsgLy8gVVVJRFxyXG4gICAgcHJpdmF0ZSBzY2VuZTogUGhhc2VyLlNjZW5lO1xyXG4gICAgcHJpdmF0ZSBnYW1lT2JqOiBQaGFzZXIuR2FtZU9iamVjdHMuQ29udGFpbmVyO1xyXG4gICAgcHJpdmF0ZSB0YXJnZXQ6IEhhc0xvY2F0aW9uO1xyXG4gICAgcHJpdmF0ZSBpbnRlZ3JpdHk6IG51bWJlcjtcclxuICAgIHByaXZhdGUgcmVtYWluaW5nRnVlbDogbnVtYmVyID0gMTAwO1xyXG4gICAgcHJpdmF0ZSB0ZW1wZXJhdHVyZTogbnVtYmVyID0gMDsgLy8gaW4gQ2VsY2l1c1xyXG4gICAgcHJpdmF0ZSBmbGFyZVBhcnRpY2xlczogUGhhc2VyLkdhbWVPYmplY3RzLlBhcnRpY2xlcy5QYXJ0aWNsZUVtaXR0ZXJNYW5hZ2VyO1xyXG4gICAgcHJpdmF0ZSBleHBsb3Npb25QYXJ0aWNsZXM6IFBoYXNlci5HYW1lT2JqZWN0cy5QYXJ0aWNsZXMuUGFydGljbGVFbWl0dGVyTWFuYWdlcjtcclxuXHJcbiAgICBhY3RpdmU6IGJvb2xlYW4gPSB0cnVlO1xyXG4gICAgYXR0YWNobWVudHM6IEF0dGFjaG1lbnRNYW5hZ2VyO1xyXG4gICAgdGhydXN0ZXI6IFRocnVzdGVyO1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZTogUGhhc2VyLlNjZW5lLCBjb25maWc/OiBTaGlwUG9kQ29uZmlnKSB7XHJcbiAgICAgICAgaWYgKCFjb25maWcpIHtcclxuICAgICAgICAgICAgY29uZmlnID0ge3g6IDAsIHk6IDB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmlkID0gUk5HLmd1aWQoKTtcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy5nYW1lT2JqID0gc2NlbmUuYWRkLmNvbnRhaW5lcihjb25maWcueCwgY29uZmlnLnkpO1xyXG4gICAgICAgIHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5nYW1lT2JqKTtcclxuICAgICAgICB0aGlzLmdldFBoeXNpY3NCb2R5KCkuYm91bmNlLnNldFRvKDAuNywgMC43KTtcclxuICAgICAgICB0aGlzLmdldFBoeXNpY3NCb2R5KCkuc2V0TWF4VmVsb2NpdHkoQ29uc3RhbnRzLk1BWF9WRUxPQ0lUWSwgQ29uc3RhbnRzLk1BWF9WRUxPQ0lUWSk7XHJcbiAgICAgICAgdGhpcy5mbGFyZVBhcnRpY2xlcyA9IHNjZW5lLmFkZC5wYXJ0aWNsZXMoJ2ZsYXJlcycpO1xyXG4gICAgICAgIHRoaXMuZXhwbG9zaW9uUGFydGljbGVzID0gc2NlbmUuYWRkLnBhcnRpY2xlcygnZXhwbG9zaW9uJyk7XHJcbiAgICAgICAgbGV0IHNoaXA6IFBoYXNlci5HYW1lT2JqZWN0cy5TcHJpdGUgPSBzY2VuZS5hZGQuc3ByaXRlKDAsIDAsICdzaGlwLXBvZCcpO1xyXG4gICAgICAgIHRoaXMuZ2V0R2FtZU9iamVjdCgpLmFkZChzaGlwKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmludGVncml0eSA9IENvbnN0YW50cy5NQVhfSU5URUdSSVRZO1xyXG4gICAgICAgIHRoaXMudGhydXN0ZXIgPSBuZXcgVGhydXN0ZXIodGhpcywgdGhpcy5zY2VuZSk7XHJcbiAgICAgICAgdGhpcy5hdHRhY2htZW50cyA9IG5ldyBBdHRhY2htZW50TWFuYWdlcih0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9va0F0VGFyZ2V0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2tPdmVyaGVhdENvbmRpdGlvbigpO1xyXG4gICAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzLnVwZGF0ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGNoZWNrcyBmb3IgYW5kIGFwcGxpZXMgZGFtYWdlIGJhc2VkIG9uIGRlZ3JlZXMgb3ZlciBzYWZlIHRlbXBlcmF0dXJlIGF0IGEgcmF0ZVxyXG4gICAgICogZGVmaW5lZCBieSB7Q29uc3RhbnRzLk9WRVJIRUFUX0NIRUNLX0lOVEVSVkFMfSBtaWxsaXNlY29uZHMgYmV0d2VlbiBlYWNoIGNoZWNrLlxyXG4gICAgICogYWxzbyBhcHBsaWVzIGNvb2xpbmcgYXQgYSByYXRlIG9mIHtDb25zdGFudHMuQ09PTElOR19SQVRFfVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGNoZWNrT3ZlcmhlYXRDb25kaXRpb24oKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNjZW5lLmdhbWUuZ2V0VGltZSgpID4gdGhpcy5sYXN0T3ZlcmhlYXRDaGVjayArIENvbnN0YW50cy5PVkVSSEVBVF9DSEVDS19JTlRFUlZBTCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudGVtcGVyYXR1cmUgPiBDb25zdGFudHMuTUFYX1RFTVBFUkFUVVJFKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95KCk7IC8vIHdlIGFyZSBkZWFkXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50ZW1wZXJhdHVyZSA+IENvbnN0YW50cy5NQVhfU0FGRV9URU1QRVJBVFVSRSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlZHVjZSBpbnRlZ3JpdHkgYmFzZWQgb24gZGVncmVlcyBvdmVyIHNhZmUgb3BlcmF0aW5nIHRlbXBcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZGVsdGE6IG51bWJlciA9ICh0aGlzLnRlbXBlcmF0dXJlIC0gQ29uc3RhbnRzLk1BWF9TQUZFX1RFTVBFUkFUVVJFKSAvIENvbnN0YW50cy5NQVhfU0FGRV9URU1QRVJBVFVSRTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN1c3RhaW5EYW1hZ2UoZGVsdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5hcHBseUNvb2xpbmcoQ29uc3RhbnRzLkNPT0xJTkdfUkFURSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RPdmVyaGVhdENoZWNrID0gdGhpcy5zY2VuZS5nYW1lLmdldFRpbWUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHByaXZhdGUgbGFzdE92ZXJoZWF0Q2hlY2s6IG51bWJlciA9IDA7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUT0RPOiBuZWVkZWQgc28gd2UgY2FuIHVzZSBGbG9hdGluZyBPcmlnaW5cclxuICAgICAqL1xyXG4gICAgZ2V0UmVhbExvY2F0aW9uKCk6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIGlmICh0aGlzLmdldEdhbWVPYmplY3QoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFBoYXNlci5NYXRoLlZlY3RvcjIodGhpcy5nYW1lT2JqLngsIHRoaXMuZ2FtZU9iai55KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFBoYXNlci5NYXRoLlZlY3RvcjIuWkVSTztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHRoZSBsb2NhdGlvbiB3aXRoaW4gdGhlIHZpZXdhYmxlIGFyZWFcclxuICAgICAqIEByZXR1cm5zIGEge1BoYXNlci5NYXRoLlZlY3RvcjJ9IG9mZnNldCBmb3IgbG9jYXRpb24gd2l0aGluIGN1cnJlbnQgXHJcbiAgICAgKiB2aWV3YWJsZSBhcmVhXHJcbiAgICAgKi9cclxuICAgIGdldExvY2F0aW9uKCk6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIGlmICh0aGlzLmdldEdhbWVPYmplY3QoKSkge1xyXG4gICAgICAgICAgICBsZXQgY2FtZXJhUG9zOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5zY2VuZS5jYW1lcmFzLm1haW4uZ2V0V29ybGRQb2ludCgwLCAwKTtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKHRoaXMuZ2FtZU9iai54IC0gY2FtZXJhUG9zLngsIHRoaXMuZ2FtZU9iai55IC0gY2FtZXJhUG9zLnkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUGhhc2VyLk1hdGguVmVjdG9yMi5aRVJPO1xyXG4gICAgfVxyXG5cclxuICAgIGdldElkKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0R2FtZU9iamVjdCgpOiBQaGFzZXIuR2FtZU9iamVjdHMuQ29udGFpbmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nYW1lT2JqO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFBoeXNpY3NCb2R5KCk6IFBoYXNlci5QaHlzaWNzLkFyY2FkZS5Cb2R5IHtcclxuICAgICAgICBpZiAodGhpcy5nZXRHYW1lT2JqZWN0KCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0R2FtZU9iamVjdCgpLmJvZHkgYXMgUGhhc2VyLlBoeXNpY3MuQXJjYWRlLkJvZHk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFRhcmdldCh0YXJnZXQ6IEhhc0xvY2F0aW9uKSB7XHJcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VGFyZ2V0KCk6IEhhc0xvY2F0aW9uIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50YXJnZXQ7XHJcbiAgICB9XHJcblxyXG4gICAgbG9va0F0VGFyZ2V0KCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmdldFBoeXNpY3NCb2R5KCkpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0VGFyZ2V0KCkpIHtcclxuICAgICAgICAgICAgICAgIGxldCB0YXJnZXRQb3MgPSB0aGlzLmdldFRhcmdldCgpLmdldFJlYWxMb2NhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHNoaXBQb3MgPSB0aGlzLmdldFJlYWxMb2NhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHJhZGlhbnM6IG51bWJlciA9IFBoYXNlci5NYXRoLkFuZ2xlLkJldHdlZW4odGFyZ2V0UG9zLngsIHRhcmdldFBvcy55LCBzaGlwUG9zLngsIHNoaXBQb3MueSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGVncmVlczogbnVtYmVyID0gUGhhc2VyLk1hdGguUmFkVG9EZWcocmFkaWFucyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdldFBoeXNpY3NCb2R5KCkucm90YXRpb24gPSBkZWdyZWVzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogdGhlIHJvdGF0aW9uIG9mIHRoZSBTaGlwJ3Mge0dhbWVPYmplY3QuYm9keX0gaW4gZGVncmVlc1xyXG4gICAgICovXHJcbiAgICBnZXRSb3RhdGlvbigpOiBudW1iZXIge1xyXG4gICAgICAgIGlmICh0aGlzLmdldFBoeXNpY3NCb2R5KCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UGh5c2ljc0JvZHkoKS5yb3RhdGlvbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0SGVhZGluZygpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICByZXR1cm4gSGVscGVycy5nZXRIZWFkaW5nKHRoaXMuZ2V0UGh5c2ljc0JvZHkoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0U3BlZWQoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRWZWxvY2l0eSgpLmxlbmd0aCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFZlbG9jaXR5KCk6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIGlmICh0aGlzLmdldFBoeXNpY3NCb2R5KCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UGh5c2ljc0JvZHkoKS52ZWxvY2l0eS5jbG9uZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUGhhc2VyLk1hdGguVmVjdG9yMi5aRVJPO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFRlbXBlcmF0dXJlKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGVtcGVyYXR1cmU7XHJcbiAgICB9XHJcblxyXG4gICAgYXBwbHlIZWF0aW5nKGRlZ3JlZXM6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMudGVtcGVyYXR1cmUgKz0gZGVncmVlcztcclxuICAgIH1cclxuXHJcbiAgICBhcHBseUNvb2xpbmcoZGVncmVlczogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy50ZW1wZXJhdHVyZSAtPSBkZWdyZWVzO1xyXG4gICAgICAgIGlmICh0aGlzLnRlbXBlcmF0dXJlIDwgMCkge1xyXG4gICAgICAgICAgICB0aGlzLnRlbXBlcmF0dXJlID0gMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVkdWNlRnVlbChhbW91bnQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMucmVtYWluaW5nRnVlbCAtPSBhbW91bnQ7XHJcbiAgICAgICAgaWYgKHRoaXMucmVtYWluaW5nRnVlbCA8IDApIHtcclxuICAgICAgICAgICAgdGhpcy5yZW1haW5pbmdGdWVsID0gMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYWRkRnVlbChhbW91bnQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMucmVtYWluaW5nRnVlbCArPSBhbW91bnQ7XHJcbiAgICAgICAgaWYgKHRoaXMucmVtYWluaW5nRnVlbCA+IENvbnN0YW50cy5NQVhfRlVFTCkge1xyXG4gICAgICAgICAgICB0aGlzLnJlbWFpbmluZ0Z1ZWwgPSBDb25zdGFudHMuTUFYX0ZVRUw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldFJlbWFpbmluZ0Z1ZWwoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZW1haW5pbmdGdWVsO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEludGVncml0eSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmludGVncml0eTtcclxuICAgIH1cclxuXHJcbiAgICBzdXN0YWluRGFtYWdlKGFtb3VudDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5pbnRlZ3JpdHkgLT0gYW1vdW50O1xyXG4gICAgICAgIGlmICh0aGlzLmludGVncml0eSA8PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW50ZWdyaXR5ID0gMDtcclxuICAgICAgICAgICAgdGhpcy5kZXN0cm95KCk7IC8vIHdlIGFyZSBkZWFkXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlcGFpcihhbW91bnQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuaW50ZWdyaXR5ID0gYW1vdW50O1xyXG4gICAgICAgIGlmICh0aGlzLmludGVncml0eSA+IENvbnN0YW50cy5NQVhfSU5URUdSSVRZKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW50ZWdyaXR5ID0gQ29uc3RhbnRzLk1BWF9JTlRFR1JJVFk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRlc3Ryb3koKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmRpc3BsYXlTaGlwRXhwbG9zaW9uKCk7XHJcbiAgICAgICAgdGhpcy5nZXRHYW1lT2JqZWN0KCkuZGVzdHJveSgpO1xyXG4gICAgICAgIHRoaXMuZ2FtZU9iaiA9IG51bGw7XHJcbiAgICAgICAgLy8gVE9ETzogc2lnbmFsIGVuZCBvZiBnYW1lIGFuZCBkaXNwbGF5IG1lbnVcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGRpc3BsYXlTaGlwRXhwbG9zaW9uKCk6IHZvaWQge1xyXG4gICAgICAgIGxldCBwb3M6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSB0aGlzLmdldFJlYWxMb2NhdGlvbigpO1xyXG4gICAgICAgIHRoaXMuZXhwbG9zaW9uUGFydGljbGVzLmNyZWF0ZUVtaXR0ZXIoe1xyXG4gICAgICAgICAgICB4OiBwb3MueCxcclxuICAgICAgICAgICAgeTogcG9zLnksXHJcbiAgICAgICAgICAgIGxpZmVzcGFuOiB7IG1pbjogNTAwLCBtYXg6IDEwMDAgfSxcclxuICAgICAgICAgICAgc3BlZWRYOiB7IG1pbjogLTEsIG1heDogMSB9LFxyXG4gICAgICAgICAgICBzcGVlZFk6IHsgbWluOiAtMSwgbWF4OiAxIH0sXHJcbiAgICAgICAgICAgIGFuZ2xlOiB7IG1pbjogLTE4MCwgbWF4OiAxNzkgfSxcclxuICAgICAgICAgICAgZ3Jhdml0eVg6IDAsXHJcbiAgICAgICAgICAgIGdyYXZpdHlZOiAwLFxyXG4gICAgICAgICAgICBzY2FsZTogeyBzdGFydDogMSwgZW5kOiAwIH0sXHJcbiAgICAgICAgICAgIGJsZW5kTW9kZTogJ0FERCcsXHJcbiAgICAgICAgICAgIG1heFBhcnRpY2xlczogM1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuZmxhcmVQYXJ0aWNsZXMuY3JlYXRlRW1pdHRlcih7XHJcbiAgICAgICAgICAgIGZyYW1lOiBDb25zdGFudHMuRmxhcmUucmVkIGFzIG51bWJlcixcclxuICAgICAgICAgICAgeDogcG9zLngsXHJcbiAgICAgICAgICAgIHk6IHBvcy55LFxyXG4gICAgICAgICAgICBsaWZlc3BhbjogeyBtaW46IDEwMCwgbWF4OiA1MDAgfSxcclxuICAgICAgICAgICAgc3BlZWRYOiB7IG1pbjogLTYwMCwgbWF4OiA2MDAgfSxcclxuICAgICAgICAgICAgc3BlZWRZOiB7IG1pbjogLTYwMCwgbWF4OiA2MDAgfSxcclxuICAgICAgICAgICAgYW5nbGU6IHsgbWluOiAtMTgwLCBtYXg6IDE3OSB9LFxyXG4gICAgICAgICAgICBncmF2aXR5WDogMCxcclxuICAgICAgICAgICAgZ3Jhdml0eVk6IDAsXHJcbiAgICAgICAgICAgIHNjYWxlOiB7IHN0YXJ0OiAxLCBlbmQ6IDAgfSxcclxuICAgICAgICAgICAgYmxlbmRNb2RlOiAnQUREJyxcclxuICAgICAgICAgICAgbWF4UGFydGljbGVzOiAxMFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX18xMF9fOyIsImltcG9ydCB7IHY0IH0gZnJvbSBcInV1aWRcIjtcclxuXHJcbmV4cG9ydCBtb2R1bGUgUk5HIHtcclxuICAgIGV4cG9ydCBmdW5jdGlvbiBpbnQobWluOiBudW1iZXIsIG1heDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbjtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gZ3VpZCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB2NCgpO1xyXG4gICAgfVxyXG59IiwidmFyIHYxID0gcmVxdWlyZSgnLi92MScpO1xudmFyIHY0ID0gcmVxdWlyZSgnLi92NCcpO1xuXG52YXIgdXVpZCA9IHY0O1xudXVpZC52MSA9IHYxO1xudXVpZC52NCA9IHY0O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHV1aWQ7XG4iLCJ2YXIgcm5nID0gcmVxdWlyZSgnLi9saWIvcm5nJyk7XG52YXIgYnl0ZXNUb1V1aWQgPSByZXF1aXJlKCcuL2xpYi9ieXRlc1RvVXVpZCcpO1xuXG4vLyAqKmB2MSgpYCAtIEdlbmVyYXRlIHRpbWUtYmFzZWQgVVVJRCoqXG4vL1xuLy8gSW5zcGlyZWQgYnkgaHR0cHM6Ly9naXRodWIuY29tL0xpb3NLL1VVSUQuanNcbi8vIGFuZCBodHRwOi8vZG9jcy5weXRob24ub3JnL2xpYnJhcnkvdXVpZC5odG1sXG5cbnZhciBfbm9kZUlkO1xudmFyIF9jbG9ja3NlcTtcblxuLy8gUHJldmlvdXMgdXVpZCBjcmVhdGlvbiB0aW1lXG52YXIgX2xhc3RNU2VjcyA9IDA7XG52YXIgX2xhc3ROU2VjcyA9IDA7XG5cbi8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdXVpZGpzL3V1aWQgZm9yIEFQSSBkZXRhaWxzXG5mdW5jdGlvbiB2MShvcHRpb25zLCBidWYsIG9mZnNldCkge1xuICB2YXIgaSA9IGJ1ZiAmJiBvZmZzZXQgfHwgMDtcbiAgdmFyIGIgPSBidWYgfHwgW107XG5cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHZhciBub2RlID0gb3B0aW9ucy5ub2RlIHx8IF9ub2RlSWQ7XG4gIHZhciBjbG9ja3NlcSA9IG9wdGlvbnMuY2xvY2tzZXEgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY2xvY2tzZXEgOiBfY2xvY2tzZXE7XG5cbiAgLy8gbm9kZSBhbmQgY2xvY2tzZXEgbmVlZCB0byBiZSBpbml0aWFsaXplZCB0byByYW5kb20gdmFsdWVzIGlmIHRoZXkncmUgbm90XG4gIC8vIHNwZWNpZmllZC4gIFdlIGRvIHRoaXMgbGF6aWx5IHRvIG1pbmltaXplIGlzc3VlcyByZWxhdGVkIHRvIGluc3VmZmljaWVudFxuICAvLyBzeXN0ZW0gZW50cm9weS4gIFNlZSAjMTg5XG4gIGlmIChub2RlID09IG51bGwgfHwgY2xvY2tzZXEgPT0gbnVsbCkge1xuICAgIHZhciBzZWVkQnl0ZXMgPSBybmcoKTtcbiAgICBpZiAobm9kZSA9PSBudWxsKSB7XG4gICAgICAvLyBQZXIgNC41LCBjcmVhdGUgYW5kIDQ4LWJpdCBub2RlIGlkLCAoNDcgcmFuZG9tIGJpdHMgKyBtdWx0aWNhc3QgYml0ID0gMSlcbiAgICAgIG5vZGUgPSBfbm9kZUlkID0gW1xuICAgICAgICBzZWVkQnl0ZXNbMF0gfCAweDAxLFxuICAgICAgICBzZWVkQnl0ZXNbMV0sIHNlZWRCeXRlc1syXSwgc2VlZEJ5dGVzWzNdLCBzZWVkQnl0ZXNbNF0sIHNlZWRCeXRlc1s1XVxuICAgICAgXTtcbiAgICB9XG4gICAgaWYgKGNsb2Nrc2VxID09IG51bGwpIHtcbiAgICAgIC8vIFBlciA0LjIuMiwgcmFuZG9taXplICgxNCBiaXQpIGNsb2Nrc2VxXG4gICAgICBjbG9ja3NlcSA9IF9jbG9ja3NlcSA9IChzZWVkQnl0ZXNbNl0gPDwgOCB8IHNlZWRCeXRlc1s3XSkgJiAweDNmZmY7XG4gICAgfVxuICB9XG5cbiAgLy8gVVVJRCB0aW1lc3RhbXBzIGFyZSAxMDAgbmFuby1zZWNvbmQgdW5pdHMgc2luY2UgdGhlIEdyZWdvcmlhbiBlcG9jaCxcbiAgLy8gKDE1ODItMTAtMTUgMDA6MDApLiAgSlNOdW1iZXJzIGFyZW4ndCBwcmVjaXNlIGVub3VnaCBmb3IgdGhpcywgc29cbiAgLy8gdGltZSBpcyBoYW5kbGVkIGludGVybmFsbHkgYXMgJ21zZWNzJyAoaW50ZWdlciBtaWxsaXNlY29uZHMpIGFuZCAnbnNlY3MnXG4gIC8vICgxMDAtbmFub3NlY29uZHMgb2Zmc2V0IGZyb20gbXNlY3MpIHNpbmNlIHVuaXggZXBvY2gsIDE5NzAtMDEtMDEgMDA6MDAuXG4gIHZhciBtc2VjcyA9IG9wdGlvbnMubXNlY3MgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubXNlY3MgOiBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblxuICAvLyBQZXIgNC4yLjEuMiwgdXNlIGNvdW50IG9mIHV1aWQncyBnZW5lcmF0ZWQgZHVyaW5nIHRoZSBjdXJyZW50IGNsb2NrXG4gIC8vIGN5Y2xlIHRvIHNpbXVsYXRlIGhpZ2hlciByZXNvbHV0aW9uIGNsb2NrXG4gIHZhciBuc2VjcyA9IG9wdGlvbnMubnNlY3MgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubnNlY3MgOiBfbGFzdE5TZWNzICsgMTtcblxuICAvLyBUaW1lIHNpbmNlIGxhc3QgdXVpZCBjcmVhdGlvbiAoaW4gbXNlY3MpXG4gIHZhciBkdCA9IChtc2VjcyAtIF9sYXN0TVNlY3MpICsgKG5zZWNzIC0gX2xhc3ROU2VjcykvMTAwMDA7XG5cbiAgLy8gUGVyIDQuMi4xLjIsIEJ1bXAgY2xvY2tzZXEgb24gY2xvY2sgcmVncmVzc2lvblxuICBpZiAoZHQgPCAwICYmIG9wdGlvbnMuY2xvY2tzZXEgPT09IHVuZGVmaW5lZCkge1xuICAgIGNsb2Nrc2VxID0gY2xvY2tzZXEgKyAxICYgMHgzZmZmO1xuICB9XG5cbiAgLy8gUmVzZXQgbnNlY3MgaWYgY2xvY2sgcmVncmVzc2VzIChuZXcgY2xvY2tzZXEpIG9yIHdlJ3ZlIG1vdmVkIG9udG8gYSBuZXdcbiAgLy8gdGltZSBpbnRlcnZhbFxuICBpZiAoKGR0IDwgMCB8fCBtc2VjcyA+IF9sYXN0TVNlY3MpICYmIG9wdGlvbnMubnNlY3MgPT09IHVuZGVmaW5lZCkge1xuICAgIG5zZWNzID0gMDtcbiAgfVxuXG4gIC8vIFBlciA0LjIuMS4yIFRocm93IGVycm9yIGlmIHRvbyBtYW55IHV1aWRzIGFyZSByZXF1ZXN0ZWRcbiAgaWYgKG5zZWNzID49IDEwMDAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd1dWlkLnYxKCk6IENhblxcJ3QgY3JlYXRlIG1vcmUgdGhhbiAxME0gdXVpZHMvc2VjJyk7XG4gIH1cblxuICBfbGFzdE1TZWNzID0gbXNlY3M7XG4gIF9sYXN0TlNlY3MgPSBuc2VjcztcbiAgX2Nsb2Nrc2VxID0gY2xvY2tzZXE7XG5cbiAgLy8gUGVyIDQuMS40IC0gQ29udmVydCBmcm9tIHVuaXggZXBvY2ggdG8gR3JlZ29yaWFuIGVwb2NoXG4gIG1zZWNzICs9IDEyMjE5MjkyODAwMDAwO1xuXG4gIC8vIGB0aW1lX2xvd2BcbiAgdmFyIHRsID0gKChtc2VjcyAmIDB4ZmZmZmZmZikgKiAxMDAwMCArIG5zZWNzKSAlIDB4MTAwMDAwMDAwO1xuICBiW2krK10gPSB0bCA+Pj4gMjQgJiAweGZmO1xuICBiW2krK10gPSB0bCA+Pj4gMTYgJiAweGZmO1xuICBiW2krK10gPSB0bCA+Pj4gOCAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRsICYgMHhmZjtcblxuICAvLyBgdGltZV9taWRgXG4gIHZhciB0bWggPSAobXNlY3MgLyAweDEwMDAwMDAwMCAqIDEwMDAwKSAmIDB4ZmZmZmZmZjtcbiAgYltpKytdID0gdG1oID4+PiA4ICYgMHhmZjtcbiAgYltpKytdID0gdG1oICYgMHhmZjtcblxuICAvLyBgdGltZV9oaWdoX2FuZF92ZXJzaW9uYFxuICBiW2krK10gPSB0bWggPj4+IDI0ICYgMHhmIHwgMHgxMDsgLy8gaW5jbHVkZSB2ZXJzaW9uXG4gIGJbaSsrXSA9IHRtaCA+Pj4gMTYgJiAweGZmO1xuXG4gIC8vIGBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkYCAoUGVyIDQuMi4yIC0gaW5jbHVkZSB2YXJpYW50KVxuICBiW2krK10gPSBjbG9ja3NlcSA+Pj4gOCB8IDB4ODA7XG5cbiAgLy8gYGNsb2NrX3NlcV9sb3dgXG4gIGJbaSsrXSA9IGNsb2Nrc2VxICYgMHhmZjtcblxuICAvLyBgbm9kZWBcbiAgZm9yICh2YXIgbiA9IDA7IG4gPCA2OyArK24pIHtcbiAgICBiW2kgKyBuXSA9IG5vZGVbbl07XG4gIH1cblxuICByZXR1cm4gYnVmID8gYnVmIDogYnl0ZXNUb1V1aWQoYik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdjE7XG4iLCJ2YXIgcm5nID0gcmVxdWlyZSgnLi9saWIvcm5nJyk7XG52YXIgYnl0ZXNUb1V1aWQgPSByZXF1aXJlKCcuL2xpYi9ieXRlc1RvVXVpZCcpO1xuXG5mdW5jdGlvbiB2NChvcHRpb25zLCBidWYsIG9mZnNldCkge1xuICB2YXIgaSA9IGJ1ZiAmJiBvZmZzZXQgfHwgMDtcblxuICBpZiAodHlwZW9mKG9wdGlvbnMpID09ICdzdHJpbmcnKSB7XG4gICAgYnVmID0gb3B0aW9ucyA9PT0gJ2JpbmFyeScgPyBuZXcgQXJyYXkoMTYpIDogbnVsbDtcbiAgICBvcHRpb25zID0gbnVsbDtcbiAgfVxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICB2YXIgcm5kcyA9IG9wdGlvbnMucmFuZG9tIHx8IChvcHRpb25zLnJuZyB8fCBybmcpKCk7XG5cbiAgLy8gUGVyIDQuNCwgc2V0IGJpdHMgZm9yIHZlcnNpb24gYW5kIGBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkYFxuICBybmRzWzZdID0gKHJuZHNbNl0gJiAweDBmKSB8IDB4NDA7XG4gIHJuZHNbOF0gPSAocm5kc1s4XSAmIDB4M2YpIHwgMHg4MDtcblxuICAvLyBDb3B5IGJ5dGVzIHRvIGJ1ZmZlciwgaWYgcHJvdmlkZWRcbiAgaWYgKGJ1Zikge1xuICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCAxNjsgKytpaSkge1xuICAgICAgYnVmW2kgKyBpaV0gPSBybmRzW2lpXTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYnVmIHx8IGJ5dGVzVG9VdWlkKHJuZHMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHY0O1xuIiwiaW1wb3J0IHsgSGFzQXR0YWNobWVudHMgfSBmcm9tIFwiLi4vLi4vaW50ZXJmYWNlcy9oYXMtYXR0YWNobWVudHNcIjtcclxuaW1wb3J0IHsgU2hpcEF0dGFjaG1lbnQgfSBmcm9tIFwiLi9zaGlwLWF0dGFjaG1lbnRcIjtcclxuaW1wb3J0IHsgSGVscGVycyB9IGZyb20gXCIuLi8uLi91dGlsaXRpZXMvaGVscGVyc1wiO1xyXG5pbXBvcnQgeyBBdHRhY2htZW50TG9jYXRpb24gfSBmcm9tIFwiLi9hdHRhY2htZW50LWxvY2F0aW9uXCI7XHJcbmltcG9ydCB7IFVwZGF0YWJsZSB9IGZyb20gXCIuLi8uLi9pbnRlcmZhY2VzL3VwZGF0YWJsZVwiO1xyXG5pbXBvcnQgeyBTaGlwUG9kIH0gZnJvbSBcIi4uL3NoaXAtcG9kXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQXR0YWNobWVudE1hbmFnZXIgaW1wbGVtZW50cyBIYXNBdHRhY2htZW50cywgVXBkYXRhYmxlIHtcclxuICAgIHByaXZhdGUgYXR0YWNobWVudHM6IFNoaXBBdHRhY2htZW50W10gPSBbXTtcclxuICAgIHByaXZhdGUgc2hpcDogU2hpcFBvZDtcclxuXHJcbiAgICBhY3RpdmU6IGJvb2xlYW47XHJcblxyXG4gICAgY29uc3RydWN0b3IocGFyZW50OiBTaGlwUG9kKSB7XHJcbiAgICAgICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc2hpcCA9IHBhcmVudDtcclxuICAgICAgICBmb3IgKHZhciBpPTA7IGk8SGVscGVycy5lbnVtTGVuZ3RoKEF0dGFjaG1lbnRMb2NhdGlvbik7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzLnB1c2gobnVsbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5hY3RpdmUpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaT0wOyBpPHRoaXMuYXR0YWNobWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBhOiBTaGlwQXR0YWNobWVudCA9IHRoaXMuYXR0YWNobWVudHNbaV07XHJcbiAgICAgICAgICAgICAgICBpZiAoYSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGEudXBkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJvdGF0ZUF0dGFjaG1lbnRzQ2xvY2t3aXNlKCk6IHZvaWQge1xyXG4gICAgICAgIGxldCBsYXN0OiBTaGlwQXR0YWNobWVudCA9IHRoaXMuYXR0YWNobWVudHMucG9wKCk7IC8vIHJlbW92ZSBsYXN0IGVsZW1lbnRcclxuICAgICAgICB0aGlzLmF0dGFjaG1lbnRzLnVuc2hpZnQobGFzdCk7IC8vIHB1c2ggbGFzdCBlbGVtZW50IG9udG8gc3RhcnQgb2YgYXJyYXlcclxuICAgICAgICB0aGlzLnVwZGF0ZUF0dGFjaG1lbnRQb3NpdGlvbnMoKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcm90YXRlQXR0YWNobWVudHNBbnRpQ2xvY2t3aXNlKCk6IHZvaWQge1xyXG4gICAgICAgIGxldCBmaXJzdDogU2hpcEF0dGFjaG1lbnQgPSB0aGlzLmF0dGFjaG1lbnRzLnNoaWZ0KCk7IC8vIHJlbW92ZSBmaXJzdCBlbGVtZW50XHJcbiAgICAgICAgdGhpcy5hdHRhY2htZW50cy5wdXNoKGZpcnN0KTsgLy8gcHVzaCBmaXJzdCBlbGVtZW50IG9udG8gZW5kIG9mIGFycmF5XHJcbiAgICAgICAgdGhpcy51cGRhdGVBdHRhY2htZW50UG9zaXRpb25zKCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogYWRkcyB0aGUgcGFzc2VkIGluIHtTaGlwQXR0YWNobWVudH0gaW4ge0F0dGFjaG1lbnRMb2NhdGlvbi5mcm9udH0gb3JcclxuICAgICAqIHRoZSBmaXJzdCBvcGVuIHtBdHRhY2htZW50TG9jYXRpb259IGluIGEgY2xvY2t3aXNlIHNlYXJjaC4gaWYgbm8gb3BlblxyXG4gICAgICogc2xvdHMgZXhpc3QgdGhlbiB0aGUgZXhpc3Rpbmcge1NoaXBBdHRhY2htZW50fSBhdCB7QXR0YWNobWVudExvY2F0aW9uLmZyb250fVxyXG4gICAgICogaXMgZGV0YWNoZWQgYW5kIHJlcGxhY2VkIHdpdGggdGhlIHBhc3NlZCBpbiB7U2hpcEF0dGFjaG1lbnR9XHJcbiAgICAgKiBAcGFyYW0gYXR0YWNobWVudCB0aGUgYXR0YWNobWVudCB0byBiZSBhZGRlZFxyXG4gICAgICovXHJcbiAgICBhZGRBdHRhY2htZW50KGF0dGFjaG1lbnQ6IFNoaXBBdHRhY2htZW50KTogdm9pZCB7XHJcbiAgICAgICAgbGV0IGF0dGFjaGVkOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPEhlbHBlcnMuZW51bUxlbmd0aChBdHRhY2htZW50TG9jYXRpb24pOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmF0dGFjaG1lbnRzW2ldKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbG9jOiBBdHRhY2htZW50TG9jYXRpb247XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIEF0dGFjaG1lbnRMb2NhdGlvbi5mcm9udDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jID0gQXR0YWNobWVudExvY2F0aW9uLmZyb250O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIEF0dGFjaG1lbnRMb2NhdGlvbi5mcm9udFJpZ2h0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2MgPSBBdHRhY2htZW50TG9jYXRpb24uZnJvbnRSaWdodDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBBdHRhY2htZW50TG9jYXRpb24ucmlnaHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYyA9IEF0dGFjaG1lbnRMb2NhdGlvbi5yaWdodDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBBdHRhY2htZW50TG9jYXRpb24uYmFja1JpZ2h0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2MgPSBBdHRhY2htZW50TG9jYXRpb24uYmFja1JpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIEF0dGFjaG1lbnRMb2NhdGlvbi5iYWNrTGVmdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jID0gQXR0YWNobWVudExvY2F0aW9uLmJhY2tMZWZ0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIEF0dGFjaG1lbnRMb2NhdGlvbi5sZWZ0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2MgPSBBdHRhY2htZW50TG9jYXRpb24ubGVmdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBBdHRhY2htZW50TG9jYXRpb24uZnJvbnRMZWZ0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2MgPSBBdHRhY2htZW50TG9jYXRpb24uZnJvbnRMZWZ0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNobWVudHNbaV0gPSBhdHRhY2htZW50O1xyXG4gICAgICAgICAgICAgICAgYXR0YWNobWVudC5hdHRhY2godGhpcy5zaGlwLCBsb2MpO1xyXG4gICAgICAgICAgICAgICAgYXR0YWNoZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIWF0dGFjaGVkKSB7XHJcbiAgICAgICAgICAgIC8vIGRldGFjaCBjdXJyZW50IGZyb250IGF0dGFjaG1lbnRcclxuICAgICAgICAgICAgdGhpcy5hdHRhY2htZW50c1tBdHRhY2htZW50TG9jYXRpb24uZnJvbnRdLmRldGFjaCgpO1xyXG4gICAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzW0F0dGFjaG1lbnRMb2NhdGlvbi5mcm9udF0gPSBhdHRhY2htZW50O1xyXG4gICAgICAgICAgICBhdHRhY2htZW50LmF0dGFjaCh0aGlzLnNoaXAsIEF0dGFjaG1lbnRMb2NhdGlvbi5mcm9udCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNoaXAuZ2V0R2FtZU9iamVjdCgpLmFkZChhdHRhY2htZW50LmdldEdhbWVPYmplY3QoKSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJlbW92ZUF0dGFjaG1lbnQobG9jYXRpb246IEF0dGFjaG1lbnRMb2NhdGlvbik6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmF0dGFjaG1lbnRzW2xvY2F0aW9uXSkge1xyXG4gICAgICAgICAgICBsZXQgYm9keTogUGhhc2VyLlBoeXNpY3MuQXJjYWRlLkJvZHkgPSB0aGlzLmF0dGFjaG1lbnRzW2xvY2F0aW9uXS5nZXRQaHlzaWNzQm9keSgpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgbGV0IGdvOiBQaGFzZXIuR2FtZU9iamVjdHMuR2FtZU9iamVjdCA9IHRoaXMuYXR0YWNobWVudHNbbG9jYXRpb25dLmdldEdhbWVPYmplY3QoKTtcclxuICAgICAgICAgICAgdGhpcy5zaGlwLmdldEdhbWVPYmplY3QoKS5yZW1vdmUoZ28sIGZhbHNlKTtcclxuICAgICAgICAgICAgdGhpcy5hdHRhY2htZW50c1tsb2NhdGlvbl0uZGV0YWNoKCk7XHJcbiAgICAgICAgICAgIHRoaXMuYXR0YWNobWVudHNbbG9jYXRpb25dID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIC8vIG1vdmUgYXR0YWNobWVudCB0byBzaGlwIGxvY2F0aW9uIGFuZCByb3RhdGlvbiBhbmQgYXBwbHkgY3VycmVudCB2ZWxvY2l0eVxyXG4gICAgICAgICAgICBib2R5LnBvc2l0aW9uID0gdGhpcy5zaGlwLmdldFJlYWxMb2NhdGlvbigpO1xyXG4gICAgICAgICAgICBsZXQgc2hpcFZlbG9jaXR5VmVjdG9yOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5zaGlwLmdldFBoeXNpY3NCb2R5KCkudmVsb2NpdHk7XHJcbiAgICAgICAgICAgIGJvZHkuc2V0VmVsb2NpdHkoc2hpcFZlbG9jaXR5VmVjdG9yLngsIHNoaXBWZWxvY2l0eVZlY3Rvci55KTtcclxuICAgICAgICAgICAgYm9keS5yb3RhdGlvbiA9IHRoaXMuc2hpcC5nZXRSb3RhdGlvbigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgdGhyb3dBdHRhY2htZW50KGxvY2F0aW9uOiBBdHRhY2htZW50TG9jYXRpb24pOiB2b2lkIHtcclxuICAgICAgICBsZXQgYXR0YWNobWVudDogU2hpcEF0dGFjaG1lbnQgPSB0aGlzLmdldEF0dGFjaG1lbnQobG9jYXRpb24pO1xyXG4gICAgICAgIGlmIChhdHRhY2htZW50KSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGk9MDsgaTx0aGlzLmF0dGFjaG1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hdHRhY2htZW50c1tpXSAmJiB0aGlzLmF0dGFjaG1lbnRzW2ldID09IGF0dGFjaG1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUF0dGFjaG1lbnQoaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgYXR0YWNobWVudC50aHJvdygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBnZXRBdHRhY2htZW50cygpOiBTaGlwQXR0YWNobWVudFtdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hdHRhY2htZW50cztcclxuICAgIH1cclxuICAgIFxyXG4gICAgZ2V0QXR0YWNobWVudChsb2NhdGlvbjogQXR0YWNobWVudExvY2F0aW9uKTogU2hpcEF0dGFjaG1lbnQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmF0dGFjaG1lbnRzW2xvY2F0aW9uXTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHVwZGF0ZUF0dGFjaG1lbnRQb3NpdGlvbnMoKTogdm9pZCB7XHJcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPHRoaXMuYXR0YWNobWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuYXR0YWNobWVudHNbaV0pIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQXR0YWNobWVudExvY2F0aW9uLmZyb250OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzW2ldLnNldEF0dGFjaG1lbnRMb2NhdGlvbihBdHRhY2htZW50TG9jYXRpb24uZnJvbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIEF0dGFjaG1lbnRMb2NhdGlvbi5mcm9udFJpZ2h0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzW2ldLnNldEF0dGFjaG1lbnRMb2NhdGlvbihBdHRhY2htZW50TG9jYXRpb24uZnJvbnRSaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQXR0YWNobWVudExvY2F0aW9uLnJpZ2h0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzW2ldLnNldEF0dGFjaG1lbnRMb2NhdGlvbihBdHRhY2htZW50TG9jYXRpb24ucmlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIEF0dGFjaG1lbnRMb2NhdGlvbi5iYWNrUmlnaHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNobWVudHNbaV0uc2V0QXR0YWNobWVudExvY2F0aW9uKEF0dGFjaG1lbnRMb2NhdGlvbi5iYWNrUmlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIEF0dGFjaG1lbnRMb2NhdGlvbi5iYWNrTGVmdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hdHRhY2htZW50c1tpXS5zZXRBdHRhY2htZW50TG9jYXRpb24oQXR0YWNobWVudExvY2F0aW9uLmJhY2tMZWZ0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBBdHRhY2htZW50TG9jYXRpb24ubGVmdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hdHRhY2htZW50c1tpXS5zZXRBdHRhY2htZW50TG9jYXRpb24oQXR0YWNobWVudExvY2F0aW9uLmxlZnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIEF0dGFjaG1lbnRMb2NhdGlvbi5mcm9udExlZnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNobWVudHNbaV0uc2V0QXR0YWNobWVudExvY2F0aW9uKEF0dGFjaG1lbnRMb2NhdGlvbi5mcm9udExlZnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IENhblRocnVzdCB9IGZyb20gXCIuLi8uLi8uLi9pbnRlcmZhY2VzL2Nhbi10aHJ1c3RcIjtcclxuaW1wb3J0IHsgU2hpcFBvZCB9IGZyb20gXCIuLi8uLi9zaGlwLXBvZFwiO1xyXG5pbXBvcnQgeyBDb25zdGFudHMgfSBmcm9tIFwiLi4vLi4vLi4vdXRpbGl0aWVzL2NvbnN0YW50c1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRocnVzdGVyIGltcGxlbWVudHMgQ2FuVGhydXN0IHtcclxuICAgIHByaXZhdGUgc2hpcDogU2hpcFBvZDtcclxuICAgIHByaXZhdGUgc2NlbmU6IFBoYXNlci5TY2VuZTtcclxuICAgIHByaXZhdGUgZmxhcmVQYXJ0aWNsZXM6IFBoYXNlci5HYW1lT2JqZWN0cy5QYXJ0aWNsZXMuUGFydGljbGVFbWl0dGVyTWFuYWdlcjtcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3Ioc2hpcDogU2hpcFBvZCwgc2NlbmU6IFBoYXNlci5TY2VuZSkge1xyXG4gICAgICAgIHRoaXMuc2hpcCA9IHNoaXA7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuZmxhcmVQYXJ0aWNsZXMgPSBzY2VuZS5hZGQucGFydGljbGVzKCdmbGFyZXMnKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgdGhydXN0Rm93YXJkcygpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmFwcGx5VGhydXN0KENvbnN0YW50cy5USFJVU1RFUl9GT1JDRSwgQ29uc3RhbnRzLkZVRUxfUEVSX1RIUlVTVCwgQ29uc3RhbnRzLkhFQVRfUEVSX1RIUlVTVCk7XHJcbiAgICAgICAgdGhpcy5kaXNwbGF5VGhydXN0ZXJGaXJlKENvbnN0YW50cy5GbGFyZS55ZWxsb3csIDAuMiwgMSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHByaXZhdGUgbGFzdEJvb3N0VGltZTogbnVtYmVyID0gMDtcclxuICAgIGJvb3N0Rm9yd2FyZHMoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2NlbmUuZ2FtZS5nZXRUaW1lKCkgPj0gdGhpcy5sYXN0Qm9vc3RUaW1lICsgQ29uc3RhbnRzLkJPT1NURVJfQ09PTERPV05fVElNRSkge1xyXG4gICAgICAgICAgICB0aGlzLmFwcGx5VGhydXN0KENvbnN0YW50cy5CT09TVEVSX0ZPUkNFLCBDb25zdGFudHMuRlVFTF9QRVJfQk9PU1QsIENvbnN0YW50cy5IRUFUX1BFUl9CT09TVCk7XHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheVRocnVzdGVyRmlyZShDb25zdGFudHMuRmxhcmUuYmx1ZSwgMSwgMTApO1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RCb29zdFRpbWUgPSB0aGlzLnNjZW5lLmdhbWUuZ2V0VGltZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdHJhZmVMZWZ0KCk6IHZvaWQge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0cmFmZVJpZ2h0KCk6IHZvaWQge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHRocnVzdEJhY2t3YXJkcygpOiB2b2lkIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFwcGx5VGhydXN0KGZvcmNlOiBudW1iZXIsIGZ1ZWw6IG51bWJlciwgaGVhdDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2hpcC5nZXRSZW1haW5pbmdGdWVsKCkgPiAwKSB7XHJcbiAgICAgICAgICAgIGxldCBoZWFkaW5nOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5zaGlwLmdldEhlYWRpbmcoKTtcclxuICAgICAgICAgICAgbGV0IGRlbHRhVjogUGhhc2VyLk1hdGguVmVjdG9yMiA9IGhlYWRpbmcubXVsdGlwbHkobmV3IFBoYXNlci5NYXRoLlZlY3RvcjIoZm9yY2UsIGZvcmNlKSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2hpcC5nZXRQaHlzaWNzQm9keSgpLnZlbG9jaXR5LmFkZChkZWx0YVYpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5zaGlwLnJlZHVjZUZ1ZWwoZnVlbCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2hpcC5hcHBseUhlYXRpbmcoaGVhdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZGlzcGxheVRocnVzdGVyRmlyZShjb2xvdXI6IENvbnN0YW50cy5GbGFyZSwgc3RhcnRTY2FsZTogbnVtYmVyLCBxdWFudGl0eTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgLy8gbWFrZSB0aHJ1c3RlciBmaXJlXHJcbiAgICAgICAgbGV0IHBvczogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuc2hpcC5nZXRSZWFsTG9jYXRpb24oKTtcclxuICAgICAgICBsZXQgb2Zmc2V0OiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gbmV3IFBoYXNlci5NYXRoLlZlY3RvcjIoMjAsIDApLmFkZChwb3MpO1xyXG4gICAgICAgIGxldCBoOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5zaGlwLmdldEhlYWRpbmcoKS5uZWdhdGUoKTtcclxuICAgICAgICBsZXQgbG9jOiBQaGFzZXIuR2VvbS5Qb2ludCA9IFBoYXNlci5NYXRoLlJvdGF0ZUFyb3VuZChvZmZzZXQsIHBvcy54LCBwb3MueSwgUGhhc2VyLk1hdGguRGVnVG9SYWQodGhpcy5zaGlwLmdldFJvdGF0aW9uKCkpKTtcclxuICAgICAgICBsZXQgdjogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuc2hpcC5nZXRWZWxvY2l0eSgpO1xyXG4gICAgICAgIHRoaXMuZmxhcmVQYXJ0aWNsZXMuY3JlYXRlRW1pdHRlcih7XHJcbiAgICAgICAgICAgIGZyYW1lOiBjb2xvdXIgYXMgbnVtYmVyLFxyXG4gICAgICAgICAgICB4OiBsb2MueCxcclxuICAgICAgICAgICAgeTogbG9jLnksXHJcbiAgICAgICAgICAgIGxpZmVzcGFuOiB7IG1pbjogMjUwLCBtYXg6IDUwMCB9LFxyXG4gICAgICAgICAgICBzcGVlZFg6IHsgbWluOiBoLngqMTAwLCBtYXg6IGgueCo1MDAgfSxcclxuICAgICAgICAgICAgc3BlZWRZOiB7IG1pbjogaC55KjEwMCwgbWF4OiBoLnkqNTAwIH0sXHJcbiAgICAgICAgICAgIGFuZ2xlOiAwLFxyXG4gICAgICAgICAgICBncmF2aXR5WDogMCxcclxuICAgICAgICAgICAgZ3Jhdml0eVk6IDAsXHJcbiAgICAgICAgICAgIHNjYWxlOiB7IHN0YXJ0OiBzdGFydFNjYWxlLCBlbmQ6IDAgfSxcclxuICAgICAgICAgICAgcXVhbnRpdHk6IHF1YW50aXR5LFxyXG4gICAgICAgICAgICBibGVuZE1vZGU6ICdBREQnLFxyXG4gICAgICAgICAgICBtYXhQYXJ0aWNsZXM6IDEwXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBTaGlwQXR0YWNobWVudCB9IGZyb20gXCIuLi9zaGlwLWF0dGFjaG1lbnRcIjtcclxuaW1wb3J0IHsgQ2FuU2hvb3QgfSBmcm9tIFwiLi4vLi4vLi4vaW50ZXJmYWNlcy9jYW4tc2hvb3RcIjtcclxuaW1wb3J0IHsgQnVsbGV0IH0gZnJvbSBcIi4vYnVsbGV0XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ2Fubm9uQXR0YWNobWVudCBleHRlbmRzIFNoaXBBdHRhY2htZW50IGltcGxlbWVudHMgQ2FuU2hvb3Qge1xyXG4gICAgcHJpdmF0ZSBtYXhBbW1vOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHJlbWFpbmluZ0FtbW86IG51bWJlcjtcclxuICAgIHByaXZhdGUgbGFzdEZpcmVkOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIGZpcmluZ0RlbGF5OiBudW1iZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3Ioc2NlbmU6IFBoYXNlci5TY2VuZSkge1xyXG4gICAgICAgIHN1cGVyKHNjZW5lKTtcclxuXHJcbiAgICAgICAgdGhpcy5tYXhBbW1vID0gNTAwO1xyXG4gICAgICAgIHRoaXMucmVtYWluaW5nQW1tbyA9IHRoaXMubWF4QW1tbztcclxuICAgICAgICB0aGlzLmxhc3RGaXJlZCA9IDA7XHJcbiAgICAgICAgdGhpcy5maXJpbmdEZWxheSA9IDEwMDA7IC8vIG1pbGxpc2Vjb25kc1xyXG5cclxuICAgICAgICB0aGlzLmdhbWVPYmogPSB0aGlzLnNjZW5lLmFkZC5zcHJpdGUoMCwgMCwgJ2Nhbm5vbicpO1xyXG4gICAgICAgIHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5nYW1lT2JqKTtcclxuICAgIH1cclxuXHJcbiAgICByZWxvYWQoYW1vdW50OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnJlbWFpbmluZ0FtbW8gKz0gYW1vdW50O1xyXG4gICAgICAgIGlmICh0aGlzLnJlbWFpbmluZ0FtbW8gPiB0aGlzLm1heEFtbW8pIHtcclxuICAgICAgICAgICAgdGhpcy5yZW1haW5pbmdBbW1vID0gdGhpcy5tYXhBbW1vO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRSZW1haW5pbmdBbW1vKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVtYWluaW5nQW1tbztcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgdHJpZ2dlcigpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5hY3RpdmUpIHtcclxuICAgICAgICAgICAgdGhpcy5maXJlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZpcmUoZGlyZWN0aW9uPzogUGhhc2VyLk1hdGguVmVjdG9yMik6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5nZXRSZW1haW5pbmdBbW1vKCkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zY2VuZS5nYW1lLmdldFRpbWUoKSA+IHRoaXMubGFzdEZpcmVkICsgdGhpcy5maXJpbmdEZWxheSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBsb2M6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSB0aGlzLmdldFJlYWxMb2NhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBCdWxsZXQodGhpcy5zY2VuZSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB4OiBsb2MueCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeTogbG9jLnksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcmNlOiAzMDAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmdsZTogdGhpcy5nZXRSb3RhdGlvbigpXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0RmlyZWQgPSB0aGlzLnNjZW5lLmdhbWUuZ2V0VGltZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgU2hpcFBvZCB9IGZyb20gXCIuLi9zaGlwLXBvZFwiO1xyXG5pbXBvcnQgeyBIYXNHYW1lT2JqZWN0IH0gZnJvbSBcIi4uLy4uL2ludGVyZmFjZXMvaGFzLWdhbWUtb2JqZWN0XCI7XHJcbmltcG9ydCB7IFVwZGF0YWJsZSB9IGZyb20gXCIuLi8uLi9pbnRlcmZhY2VzL3VwZGF0YWJsZVwiO1xyXG5pbXBvcnQgeyBIYXNMb2NhdGlvbiB9IGZyb20gXCIuLi8uLi9pbnRlcmZhY2VzL2hhcy1sb2NhdGlvblwiO1xyXG5pbXBvcnQgeyBIYXNJbnRlZ3JpdHkgfSBmcm9tIFwiLi4vLi4vaW50ZXJmYWNlcy9oYXMtaW50ZWdyaXR5XCI7XHJcbmltcG9ydCB7IENvbnN0YW50cyB9IGZyb20gXCIuLi8uLi91dGlsaXRpZXMvY29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IEF0dGFjaG1lbnRMb2NhdGlvbiB9IGZyb20gXCIuL2F0dGFjaG1lbnQtbG9jYXRpb25cIjtcclxuaW1wb3J0IHsgSGVscGVycyB9IGZyb20gXCIuLi8uLi91dGlsaXRpZXMvaGVscGVyc1wiO1xyXG5pbXBvcnQgeyBIYXNQaHlzaWNzR2FtZU9iamVjdCB9IGZyb20gXCIuLi8uLi9pbnRlcmZhY2VzL2hhcy1waHlzaWNzLWdhbWUtb2JqZWN0XCI7XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgU2hpcEF0dGFjaG1lbnQgaW1wbGVtZW50cyBVcGRhdGFibGUsIEhhc0dhbWVPYmplY3Q8UGhhc2VyLkdhbWVPYmplY3RzLlNwcml0ZT4sIEhhc1BoeXNpY3NHYW1lT2JqZWN0LCBIYXNMb2NhdGlvbiwgSGFzSW50ZWdyaXR5IHtcclxuICAgIHByb3RlY3RlZCBzaGlwOiBTaGlwUG9kO1xyXG4gICAgcHJvdGVjdGVkIHNjZW5lOiBQaGFzZXIuU2NlbmU7XHJcbiAgICBwcm90ZWN0ZWQgZ2FtZU9iajogUGhhc2VyLkdhbWVPYmplY3RzLlNwcml0ZTtcclxuICAgIHByb3RlY3RlZCBpbnRlZ3JpdHk6IG51bWJlcjtcclxuICAgIHByb3RlY3RlZCBhdHRhY2htZW50TG9jYXRpb246IEF0dGFjaG1lbnRMb2NhdGlvbjtcclxuICAgIHByb3RlY3RlZCBpc1Rocm93bjogYm9vbGVhbjtcclxuXHJcbiAgICBhY3RpdmU6IGJvb2xlYW47XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lOiBQaGFzZXIuU2NlbmUpIHtcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuaW50ZWdyaXR5ID0gQ29uc3RhbnRzLk1BWF9JTlRFR1JJVFk7XHJcbiAgICAgICAgdGhpcy5pc1Rocm93biA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGF0dGFjaChzaGlwOiBTaGlwUG9kLCBsb2NhdGlvbj86IEF0dGFjaG1lbnRMb2NhdGlvbik6IHZvaWQge1xyXG4gICAgICAgIGlmICghbG9jYXRpb24pIHtcclxuICAgICAgICAgICAgbG9jYXRpb24gPSBBdHRhY2htZW50TG9jYXRpb24uZnJvbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2hpcCA9IHNoaXA7XHJcbiAgICAgICAgdGhpcy5zZXRBdHRhY2htZW50TG9jYXRpb24obG9jYXRpb24pO1xyXG4gICAgICAgIGxldCBjZW50cmU6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSB0aGlzLnNoaXAuZ2V0UmVhbExvY2F0aW9uKCk7XHJcbiAgICAgICAgdGhpcy5nZXRQaHlzaWNzQm9keSgpLnBvc2l0aW9uID0gY2VudHJlOyAvLyBjZW50cmUgb24gc2hpcCBsb2NhdGlvblxyXG4gICAgICAgIHRoaXMuZ2V0UGh5c2ljc0JvZHkoKS5yb3RhdGlvbiA9IHRoaXMuc2hpcC5nZXRSb3RhdGlvbigpOyAvLyBzZXQgaGVhZGluZyB0byBtYXRjaCBzaGlwXHJcbiAgICAgICAgLy8gVE9ETzogb2Zmc2V0IGF0dGFjaG1lbnQgYnkgWFggdW5pdHMgaW4gdGhlIGZvcndhcmQgZGlyZWN0aW9uXHJcbiAgICB9XHJcblxyXG4gICAgZGV0YWNoKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc2hpcCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5hdHRhY2htZW50TG9jYXRpb24gPSBudWxsO1xyXG4gICAgICAgIGxldCBnbzogUGhhc2VyLkdhbWVPYmplY3RzLkdhbWVPYmplY3QgPSB0aGlzLmdldEdhbWVPYmplY3QoKTtcclxuICAgICAgICBnby5zZXRBY3RpdmUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5hZGQuZXhpc3RpbmcoZ28pO1xyXG4gICAgfVxyXG5cclxuICAgIHRocm93KCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuaXNUaHJvd24gPSB0cnVlO1xyXG4gICAgICAgIGxldCBkZWx0YVYgPSB0aGlzLmdldEhlYWRpbmcoKTtcclxuICAgICAgICBkZWx0YVYubXVsdGlwbHkobmV3IFBoYXNlci5NYXRoLlZlY3RvcjIoQ29uc3RhbnRzLlRIUk9XX0ZPUkNFLCBDb25zdGFudHMuVEhST1dfRk9SQ0UpKTtcclxuICAgICAgICBpZiAodGhpcy5zaGlwKSB7XHJcbiAgICAgICAgICAgIGRlbHRhVi5hZGQodGhpcy5zaGlwLmdldFBoeXNpY3NCb2R5KCkudmVsb2NpdHkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBhZGQgdGhyb3cgZm9yY2UgdG8gY3VycmVudCB2ZWxvY2l0eVxyXG4gICAgICAgIHRoaXMuZ2V0UGh5c2ljc0JvZHkoKS52ZWxvY2l0eS5hZGQoZGVsdGFWKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgZ2V0R2FtZU9iamVjdCgpOiBQaGFzZXIuR2FtZU9iamVjdHMuU3ByaXRlIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nYW1lT2JqO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFBoeXNpY3NCb2R5KCk6IFBoYXNlci5QaHlzaWNzLkFyY2FkZS5Cb2R5IHtcclxuICAgICAgICBpZiAodGhpcy5nZXRHYW1lT2JqZWN0KCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0R2FtZU9iamVjdCgpLmJvZHkgYXMgUGhhc2VyLlBoeXNpY3MuQXJjYWRlLkJvZHk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGFic3RyYWN0IHVwZGF0ZSgpOiB2b2lkO1xyXG5cclxuICAgIGFic3RyYWN0IHRyaWdnZXIoKTogdm9pZDtcclxuXHJcbiAgICBnZXRSb3RhdGlvbigpOiBudW1iZXIge1xyXG4gICAgICAgIGxldCByb3RhdGlvbjogbnVtYmVyID0gdGhpcy5nZXRQaHlzaWNzQm9keSgpLnJvdGF0aW9uO1xyXG4gICAgICAgIGlmICh0aGlzLnNoaXApIHtcclxuICAgICAgICAgICAgcm90YXRpb24gKz0gdGhpcy5zaGlwLmdldFJvdGF0aW9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByb3RhdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgYSBub3JtYWxpc2VkIHtQaGFzZXIuTWF0aC5WZWN0b3IyfSByZXByZXNlbnRpbmcgXHJcbiAgICAgKiB0aGUgZGlyZWN0aW9uIHRoaXMgb2JqZWN0IHdvdWxkIHRyYXZlbFxyXG4gICAgICovXHJcbiAgICBnZXRIZWFkaW5nKCk6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIGxldCByb3RhdGlvbjogbnVtYmVyID0gdGhpcy5nZXRSb3RhdGlvbigpO1xyXG4gICAgICAgIHJldHVybiBIZWxwZXJzLmdldEhlYWRpbmdGcm9tUm90YXRpb24ocm90YXRpb24pO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFNwZWVkKCk6IG51bWJlciB7XHJcbiAgICAgICAgbGV0IHNwZWVkOiBudW1iZXIgPSB0aGlzLmdldFZlbG9jaXR5KCkubGVuZ3RoKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuc2hpcCkge1xyXG4gICAgICAgICAgICBzcGVlZCArPSB0aGlzLnNoaXAuZ2V0U3BlZWQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHNwZWVkO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFZlbG9jaXR5KCk6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIGlmICh0aGlzLmdldFBoeXNpY3NCb2R5KCkpIHtcclxuICAgICAgICAgICAgbGV0IHZlbG9jaXR5OiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5nZXRQaHlzaWNzQm9keSgpLnZlbG9jaXR5LmNsb25lKCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNoaXApIHtcclxuICAgICAgICAgICAgICAgIHZlbG9jaXR5LmFkZCh0aGlzLnNoaXAuZ2V0VmVsb2NpdHkoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHZlbG9jaXR5O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUGhhc2VyLk1hdGguVmVjdG9yMi5aRVJPO1xyXG4gICAgfVxyXG5cclxuICAgIGdldExvY2F0aW9uKCk6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIGxldCBjYW1lcmFQb3M6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSB0aGlzLnNjZW5lLmNhbWVyYXMubWFpbi5nZXRXb3JsZFBvaW50KDAsIDApO1xyXG4gICAgICAgIGxldCByZWFsTG9jOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5nZXRSZWFsTG9jYXRpb24oKTtcclxuICAgICAgICByZXR1cm4gbmV3IFBoYXNlci5NYXRoLlZlY3RvcjIocmVhbExvYy54IC0gY2FtZXJhUG9zLngsIHJlYWxMb2MueSAtIGNhbWVyYVBvcy55KTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRSZWFsTG9jYXRpb24oKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgbGV0IGJvZHk6IFBoYXNlci5QaHlzaWNzLkFyY2FkZS5Cb2R5ID0gdGhpcy5nZXRQaHlzaWNzQm9keSgpO1xyXG4gICAgICAgIGxldCByZWFsTG9jYXRpb246IFBoYXNlci5NYXRoLlZlY3RvcjIgPSBuZXcgUGhhc2VyLk1hdGguVmVjdG9yMihib2R5LngsIGJvZHkueSk7XHJcbiAgICAgICAgaWYgKHRoaXMuc2hpcCkge1xyXG4gICAgICAgICAgICByZWFsTG9jYXRpb24uYWRkKHRoaXMuc2hpcC5nZXRSZWFsTG9jYXRpb24oKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZWFsTG9jYXRpb247XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0SW50ZWdyaXR5KCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW50ZWdyaXR5O1xyXG4gICAgfVxyXG5cclxuICAgIHN1c3RhaW5EYW1hZ2UoYW1vdW50OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmludGVncml0eSAtPSBhbW91bnQ7XHJcbiAgICAgICAgaWYgKHRoaXMuaW50ZWdyaXR5IDw9IDApIHtcclxuICAgICAgICAgICAgdGhpcy5pbnRlZ3JpdHkgPSAwO1xyXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAvLyBUT0RPOiBkZXN0cm95IGF0dGFjaG1lbnRcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVwYWlyKGFtb3VudDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5pbnRlZ3JpdHkgPSBhbW91bnQ7XHJcbiAgICAgICAgaWYgKHRoaXMuaW50ZWdyaXR5ID4gQ29uc3RhbnRzLk1BWF9JTlRFR1JJVFkpIHtcclxuICAgICAgICAgICAgdGhpcy5pbnRlZ3JpdHkgPSBDb25zdGFudHMuTUFYX0lOVEVHUklUWTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc2hpcC5hdHRhY2htZW50cy5yZW1vdmVBdHRhY2htZW50KHRoaXMuYXR0YWNobWVudExvY2F0aW9uKTtcclxuICAgICAgICB0aGlzLmdldEdhbWVPYmplY3QoKS5kZXN0cm95KCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0QXR0YWNobWVudExvY2F0aW9uKGxvYzogQXR0YWNobWVudExvY2F0aW9uKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5hdHRhY2htZW50TG9jYXRpb24gPSBsb2M7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBIYXNHYW1lT2JqZWN0IH0gZnJvbSBcIi4uLy4uLy4uL2ludGVyZmFjZXMvaGFzLWdhbWUtb2JqZWN0XCI7XHJcbmltcG9ydCB7IEJ1bGxldFBhcmFtZXRlcnMgfSBmcm9tIFwiLi4vLi4vLi4vaW50ZXJmYWNlcy9idWxsZXQtcGFyYW1ldGVyc1wiO1xyXG5pbXBvcnQgeyBIYXNMb2NhdGlvbiB9IGZyb20gXCIuLi8uLi8uLi9pbnRlcmZhY2VzL2hhcy1sb2NhdGlvblwiO1xyXG5pbXBvcnQgeyBHbG9iYWxzIH0gZnJvbSBcIi4uLy4uLy4uL3V0aWxpdGllcy9nbG9iYWxzXCI7XHJcbmltcG9ydCB7IEhhc1BoeXNpY3NHYW1lT2JqZWN0IH0gZnJvbSBcIi4uLy4uLy4uL2ludGVyZmFjZXMvaGFzLXBoeXNpY3MtZ2FtZS1vYmplY3RcIjtcclxuaW1wb3J0IHsgSGVscGVycyB9IGZyb20gXCIuLi8uLi8uLi91dGlsaXRpZXMvaGVscGVyc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEJ1bGxldCBpbXBsZW1lbnRzIEhhc0dhbWVPYmplY3Q8UGhhc2VyLkdhbWVPYmplY3RzLlNwcml0ZT4sIEhhc1BoeXNpY3NHYW1lT2JqZWN0LCBIYXNMb2NhdGlvbiB7XHJcbiAgICBzY2VuZTogUGhhc2VyLlNjZW5lO1xyXG4gICAgZm9yY2U6IG51bWJlcjtcclxuICAgIGdhbWVPYmo6IFBoYXNlci5HYW1lT2JqZWN0cy5TcHJpdGU7XHJcbiAgICBhY3RpdmU6IGJvb2xlYW47XHJcblxyXG4gICAgY29uc3RydWN0b3Ioc2NlbmU6IFBoYXNlci5TY2VuZSwgcGFyYW1zOiBCdWxsZXRQYXJhbWV0ZXJzKSB7XHJcbiAgICAgICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLmZvcmNlID0gcGFyYW1zLmZvcmNlIHx8IDA7XHJcbiAgICAgICAgdGhpcy5nYW1lT2JqID0gdGhpcy5zY2VuZS5hZGQuc3ByaXRlKHBhcmFtcy54IHx8IDAsIHBhcmFtcy55IHx8IDAsICdidWxsZXQnKTtcclxuICAgICAgICB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMuZ2FtZU9iaik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5nZXRQaHlzaWNzQm9keSgpLnJvdGF0aW9uID0gcGFyYW1zLmFuZ2xlIHx8IDA7XHJcbiAgICAgICAgdGhpcy5hZGRDb2xsaXNpb25EZXRlY3Rpb24oKTtcclxuICAgICAgICB0aGlzLnNldEluTW90aW9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhZGRDb2xsaXNpb25EZXRlY3Rpb24oKTogdm9pZCB7XHJcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPEdsb2JhbHMuaW50ZXJhY3RhYmxlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuZ2FtZU9iaiwgR2xvYmFscy5pbnRlcmFjdGFibGVzW2ldLCB0aGlzLm9uSW1wYWN0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBvbkltcGFjdChidWxsZXQ6IFBoYXNlci5HYW1lT2JqZWN0cy5HYW1lT2JqZWN0LCB0YXJnZXQ6IFBoYXNlci5HYW1lT2JqZWN0cy5HYW1lT2JqZWN0KTogdm9pZCB7XHJcbiAgICAgICAgLy8gVE9ETzogaW1wYXJ0IGRhbWFnZSB0byB0YXJnZXQgYW5kIGRlc3Ryb3kgYnVsbGV0XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0R2FtZU9iamVjdCgpOiBQaGFzZXIuR2FtZU9iamVjdHMuU3ByaXRlIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nYW1lT2JqO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFBoeXNpY3NCb2R5KCk6IFBoYXNlci5QaHlzaWNzLkFyY2FkZS5Cb2R5IHtcclxuICAgICAgICBpZiAodGhpcy5nZXRHYW1lT2JqZWN0KCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0R2FtZU9iamVjdCgpLmJvZHkgYXMgUGhhc2VyLlBoeXNpY3MuQXJjYWRlLkJvZHk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldFJvdGF0aW9uKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UGh5c2ljc0JvZHkoKS5yb3RhdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBnZXRIZWFkaW5nKCk6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIHJldHVybiBIZWxwZXJzLmdldEhlYWRpbmcodGhpcy5nZXRQaHlzaWNzQm9keSgpKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRTcGVlZCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFZlbG9jaXR5KCkubGVuZ3RoKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VmVsb2NpdHkoKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0UGh5c2ljc0JvZHkoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRQaHlzaWNzQm9keSgpLnZlbG9jaXR5LmNsb25lKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBQaGFzZXIuTWF0aC5WZWN0b3IyLlpFUk87XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0TG9jYXRpb24oKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgbGV0IGNhbWVyYVBvczogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuc2NlbmUuY2FtZXJhcy5tYWluLmdldFdvcmxkUG9pbnQoMCwgMCk7XHJcbiAgICAgICAgbGV0IGdvOiBQaGFzZXIuUGh5c2ljcy5BcmNhZGUuQm9keSA9IHRoaXMuZ2V0UGh5c2ljc0JvZHkoKTtcclxuICAgICAgICByZXR1cm4gbmV3IFBoYXNlci5NYXRoLlZlY3RvcjIoZ28ueCAtIGNhbWVyYVBvcy54LCBnby55IC0gY2FtZXJhUG9zLnkpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFJlYWxMb2NhdGlvbigpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICByZXR1cm4gbmV3IFBoYXNlci5NYXRoLlZlY3RvcjIodGhpcy5nYW1lT2JqLngsIHRoaXMuZ2FtZU9iai55KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldEluTW90aW9uKCk6IHZvaWQge1xyXG4gICAgICAgIGxldCBoZWFkaW5nOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5nZXRIZWFkaW5nKCk7XHJcbiAgICAgICAgLy8gYWRkIGZvcmNlIHRvIGhlYWRpbmdcclxuICAgICAgICBsZXQgZGVsdGFWOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gaGVhZGluZy5tdWx0aXBseShuZXcgUGhhc2VyLk1hdGguVmVjdG9yMih0aGlzLmZvcmNlLCB0aGlzLmZvcmNlKSk7XHJcbiAgICAgICAgdGhpcy5nZXRQaHlzaWNzQm9keSgpLnZlbG9jaXR5LmFkZChkZWx0YVYpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgSGFzTG9jYXRpb24gfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9oYXMtbG9jYXRpb25cIjtcclxuaW1wb3J0IHsgTW91c2VXaGVlbFNjcm9sbCB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL21vdXNlLXdoZWVsLXNjcm9sbFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1vdXNlIGltcGxlbWVudHMgSGFzTG9jYXRpb24ge1xyXG4gICAgcHJpdmF0ZSBzY2VuZTogUGhhc2VyLlNjZW5lO1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZTogUGhhc2VyLlNjZW5lKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuc2NlbmUuaW5wdXQubW91c2UuY2FwdHVyZSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0QW5nbGUoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zY2VuZS5pbnB1dC5hY3RpdmVQb2ludGVyLmdldEFuZ2xlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Um90YXRpb24oKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRBbmdsZSgpICogKE1hdGguUEkgLyAxODApO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEhlYWRpbmcoKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgbGV0IHJvdGF0aW9uOiBudW1iZXIgPSB0aGlzLmdldEFuZ2xlKCk7XHJcbiAgICAgICAgbGV0IHg6IG51bWJlciA9IE1hdGguY29zKHJvdGF0aW9uKTtcclxuICAgICAgICBsZXQgeTogbnVtYmVyID0gTWF0aC5zaW4ocm90YXRpb24pO1xyXG4gICAgICAgIHJldHVybiBuZXcgUGhhc2VyLk1hdGguVmVjdG9yMih4LCB5KS5ub3JtYWxpemUoKS5uZWdhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRTcGVlZCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFZlbG9jaXR5KCkubGVuZ3RoKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VmVsb2NpdHkoKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NlbmUuaW5wdXQuYWN0aXZlUG9pbnRlci52ZWxvY2l0eS5jbG9uZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmV0dXJucyB0aGUgcG9zaXRpb24gb2YgdGhlIG1vdXNlIHdpdGhpbiB0aGUgYm91bmRzIG9mIHRoZSBjdXJyZW50XHJcbiAgICAgKiBzY3JlZW4uXHJcbiAgICAgKiBAcmV0dXJucyBhIHtQaGFzZXIuTWF0aC5WZWN0b3IyfSBjbG9uZSBvZiB0aGUgcG9zaXRpb25cclxuICAgICAqL1xyXG4gICAgZ2V0TG9jYXRpb24oKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coYG1vdXNlIGxvY2F0aW9uOiAke0pTT04uc3RyaW5naWZ5KHRoaXMubG9jYXRpb24pfWApO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNjZW5lLmlucHV0LmFjdGl2ZVBvaW50ZXIucG9zaXRpb24uY2xvbmUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIG9mZnNldHMgdGhlIHNjcmVlbiBwb3NpdGlvbiBiYXNlZCBvbiBjYW1lcmEgcG9zaXRpb25cclxuICAgICAqL1xyXG4gICAgZ2V0UmVhbExvY2F0aW9uKCk6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGBtb3VzZSBSRUFMIGxvY2F0aW9uOiAke0pTT04uc3RyaW5naWZ5KHdvcmxkKX1gKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5zY2VuZS5pbnB1dC5hY3RpdmVQb2ludGVyLnBvc2l0aW9uVG9DYW1lcmEodGhpcy5zY2VuZS5jYW1lcmFzLm1haW4pIGFzIFBoYXNlci5NYXRoLlZlY3RvcjI7XHJcbiAgICB9XHJcblxyXG4gICAgb25XaGVlbFVwPFQgZXh0ZW5kcyBNb3VzZVdoZWVsU2Nyb2xsPihmdW5jOiBUKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5pbnB1dC5vbihQaGFzZXIuSW5wdXQuRXZlbnRzLlBPSU5URVJfV0hFRUwsIChwb2ludGVyLCBjdXJyZW50bHlPdmVyLCBkeCwgZHksIGR6LCBldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZHkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBmdW5jKGR5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG9uV2hlZWxEb3duPFQgZXh0ZW5kcyBNb3VzZVdoZWVsU2Nyb2xsPihmdW5jOiBUKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5pbnB1dC5vbihQaGFzZXIuSW5wdXQuRXZlbnRzLlBPSU5URVJfV0hFRUwsIChwb2ludGVyLCBjdXJyZW50bHlPdmVyLCBkeCwgZHksIGR6LCBldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZHkgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICBmdW5jKC1keSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEdsb2JhbHMgfSBmcm9tIFwiLi4vdXRpbGl0aWVzL2dsb2JhbHNcIjtcclxuaW1wb3J0IHsgU2hpcFBvZCB9IGZyb20gXCIuLi9zaGlwcy9zaGlwLXBvZFwiO1xyXG5cclxuY29uc3Qgc2NlbmVDb25maWc6IFBoYXNlci5UeXBlcy5TY2VuZXMuU2V0dGluZ3NDb25maWcgPSB7XHJcbiAgICBhY3RpdmU6IHRydWUsXHJcbiAgICB2aXNpYmxlOiB0cnVlLFxyXG4gICAga2V5OiAnT3ZlcmxheVNjZW5lJ1xyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIE92ZXJsYXlTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBwcml2YXRlIGRlYnVnOiBQaGFzZXIuR2FtZU9iamVjdHMuVGV4dDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcihzY2VuZUNvbmZpZyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHByZWxvYWQoKTogdm9pZCB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjcmVhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5kZWJ1ZyA9IHRoaXMuYWRkLnRleHQoMTAsIDEwLCAnJywgeyBmb250OiAnMTZweCBDb3VyaWVyJywgZmlsbDogJyNmZmRkZGQnIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKEdsb2JhbHMucGxheWVyKSB7XHJcbiAgICAgICAgICAgIGxldCBwOiBTaGlwUG9kID0gR2xvYmFscy5wbGF5ZXI7XHJcbiAgICAgICAgICAgIGxldCBsb2M6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSBwLmdldFJlYWxMb2NhdGlvbigpO1xyXG4gICAgICAgICAgICB0aGlzLmRlYnVnLnNldFRleHQoW1xyXG4gICAgICAgICAgICAgICAgYFNwZWVkOiAke3AuZ2V0U3BlZWQoKS50b0ZpeGVkKDEpfWAsXHJcbiAgICAgICAgICAgICAgICBgSW50ZWdyaXR5OiAke3AuZ2V0SW50ZWdyaXR5KCkudG9GaXhlZCgxKX1gLFxyXG4gICAgICAgICAgICAgICAgYEhlYXQ6ICR7cC5nZXRUZW1wZXJhdHVyZSgpLnRvRml4ZWQoMSl9YCxcclxuICAgICAgICAgICAgICAgIGBGdWVsOiAke3AuZ2V0UmVtYWluaW5nRnVlbCgpLnRvRml4ZWQoMSl9YCxcclxuICAgICAgICAgICAgICAgIGBMb2NhdGlvbjogJHtsb2MueC50b0ZpeGVkKDEpfSwke2xvYy55LnRvRml4ZWQoMSl9YCxcclxuICAgICAgICAgICAgICAgIGBBbmdsZTogJHtwLmdldFJvdGF0aW9uKCkudG9GaXhlZCgxKX1gXHJcbiAgICAgICAgICAgIF0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImNvbnN0IHNjZW5lQ29uZmlnOiBQaGFzZXIuVHlwZXMuU2NlbmVzLlNldHRpbmdzQ29uZmlnID0ge1xyXG4gICAgYWN0aXZlOiB0cnVlLFxyXG4gICAgdmlzaWJsZTogdHJ1ZSxcclxuICAgIGtleTogJ0ZhclN0YXJzJ1xyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIEZhclN0YXJzU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoc2NlbmVDb25maWcpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwcmVsb2FkKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZmFyLXN0YXJzJywgJy4vYXNzZXRzL2JhY2tncm91bmRzL3N0YXJmaWVsZC10aWxlLTUxMng1MTIucG5nJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNyZWF0ZSgpOiB2b2lkIHtcclxuICAgICAgICBsZXQgeE9mZnNldDogbnVtYmVyID0gTWF0aC5jZWlsKHRoaXMuZ2FtZS5jYW52YXMud2lkdGggLyAyKTtcclxuICAgICAgICBsZXQgeU9mZnNldDogbnVtYmVyID0gTWF0aC5jZWlsKHRoaXMuZ2FtZS5jYW52YXMuaGVpZ2h0IC8gMik7XHJcbiAgICAgICAgdGhpcy5hZGQudGlsZVNwcml0ZSh4T2Zmc2V0LCB5T2Zmc2V0LCB0aGlzLmdhbWUuY2FudmFzLndpZHRoICsgMTAsIHRoaXMuZ2FtZS5jYW52YXMuaGVpZ2h0ICsgMTAsICdmYXItc3RhcnMnKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgWm9vbWFibGVTY2VuZSB9IGZyb20gXCIuL3pvb21hYmxlLXNjZW5lXCI7XHJcbmltcG9ydCB7IEdsb2JhbHMgfSBmcm9tIFwiLi4vdXRpbGl0aWVzL2dsb2JhbHNcIjtcclxuXHJcbmNvbnN0IHNjZW5lQ29uZmlnOiBQaGFzZXIuVHlwZXMuU2NlbmVzLlNldHRpbmdzQ29uZmlnID0ge1xyXG4gICAgYWN0aXZlOiB0cnVlLFxyXG4gICAgdmlzaWJsZTogdHJ1ZSxcclxuICAgIGtleTogJ1N5c3RlbVNjZW5lJ1xyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIFN5c3RlbVNjZW5lIGV4dGVuZHMgWm9vbWFibGVTY2VuZSB7XHJcbiAgICBzdW46IFBoYXNlci5HYW1lT2JqZWN0cy5TcHJpdGU7XHJcbiAgICBzdGFydFBvc2l0aW9uOiBQaGFzZXIuTWF0aC5WZWN0b3IyO1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigwLjA1LCBzY2VuZUNvbmZpZyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHB1YmxpYyBwcmVsb2FkKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnc3VuJywgJy4vYXNzZXRzL2JhY2tncm91bmRzL3N1bi5wbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLmNyZWF0ZSgpO1xyXG4gICAgICAgIHRoaXMuc3RhcnRQb3NpdGlvbiA9IG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKFxyXG4gICAgICAgICAgICBQaGFzZXIuTWF0aC5STkQuYmV0d2VlbigwLCB0aGlzLmdhbWUuY2FudmFzLndpZHRoKSxcclxuICAgICAgICAgICAgUGhhc2VyLk1hdGguUk5ELmJldHdlZW4oMCwgdGhpcy5nYW1lLmNhbnZhcy5oZWlnaHQpXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLnN1biA9IHRoaXMuYWRkLnNwcml0ZSh0aGlzLnN0YXJ0UG9zaXRpb24ueCwgdGhpcy5zdGFydFBvc2l0aW9uLnksICdzdW4nKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHVibGljIHVwZGF0ZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnN1bi5hbmdsZSArPSAwLjAxO1xyXG4gICAgICAgIGlmICh0aGlzLnN1bi5hbmdsZSA+PSAzNjApIHtcclxuICAgICAgICAgICAgdGhpcy5zdW4uYW5nbGUgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoR2xvYmFscy5wbGF5ZXIpIHtcclxuICAgICAgICAgICAgLy8gbW92ZSB0aGUgc3VuIGluIHRoZSBvcHBvc2l0ZSBkaXJlY3Rpb24gb2YgdHJhdmVsIGF0IGEgcmF0ZSBvZiAxOjUwMFxyXG4gICAgICAgICAgICBsZXQgbG9jOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gR2xvYmFscy5wbGF5ZXIuZ2V0UmVhbExvY2F0aW9uKCk7XHJcbiAgICAgICAgICAgIGxvYy5kaXZpZGUobmV3IFBoYXNlci5NYXRoLlZlY3RvcjIoNTAwLCA1MDApKTtcclxuICAgICAgICAgICAgbG9jLm5lZ2F0ZSgpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zdW4ueCA9IHRoaXMuc3RhcnRQb3NpdGlvbi54ICsgbG9jLng7XHJcbiAgICAgICAgICAgIHRoaXMuc3VuLnkgPSB0aGlzLnN0YXJ0UG9zaXRpb24ueSArIGxvYy55O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJzb3VyY2VSb290IjoiIn0=