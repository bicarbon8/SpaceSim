!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("phaser")):"function"==typeof define&&define.amd?define(["phaser"],e):"object"==typeof exports?exports.bundle=e(require("phaser")):t.bundle=e(t.phaser)}(window,(function(t){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.interactables=[]}(e.Globals||(e.Globals={}))},function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var o=new Uint8Array(16);t.exports=function(){return n(o),o}}else{var i=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),i[e]=t>>>((3&e)<<3)&255;return i}}},function(t,e){for(var n=[],o=0;o<256;++o)n[o]=(o+256).toString(16).substr(1);t.exports=function(t,e){var o=e||0,i=n;return[i[t[o++]],i[t[o++]],i[t[o++]],i[t[o++]],"-",i[t[o++]],i[t[o++]],"-",i[t[o++]],i[t[o++]],"-",i[t[o++]],i[t[o++]],"-",i[t[o++]],i[t[o++]],i[t[o++]],i[t[o++]],i[t[o++]],i[t[o++]]].join("")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.MAX_INTEGRITY=100,t.MAX_FUEL=100,t.MAX_SAFE_TEMPERATURE=100,t.MAX_TEMPERATURE=200,t.OVERHEAT_CHECK_INTERVAL=100,t.COOLING_RATE=.3,t.THRUSTER_FORCE=1,t.FUEL_PER_THRUST=.001,t.HEAT_PER_THRUST=.1,t.BOOSTER_FORCE=300,t.FUEL_PER_BOOST=1,t.HEAT_PER_BOOST=25,t.BOOSTER_COOLDOWN_TIME=1e3}(e.Constants||(e.Constants={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.enumLength=function(t){var e=0;for(var n in t)isNaN(Number(n))&&e++;return e},t.now=function(){return(new Date).getTime()}}(e.Helpers||(e.Helpers={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.front=0]="front",t[t.frontRight=1]="frontRight",t[t.right=2]="right",t[t.backRight=3]="backRight",t[t.backLeft=4]="backLeft",t[t.left=5]="left",t[t.frontLeft=6]="frontLeft"}(e.AttachmentLocation||(e.AttachmentLocation={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(7),i=n(0),a=n(18),r={type:Phaser.AUTO,scale:{width:window.innerWidth,height:window.innerHeight},backgroundColor:"#000000",parent:"space-sim",physics:{default:"arcade",arcade:{gravity:{x:0,y:0}}},scene:[o.ShipScene,a.OverlayScene]};e.game=new Phaser.Game(r),window.addEventListener("resize",(function(){e.game.scale.refresh()})),i.Globals.game=e.game},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(8),r=n(0),s=n(14),c=n(15),h={active:!0,visible:!0,key:"ShipScene"},u=function(t){function e(){return t.call(this,h)||this}return i(e,t),e.prototype.preload=function(){this.load.image("stars","./assets/backgrounds/tileableStars.png"),this.load.image("ship-pod","./assets/sprites/ship-pod.png"),this.load.image("cannon","./assets/sprites/cannon.png"),this.load.atlas("flares","./assets/particles/flares.png","./assets/particles/flares.json")},e.prototype.create=function(){var t=this;this.add.tileSprite(0,0,10*this.cameras.main.width,10*this.cameras.main.height,"stars"),this.mouse=new s.Mouse(this),this.player=new a.ShipPod(this),r.Globals.player=this.player,this.player.setTarget(this.mouse);var e=new c.CannonAttachment(this);this.player.addAttachment(e),this.setupCamera(this.player),this.input.keyboard.on("keydown-P",(function(){r.Globals.paused=!0})),this.input.keyboard.on("keydown-R",(function(){r.Globals.paused=!1})),this.mouse.onWheelUp((function(e){var n=t.cameras.main.zoom-.5;n<.1&&(n=.1),t.cameras.main.zoomTo(n)})),this.mouse.onWheelDown((function(e){var n=t.cameras.main.zoom+.5;n>1&&(n=1),t.cameras.main.zoomTo(n)}))},e.prototype.update=function(){r.Globals.paused||r.Globals.player.update()},e.prototype.setupCamera=function(t){this.cameras.main.backgroundColor.setFromRGB({r:0,g:0,b:0}),this.cameras.main.setZoom(1),this.cameras.main.centerOn(0,0);var e=this.cameras.main.width,n=this.cameras.main.height,o=Math.floor(e/2),i=Math.floor(n/2),a=Math.floor(o/2),r=Math.floor(i/2);this.cameras.main.startFollow(t.getGameObject(),!0),this.cameras.main.deadzone=new Phaser.Geom.Rectangle(a,r,o,i)},e}(Phaser.Scene);e.ShipScene=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(9);var o=n(10),i=n(0),a=n(3),r=n(4),s=n(5),c=function(){function t(t){this.remainingFuel=100,this.temperature=0,this.active=!0,this.lastOverheatCheck=0,this.lastBoostTime=0,this.id=o.RNG.guid(),this.scene=t,this.gameObj=t.add.container(0,0),this.scene.physics.add.existing(this.gameObj),this.gameObj.body.bounce.setTo(.7,.7),this.thrusterParticles=t.add.particles("flares");var e=t.add.sprite(0,0,"ship-pod");this.gameObj.add(e),this.integrity=a.Constants.MAX_INTEGRITY,this.attachments=new Array(r.Helpers.enumLength(s.AttachmentLocation)),this.setupInputHandlers()}return t.prototype.update=function(){!i.Globals.paused&&this.active&&(this.lookAtTarget(),this.thrustKey.isDown&&this.thrustFowards(),this.boostKey.isDown&&this.boostForwards(),this.scene.input.activePointer.leftButtonDown()&&this.attachments[0]&&this.attachments[0].trigger(),this.checkOverheatCondition(),this.rotateAttachmentsClockwiseKey.isDown&&this.rotateAttachmentsClockwise(),this.rotateAttachmentsAntiClockwiseKey.isDown&&this.rotateAttachmentsAntiClockwise(),this.detachAttachmentKey.isDown&&this.removeAttachment(s.AttachmentLocation.front),this.updateAttachments())},t.prototype.updateAttachments=function(){for(var t=0;t<this.attachments.length;t++){var e=this.attachments[t];e&&e.update()}},t.prototype.setupInputHandlers=function(){this.thrustKey=this.scene.input.keyboard.addKey("SPACE",!0,!0),this.boostKey=this.scene.input.keyboard.addKey("TAB",!0,!1),this.rotateAttachmentsClockwiseKey=this.scene.input.keyboard.addKey("E",!0,!1),this.rotateAttachmentsAntiClockwiseKey=this.scene.input.keyboard.addKey("Q",!0,!1),this.detachAttachmentKey=this.scene.input.keyboard.addKey("X",!0,!1)},t.prototype.checkOverheatCondition=function(){if(!i.Globals.paused&&this.active&&r.Helpers.now()-this.lastOverheatCheck>a.Constants.OVERHEAT_CHECK_INTERVAL){if(this.temperature>a.Constants.MAX_TEMPERATURE&&this.destroy(),this.temperature>a.Constants.MAX_SAFE_TEMPERATURE){var t=(this.temperature-a.Constants.MAX_SAFE_TEMPERATURE)/a.Constants.MAX_SAFE_TEMPERATURE;this.sustainDamage(t)}this.applyCooling(a.Constants.COOLING_RATE),this.lastOverheatCheck=r.Helpers.now()}},t.prototype.getRealLocation=function(){return new Phaser.Math.Vector2(this.gameObj.x,this.gameObj.y)},t.prototype.getLocation=function(){var t=this.scene.cameras.main.getWorldPoint(0,0);return new Phaser.Math.Vector2(this.gameObj.x-t.x,this.gameObj.y-t.y)},t.prototype.getId=function(){return this.id},t.prototype.getGameObject=function(){return this.gameObj},t.prototype.setTarget=function(t){this.target=t},t.prototype.lookAtTarget=function(){var t=this.target.getRealLocation(),e=Phaser.Math.Angle.Between(t.x,t.y,this.gameObj.x,this.gameObj.y);this.gameObj.setRotation(e)},t.prototype.getAngle=function(){return this.gameObj.angle},t.prototype.getRotation=function(){return this.gameObj.rotation},t.prototype.getHeading=function(){var t=Math.cos(this.gameObj.rotation),e=Math.sin(this.gameObj.rotation);return new Phaser.Math.Vector2(t,e).normalize().negate()},t.prototype.getVelocity=function(){return this.gameObj.body.velocity.length()},t.prototype.thrustFowards=function(){this.applyThrust(a.Constants.THRUSTER_FORCE,a.Constants.FUEL_PER_THRUST,a.Constants.HEAT_PER_THRUST),this.displayThrusterFire("yellow",.4)},t.prototype.boostForwards=function(){r.Helpers.now()-this.lastBoostTime>=a.Constants.BOOSTER_COOLDOWN_TIME&&(this.applyThrust(a.Constants.BOOSTER_FORCE,a.Constants.FUEL_PER_BOOST,a.Constants.HEAT_PER_BOOST),this.displayThrusterFire("blue",1),this.lastBoostTime=r.Helpers.now())},t.prototype.applyThrust=function(t,e,n){if(this.getRemainingFuel()>0){var o=this.getHeading().multiply(new Phaser.Math.Vector2(t,t));this.gameObj.body.velocity.add(o),this.reduceFuel(e),this.applyHeating(n)}},t.prototype.displayThrusterFire=function(t,e){var n=this.getRealLocation(),o=new Phaser.Math.Vector2(20,0).add(this.getRealLocation()),i=Phaser.Math.RotateAround(o,n.x,n.y,this.getRotation()),a=this.getHeading().negate();this.thrusterParticles.createEmitter({frame:t,x:i.x,y:i.y,lifespan:500,speedX:{min:600*a.x,max:1e3*a.x},speedY:{min:600*a.y,max:1e3*a.y},angle:{min:-85,max:95},gravityX:0,gravityY:0,scale:{start:e,end:0},blendMode:"ADD",maxParticles:10})},t.prototype.strafeLeft=function(){},t.prototype.strafeRight=function(){},t.prototype.thrustBackwards=function(){},t.prototype.getTemperature=function(){return this.temperature},t.prototype.applyHeating=function(t){this.temperature+=t},t.prototype.applyCooling=function(t){this.temperature-=t,this.temperature<0&&(this.temperature=0)},t.prototype.reduceFuel=function(t){this.remainingFuel-=t,this.remainingFuel<0&&(this.remainingFuel=0)},t.prototype.addFuel=function(t){this.remainingFuel+=t,this.remainingFuel>a.Constants.MAX_FUEL&&(this.remainingFuel=a.Constants.MAX_FUEL)},t.prototype.getRemainingFuel=function(){return this.remainingFuel},t.prototype.getIntegrity=function(){return this.integrity},t.prototype.sustainDamage=function(t){this.integrity-=t,this.integrity<=0&&(this.integrity=0,this.active=!1,this.destroy())},t.prototype.repair=function(t){this.integrity=t,this.integrity>a.Constants.MAX_INTEGRITY&&(this.integrity=a.Constants.MAX_INTEGRITY)},t.prototype.rotateAttachmentsClockwise=function(){var t=this.attachments.pop();this.attachments.unshift(t),this.updateAttachmentPositions()},t.prototype.rotateAttachmentsAntiClockwise=function(){var t=this.attachments.shift();this.attachments.push(t),this.updateAttachmentPositions()},t.prototype.updateAttachmentPositions=function(){for(var t=0;t<this.attachments.length;t++)if(this.attachments[t])switch(t){case s.AttachmentLocation.front:this.attachments[t].setAttachmentLocation(s.AttachmentLocation.front);break;case s.AttachmentLocation.frontRight:this.attachments[t].setAttachmentLocation(s.AttachmentLocation.frontRight);break;case s.AttachmentLocation.right:this.attachments[t].setAttachmentLocation(s.AttachmentLocation.right);break;case s.AttachmentLocation.backRight:this.attachments[t].setAttachmentLocation(s.AttachmentLocation.backRight);break;case s.AttachmentLocation.backLeft:this.attachments[t].setAttachmentLocation(s.AttachmentLocation.backLeft);break;case s.AttachmentLocation.left:this.attachments[t].setAttachmentLocation(s.AttachmentLocation.left);break;case s.AttachmentLocation.frontLeft:this.attachments[t].setAttachmentLocation(s.AttachmentLocation.frontLeft)}},t.prototype.addAttachment=function(t){for(var e=!1,n=0;n<r.Helpers.enumLength(s.AttachmentLocation);n++)if(!this.attachments[n]){var o=void 0;switch(n){case s.AttachmentLocation.front:o=s.AttachmentLocation.front;break;case s.AttachmentLocation.frontRight:o=s.AttachmentLocation.frontRight;break;case s.AttachmentLocation.right:o=s.AttachmentLocation.right;break;case s.AttachmentLocation.backRight:o=s.AttachmentLocation.backRight;break;case s.AttachmentLocation.backLeft:o=s.AttachmentLocation.backLeft;break;case s.AttachmentLocation.left:o=s.AttachmentLocation.left;break;case s.AttachmentLocation.frontLeft:o=s.AttachmentLocation.frontLeft}this.attachments[n]=t,t.attach(this,o),e=!0}e||(this.attachments[s.AttachmentLocation.front].detach(),this.attachments[s.AttachmentLocation.front]=t,t.attach(this,s.AttachmentLocation.front)),this.gameObj.add(t.getGameObject())},t.prototype.removeAttachment=function(t){if(this.attachments[t]){var e=this.attachments[t].getGameObject();this.gameObj.remove(e),this.attachments[t].detach(),this.attachments[t]=null}},t.prototype.getAttachments=function(){return this.attachments},t.prototype.destroy=function(){},t}();e.ShipPod=c},function(e,n){e.exports=t},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(11);!function(t){t.int=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},t.guid=function(){return o.v4()}}(e.RNG||(e.RNG={}))},function(t,e,n){var o=n(12),i=n(13),a=i;a.v1=o,a.v4=i,t.exports=a},function(t,e,n){var o,i,a=n(1),r=n(2),s=0,c=0;t.exports=function(t,e,n){var h=e&&n||0,u=e||[],p=(t=t||{}).node||o,l=void 0!==t.clockseq?t.clockseq:i;if(null==p||null==l){var m=a();null==p&&(p=o=[1|m[0],m[1],m[2],m[3],m[4],m[5]]),null==l&&(l=i=16383&(m[6]<<8|m[7]))}var f=void 0!==t.msecs?t.msecs:(new Date).getTime(),g=void 0!==t.nsecs?t.nsecs:c+1,y=f-s+(g-c)/1e4;if(y<0&&void 0===t.clockseq&&(l=l+1&16383),(y<0||f>s)&&void 0===t.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=f,c=g,i=l;var d=(1e4*(268435455&(f+=122192928e5))+g)%4294967296;u[h++]=d>>>24&255,u[h++]=d>>>16&255,u[h++]=d>>>8&255,u[h++]=255&d;var b=f/4294967296*1e4&268435455;u[h++]=b>>>8&255,u[h++]=255&b,u[h++]=b>>>24&15|16,u[h++]=b>>>16&255,u[h++]=l>>>8|128,u[h++]=255&l;for(var A=0;A<6;++A)u[h+A]=p[A];return e||r(u)}},function(t,e,n){var o=n(1),i=n(2);t.exports=function(t,e,n){var a=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var r=(t=t||{}).random||(t.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e)for(var s=0;s<16;++s)e[a+s]=r[s];return e||i(r)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.scene=t,this.scene.input.mouse.capture=!0}return t.prototype.getAngle=function(){return this.scene.input.activePointer.getAngle()},t.prototype.getRotation=function(){return this.getAngle()*(Math.PI/180)},t.prototype.getHeading=function(){var t=this.getAngle(),e=Math.cos(t),n=Math.sin(t);return new Phaser.Math.Vector2(e,n).normalize().negate()},t.prototype.getVelocity=function(){return this.scene.input.activePointer.velocity.length()},t.prototype.getLocation=function(){return this.scene.input.activePointer.position.clone()},t.prototype.getRealLocation=function(){var t=this.getLocation();return this.scene.cameras.main.getWorldPoint(t.x,t.y)},t.prototype.onWheelUp=function(t){this.scene.input.on(Phaser.Input.Events.POINTER_WHEEL,(function(e,n,o,i,a,r){i>0&&t(i)}))},t.prototype.onWheelDown=function(t){this.scene.input.on(Phaser.Input.Events.POINTER_WHEEL,(function(e,n,o,i,a,r){i<0&&t(-i)}))},t}();e.Mouse=o},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(16),r=n(0),s=n(4),c=n(17),h=function(t){function e(e){var n=t.call(this,e)||this;return n.maxAmmo=500,n.remainingAmmo=n.maxAmmo,n.cooldownTime=1e3,n.lastFiredAt=0,n.gameObj=n.scene.physics.add.sprite(0,0,"cannon"),n}return i(e,t),e.prototype.reload=function(t){this.remainingAmmo+=t,this.remainingAmmo>this.maxAmmo&&(this.remainingAmmo=this.maxAmmo)},e.prototype.getRemainingAmmo=function(){return this.remainingAmmo},e.prototype.update=function(){},e.prototype.trigger=function(){!r.Globals.paused&&this.active&&this.fire()},e.prototype.fire=function(t){if(!r.Globals.paused&&this.active&&this.getRemainingAmmo()>0&&s.Helpers.now()-this.lastFiredAt>this.cooldownTime){var e=this.getRealLocation();new c.Bullet(this.scene,{x:e.x,y:e.y,force:3e3,angle:this.getAngle()}),this.lastFiredAt=s.Helpers.now()}},e}(a.ShipAttachment);e.CannonAttachment=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),i=n(5),a=function(){function t(t){this.scene=t,this.active=!0,this.integrity=o.Constants.MAX_INTEGRITY}return t.prototype.attach=function(t,e){e||(e=i.AttachmentLocation.front),this.ship=t,this.setAttachmentLocation(e);var n=this.ship.getRealLocation();this.gameObj.setPosition(n.x,n.y),this.gameObj.setRotation(this.ship.getAngle());var o=this.getHeading();o.multiply(new Phaser.Math.Vector2(0,0));var a=this.getRealLocation();a.add(o),this.gameObj.setPosition(a.x,a.y)},t.prototype.detach=function(){this.ship=null,this.attachmentLocation=null},t.prototype.getGameObject=function(){return this.gameObj},t.prototype.getAngle=function(){var t=this.gameObj.angle;return this.ship&&(t+=this.ship.getAngle()),t},t.prototype.getRotation=function(){var t=this.gameObj.rotation;return this.ship&&(t+=this.ship.getRotation()),t},t.prototype.getHeading=function(){var t=Math.cos(this.getRotation()),e=Math.sin(this.getRotation());return new Phaser.Math.Vector2(t,e).normalize().negate()},t.prototype.getVelocity=function(){var t=this.gameObj.body.velocity.length();return this.ship&&(t+=this.ship.getVelocity()),t},t.prototype.getLocation=function(){var t=this.scene.cameras.main.getWorldPoint(0,0),e=this.getRealLocation();return new Phaser.Math.Vector2(e.x-t.x,e.y-t.y)},t.prototype.getRealLocation=function(){var t=new Phaser.Math.Vector2(this.gameObj.x,this.gameObj.y);return this.ship&&t.add(this.ship.getRealLocation()),t},t.prototype.getIntegrity=function(){return this.integrity},t.prototype.sustainDamage=function(t){this.integrity-=t,this.integrity<=0&&(this.integrity=0,this.active=!1)},t.prototype.repair=function(t){this.integrity=t,this.integrity>o.Constants.MAX_INTEGRITY&&(this.integrity=o.Constants.MAX_INTEGRITY)},t.prototype.destroy=function(){this.active=!1,this.ship.removeAttachment(this.attachmentLocation)},t.prototype.setAttachmentLocation=function(t){this.attachmentLocation=t},t}();e.ShipAttachment=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=function(){function t(t,e){this.scene=t,this.force=e.force||0,this.gameObj=t.physics.add.sprite(e.x||0,e.y||0,"bullet"),this.gameObj.setAngle(e.angle||0),this.active=!0,this.addCollisionDetection(),this.setInMotion()}return t.prototype.addCollisionDetection=function(){for(var t=0;t<o.Globals.interactables.length;t++)this.scene.physics.add.collider(this.gameObj,o.Globals.interactables[t],this.onImpact)},t.prototype.onImpact=function(t,e){},t.prototype.getGameObject=function(){return this.gameObj},t.prototype.getAngle=function(){return this.gameObj.angle},t.prototype.getRotation=function(){return this.gameObj.rotation},t.prototype.getHeading=function(){var t=Math.cos(this.gameObj.rotation),e=Math.sin(this.gameObj.rotation);return new Phaser.Math.Vector2(t,e).normalize().negate()},t.prototype.getVelocity=function(){return this.gameObj.body.velocity.length()},t.prototype.getLocation=function(){var t=this.scene.cameras.main.getWorldPoint(0,0);return new Phaser.Math.Vector2(this.gameObj.x-t.x,this.gameObj.y-t.y)},t.prototype.getRealLocation=function(){return new Phaser.Math.Vector2(this.gameObj.x,this.gameObj.y)},t.prototype.setInMotion=function(){var t=this.getHeading().multiply(new Phaser.Math.Vector2(this.force,this.force));this.gameObj.body.velocity.add(t)},t}();e.Bullet=i},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),r={active:!0,visible:!0,key:"OverlayScene"},s=function(t){function e(){return t.call(this,r)||this}return i(e,t),e.prototype.preload=function(){},e.prototype.create=function(){this.debug=this.add.text(10,10,"",{font:"16px Courier",fill:"#ffdddd"})},e.prototype.update=function(){if(!a.Globals.paused&&a.Globals.player){var t=a.Globals.player,e=t.getRealLocation();this.debug.setText(["Velocity: "+t.getVelocity().toFixed(1),"Integrity: "+t.getIntegrity().toFixed(1),"Heat: "+t.getTemperature().toFixed(1),"Fuel: "+t.getRemainingFuel().toFixed(1),"Location: "+e.x.toFixed(1)+","+e.y.toFixed(1),"Angle: "+t.getAngle().toFixed(1)])}},e}(Phaser.Scene);e.OverlayScene=s}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idW5kbGUvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL2J1bmRsZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvdXRpbGl0aWVzL2dsb2JhbHMudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vbm9kZV9tb2R1bGVzL3V1aWQvbGliL3JuZy1icm93c2VyLmpzIiwid2VicGFjazovL2J1bmRsZS8uL25vZGVfbW9kdWxlcy91dWlkL2xpYi9ieXRlc1RvVXVpZC5qcyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvdXRpbGl0aWVzL2NvbnN0YW50cy50cyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvdXRpbGl0aWVzL2hlbHBlcnMudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NoaXBzL2F0dGFjaG1lbnRzL2F0dGFjaG1lbnQtbG9jYXRpb24udHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL2dhbWUudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NjZW5lcy9zaGlwLXNjZW5lLnRzIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy9zaGlwcy9zaGlwLXBvZC50cyIsIndlYnBhY2s6Ly9idW5kbGUvZXh0ZXJuYWwgXCJwaGFzZXJcIiIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvdXRpbGl0aWVzL3JuZy50cyIsIndlYnBhY2s6Ly9idW5kbGUvLi9ub2RlX21vZHVsZXMvdXVpZC9pbmRleC5qcyIsIndlYnBhY2s6Ly9idW5kbGUvLi9ub2RlX21vZHVsZXMvdXVpZC92MS5qcyIsIndlYnBhY2s6Ly9idW5kbGUvLi9ub2RlX21vZHVsZXMvdXVpZC92NC5qcyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvdXRpbGl0aWVzL21vdXNlLnRzIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy9zaGlwcy9hdHRhY2htZW50cy9vZmZlbmNlL2Nhbm5vbi1hdHRhY2htZW50LnRzIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy9zaGlwcy9hdHRhY2htZW50cy9zaGlwLWF0dGFjaG1lbnQudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NoaXBzL2F0dGFjaG1lbnRzL29mZmVuY2UvYnVsbGV0LnRzIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy9zY2VuZXMvb3ZlcmxheS1zY2VuZS50cyJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJyZXF1aXJlIiwiZGVmaW5lIiwiYW1kIiwid2luZG93IiwiX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fOV9fIiwiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkdsb2JhbHMiLCJpbnRlcmFjdGFibGVzIiwiZ2V0UmFuZG9tVmFsdWVzIiwiY3J5cHRvIiwibXNDcnlwdG8iLCJybmRzOCIsIlVpbnQ4QXJyYXkiLCJybmRzIiwiQXJyYXkiLCJNYXRoIiwicmFuZG9tIiwiYnl0ZVRvSGV4IiwidG9TdHJpbmciLCJzdWJzdHIiLCJidWYiLCJvZmZzZXQiLCJidGgiLCJqb2luIiwiQ29uc3RhbnRzIiwiTUFYX0lOVEVHUklUWSIsIk1BWF9GVUVMIiwiTUFYX1NBRkVfVEVNUEVSQVRVUkUiLCJNQVhfVEVNUEVSQVRVUkUiLCJPVkVSSEVBVF9DSEVDS19JTlRFUlZBTCIsIkNPT0xJTkdfUkFURSIsIlRIUlVTVEVSX0ZPUkNFIiwiRlVFTF9QRVJfVEhSVVNUIiwiSEVBVF9QRVJfVEhSVVNUIiwiQk9PU1RFUl9GT1JDRSIsIkZVRUxfUEVSX0JPT1NUIiwiSEVBVF9QRVJfQk9PU1QiLCJCT09TVEVSX0NPT0xET1dOX1RJTUUiLCJIZWxwZXJzIiwiZW51bUxlbmd0aCIsImVudW1UeXBlIiwiY291bnQiLCJpdGVtIiwiaXNOYU4iLCJOdW1iZXIiLCJub3ciLCJEYXRlIiwiZ2V0VGltZSIsIkF0dGFjaG1lbnRMb2NhdGlvbiIsImdhbWVDb25maWciLCJ0eXBlIiwiUGhhc2VyIiwiQVVUTyIsInNjYWxlIiwid2lkdGgiLCJpbm5lcldpZHRoIiwiaGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJwYXJlbnQiLCJwaHlzaWNzIiwiZGVmYXVsdCIsImFyY2FkZSIsImdyYXZpdHkiLCJ4IiwieSIsInNjZW5lIiwiU2hpcFNjZW5lIiwiT3ZlcmxheVNjZW5lIiwiZ2FtZSIsIkdhbWUiLCJhZGRFdmVudExpc3RlbmVyIiwicmVmcmVzaCIsInNjZW5lQ29uZmlnIiwiYWN0aXZlIiwidmlzaWJsZSIsInByZWxvYWQiLCJ0aGlzIiwibG9hZCIsImltYWdlIiwiYXRsYXMiLCJhZGQiLCJ0aWxlU3ByaXRlIiwiY2FtZXJhcyIsIm1haW4iLCJtb3VzZSIsIk1vdXNlIiwicGxheWVyIiwiU2hpcFBvZCIsInNldFRhcmdldCIsImNhbm9uIiwiQ2Fubm9uQXR0YWNobWVudCIsImFkZEF0dGFjaG1lbnQiLCJzZXR1cENhbWVyYSIsImlucHV0Iiwia2V5Ym9hcmQiLCJvbiIsInBhdXNlZCIsIm9uV2hlZWxVcCIsInNjcm9sbEFtb3VudCIsIm5ld1pvb20iLCJ6b29tIiwiem9vbVRvIiwib25XaGVlbERvd24iLCJ1cGRhdGUiLCJzZXRGcm9tUkdCIiwiZyIsImIiLCJzZXRab29tIiwiY2VudGVyT24iLCJkeldpZHRoIiwiZmxvb3IiLCJkekhlaWdodCIsImR6WCIsImR6WSIsInN0YXJ0Rm9sbG93IiwiZ2V0R2FtZU9iamVjdCIsImRlYWR6b25lIiwiR2VvbSIsIlJlY3RhbmdsZSIsIlNjZW5lIiwicmVtYWluaW5nRnVlbCIsInRlbXBlcmF0dXJlIiwibGFzdE92ZXJoZWF0Q2hlY2siLCJsYXN0Qm9vc3RUaW1lIiwiaWQiLCJSTkciLCJndWlkIiwiZ2FtZU9iaiIsImNvbnRhaW5lciIsImV4aXN0aW5nIiwiYm9keSIsImJvdW5jZSIsInNldFRvIiwidGhydXN0ZXJQYXJ0aWNsZXMiLCJwYXJ0aWNsZXMiLCJzaGlwIiwic3ByaXRlIiwiaW50ZWdyaXR5IiwiYXR0YWNobWVudHMiLCJzZXR1cElucHV0SGFuZGxlcnMiLCJsb29rQXRUYXJnZXQiLCJ0aHJ1c3RLZXkiLCJpc0Rvd24iLCJ0aHJ1c3RGb3dhcmRzIiwiYm9vc3RLZXkiLCJib29zdEZvcndhcmRzIiwiYWN0aXZlUG9pbnRlciIsImxlZnRCdXR0b25Eb3duIiwidHJpZ2dlciIsImNoZWNrT3ZlcmhlYXRDb25kaXRpb24iLCJyb3RhdGVBdHRhY2htZW50c0Nsb2Nrd2lzZUtleSIsInJvdGF0ZUF0dGFjaG1lbnRzQ2xvY2t3aXNlIiwicm90YXRlQXR0YWNobWVudHNBbnRpQ2xvY2t3aXNlS2V5Iiwicm90YXRlQXR0YWNobWVudHNBbnRpQ2xvY2t3aXNlIiwiZGV0YWNoQXR0YWNobWVudEtleSIsInJlbW92ZUF0dGFjaG1lbnQiLCJmcm9udCIsInVwZGF0ZUF0dGFjaG1lbnRzIiwibGVuZ3RoIiwiYSIsImFkZEtleSIsImRlc3Ryb3kiLCJkZWx0YSIsInN1c3RhaW5EYW1hZ2UiLCJhcHBseUNvb2xpbmciLCJnZXRSZWFsTG9jYXRpb24iLCJWZWN0b3IyIiwiZ2V0TG9jYXRpb24iLCJjYW1lcmFQb3MiLCJnZXRXb3JsZFBvaW50IiwiZ2V0SWQiLCJ0YXJnZXQiLCJwb3MiLCJyYWRpYW5zIiwiQW5nbGUiLCJCZXR3ZWVuIiwic2V0Um90YXRpb24iLCJnZXRBbmdsZSIsImFuZ2xlIiwiZ2V0Um90YXRpb24iLCJyb3RhdGlvbiIsImdldEhlYWRpbmciLCJjb3MiLCJzaW4iLCJub3JtYWxpemUiLCJuZWdhdGUiLCJnZXRWZWxvY2l0eSIsInZlbG9jaXR5IiwiYXBwbHlUaHJ1c3QiLCJkaXNwbGF5VGhydXN0ZXJGaXJlIiwiZm9yY2UiLCJmdWVsIiwiaGVhdCIsImdldFJlbWFpbmluZ0Z1ZWwiLCJkZWx0YVYiLCJtdWx0aXBseSIsInJlZHVjZUZ1ZWwiLCJhcHBseUhlYXRpbmciLCJjb2xvdXIiLCJzdGFydFNjYWxlIiwibG9jIiwiUm90YXRlQXJvdW5kIiwiaCIsImNyZWF0ZUVtaXR0ZXIiLCJmcmFtZSIsImxpZmVzcGFuIiwic3BlZWRYIiwibWluIiwibWF4Iiwic3BlZWRZIiwiZ3Jhdml0eVgiLCJncmF2aXR5WSIsInN0YXJ0IiwiZW5kIiwiYmxlbmRNb2RlIiwibWF4UGFydGljbGVzIiwic3RyYWZlTGVmdCIsInN0cmFmZVJpZ2h0IiwidGhydXN0QmFja3dhcmRzIiwiZ2V0VGVtcGVyYXR1cmUiLCJkZWdyZWVzIiwiYW1vdW50IiwiYWRkRnVlbCIsImdldEludGVncml0eSIsInJlcGFpciIsImxhc3QiLCJwb3AiLCJ1bnNoaWZ0IiwidXBkYXRlQXR0YWNobWVudFBvc2l0aW9ucyIsImZpcnN0Iiwic2hpZnQiLCJwdXNoIiwic2V0QXR0YWNobWVudExvY2F0aW9uIiwiZnJvbnRSaWdodCIsInJpZ2h0IiwiYmFja1JpZ2h0IiwiYmFja0xlZnQiLCJsZWZ0IiwiZnJvbnRMZWZ0IiwiYXR0YWNobWVudCIsImF0dGFjaGVkIiwiYXR0YWNoIiwiZGV0YWNoIiwibG9jYXRpb24iLCJnbyIsInJlbW92ZSIsImdldEF0dGFjaG1lbnRzIiwiaW50IiwidjQiLCJ2MSIsInV1aWQiLCJfbm9kZUlkIiwiX2Nsb2Nrc2VxIiwicm5nIiwiYnl0ZXNUb1V1aWQiLCJfbGFzdE1TZWNzIiwiX2xhc3ROU2VjcyIsIm9wdGlvbnMiLCJub2RlIiwiY2xvY2tzZXEiLCJ1bmRlZmluZWQiLCJzZWVkQnl0ZXMiLCJtc2VjcyIsIm5zZWNzIiwiZHQiLCJFcnJvciIsInRsIiwidG1oIiwiaWkiLCJjYXB0dXJlIiwiUEkiLCJwb3NpdGlvbiIsImNsb25lIiwiZnVuYyIsIklucHV0IiwiRXZlbnRzIiwiUE9JTlRFUl9XSEVFTCIsInBvaW50ZXIiLCJjdXJyZW50bHlPdmVyIiwiZHgiLCJkeSIsImR6IiwiZXZlbnQiLCJtYXhBbW1vIiwicmVtYWluaW5nQW1tbyIsImNvb2xkb3duVGltZSIsImxhc3RGaXJlZEF0IiwicmVsb2FkIiwiZ2V0UmVtYWluaW5nQW1tbyIsImZpcmUiLCJkaXJlY3Rpb24iLCJCdWxsZXQiLCJTaGlwQXR0YWNobWVudCIsImNlbnRyZSIsInNldFBvc2l0aW9uIiwiaGVhZGluZyIsImF0dGFjaG1lbnRMb2NhdGlvbiIsInJlYWxMb2MiLCJyZWFsTG9jYXRpb24iLCJwYXJhbXMiLCJzZXRBbmdsZSIsImFkZENvbGxpc2lvbkRldGVjdGlvbiIsInNldEluTW90aW9uIiwiY29sbGlkZXIiLCJvbkltcGFjdCIsImJ1bGxldCIsImRlYnVnIiwidGV4dCIsImZvbnQiLCJmaWxsIiwic2V0VGV4dCIsInRvRml4ZWQiXSwibWFwcGluZ3MiOiJDQUFBLFNBQTJDQSxFQUFNQyxHQUMxQixpQkFBWkMsU0FBMEMsaUJBQVhDLE9BQ3hDQSxPQUFPRCxRQUFVRCxFQUFRRyxRQUFRLFdBQ1IsbUJBQVhDLFFBQXlCQSxPQUFPQyxJQUM5Q0QsT0FBTyxDQUFDLFVBQVdKLEdBQ08saUJBQVpDLFFBQ2RBLFFBQWdCLE9BQUlELEVBQVFHLFFBQVEsV0FFcENKLEVBQWEsT0FBSUMsRUFBUUQsRUFBYSxRQVJ4QyxDQVNHTyxRQUFRLFNBQVNDLEdBQ3BCLE8sWUNURSxJQUFJQyxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVVCxRQUduQyxJQUFJQyxFQUFTTSxFQUFpQkUsR0FBWSxDQUN6Q0MsRUFBR0QsRUFDSEUsR0FBRyxFQUNIWCxRQUFTLElBVVYsT0FOQVksRUFBUUgsR0FBVUksS0FBS1osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU1EsR0FHL0RQLEVBQU9VLEdB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LFFBQ0wsRUFBQTNGLFFBQVFpRixPQUFRLENBQ2hCLElBQUluRixFQUFhLEVBQUFFLFFBQVFpRixPQUNyQmtILEVBQTJCck0sRUFBRWtLLGtCQUNqQ3pGLEtBQUtzTyxNQUFNSSxRQUFRLENBQ2YsYUFBYW5ULEVBQUV1TCxjQUFjNkgsUUFBUSxHQUNyQyxjQUFjcFQsRUFBRTROLGVBQWV3RixRQUFRLEdBQ3ZDLFNBQVNwVCxFQUFFd04saUJBQWlCNEYsUUFBUSxHQUNwQyxTQUFTcFQsRUFBRThMLG1CQUFtQnNILFFBQVEsR0FDdEMsYUFBYS9HLEVBQUl6SSxFQUFFd1AsUUFBUSxHQUFFLElBQUkvRyxFQUFJeEksRUFBRXVQLFFBQVEsR0FDL0MsVUFBVXBULEVBQUU4SyxXQUFXc0ksUUFBUSxPQUtuRCxFQS9CQSxDQUFrQ3JRLE9BQU9xRSxPQUE1QixFQUFBcEQiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwicGhhc2VyXCIpKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtcInBoYXNlclwiXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJidW5kbGVcIl0gPSBmYWN0b3J5KHJlcXVpcmUoXCJwaGFzZXJcIikpO1xuXHRlbHNlXG5cdFx0cm9vdFtcImJ1bmRsZVwiXSA9IGZhY3Rvcnkocm9vdFtcInBoYXNlclwiXSk7XG59KSh3aW5kb3csIGZ1bmN0aW9uKF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzlfXykge1xucmV0dXJuICIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA2KTtcbiIsImltcG9ydCB7IFNoaXBQb2QgfSBmcm9tIFwiLi4vc2hpcHMvc2hpcC1wb2RcIjtcclxuXHJcbmV4cG9ydCBtb2R1bGUgR2xvYmFscyB7XHJcbiAgICBleHBvcnQgdmFyIHBhdXNlZDogYm9vbGVhbjtcclxuICAgIGV4cG9ydCB2YXIgcGxheWVyOiBTaGlwUG9kO1xyXG4gICAgZXhwb3J0IHZhciBnYW1lOiBQaGFzZXIuR2FtZTtcclxuICAgIGV4cG9ydCB2YXIgaW50ZXJhY3RhYmxlczogUGhhc2VyLkdhbWVPYmplY3RzLkdhbWVPYmplY3RbXSA9IFtdO1xyXG59IiwiLy8gVW5pcXVlIElEIGNyZWF0aW9uIHJlcXVpcmVzIGEgaGlnaCBxdWFsaXR5IHJhbmRvbSAjIGdlbmVyYXRvci4gIEluIHRoZVxuLy8gYnJvd3NlciB0aGlzIGlzIGEgbGl0dGxlIGNvbXBsaWNhdGVkIGR1ZSB0byB1bmtub3duIHF1YWxpdHkgb2YgTWF0aC5yYW5kb20oKVxuLy8gYW5kIGluY29uc2lzdGVudCBzdXBwb3J0IGZvciB0aGUgYGNyeXB0b2AgQVBJLiAgV2UgZG8gdGhlIGJlc3Qgd2UgY2FuIHZpYVxuLy8gZmVhdHVyZS1kZXRlY3Rpb25cblxuLy8gZ2V0UmFuZG9tVmFsdWVzIG5lZWRzIHRvIGJlIGludm9rZWQgaW4gYSBjb250ZXh0IHdoZXJlIFwidGhpc1wiIGlzIGEgQ3J5cHRvXG4vLyBpbXBsZW1lbnRhdGlvbi4gQWxzbywgZmluZCB0aGUgY29tcGxldGUgaW1wbGVtZW50YXRpb24gb2YgY3J5cHRvIG9uIElFMTEuXG52YXIgZ2V0UmFuZG9tVmFsdWVzID0gKHR5cGVvZihjcnlwdG8pICE9ICd1bmRlZmluZWQnICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKGNyeXB0bykpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgKHR5cGVvZihtc0NyeXB0bykgIT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5tc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMgPT0gJ2Z1bmN0aW9uJyAmJiBtc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChtc0NyeXB0bykpO1xuXG5pZiAoZ2V0UmFuZG9tVmFsdWVzKSB7XG4gIC8vIFdIQVRXRyBjcnlwdG8gUk5HIC0gaHR0cDovL3dpa2kud2hhdHdnLm9yZy93aWtpL0NyeXB0b1xuICB2YXIgcm5kczggPSBuZXcgVWludDhBcnJheSgxNik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcblxuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHdoYXR3Z1JORygpIHtcbiAgICBnZXRSYW5kb21WYWx1ZXMocm5kczgpO1xuICAgIHJldHVybiBybmRzODtcbiAgfTtcbn0gZWxzZSB7XG4gIC8vIE1hdGgucmFuZG9tKCktYmFzZWQgKFJORylcbiAgLy9cbiAgLy8gSWYgYWxsIGVsc2UgZmFpbHMsIHVzZSBNYXRoLnJhbmRvbSgpLiAgSXQncyBmYXN0LCBidXQgaXMgb2YgdW5zcGVjaWZpZWRcbiAgLy8gcXVhbGl0eS5cbiAgdmFyIHJuZHMgPSBuZXcgQXJyYXkoMTYpO1xuXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbWF0aFJORygpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgcjsgaSA8IDE2OyBpKyspIHtcbiAgICAgIGlmICgoaSAmIDB4MDMpID09PSAwKSByID0gTWF0aC5yYW5kb20oKSAqIDB4MTAwMDAwMDAwO1xuICAgICAgcm5kc1tpXSA9IHIgPj4+ICgoaSAmIDB4MDMpIDw8IDMpICYgMHhmZjtcbiAgICB9XG5cbiAgICByZXR1cm4gcm5kcztcbiAgfTtcbn1cbiIsIi8qKlxuICogQ29udmVydCBhcnJheSBvZiAxNiBieXRlIHZhbHVlcyB0byBVVUlEIHN0cmluZyBmb3JtYXQgb2YgdGhlIGZvcm06XG4gKiBYWFhYWFhYWC1YWFhYLVhYWFgtWFhYWC1YWFhYWFhYWFhYWFhcbiAqL1xudmFyIGJ5dGVUb0hleCA9IFtdO1xuZm9yICh2YXIgaSA9IDA7IGkgPCAyNTY7ICsraSkge1xuICBieXRlVG9IZXhbaV0gPSAoaSArIDB4MTAwKS50b1N0cmluZygxNikuc3Vic3RyKDEpO1xufVxuXG5mdW5jdGlvbiBieXRlc1RvVXVpZChidWYsIG9mZnNldCkge1xuICB2YXIgaSA9IG9mZnNldCB8fCAwO1xuICB2YXIgYnRoID0gYnl0ZVRvSGV4O1xuICAvLyBqb2luIHVzZWQgdG8gZml4IG1lbW9yeSBpc3N1ZSBjYXVzZWQgYnkgY29uY2F0ZW5hdGlvbjogaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzE3NSNjNFxuICByZXR1cm4gKFtcbiAgICBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLFxuICAgIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sICctJyxcbiAgICBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLCAnLScsXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgJy0nLFxuICAgIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sICctJyxcbiAgICBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLFxuICAgIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXVxuICBdKS5qb2luKCcnKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBieXRlc1RvVXVpZDtcbiIsImV4cG9ydCBtb2R1bGUgQ29uc3RhbnRzIHtcclxuICAgIGV4cG9ydCBjb25zdCBNQVhfSU5URUdSSVRZOiBudW1iZXIgPSAxMDA7XHJcbiAgICBleHBvcnQgY29uc3QgTUFYX0ZVRUw6IG51bWJlciA9IDEwMDtcclxuICAgIGV4cG9ydCBjb25zdCBNQVhfU0FGRV9URU1QRVJBVFVSRTogbnVtYmVyID0gMTAwO1xyXG4gICAgZXhwb3J0IGNvbnN0IE1BWF9URU1QRVJBVFVSRTogbnVtYmVyID0gMjAwO1xyXG4gICAgZXhwb3J0IGNvbnN0IE9WRVJIRUFUX0NIRUNLX0lOVEVSVkFMOiBudW1iZXIgPSAxMDA7IC8vIG1pbGxpc2Vjb25kc1xyXG4gICAgZXhwb3J0IGNvbnN0IENPT0xJTkdfUkFURTogbnVtYmVyID0gMC4zOyAvLyBkZWdyZWVzIHBlciBzZWNvbmRcclxuICAgIGV4cG9ydCBjb25zdCBUSFJVU1RFUl9GT1JDRTogbnVtYmVyID0gMTtcclxuICAgIGV4cG9ydCBjb25zdCBGVUVMX1BFUl9USFJVU1Q6IG51bWJlciA9IDAuMDAxOyAvLyB1bml0c1xyXG4gICAgZXhwb3J0IGNvbnN0IEhFQVRfUEVSX1RIUlVTVDogbnVtYmVyID0gMC4xIC8vIGRlZ3JlZXNcclxuICAgIGV4cG9ydCBjb25zdCBCT09TVEVSX0ZPUkNFOiBudW1iZXIgPSAzMDA7XHJcbiAgICBleHBvcnQgY29uc3QgRlVFTF9QRVJfQk9PU1Q6IG51bWJlciA9IDE7IC8vIHVuaXRzXHJcbiAgICBleHBvcnQgY29uc3QgSEVBVF9QRVJfQk9PU1Q6IG51bWJlciA9IDI1OyAvLyBkZWdyZWVzXHJcbiAgICBleHBvcnQgY29uc3QgQk9PU1RFUl9DT09MRE9XTl9USU1FOiBudW1iZXIgPSAxMDAwOyAvLyBtaWxsaXNlY29uZHNcclxufSIsImV4cG9ydCBtb2R1bGUgSGVscGVycyB7XHJcbiAgICAvKipcclxuICAgICAqIGdldCB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIGluIGFuIGVudW0uXHJcbiAgICAgKiA8cD5cclxuICAgICAqIGV4OiA8aT5lbnVtIEZvbyB7IGJhciA9IDAsIGJheiA9IDEsIGJveiA9IDIgfTwvaT48YnIgLz5cclxuICAgICAqIHJldHVybnM6IDxiPjM8L2I+XHJcbiAgICAgKiA8L3A+XHJcbiAgICAgKiBAcGFyYW0gZW51bVR5cGUgdGhlIHR5cGUgbmFtZSBvZiBhbiBlbnVtXHJcbiAgICAgKiBAcmV0dXJucyB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIGluIHRoZSBlbnVtXHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBlbnVtTGVuZ3RoKGVudW1UeXBlOiBhbnkpOiBudW1iZXIge1xyXG4gICAgICAgIGxldCBjb3VudCA9IDA7XHJcbiAgICAgICAgZm9yKGxldCBpdGVtIGluIGVudW1UeXBlKSB7XHJcbiAgICAgICAgICAgIGlmKGlzTmFOKE51bWJlcihpdGVtKSkpIHtcclxuICAgICAgICAgICAgICAgIGNvdW50Kys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNvdW50O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgdGltZSBpbiBtaWxsaXNlY29uZHMgc2luY2UgdGhlIGVwb2NoXHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBub3coKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZW51bSBBdHRhY2htZW50TG9jYXRpb24ge1xyXG4gICAgZnJvbnQsXHJcbiAgICBmcm9udFJpZ2h0LFxyXG4gICAgcmlnaHQsXHJcbiAgICBiYWNrUmlnaHQsXHJcbiAgICAvLyBOT1RFOiB0aGVyZSBpcyBubyAnYmFjaycgYXR0YWNobWVudCBwb2ludCBkdWUgdG8gbG9jYXRpb24gb2YgdGhydXN0ZXJcclxuICAgIGJhY2tMZWZ0LFxyXG4gICAgbGVmdCxcclxuICAgIGZyb250TGVmdFxyXG59IiwiaW1wb3J0IHsgU2hpcFNjZW5lIH0gZnJvbSBcIi4vc2NlbmVzL3NoaXAtc2NlbmVcIjtcclxuaW1wb3J0IHsgR2xvYmFscyB9IGZyb20gXCIuL3V0aWxpdGllcy9nbG9iYWxzXCI7XHJcbmltcG9ydCB7IE92ZXJsYXlTY2VuZSB9IGZyb20gXCIuL3NjZW5lcy9vdmVybGF5LXNjZW5lXCI7XHJcblxyXG5jb25zdCBnYW1lQ29uZmlnOiBQaGFzZXIuVHlwZXMuQ29yZS5HYW1lQ29uZmlnID0ge1xyXG4gICAgdHlwZTogUGhhc2VyLkFVVE8sXHJcbiAgICBzY2FsZToge1xyXG4gICAgICAgIHdpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aCxcclxuICAgICAgICBoZWlnaHQ6IHdpbmRvdy5pbm5lckhlaWdodFxyXG4gICAgfSxcclxuICAgIGJhY2tncm91bmRDb2xvcjogJyMwMDAwMDAnLFxyXG4gICAgcGFyZW50OiAnc3BhY2Utc2ltJyxcclxuICAgIHBoeXNpY3M6IHtcclxuICAgICAgICBkZWZhdWx0OiAnYXJjYWRlJyxcclxuICAgICAgICBhcmNhZGU6IHtcclxuICAgICAgICAgICAgZ3Jhdml0eTogeyB4OiAwLCB5OiAwIH0sXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHNjZW5lOiBbU2hpcFNjZW5lLCBPdmVybGF5U2NlbmVdXHJcbn07XHJcbmV4cG9ydCBjb25zdCBnYW1lOiBQaGFzZXIuR2FtZSA9IG5ldyBQaGFzZXIuR2FtZShnYW1lQ29uZmlnKTtcclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7XHJcbiAgICBnYW1lLnNjYWxlLnJlZnJlc2goKTtcclxufSk7XHJcblxyXG5HbG9iYWxzLmdhbWUgPSBnYW1lOyIsImltcG9ydCB7IFNoaXBQb2QgfSBmcm9tIFwiLi4vc2hpcHMvc2hpcC1wb2RcIjtcclxuaW1wb3J0IHsgR2xvYmFscyB9IGZyb20gXCIuLi91dGlsaXRpZXMvZ2xvYmFsc1wiO1xyXG5pbXBvcnQgeyBNb3VzZSB9IGZyb20gXCIuLi91dGlsaXRpZXMvbW91c2VcIjtcclxuaW1wb3J0IHsgQ2Fubm9uQXR0YWNobWVudCB9IGZyb20gXCIuLi9zaGlwcy9hdHRhY2htZW50cy9vZmZlbmNlL2Nhbm5vbi1hdHRhY2htZW50XCI7XHJcblxyXG5jb25zdCBzY2VuZUNvbmZpZzogUGhhc2VyLlR5cGVzLlNjZW5lcy5TZXR0aW5nc0NvbmZpZyA9IHtcclxuICAgIGFjdGl2ZTogdHJ1ZSxcclxuICAgIHZpc2libGU6IHRydWUsXHJcbiAgICBrZXk6ICdTaGlwU2NlbmUnXHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgU2hpcFNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIHByaXZhdGUgbW91c2U6IE1vdXNlO1xyXG4gICAgcHJpdmF0ZSBwbGF5ZXI6IFNoaXBQb2Q7XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKHNjZW5lQ29uZmlnKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcHJlbG9hZCgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3N0YXJzJywgJy4vYXNzZXRzL2JhY2tncm91bmRzL3RpbGVhYmxlU3RhcnMucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdzaGlwLXBvZCcsICcuL2Fzc2V0cy9zcHJpdGVzL3NoaXAtcG9kLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY2Fubm9uJywgJy4vYXNzZXRzL3Nwcml0ZXMvY2Fubm9uLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdGxhcygnZmxhcmVzJywgJy4vYXNzZXRzL3BhcnRpY2xlcy9mbGFyZXMucG5nJywgJy4vYXNzZXRzL3BhcnRpY2xlcy9mbGFyZXMuanNvbicpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjcmVhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5hZGQudGlsZVNwcml0ZSgwLCAwLCB0aGlzLmNhbWVyYXMubWFpbi53aWR0aCAqIDEwLCB0aGlzLmNhbWVyYXMubWFpbi5oZWlnaHQgKiAxMCwgJ3N0YXJzJyk7XHJcblxyXG4gICAgICAgIHRoaXMubW91c2UgPSBuZXcgTW91c2UodGhpcyk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIgPSBuZXcgU2hpcFBvZCh0aGlzKTtcclxuICAgICAgICBHbG9iYWxzLnBsYXllciA9IHRoaXMucGxheWVyO1xyXG4gICAgICAgIHRoaXMucGxheWVyLnNldFRhcmdldCh0aGlzLm1vdXNlKTtcclxuXHJcbiAgICAgICAgLy8gVE1QXHJcbiAgICAgICAgbGV0IGNhbm9uOiBDYW5ub25BdHRhY2htZW50ID0gbmV3IENhbm5vbkF0dGFjaG1lbnQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIuYWRkQXR0YWNobWVudChjYW5vbik7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0dXBDYW1lcmEodGhpcy5wbGF5ZXIpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuaW5wdXQua2V5Ym9hcmQub24oJ2tleWRvd24tUCcsICgpID0+IHtcclxuICAgICAgICAgICAgR2xvYmFscy5wYXVzZWQgPSB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuaW5wdXQua2V5Ym9hcmQub24oJ2tleWRvd24tUicsICgpID0+IHtcclxuICAgICAgICAgICAgR2xvYmFscy5wYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLm1vdXNlLm9uV2hlZWxVcCgoc2Nyb2xsQW1vdW50OiBudW1iZXIpID0+IHtcclxuICAgICAgICAgICAgbGV0IGN1cnJlbnRab29tOiBudW1iZXIgPSB0aGlzLmNhbWVyYXMubWFpbi56b29tO1xyXG4gICAgICAgICAgICAvLyB6b29tIG91dFxyXG4gICAgICAgICAgICBsZXQgbmV3Wm9vbTogbnVtYmVyID0gY3VycmVudFpvb20gLSAwLjU7XHJcbiAgICAgICAgICAgIGlmIChuZXdab29tIDwgMC4xKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdab29tID0gMC4xO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGB6b29taW5nIGZyb20gJHtjdXJyZW50Wm9vbX0gdG8gJHtuZXdab29tfWApO1xyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi56b29tVG8obmV3Wm9vbSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5tb3VzZS5vbldoZWVsRG93bigoc2Nyb2xsQW1vdW50OiBudW1iZXIpID0+IHtcclxuICAgICAgICAgICAgbGV0IGN1cnJlbnRab29tOiBudW1iZXIgPSB0aGlzLmNhbWVyYXMubWFpbi56b29tO1xyXG4gICAgICAgICAgICAvLyB6b29tIGluXHJcbiAgICAgICAgICAgIGxldCBuZXdab29tOiBudW1iZXIgPSBjdXJyZW50Wm9vbSArIDAuNTtcclxuICAgICAgICAgICAgaWYgKG5ld1pvb20gPiAxKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdab29tID0gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgem9vbWluZyBmcm9tICR7Y3VycmVudFpvb219IHRvICR7bmV3Wm9vbX1gKTtcclxuICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uem9vbVRvKG5ld1pvb20pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCFHbG9iYWxzLnBhdXNlZCkge1xyXG4gICAgICAgICAgICBHbG9iYWxzLnBsYXllci51cGRhdGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXR1cENhbWVyYShwbGF5ZXI6IFNoaXBQb2QpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5iYWNrZ3JvdW5kQ29sb3Iuc2V0RnJvbVJHQih7cjogMCwgZzogMCwgYjogMH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldFpvb20oMSk7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uY2VudGVyT24oMCwgMCk7XHJcblxyXG4gICAgICAgIGxldCB3aWR0aDogbnVtYmVyID0gdGhpcy5jYW1lcmFzLm1haW4ud2lkdGg7XHJcbiAgICAgICAgbGV0IGhlaWdodDogbnVtYmVyID0gdGhpcy5jYW1lcmFzLm1haW4uaGVpZ2h0O1xyXG4gICAgICAgIGxldCBkeldpZHRoOiBudW1iZXIgPSBNYXRoLmZsb29yKHdpZHRoIC8gMik7XHJcbiAgICAgICAgbGV0IGR6SGVpZ2h0OiBudW1iZXIgPSBNYXRoLmZsb29yKGhlaWdodCAvIDIpO1xyXG4gICAgICAgIGxldCBkelg6IG51bWJlciA9IE1hdGguZmxvb3IoZHpXaWR0aCAvIDIpO1xyXG4gICAgICAgIGxldCBkelk6IG51bWJlciA9IE1hdGguZmxvb3IoZHpIZWlnaHQgLyAyKTtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zdGFydEZvbGxvdyhwbGF5ZXIuZ2V0R2FtZU9iamVjdCgpLCB0cnVlKTtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5kZWFkem9uZSA9IG5ldyBQaGFzZXIuR2VvbS5SZWN0YW5nbGUoZHpYLCBkelksIGR6V2lkdGgsIGR6SGVpZ2h0KTtcclxuICAgIH1cclxufSIsImltcG9ydCBcInBoYXNlclwiO1xyXG5pbXBvcnQgeyBSTkcgfSBmcm9tIFwiLi4vdXRpbGl0aWVzL3JuZ1wiO1xyXG5pbXBvcnQgeyBVcGRhdGFibGUgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy91cGRhdGFibGVcIjtcclxuaW1wb3J0IHsgQ2FuVGFyZ2V0IH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvY2FuLXRhcmdldFwiO1xyXG5pbXBvcnQgeyBDYW5UaHJ1c3QgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9jYW4tdGhydXN0XCI7XHJcbmltcG9ydCB7IEhhc0xvY2F0aW9uIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvaGFzLWxvY2F0aW9uXCI7XHJcbmltcG9ydCB7IEhhc0dhbWVPYmplY3QgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9oYXMtZ2FtZS1vYmplY3RcIjtcclxuaW1wb3J0IHsgR2xvYmFscyB9IGZyb20gXCIuLi91dGlsaXRpZXMvZ2xvYmFsc1wiO1xyXG5pbXBvcnQgeyBIYXNJbnRlZ3JpdHkgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9oYXMtaW50ZWdyaXR5XCI7XHJcbmltcG9ydCB7IENvbnN0YW50cyB9IGZyb20gXCIuLi91dGlsaXRpZXMvY29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IFNoaXBBdHRhY2htZW50IH0gZnJvbSBcIi4vYXR0YWNobWVudHMvc2hpcC1hdHRhY2htZW50XCI7XHJcbmltcG9ydCB7IEhhc0F0dGFjaG1lbnRzIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvaGFzLWF0dGFjaG1lbnRzXCI7XHJcbmltcG9ydCB7IEhlbHBlcnMgfSBmcm9tIFwiLi4vdXRpbGl0aWVzL2hlbHBlcnNcIjtcclxuaW1wb3J0IHsgQXR0YWNobWVudExvY2F0aW9uIH0gZnJvbSBcIi4vYXR0YWNobWVudHMvYXR0YWNobWVudC1sb2NhdGlvblwiO1xyXG5pbXBvcnQgeyBIYXNUZW1wZXJhdHVyZSB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2hhcy10ZW1wZXJhdHVyZVwiO1xyXG5pbXBvcnQgeyBIYXNGdWVsIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvaGFzLWZ1ZWxcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTaGlwUG9kIGltcGxlbWVudHMgVXBkYXRhYmxlLCBDYW5UYXJnZXQsIENhblRocnVzdCwgSGFzTG9jYXRpb24sIEhhc0dhbWVPYmplY3QsIEhhc0ludGVncml0eSwgSGFzQXR0YWNobWVudHMsIEhhc1RlbXBlcmF0dXJlLCBIYXNGdWVsIHtcclxuICAgIHByaXZhdGUgaWQ6IHN0cmluZzsgLy8gVVVJRFxyXG4gICAgcHJpdmF0ZSBzY2VuZTogUGhhc2VyLlNjZW5lO1xyXG4gICAgcHJpdmF0ZSBnYW1lT2JqOiBQaGFzZXIuR2FtZU9iamVjdHMuQ29udGFpbmVyO1xyXG4gICAgcHJpdmF0ZSB0YXJnZXQ6IEhhc0xvY2F0aW9uO1xyXG4gICAgcHJpdmF0ZSBpbnRlZ3JpdHk6IG51bWJlcjtcclxuICAgIHByaXZhdGUgYXR0YWNobWVudHM6IFNoaXBBdHRhY2htZW50W107XHJcbiAgICBwcml2YXRlIHRocnVzdEtleTogUGhhc2VyLklucHV0LktleWJvYXJkLktleTtcclxuICAgIHByaXZhdGUgYm9vc3RLZXk6IFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXk7XHJcbiAgICBwcml2YXRlIHJvdGF0ZUF0dGFjaG1lbnRzQ2xvY2t3aXNlS2V5OiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5O1xyXG4gICAgcHJpdmF0ZSByb3RhdGVBdHRhY2htZW50c0FudGlDbG9ja3dpc2VLZXk6IFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXk7XHJcbiAgICBwcml2YXRlIGRldGFjaEF0dGFjaG1lbnRLZXk6IFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXk7XHJcbiAgICBwcml2YXRlIHJlbWFpbmluZ0Z1ZWw6IG51bWJlciA9IDEwMDtcclxuICAgIHByaXZhdGUgdGVtcGVyYXR1cmU6IG51bWJlciA9IDA7IC8vIGluIENlbGNpdXNcclxuICAgIHByaXZhdGUgdGhydXN0ZXJQYXJ0aWNsZXM6IFBoYXNlci5HYW1lT2JqZWN0cy5QYXJ0aWNsZXMuUGFydGljbGVFbWl0dGVyTWFuYWdlcjtcclxuXHJcbiAgICBhY3RpdmU6IGJvb2xlYW4gPSB0cnVlO1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZTogUGhhc2VyLlNjZW5lKSB7XHJcbiAgICAgICAgdGhpcy5pZCA9IFJORy5ndWlkKCk7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuZ2FtZU9iaiA9IHNjZW5lLmFkZC5jb250YWluZXIoMCwgMCk7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmdhbWVPYmopO1xyXG4gICAgICAgICh0aGlzLmdhbWVPYmouYm9keSBhcyBQaGFzZXIuUGh5c2ljcy5BcmNhZGUuQm9keSkuYm91bmNlLnNldFRvKDAuNywgMC43KTtcclxuICAgICAgICB0aGlzLnRocnVzdGVyUGFydGljbGVzID0gc2NlbmUuYWRkLnBhcnRpY2xlcygnZmxhcmVzJyk7XHJcbiAgICAgICAgbGV0IHNoaXA6IFBoYXNlci5HYW1lT2JqZWN0cy5TcHJpdGUgPSBzY2VuZS5hZGQuc3ByaXRlKDAsIDAsICdzaGlwLXBvZCcpO1xyXG4gICAgICAgIHRoaXMuZ2FtZU9iai5hZGQoc2hpcCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5pbnRlZ3JpdHkgPSBDb25zdGFudHMuTUFYX0lOVEVHUklUWTtcclxuICAgICAgICB0aGlzLmF0dGFjaG1lbnRzID0gbmV3IEFycmF5PFNoaXBBdHRhY2htZW50PihIZWxwZXJzLmVudW1MZW5ndGgoQXR0YWNobWVudExvY2F0aW9uKSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0dXBJbnB1dEhhbmRsZXJzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICghR2xvYmFscy5wYXVzZWQgJiYgdGhpcy5hY3RpdmUpIHtcclxuICAgICAgICAgICAgdGhpcy5sb29rQXRUYXJnZXQoKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMudGhydXN0S2V5LmlzRG93bikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50aHJ1c3RGb3dhcmRzKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuYm9vc3RLZXkuaXNEb3duKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJvb3N0Rm9yd2FyZHMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5zY2VuZS5pbnB1dC5hY3RpdmVQb2ludGVyLmxlZnRCdXR0b25Eb3duKCkpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmF0dGFjaG1lbnRzWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdHRhY2htZW50c1swXS50cmlnZ2VyKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5jaGVja092ZXJoZWF0Q29uZGl0aW9uKCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnJvdGF0ZUF0dGFjaG1lbnRzQ2xvY2t3aXNlS2V5LmlzRG93bikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yb3RhdGVBdHRhY2htZW50c0Nsb2Nrd2lzZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnJvdGF0ZUF0dGFjaG1lbnRzQW50aUNsb2Nrd2lzZUtleS5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucm90YXRlQXR0YWNobWVudHNBbnRpQ2xvY2t3aXNlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuZGV0YWNoQXR0YWNobWVudEtleS5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQXR0YWNobWVudChBdHRhY2htZW50TG9jYXRpb24uZnJvbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQXR0YWNobWVudHMoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1cGRhdGVBdHRhY2htZW50cygpOiB2b2lkIHtcclxuICAgICAgICBmb3IgKHZhciBpPTA7IGk8dGhpcy5hdHRhY2htZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgYTogU2hpcEF0dGFjaG1lbnQgPSB0aGlzLmF0dGFjaG1lbnRzW2ldO1xyXG4gICAgICAgICAgICBpZiAoYSkge1xyXG4gICAgICAgICAgICAgICAgYS51cGRhdGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldHVwSW5wdXRIYW5kbGVycygpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnRocnVzdEtleSA9IHRoaXMuc2NlbmUuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KCdTUEFDRScsIHRydWUsIHRydWUpO1xyXG4gICAgICAgIHRoaXMuYm9vc3RLZXkgPSB0aGlzLnNjZW5lLmlucHV0LmtleWJvYXJkLmFkZEtleSgnVEFCJywgdHJ1ZSwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMucm90YXRlQXR0YWNobWVudHNDbG9ja3dpc2VLZXkgPSB0aGlzLnNjZW5lLmlucHV0LmtleWJvYXJkLmFkZEtleSgnRScsIHRydWUsIGZhbHNlKTtcclxuICAgICAgICB0aGlzLnJvdGF0ZUF0dGFjaG1lbnRzQW50aUNsb2Nrd2lzZUtleSA9IHRoaXMuc2NlbmUuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KCdRJywgdHJ1ZSwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuZGV0YWNoQXR0YWNobWVudEtleSA9IHRoaXMuc2NlbmUuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KCdYJywgdHJ1ZSwgZmFsc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogY2hlY2tzIGZvciBhbmQgYXBwbGllcyBkYW1hZ2UgYmFzZWQgb24gZGVncmVlcyBvdmVyIHNhZmUgdGVtcGVyYXR1cmUgYXQgYSByYXRlXHJcbiAgICAgKiBkZWZpbmVkIGJ5IHtDb25zdGFudHMuT1ZFUkhFQVRfQ0hFQ0tfSU5URVJWQUx9IG1pbGxpc2Vjb25kcyBiZXR3ZWVuIGVhY2ggY2hlY2suXHJcbiAgICAgKiBhbHNvIGFwcGxpZXMgY29vbGluZyBhdCBhIHJhdGUgb2Yge0NvbnN0YW50cy5DT09MSU5HX1JBVEV9XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgY2hlY2tPdmVyaGVhdENvbmRpdGlvbigpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIUdsb2JhbHMucGF1c2VkICYmIHRoaXMuYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIGlmIChIZWxwZXJzLm5vdygpIC0gdGhpcy5sYXN0T3ZlcmhlYXRDaGVjayA+IENvbnN0YW50cy5PVkVSSEVBVF9DSEVDS19JTlRFUlZBTCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudGVtcGVyYXR1cmUgPiBDb25zdGFudHMuTUFYX1RFTVBFUkFUVVJFKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95KCk7IC8vIHdlIGFyZSBkZWFkXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50ZW1wZXJhdHVyZSA+IENvbnN0YW50cy5NQVhfU0FGRV9URU1QRVJBVFVSRSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlZHVjZSBpbnRlZ3JpdHkgYmFzZWQgb24gZGVncmVlcyBvdmVyIHNhZmUgb3BlcmF0aW5nIHRlbXBcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZGVsdGE6IG51bWJlciA9ICh0aGlzLnRlbXBlcmF0dXJlIC0gQ29uc3RhbnRzLk1BWF9TQUZFX1RFTVBFUkFUVVJFKSAvIENvbnN0YW50cy5NQVhfU0FGRV9URU1QRVJBVFVSRTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN1c3RhaW5EYW1hZ2UoZGVsdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5hcHBseUNvb2xpbmcoQ29uc3RhbnRzLkNPT0xJTkdfUkFURSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RPdmVyaGVhdENoZWNrID0gSGVscGVycy5ub3coKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHByaXZhdGUgbGFzdE92ZXJoZWF0Q2hlY2s6IG51bWJlciA9IDA7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUT0RPOiBuZWVkZWQgc28gd2UgY2FuIHVzZSBGbG9hdGluZyBPcmlnaW5cclxuICAgICAqL1xyXG4gICAgZ2V0UmVhbExvY2F0aW9uKCk6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIHJldHVybiBuZXcgUGhhc2VyLk1hdGguVmVjdG9yMih0aGlzLmdhbWVPYmoueCwgdGhpcy5nYW1lT2JqLnkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogdGhlIGxvY2F0aW9uIHdpdGhpbiB0aGUgdmlld2FibGUgYXJlYVxyXG4gICAgICogQHJldHVybnMgYSB7UGhhc2VyLk1hdGguVmVjdG9yMn0gb2Zmc2V0IGZvciBsb2NhdGlvbiB3aXRoaW4gY3VycmVudCBcclxuICAgICAqIHZpZXdhYmxlIGFyZWFcclxuICAgICAqL1xyXG4gICAgZ2V0TG9jYXRpb24oKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgbGV0IGNhbWVyYVBvczogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuc2NlbmUuY2FtZXJhcy5tYWluLmdldFdvcmxkUG9pbnQoMCwgMCk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKHRoaXMuZ2FtZU9iai54IC0gY2FtZXJhUG9zLngsIHRoaXMuZ2FtZU9iai55IC0gY2FtZXJhUG9zLnkpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldElkKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0R2FtZU9iamVjdCgpOiBQaGFzZXIuR2FtZU9iamVjdHMuR2FtZU9iamVjdCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZU9iajtcclxuICAgIH1cclxuXHJcbiAgICBzZXRUYXJnZXQodGFyZ2V0OiBIYXNMb2NhdGlvbikge1xyXG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xyXG4gICAgfVxyXG5cclxuICAgIGxvb2tBdFRhcmdldCgpOiB2b2lkIHtcclxuICAgICAgICBsZXQgcG9zID0gdGhpcy50YXJnZXQuZ2V0UmVhbExvY2F0aW9uKCk7XHJcbiAgICAgICAgbGV0IHJhZGlhbnM6IG51bWJlciA9IFBoYXNlci5NYXRoLkFuZ2xlLkJldHdlZW4ocG9zLngsIHBvcy55LCB0aGlzLmdhbWVPYmoueCwgdGhpcy5nYW1lT2JqLnkpO1xyXG4gICAgICAgIHRoaXMuZ2FtZU9iai5zZXRSb3RhdGlvbihyYWRpYW5zKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRBbmdsZSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdhbWVPYmouYW5nbGU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Um90YXRpb24oKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nYW1lT2JqLnJvdGF0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEhlYWRpbmcoKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgbGV0IHg6IG51bWJlciA9IE1hdGguY29zKHRoaXMuZ2FtZU9iai5yb3RhdGlvbik7XHJcbiAgICAgICAgbGV0IHk6IG51bWJlciA9IE1hdGguc2luKHRoaXMuZ2FtZU9iai5yb3RhdGlvbik7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKHgsIHkpLm5vcm1hbGl6ZSgpLm5lZ2F0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFZlbG9jaXR5KCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLmdhbWVPYmouYm9keSBhcyBQaGFzZXIuUGh5c2ljcy5BcmNhZGUuQm9keSkudmVsb2NpdHkubGVuZ3RoKCk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhydXN0Rm93YXJkcygpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmFwcGx5VGhydXN0KENvbnN0YW50cy5USFJVU1RFUl9GT1JDRSwgQ29uc3RhbnRzLkZVRUxfUEVSX1RIUlVTVCwgQ29uc3RhbnRzLkhFQVRfUEVSX1RIUlVTVCk7XHJcbiAgICAgICAgdGhpcy5kaXNwbGF5VGhydXN0ZXJGaXJlKCd5ZWxsb3cnLCAwLjQpO1xyXG4gICAgfVxyXG5cclxuICAgIGJvb3N0Rm9yd2FyZHMoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKEhlbHBlcnMubm93KCkgLSB0aGlzLmxhc3RCb29zdFRpbWUgPj0gQ29uc3RhbnRzLkJPT1NURVJfQ09PTERPV05fVElNRSkge1xyXG4gICAgICAgICAgICB0aGlzLmFwcGx5VGhydXN0KENvbnN0YW50cy5CT09TVEVSX0ZPUkNFLCBDb25zdGFudHMuRlVFTF9QRVJfQk9PU1QsIENvbnN0YW50cy5IRUFUX1BFUl9CT09TVCk7XHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheVRocnVzdGVyRmlyZSgnYmx1ZScsIDEpO1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RCb29zdFRpbWUgPSBIZWxwZXJzLm5vdygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHByaXZhdGUgbGFzdEJvb3N0VGltZTogbnVtYmVyID0gMDtcclxuXHJcbiAgICBwcml2YXRlIGFwcGx5VGhydXN0KGZvcmNlOiBudW1iZXIsIGZ1ZWw6IG51bWJlciwgaGVhdDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0UmVtYWluaW5nRnVlbCgpID4gMCkge1xyXG4gICAgICAgICAgICBsZXQgaGVhZGluZzogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuZ2V0SGVhZGluZygpO1xyXG4gICAgICAgICAgICBsZXQgZGVsdGFWOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gaGVhZGluZy5tdWx0aXBseShuZXcgUGhhc2VyLk1hdGguVmVjdG9yMihmb3JjZSwgZm9yY2UpKTtcclxuICAgICAgICAgICAgKHRoaXMuZ2FtZU9iai5ib2R5IGFzIFBoYXNlci5QaHlzaWNzLkFyY2FkZS5Cb2R5KS52ZWxvY2l0eS5hZGQoZGVsdGFWKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMucmVkdWNlRnVlbChmdWVsKTtcclxuICAgICAgICAgICAgdGhpcy5hcHBseUhlYXRpbmcoaGVhdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZGlzcGxheVRocnVzdGVyRmlyZShjb2xvdXI6IHN0cmluZywgc3RhcnRTY2FsZTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgLy8gbWFrZSB0aHJ1c3RlciBmaXJlXHJcbiAgICAgICAgbGV0IHBvczogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuZ2V0UmVhbExvY2F0aW9uKCk7XHJcbiAgICAgICAgbGV0IG9mZnNldDogUGhhc2VyLk1hdGguVmVjdG9yMiA9IG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKDIwLCAwKS5hZGQodGhpcy5nZXRSZWFsTG9jYXRpb24oKSk7XHJcbiAgICAgICAgbGV0IGxvYzogUGhhc2VyLkdlb20uUG9pbnQgPSBQaGFzZXIuTWF0aC5Sb3RhdGVBcm91bmQob2Zmc2V0LCBwb3MueCwgcG9zLnksIHRoaXMuZ2V0Um90YXRpb24oKSk7XHJcbiAgICAgICAgbGV0IGg6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSB0aGlzLmdldEhlYWRpbmcoKS5uZWdhdGUoKTtcclxuICAgICAgICB0aGlzLnRocnVzdGVyUGFydGljbGVzLmNyZWF0ZUVtaXR0ZXIoe1xyXG4gICAgICAgICAgICBmcmFtZTogY29sb3VyLFxyXG4gICAgICAgICAgICB4OiBsb2MueCxcclxuICAgICAgICAgICAgeTogbG9jLnksXHJcbiAgICAgICAgICAgIGxpZmVzcGFuOiA1MDAsXHJcbiAgICAgICAgICAgIHNwZWVkWDogeyBtaW46IGgueCo2MDAsIG1heDogaC54KjEwMDAgfSxcclxuICAgICAgICAgICAgc3BlZWRZOiB7IG1pbjogaC55KjYwMCwgbWF4OiBoLnkqMTAwMCB9LFxyXG4gICAgICAgICAgICBhbmdsZTogeyBtaW46IC04NSwgbWF4OiA5NSB9LFxyXG4gICAgICAgICAgICBncmF2aXR5WDogMCxcclxuICAgICAgICAgICAgZ3Jhdml0eVk6IDAsXHJcbiAgICAgICAgICAgIHNjYWxlOiB7IHN0YXJ0OiBzdGFydFNjYWxlLCBlbmQ6IDAgfSxcclxuICAgICAgICAgICAgLy9xdWFudGl0eTogNCxcclxuICAgICAgICAgICAgYmxlbmRNb2RlOiAnQUREJyxcclxuICAgICAgICAgICAgbWF4UGFydGljbGVzOiAxMFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHN0cmFmZUxlZnQoKTogdm9pZCB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHN0cmFmZVJpZ2h0KCk6IHZvaWQge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICB0aHJ1c3RCYWNrd2FyZHMoKTogdm9pZCB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGdldFRlbXBlcmF0dXJlKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGVtcGVyYXR1cmU7XHJcbiAgICB9XHJcblxyXG4gICAgYXBwbHlIZWF0aW5nKGRlZ3JlZXM6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMudGVtcGVyYXR1cmUgKz0gZGVncmVlcztcclxuICAgIH1cclxuXHJcbiAgICBhcHBseUNvb2xpbmcoZGVncmVlczogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy50ZW1wZXJhdHVyZSAtPSBkZWdyZWVzO1xyXG4gICAgICAgIGlmICh0aGlzLnRlbXBlcmF0dXJlIDwgMCkge1xyXG4gICAgICAgICAgICB0aGlzLnRlbXBlcmF0dXJlID0gMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVkdWNlRnVlbChhbW91bnQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMucmVtYWluaW5nRnVlbCAtPSBhbW91bnQ7XHJcbiAgICAgICAgaWYgKHRoaXMucmVtYWluaW5nRnVlbCA8IDApIHtcclxuICAgICAgICAgICAgdGhpcy5yZW1haW5pbmdGdWVsID0gMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYWRkRnVlbChhbW91bnQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMucmVtYWluaW5nRnVlbCArPSBhbW91bnQ7XHJcbiAgICAgICAgaWYgKHRoaXMucmVtYWluaW5nRnVlbCA+IENvbnN0YW50cy5NQVhfRlVFTCkge1xyXG4gICAgICAgICAgICB0aGlzLnJlbWFpbmluZ0Z1ZWwgPSBDb25zdGFudHMuTUFYX0ZVRUw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldFJlbWFpbmluZ0Z1ZWwoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZW1haW5pbmdGdWVsO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEludGVncml0eSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmludGVncml0eTtcclxuICAgIH1cclxuXHJcbiAgICBzdXN0YWluRGFtYWdlKGFtb3VudDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5pbnRlZ3JpdHkgLT0gYW1vdW50O1xyXG4gICAgICAgIGlmICh0aGlzLmludGVncml0eSA8PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW50ZWdyaXR5ID0gMDtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5kZXN0cm95KCk7IC8vIHdlIGFyZSBkZWFkXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlcGFpcihhbW91bnQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuaW50ZWdyaXR5ID0gYW1vdW50O1xyXG4gICAgICAgIGlmICh0aGlzLmludGVncml0eSA+IENvbnN0YW50cy5NQVhfSU5URUdSSVRZKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW50ZWdyaXR5ID0gQ29uc3RhbnRzLk1BWF9JTlRFR1JJVFk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJvdGF0ZUF0dGFjaG1lbnRzQ2xvY2t3aXNlKCk6IHZvaWQge1xyXG4gICAgICAgIGxldCBsYXN0OiBTaGlwQXR0YWNobWVudCA9IHRoaXMuYXR0YWNobWVudHMucG9wKCk7IC8vIHJlbW92ZSBsYXN0IGVsZW1lbnRcclxuICAgICAgICB0aGlzLmF0dGFjaG1lbnRzLnVuc2hpZnQobGFzdCk7IC8vIHB1c2ggbGFzdCBlbGVtZW50IG9udG8gc3RhcnQgb2YgYXJyYXlcclxuICAgICAgICB0aGlzLnVwZGF0ZUF0dGFjaG1lbnRQb3NpdGlvbnMoKTtcclxuICAgIH1cclxuXHJcbiAgICByb3RhdGVBdHRhY2htZW50c0FudGlDbG9ja3dpc2UoKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IGZpcnN0OiBTaGlwQXR0YWNobWVudCA9IHRoaXMuYXR0YWNobWVudHMuc2hpZnQoKTsgLy8gcmVtb3ZlIGZpcnN0IGVsZW1lbnRcclxuICAgICAgICB0aGlzLmF0dGFjaG1lbnRzLnB1c2goZmlyc3QpOyAvLyBwdXNoIGZpcnN0IGVsZW1lbnQgb250byBlbmQgb2YgYXJyYXlcclxuICAgICAgICB0aGlzLnVwZGF0ZUF0dGFjaG1lbnRQb3NpdGlvbnMoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHVwZGF0ZUF0dGFjaG1lbnRQb3NpdGlvbnMoKTogdm9pZCB7XHJcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPHRoaXMuYXR0YWNobWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuYXR0YWNobWVudHNbaV0pIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQXR0YWNobWVudExvY2F0aW9uLmZyb250OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzW2ldLnNldEF0dGFjaG1lbnRMb2NhdGlvbihBdHRhY2htZW50TG9jYXRpb24uZnJvbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIEF0dGFjaG1lbnRMb2NhdGlvbi5mcm9udFJpZ2h0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzW2ldLnNldEF0dGFjaG1lbnRMb2NhdGlvbihBdHRhY2htZW50TG9jYXRpb24uZnJvbnRSaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQXR0YWNobWVudExvY2F0aW9uLnJpZ2h0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzW2ldLnNldEF0dGFjaG1lbnRMb2NhdGlvbihBdHRhY2htZW50TG9jYXRpb24ucmlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIEF0dGFjaG1lbnRMb2NhdGlvbi5iYWNrUmlnaHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNobWVudHNbaV0uc2V0QXR0YWNobWVudExvY2F0aW9uKEF0dGFjaG1lbnRMb2NhdGlvbi5iYWNrUmlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIEF0dGFjaG1lbnRMb2NhdGlvbi5iYWNrTGVmdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hdHRhY2htZW50c1tpXS5zZXRBdHRhY2htZW50TG9jYXRpb24oQXR0YWNobWVudExvY2F0aW9uLmJhY2tMZWZ0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBBdHRhY2htZW50TG9jYXRpb24ubGVmdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hdHRhY2htZW50c1tpXS5zZXRBdHRhY2htZW50TG9jYXRpb24oQXR0YWNobWVudExvY2F0aW9uLmxlZnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIEF0dGFjaG1lbnRMb2NhdGlvbi5mcm9udExlZnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNobWVudHNbaV0uc2V0QXR0YWNobWVudExvY2F0aW9uKEF0dGFjaG1lbnRMb2NhdGlvbi5mcm9udExlZnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGFkZHMgdGhlIHBhc3NlZCBpbiB7U2hpcEF0dGFjaG1lbnR9IGluIHtBdHRhY2htZW50TG9jYXRpb24uZnJvbnR9IG9yXHJcbiAgICAgKiB0aGUgZmlyc3Qgb3BlbiB7QXR0YWNobWVudExvY2F0aW9ufSBpbiBhIGNsb2Nrd2lzZSBzZWFyY2guIGlmIG5vIG9wZW5cclxuICAgICAqIHNsb3RzIGV4aXN0IHRoZW4gdGhlIGV4aXN0aW5nIHtTaGlwQXR0YWNobWVudH0gYXQge0F0dGFjaG1lbnRMb2NhdGlvbi5mcm9udH1cclxuICAgICAqIGlzIGRldGFjaGVkIGFuZCByZXBsYWNlZCB3aXRoIHRoZSBwYXNzZWQgaW4ge1NoaXBBdHRhY2htZW50fVxyXG4gICAgICogQHBhcmFtIGF0dGFjaG1lbnQgdGhlIGF0dGFjaG1lbnQgdG8gYmUgYWRkZWRcclxuICAgICAqL1xyXG4gICAgYWRkQXR0YWNobWVudChhdHRhY2htZW50OiBTaGlwQXR0YWNobWVudCk6IHZvaWQge1xyXG4gICAgICAgIGxldCBhdHRhY2hlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgICAgIGZvciAodmFyIGk9MDsgaTxIZWxwZXJzLmVudW1MZW5ndGgoQXR0YWNobWVudExvY2F0aW9uKTsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5hdHRhY2htZW50c1tpXSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGxvYzogQXR0YWNobWVudExvY2F0aW9uO1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBBdHRhY2htZW50TG9jYXRpb24uZnJvbnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYyA9IEF0dGFjaG1lbnRMb2NhdGlvbi5mcm9udDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBBdHRhY2htZW50TG9jYXRpb24uZnJvbnRSaWdodDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jID0gQXR0YWNobWVudExvY2F0aW9uLmZyb250UmlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQXR0YWNobWVudExvY2F0aW9uLnJpZ2h0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2MgPSBBdHRhY2htZW50TG9jYXRpb24ucmlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQXR0YWNobWVudExvY2F0aW9uLmJhY2tSaWdodDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jID0gQXR0YWNobWVudExvY2F0aW9uLmJhY2tSaWdodDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBBdHRhY2htZW50TG9jYXRpb24uYmFja0xlZnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYyA9IEF0dGFjaG1lbnRMb2NhdGlvbi5iYWNrTGVmdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBBdHRhY2htZW50TG9jYXRpb24ubGVmdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jID0gQXR0YWNobWVudExvY2F0aW9uLmxlZnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQXR0YWNobWVudExvY2F0aW9uLmZyb250TGVmdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jID0gQXR0YWNobWVudExvY2F0aW9uLmZyb250TGVmdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzW2ldID0gYXR0YWNobWVudDtcclxuICAgICAgICAgICAgICAgIGF0dGFjaG1lbnQuYXR0YWNoKHRoaXMsIGxvYyk7XHJcbiAgICAgICAgICAgICAgICBhdHRhY2hlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghYXR0YWNoZWQpIHtcclxuICAgICAgICAgICAgLy8gZGV0YWNoIGN1cnJlbnQgZnJvbnQgYXR0YWNobWVudFxyXG4gICAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzW0F0dGFjaG1lbnRMb2NhdGlvbi5mcm9udF0uZGV0YWNoKCk7XHJcbiAgICAgICAgICAgIHRoaXMuYXR0YWNobWVudHNbQXR0YWNobWVudExvY2F0aW9uLmZyb250XSA9IGF0dGFjaG1lbnQ7XHJcbiAgICAgICAgICAgIGF0dGFjaG1lbnQuYXR0YWNoKHRoaXMsIEF0dGFjaG1lbnRMb2NhdGlvbi5mcm9udCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmdhbWVPYmouYWRkKGF0dGFjaG1lbnQuZ2V0R2FtZU9iamVjdCgpKTtcclxuICAgIH1cclxuXHJcbiAgICByZW1vdmVBdHRhY2htZW50KGxvY2F0aW9uOiBBdHRhY2htZW50TG9jYXRpb24pOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5hdHRhY2htZW50c1tsb2NhdGlvbl0pIHtcclxuICAgICAgICAgICAgbGV0IGdvOiBQaGFzZXIuR2FtZU9iamVjdHMuR2FtZU9iamVjdCA9IHRoaXMuYXR0YWNobWVudHNbbG9jYXRpb25dLmdldEdhbWVPYmplY3QoKTtcclxuICAgICAgICAgICAgdGhpcy5nYW1lT2JqLnJlbW92ZShnbyk7XHJcbiAgICAgICAgICAgIHRoaXMuYXR0YWNobWVudHNbbG9jYXRpb25dLmRldGFjaCgpO1xyXG4gICAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzW2xvY2F0aW9uXSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldEF0dGFjaG1lbnRzKCk6IFNoaXBBdHRhY2htZW50W10ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmF0dGFjaG1lbnRzO1xyXG4gICAgfVxyXG5cclxuICAgIGRlc3Ryb3koKTogdm9pZCB7XHJcbiAgICAgICAgLy8gVE9ETzpcclxuICAgIH1cclxufSIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fOV9fOyIsImltcG9ydCB7IHY0IH0gZnJvbSBcInV1aWRcIjtcclxuXHJcbmV4cG9ydCBtb2R1bGUgUk5HIHtcclxuICAgIGV4cG9ydCBmdW5jdGlvbiBpbnQobWluOiBudW1iZXIsIG1heDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbjtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gZ3VpZCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB2NCgpO1xyXG4gICAgfVxyXG59IiwidmFyIHYxID0gcmVxdWlyZSgnLi92MScpO1xudmFyIHY0ID0gcmVxdWlyZSgnLi92NCcpO1xuXG52YXIgdXVpZCA9IHY0O1xudXVpZC52MSA9IHYxO1xudXVpZC52NCA9IHY0O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHV1aWQ7XG4iLCJ2YXIgcm5nID0gcmVxdWlyZSgnLi9saWIvcm5nJyk7XG52YXIgYnl0ZXNUb1V1aWQgPSByZXF1aXJlKCcuL2xpYi9ieXRlc1RvVXVpZCcpO1xuXG4vLyAqKmB2MSgpYCAtIEdlbmVyYXRlIHRpbWUtYmFzZWQgVVVJRCoqXG4vL1xuLy8gSW5zcGlyZWQgYnkgaHR0cHM6Ly9naXRodWIuY29tL0xpb3NLL1VVSUQuanNcbi8vIGFuZCBodHRwOi8vZG9jcy5weXRob24ub3JnL2xpYnJhcnkvdXVpZC5odG1sXG5cbnZhciBfbm9kZUlkO1xudmFyIF9jbG9ja3NlcTtcblxuLy8gUHJldmlvdXMgdXVpZCBjcmVhdGlvbiB0aW1lXG52YXIgX2xhc3RNU2VjcyA9IDA7XG52YXIgX2xhc3ROU2VjcyA9IDA7XG5cbi8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdXVpZGpzL3V1aWQgZm9yIEFQSSBkZXRhaWxzXG5mdW5jdGlvbiB2MShvcHRpb25zLCBidWYsIG9mZnNldCkge1xuICB2YXIgaSA9IGJ1ZiAmJiBvZmZzZXQgfHwgMDtcbiAgdmFyIGIgPSBidWYgfHwgW107XG5cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHZhciBub2RlID0gb3B0aW9ucy5ub2RlIHx8IF9ub2RlSWQ7XG4gIHZhciBjbG9ja3NlcSA9IG9wdGlvbnMuY2xvY2tzZXEgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY2xvY2tzZXEgOiBfY2xvY2tzZXE7XG5cbiAgLy8gbm9kZSBhbmQgY2xvY2tzZXEgbmVlZCB0byBiZSBpbml0aWFsaXplZCB0byByYW5kb20gdmFsdWVzIGlmIHRoZXkncmUgbm90XG4gIC8vIHNwZWNpZmllZC4gIFdlIGRvIHRoaXMgbGF6aWx5IHRvIG1pbmltaXplIGlzc3VlcyByZWxhdGVkIHRvIGluc3VmZmljaWVudFxuICAvLyBzeXN0ZW0gZW50cm9weS4gIFNlZSAjMTg5XG4gIGlmIChub2RlID09IG51bGwgfHwgY2xvY2tzZXEgPT0gbnVsbCkge1xuICAgIHZhciBzZWVkQnl0ZXMgPSBybmcoKTtcbiAgICBpZiAobm9kZSA9PSBudWxsKSB7XG4gICAgICAvLyBQZXIgNC41LCBjcmVhdGUgYW5kIDQ4LWJpdCBub2RlIGlkLCAoNDcgcmFuZG9tIGJpdHMgKyBtdWx0aWNhc3QgYml0ID0gMSlcbiAgICAgIG5vZGUgPSBfbm9kZUlkID0gW1xuICAgICAgICBzZWVkQnl0ZXNbMF0gfCAweDAxLFxuICAgICAgICBzZWVkQnl0ZXNbMV0sIHNlZWRCeXRlc1syXSwgc2VlZEJ5dGVzWzNdLCBzZWVkQnl0ZXNbNF0sIHNlZWRCeXRlc1s1XVxuICAgICAgXTtcbiAgICB9XG4gICAgaWYgKGNsb2Nrc2VxID09IG51bGwpIHtcbiAgICAgIC8vIFBlciA0LjIuMiwgcmFuZG9taXplICgxNCBiaXQpIGNsb2Nrc2VxXG4gICAgICBjbG9ja3NlcSA9IF9jbG9ja3NlcSA9IChzZWVkQnl0ZXNbNl0gPDwgOCB8IHNlZWRCeXRlc1s3XSkgJiAweDNmZmY7XG4gICAgfVxuICB9XG5cbiAgLy8gVVVJRCB0aW1lc3RhbXBzIGFyZSAxMDAgbmFuby1zZWNvbmQgdW5pdHMgc2luY2UgdGhlIEdyZWdvcmlhbiBlcG9jaCxcbiAgLy8gKDE1ODItMTAtMTUgMDA6MDApLiAgSlNOdW1iZXJzIGFyZW4ndCBwcmVjaXNlIGVub3VnaCBmb3IgdGhpcywgc29cbiAgLy8gdGltZSBpcyBoYW5kbGVkIGludGVybmFsbHkgYXMgJ21zZWNzJyAoaW50ZWdlciBtaWxsaXNlY29uZHMpIGFuZCAnbnNlY3MnXG4gIC8vICgxMDAtbmFub3NlY29uZHMgb2Zmc2V0IGZyb20gbXNlY3MpIHNpbmNlIHVuaXggZXBvY2gsIDE5NzAtMDEtMDEgMDA6MDAuXG4gIHZhciBtc2VjcyA9IG9wdGlvbnMubXNlY3MgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubXNlY3MgOiBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblxuICAvLyBQZXIgNC4yLjEuMiwgdXNlIGNvdW50IG9mIHV1aWQncyBnZW5lcmF0ZWQgZHVyaW5nIHRoZSBjdXJyZW50IGNsb2NrXG4gIC8vIGN5Y2xlIHRvIHNpbXVsYXRlIGhpZ2hlciByZXNvbHV0aW9uIGNsb2NrXG4gIHZhciBuc2VjcyA9IG9wdGlvbnMubnNlY3MgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubnNlY3MgOiBfbGFzdE5TZWNzICsgMTtcblxuICAvLyBUaW1lIHNpbmNlIGxhc3QgdXVpZCBjcmVhdGlvbiAoaW4gbXNlY3MpXG4gIHZhciBkdCA9IChtc2VjcyAtIF9sYXN0TVNlY3MpICsgKG5zZWNzIC0gX2xhc3ROU2VjcykvMTAwMDA7XG5cbiAgLy8gUGVyIDQuMi4xLjIsIEJ1bXAgY2xvY2tzZXEgb24gY2xvY2sgcmVncmVzc2lvblxuICBpZiAoZHQgPCAwICYmIG9wdGlvbnMuY2xvY2tzZXEgPT09IHVuZGVmaW5lZCkge1xuICAgIGNsb2Nrc2VxID0gY2xvY2tzZXEgKyAxICYgMHgzZmZmO1xuICB9XG5cbiAgLy8gUmVzZXQgbnNlY3MgaWYgY2xvY2sgcmVncmVzc2VzIChuZXcgY2xvY2tzZXEpIG9yIHdlJ3ZlIG1vdmVkIG9udG8gYSBuZXdcbiAgLy8gdGltZSBpbnRlcnZhbFxuICBpZiAoKGR0IDwgMCB8fCBtc2VjcyA+IF9sYXN0TVNlY3MpICYmIG9wdGlvbnMubnNlY3MgPT09IHVuZGVmaW5lZCkge1xuICAgIG5zZWNzID0gMDtcbiAgfVxuXG4gIC8vIFBlciA0LjIuMS4yIFRocm93IGVycm9yIGlmIHRvbyBtYW55IHV1aWRzIGFyZSByZXF1ZXN0ZWRcbiAgaWYgKG5zZWNzID49IDEwMDAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd1dWlkLnYxKCk6IENhblxcJ3QgY3JlYXRlIG1vcmUgdGhhbiAxME0gdXVpZHMvc2VjJyk7XG4gIH1cblxuICBfbGFzdE1TZWNzID0gbXNlY3M7XG4gIF9sYXN0TlNlY3MgPSBuc2VjcztcbiAgX2Nsb2Nrc2VxID0gY2xvY2tzZXE7XG5cbiAgLy8gUGVyIDQuMS40IC0gQ29udmVydCBmcm9tIHVuaXggZXBvY2ggdG8gR3JlZ29yaWFuIGVwb2NoXG4gIG1zZWNzICs9IDEyMjE5MjkyODAwMDAwO1xuXG4gIC8vIGB0aW1lX2xvd2BcbiAgdmFyIHRsID0gKChtc2VjcyAmIDB4ZmZmZmZmZikgKiAxMDAwMCArIG5zZWNzKSAlIDB4MTAwMDAwMDAwO1xuICBiW2krK10gPSB0bCA+Pj4gMjQgJiAweGZmO1xuICBiW2krK10gPSB0bCA+Pj4gMTYgJiAweGZmO1xuICBiW2krK10gPSB0bCA+Pj4gOCAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRsICYgMHhmZjtcblxuICAvLyBgdGltZV9taWRgXG4gIHZhciB0bWggPSAobXNlY3MgLyAweDEwMDAwMDAwMCAqIDEwMDAwKSAmIDB4ZmZmZmZmZjtcbiAgYltpKytdID0gdG1oID4+PiA4ICYgMHhmZjtcbiAgYltpKytdID0gdG1oICYgMHhmZjtcblxuICAvLyBgdGltZV9oaWdoX2FuZF92ZXJzaW9uYFxuICBiW2krK10gPSB0bWggPj4+IDI0ICYgMHhmIHwgMHgxMDsgLy8gaW5jbHVkZSB2ZXJzaW9uXG4gIGJbaSsrXSA9IHRtaCA+Pj4gMTYgJiAweGZmO1xuXG4gIC8vIGBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkYCAoUGVyIDQuMi4yIC0gaW5jbHVkZSB2YXJpYW50KVxuICBiW2krK10gPSBjbG9ja3NlcSA+Pj4gOCB8IDB4ODA7XG5cbiAgLy8gYGNsb2NrX3NlcV9sb3dgXG4gIGJbaSsrXSA9IGNsb2Nrc2VxICYgMHhmZjtcblxuICAvLyBgbm9kZWBcbiAgZm9yICh2YXIgbiA9IDA7IG4gPCA2OyArK24pIHtcbiAgICBiW2kgKyBuXSA9IG5vZGVbbl07XG4gIH1cblxuICByZXR1cm4gYnVmID8gYnVmIDogYnl0ZXNUb1V1aWQoYik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdjE7XG4iLCJ2YXIgcm5nID0gcmVxdWlyZSgnLi9saWIvcm5nJyk7XG52YXIgYnl0ZXNUb1V1aWQgPSByZXF1aXJlKCcuL2xpYi9ieXRlc1RvVXVpZCcpO1xuXG5mdW5jdGlvbiB2NChvcHRpb25zLCBidWYsIG9mZnNldCkge1xuICB2YXIgaSA9IGJ1ZiAmJiBvZmZzZXQgfHwgMDtcblxuICBpZiAodHlwZW9mKG9wdGlvbnMpID09ICdzdHJpbmcnKSB7XG4gICAgYnVmID0gb3B0aW9ucyA9PT0gJ2JpbmFyeScgPyBuZXcgQXJyYXkoMTYpIDogbnVsbDtcbiAgICBvcHRpb25zID0gbnVsbDtcbiAgfVxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICB2YXIgcm5kcyA9IG9wdGlvbnMucmFuZG9tIHx8IChvcHRpb25zLnJuZyB8fCBybmcpKCk7XG5cbiAgLy8gUGVyIDQuNCwgc2V0IGJpdHMgZm9yIHZlcnNpb24gYW5kIGBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkYFxuICBybmRzWzZdID0gKHJuZHNbNl0gJiAweDBmKSB8IDB4NDA7XG4gIHJuZHNbOF0gPSAocm5kc1s4XSAmIDB4M2YpIHwgMHg4MDtcblxuICAvLyBDb3B5IGJ5dGVzIHRvIGJ1ZmZlciwgaWYgcHJvdmlkZWRcbiAgaWYgKGJ1Zikge1xuICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCAxNjsgKytpaSkge1xuICAgICAgYnVmW2kgKyBpaV0gPSBybmRzW2lpXTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYnVmIHx8IGJ5dGVzVG9VdWlkKHJuZHMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHY0O1xuIiwiaW1wb3J0IHsgSGFzTG9jYXRpb24gfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9oYXMtbG9jYXRpb25cIjtcclxuaW1wb3J0IHsgTW91c2VXaGVlbFNjcm9sbCB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL21vdXNlLXdoZWVsLXNjcm9sbFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1vdXNlIGltcGxlbWVudHMgSGFzTG9jYXRpb24ge1xyXG4gICAgcHJpdmF0ZSBzY2VuZTogUGhhc2VyLlNjZW5lO1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZTogUGhhc2VyLlNjZW5lKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuc2NlbmUuaW5wdXQubW91c2UuY2FwdHVyZSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0QW5nbGUoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zY2VuZS5pbnB1dC5hY3RpdmVQb2ludGVyLmdldEFuZ2xlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Um90YXRpb24oKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRBbmdsZSgpICogKE1hdGguUEkgLyAxODApO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEhlYWRpbmcoKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgbGV0IHJvdGF0aW9uOiBudW1iZXIgPSB0aGlzLmdldEFuZ2xlKCk7XHJcbiAgICAgICAgbGV0IHg6IG51bWJlciA9IE1hdGguY29zKHJvdGF0aW9uKTtcclxuICAgICAgICBsZXQgeTogbnVtYmVyID0gTWF0aC5zaW4ocm90YXRpb24pO1xyXG4gICAgICAgIHJldHVybiBuZXcgUGhhc2VyLk1hdGguVmVjdG9yMih4LCB5KS5ub3JtYWxpemUoKS5uZWdhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRWZWxvY2l0eSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNjZW5lLmlucHV0LmFjdGl2ZVBvaW50ZXIudmVsb2NpdHkubGVuZ3RoKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiByZXR1cm5zIHRoZSBwb3NpdGlvbiBvZiB0aGUgbW91c2Ugd2l0aGluIHRoZSBib3VuZHMgb2YgdGhlIGN1cnJlbnRcclxuICAgICAqIHNjcmVlbi5cclxuICAgICAqIEByZXR1cm5zIGEge1BoYXNlci5NYXRoLlZlY3RvcjJ9IGNsb25lIG9mIHRoZSBwb3NpdGlvblxyXG4gICAgICovXHJcbiAgICBnZXRMb2NhdGlvbigpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhgbW91c2UgbG9jYXRpb246ICR7SlNPTi5zdHJpbmdpZnkodGhpcy5sb2NhdGlvbil9YCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NlbmUuaW5wdXQuYWN0aXZlUG9pbnRlci5wb3NpdGlvbi5jbG9uZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogb2Zmc2V0cyB0aGUgc2NyZWVuIHBvc2l0aW9uIGJhc2VkIG9uIGNhbWVyYSBwb3NpdGlvblxyXG4gICAgICovXHJcbiAgICBnZXRSZWFsTG9jYXRpb24oKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgbGV0IGxvYzogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuZ2V0TG9jYXRpb24oKTtcclxuICAgICAgICBsZXQgd29ybGQ6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSB0aGlzLnNjZW5lLmNhbWVyYXMubWFpbi5nZXRXb3JsZFBvaW50KGxvYy54LCBsb2MueSk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coYG1vdXNlIFJFQUwgbG9jYXRpb246ICR7SlNPTi5zdHJpbmdpZnkod29ybGQpfWApO1xyXG4gICAgICAgIHJldHVybiB3b3JsZDtcclxuICAgIH1cclxuXHJcbiAgICBvbldoZWVsVXA8VCBleHRlbmRzIE1vdXNlV2hlZWxTY3JvbGw+KGZ1bmM6IFQpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnNjZW5lLmlucHV0Lm9uKFBoYXNlci5JbnB1dC5FdmVudHMuUE9JTlRFUl9XSEVFTCwgKHBvaW50ZXIsIGN1cnJlbnRseU92ZXIsIGR4LCBkeSwgZHosIGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChkeSA+IDApIHtcclxuICAgICAgICAgICAgICAgIGZ1bmMoZHkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgb25XaGVlbERvd248VCBleHRlbmRzIE1vdXNlV2hlZWxTY3JvbGw+KGZ1bmM6IFQpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnNjZW5lLmlucHV0Lm9uKFBoYXNlci5JbnB1dC5FdmVudHMuUE9JTlRFUl9XSEVFTCwgKHBvaW50ZXIsIGN1cnJlbnRseU92ZXIsIGR4LCBkeSwgZHosIGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChkeSA8IDApIHtcclxuICAgICAgICAgICAgICAgIGZ1bmMoLWR5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgU2hpcEF0dGFjaG1lbnQgfSBmcm9tIFwiLi4vc2hpcC1hdHRhY2htZW50XCI7XHJcbmltcG9ydCB7IENhblNob290IH0gZnJvbSBcIi4uLy4uLy4uL2ludGVyZmFjZXMvY2FuLXNob290XCI7XHJcbmltcG9ydCB7IEdsb2JhbHMgfSBmcm9tIFwiLi4vLi4vLi4vdXRpbGl0aWVzL2dsb2JhbHNcIjtcclxuaW1wb3J0IHsgSGVscGVycyB9IGZyb20gXCIuLi8uLi8uLi91dGlsaXRpZXMvaGVscGVyc1wiO1xyXG5pbXBvcnQgeyBCdWxsZXQgfSBmcm9tIFwiLi9idWxsZXRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDYW5ub25BdHRhY2htZW50IGV4dGVuZHMgU2hpcEF0dGFjaG1lbnQgaW1wbGVtZW50cyBDYW5TaG9vdCB7XHJcbiAgICBwcml2YXRlIG1heEFtbW86IG51bWJlcjtcclxuICAgIHByaXZhdGUgcmVtYWluaW5nQW1tbzogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBjb29sZG93blRpbWU6IG51bWJlcjtcclxuICAgIHByaXZhdGUgbGFzdEZpcmVkQXQ6IG51bWJlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZTogUGhhc2VyLlNjZW5lKSB7XHJcbiAgICAgICAgc3VwZXIoc2NlbmUpO1xyXG5cclxuICAgICAgICB0aGlzLm1heEFtbW8gPSA1MDA7XHJcbiAgICAgICAgdGhpcy5yZW1haW5pbmdBbW1vID0gdGhpcy5tYXhBbW1vO1xyXG4gICAgICAgIHRoaXMuY29vbGRvd25UaW1lID0gMTAwMDsgLy8gbWlsbGlzZWNvbmRzXHJcbiAgICAgICAgdGhpcy5sYXN0RmlyZWRBdCA9IDA7IC8vIG5ldmVyXHJcblxyXG4gICAgICAgIHRoaXMuZ2FtZU9iaiA9IHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKDAsIDAsICdjYW5ub24nKTtcclxuICAgIH1cclxuXHJcbiAgICByZWxvYWQoYW1vdW50OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnJlbWFpbmluZ0FtbW8gKz0gYW1vdW50O1xyXG4gICAgICAgIGlmICh0aGlzLnJlbWFpbmluZ0FtbW8gPiB0aGlzLm1heEFtbW8pIHtcclxuICAgICAgICAgICAgdGhpcy5yZW1haW5pbmdBbW1vID0gdGhpcy5tYXhBbW1vO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRSZW1haW5pbmdBbW1vKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVtYWluaW5nQW1tbztcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgdHJpZ2dlcigpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIUdsb2JhbHMucGF1c2VkICYmIHRoaXMuYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZmlyZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmaXJlKGRpcmVjdGlvbj86IFBoYXNlci5NYXRoLlZlY3RvcjIpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIUdsb2JhbHMucGF1c2VkICYmIHRoaXMuYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdldFJlbWFpbmluZ0FtbW8oKSA+IDApIHtcclxuICAgICAgICAgICAgICAgIGlmIChIZWxwZXJzLm5vdygpIC0gdGhpcy5sYXN0RmlyZWRBdCA+IHRoaXMuY29vbGRvd25UaW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxvYzogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuZ2V0UmVhbExvY2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IEJ1bGxldCh0aGlzLnNjZW5lLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHg6IGxvYy54LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB5OiBsb2MueSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yY2U6IDMwMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuZ2xlOiB0aGlzLmdldEFuZ2xlKClcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3RGaXJlZEF0ID0gSGVscGVycy5ub3coKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IFNoaXBQb2QgfSBmcm9tIFwiLi4vc2hpcC1wb2RcIjtcclxuaW1wb3J0IHsgSGFzR2FtZU9iamVjdCB9IGZyb20gXCIuLi8uLi9pbnRlcmZhY2VzL2hhcy1nYW1lLW9iamVjdFwiO1xyXG5pbXBvcnQgeyBVcGRhdGFibGUgfSBmcm9tIFwiLi4vLi4vaW50ZXJmYWNlcy91cGRhdGFibGVcIjtcclxuaW1wb3J0IHsgSGFzTG9jYXRpb24gfSBmcm9tIFwiLi4vLi4vaW50ZXJmYWNlcy9oYXMtbG9jYXRpb25cIjtcclxuaW1wb3J0IHsgSGFzSW50ZWdyaXR5IH0gZnJvbSBcIi4uLy4uL2ludGVyZmFjZXMvaGFzLWludGVncml0eVwiO1xyXG5pbXBvcnQgeyBDb25zdGFudHMgfSBmcm9tIFwiLi4vLi4vdXRpbGl0aWVzL2NvbnN0YW50c1wiO1xyXG5pbXBvcnQgeyBBdHRhY2htZW50TG9jYXRpb24gfSBmcm9tIFwiLi9hdHRhY2htZW50LWxvY2F0aW9uXCI7XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgU2hpcEF0dGFjaG1lbnQgaW1wbGVtZW50cyBVcGRhdGFibGUsIEhhc0dhbWVPYmplY3QsIEhhc0xvY2F0aW9uLCBIYXNJbnRlZ3JpdHkge1xyXG4gICAgcHJvdGVjdGVkIHNoaXA6IFNoaXBQb2Q7XHJcbiAgICBwcm90ZWN0ZWQgc2NlbmU6IFBoYXNlci5TY2VuZTtcclxuICAgIHByb3RlY3RlZCBnYW1lT2JqOiBQaGFzZXIuUGh5c2ljcy5BcmNhZGUuU3ByaXRlO1xyXG4gICAgcHJvdGVjdGVkIGludGVncml0eTogbnVtYmVyO1xyXG4gICAgcHJvdGVjdGVkIGF0dGFjaG1lbnRMb2NhdGlvbjogQXR0YWNobWVudExvY2F0aW9uO1xyXG5cclxuICAgIGFjdGl2ZTogYm9vbGVhbjtcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3Ioc2NlbmU6IFBoYXNlci5TY2VuZSkge1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5pbnRlZ3JpdHkgPSBDb25zdGFudHMuTUFYX0lOVEVHUklUWTtcclxuICAgIH1cclxuXHJcbiAgICBhdHRhY2goc2hpcDogU2hpcFBvZCwgbG9jYXRpb24/OiBBdHRhY2htZW50TG9jYXRpb24pOiB2b2lkIHtcclxuICAgICAgICBpZiAoIWxvY2F0aW9uKSB7XHJcbiAgICAgICAgICAgIGxvY2F0aW9uID0gQXR0YWNobWVudExvY2F0aW9uLmZyb250O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNoaXAgPSBzaGlwO1xyXG4gICAgICAgIHRoaXMuc2V0QXR0YWNobWVudExvY2F0aW9uKGxvY2F0aW9uKTtcclxuICAgICAgICBsZXQgY2VudHJlOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5zaGlwLmdldFJlYWxMb2NhdGlvbigpO1xyXG4gICAgICAgIHRoaXMuZ2FtZU9iai5zZXRQb3NpdGlvbihjZW50cmUueCwgY2VudHJlLnkpOyAvLyBjZW50cmUgb24gc2hpcCBsb2NhdGlvblxyXG4gICAgICAgIHRoaXMuZ2FtZU9iai5zZXRSb3RhdGlvbih0aGlzLnNoaXAuZ2V0QW5nbGUoKSk7IC8vIHNldCBoZWFkaW5nIHRvIG1hdGNoIHNoaXBcclxuICAgICAgICBsZXQgaGVhZGluZzogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuZ2V0SGVhZGluZygpO1xyXG4gICAgICAgIGhlYWRpbmcubXVsdGlwbHkobmV3IFBoYXNlci5NYXRoLlZlY3RvcjIoMCwgMCkpO1xyXG4gICAgICAgIGxldCBsb2M6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSB0aGlzLmdldFJlYWxMb2NhdGlvbigpO1xyXG4gICAgICAgIGxvYy5hZGQoaGVhZGluZyk7XHJcbiAgICAgICAgdGhpcy5nYW1lT2JqLnNldFBvc2l0aW9uKGxvYy54LCBsb2MueSk7XHJcbiAgICB9XHJcblxyXG4gICAgZGV0YWNoKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc2hpcCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5hdHRhY2htZW50TG9jYXRpb24gPSBudWxsO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBnZXRHYW1lT2JqZWN0KCk6IFBoYXNlci5HYW1lT2JqZWN0cy5HYW1lT2JqZWN0IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nYW1lT2JqO1xyXG4gICAgfVxyXG5cclxuICAgIGFic3RyYWN0IHVwZGF0ZSgpOiB2b2lkO1xyXG5cclxuICAgIGFic3RyYWN0IHRyaWdnZXIoKTogdm9pZDtcclxuXHJcbiAgICBnZXRBbmdsZSgpOiBudW1iZXIge1xyXG4gICAgICAgIGxldCBhbmdsZTogbnVtYmVyID0gdGhpcy5nYW1lT2JqLmFuZ2xlO1xyXG4gICAgICAgIGlmICh0aGlzLnNoaXApIHtcclxuICAgICAgICAgICAgYW5nbGUgKz0gdGhpcy5zaGlwLmdldEFuZ2xlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhbmdsZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRSb3RhdGlvbigpOiBudW1iZXIge1xyXG4gICAgICAgIGxldCByb3RhdGlvbjogbnVtYmVyID0gdGhpcy5nYW1lT2JqLnJvdGF0aW9uO1xyXG4gICAgICAgIGlmICh0aGlzLnNoaXApIHtcclxuICAgICAgICAgICAgcm90YXRpb24gKz0gdGhpcy5zaGlwLmdldFJvdGF0aW9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByb3RhdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgYSBub3JtYWxpc2VkIHtQaGFzZXIuTWF0aC5WZWN0b3IyfSByZXByZXNlbnRpbmcgXHJcbiAgICAgKiB0aGUgZGlyZWN0aW9uIHRoaXMgb2JqZWN0IHdvdWxkIHRyYXZlbFxyXG4gICAgICovXHJcbiAgICBnZXRIZWFkaW5nKCk6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIGxldCB4OiBudW1iZXIgPSBNYXRoLmNvcyh0aGlzLmdldFJvdGF0aW9uKCkpO1xyXG4gICAgICAgIGxldCB5OiBudW1iZXIgPSBNYXRoLnNpbih0aGlzLmdldFJvdGF0aW9uKCkpO1xyXG4gICAgICAgIHJldHVybiBuZXcgUGhhc2VyLk1hdGguVmVjdG9yMih4LCB5KS5ub3JtYWxpemUoKS5uZWdhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRWZWxvY2l0eSgpOiBudW1iZXIge1xyXG4gICAgICAgIGxldCB2ZWxvY2l0eTogbnVtYmVyID0gdGhpcy5nYW1lT2JqLmJvZHkudmVsb2NpdHkubGVuZ3RoKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuc2hpcCkge1xyXG4gICAgICAgICAgICB2ZWxvY2l0eSArPSB0aGlzLnNoaXAuZ2V0VmVsb2NpdHkoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHZlbG9jaXR5O1xyXG4gICAgfVxyXG5cclxuICAgIGdldExvY2F0aW9uKCk6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIGxldCBjYW1lcmFQb3M6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSB0aGlzLnNjZW5lLmNhbWVyYXMubWFpbi5nZXRXb3JsZFBvaW50KDAsIDApO1xyXG4gICAgICAgIGxldCByZWFsTG9jOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5nZXRSZWFsTG9jYXRpb24oKTtcclxuICAgICAgICByZXR1cm4gbmV3IFBoYXNlci5NYXRoLlZlY3RvcjIocmVhbExvYy54IC0gY2FtZXJhUG9zLngsIHJlYWxMb2MueSAtIGNhbWVyYVBvcy55KTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRSZWFsTG9jYXRpb24oKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgbGV0IHJlYWxMb2NhdGlvbjogUGhhc2VyLk1hdGguVmVjdG9yMiA9IG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKHRoaXMuZ2FtZU9iai54LCB0aGlzLmdhbWVPYmoueSk7XHJcbiAgICAgICAgaWYgKHRoaXMuc2hpcCkge1xyXG4gICAgICAgICAgICByZWFsTG9jYXRpb24uYWRkKHRoaXMuc2hpcC5nZXRSZWFsTG9jYXRpb24oKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZWFsTG9jYXRpb247XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0SW50ZWdyaXR5KCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW50ZWdyaXR5O1xyXG4gICAgfVxyXG5cclxuICAgIHN1c3RhaW5EYW1hZ2UoYW1vdW50OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmludGVncml0eSAtPSBhbW91bnQ7XHJcbiAgICAgICAgaWYgKHRoaXMuaW50ZWdyaXR5IDw9IDApIHtcclxuICAgICAgICAgICAgdGhpcy5pbnRlZ3JpdHkgPSAwO1xyXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAvLyBUT0RPOiBkZXN0cm95IGF0dGFjaG1lbnRcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVwYWlyKGFtb3VudDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5pbnRlZ3JpdHkgPSBhbW91bnQ7XHJcbiAgICAgICAgaWYgKHRoaXMuaW50ZWdyaXR5ID4gQ29uc3RhbnRzLk1BWF9JTlRFR1JJVFkpIHtcclxuICAgICAgICAgICAgdGhpcy5pbnRlZ3JpdHkgPSBDb25zdGFudHMuTUFYX0lOVEVHUklUWTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc2hpcC5yZW1vdmVBdHRhY2htZW50KHRoaXMuYXR0YWNobWVudExvY2F0aW9uKTtcclxuICAgICAgICAvLyBUT0RPOiBkZXN0cm95IGF0dGFjaG1lbnRcclxuICAgIH1cclxuXHJcbiAgICBzZXRBdHRhY2htZW50TG9jYXRpb24obG9jOiBBdHRhY2htZW50TG9jYXRpb24pOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmF0dGFjaG1lbnRMb2NhdGlvbiA9IGxvYztcclxuICAgIH1cclxufSIsImltcG9ydCB7IEhhc0dhbWVPYmplY3QgfSBmcm9tIFwiLi4vLi4vLi4vaW50ZXJmYWNlcy9oYXMtZ2FtZS1vYmplY3RcIjtcclxuaW1wb3J0IHsgQnVsbGV0UGFyYW1ldGVycyB9IGZyb20gXCIuLi8uLi8uLi9pbnRlcmZhY2VzL2J1bGxldC1wYXJhbWV0ZXJzXCI7XHJcbmltcG9ydCB7IEhhc0xvY2F0aW9uIH0gZnJvbSBcIi4uLy4uLy4uL2ludGVyZmFjZXMvaGFzLWxvY2F0aW9uXCI7XHJcbmltcG9ydCB7IEdsb2JhbHMgfSBmcm9tIFwiLi4vLi4vLi4vdXRpbGl0aWVzL2dsb2JhbHNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBCdWxsZXQgaW1wbGVtZW50cyBIYXNHYW1lT2JqZWN0LCBIYXNMb2NhdGlvbiB7XHJcbiAgICBzY2VuZTogUGhhc2VyLlNjZW5lO1xyXG4gICAgZm9yY2U6IG51bWJlcjtcclxuICAgIGdhbWVPYmo6IFBoYXNlci5QaHlzaWNzLkFyY2FkZS5TcHJpdGU7XHJcbiAgICBhY3RpdmU6IGJvb2xlYW47XHJcblxyXG4gICAgY29uc3RydWN0b3Ioc2NlbmU6IFBoYXNlci5TY2VuZSwgcGFyYW1zOiBCdWxsZXRQYXJhbWV0ZXJzKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuZm9yY2UgPSBwYXJhbXMuZm9yY2UgfHwgMDtcclxuICAgICAgICB0aGlzLmdhbWVPYmogPSBzY2VuZS5waHlzaWNzLmFkZC5zcHJpdGUocGFyYW1zLnggfHwgMCwgcGFyYW1zLnkgfHwgMCwgJ2J1bGxldCcpO1xyXG4gICAgICAgIHRoaXMuZ2FtZU9iai5zZXRBbmdsZShwYXJhbXMuYW5nbGUgfHwgMCk7XHJcbiAgICAgICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuYWRkQ29sbGlzaW9uRGV0ZWN0aW9uKCk7XHJcbiAgICAgICAgdGhpcy5zZXRJbk1vdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYWRkQ29sbGlzaW9uRGV0ZWN0aW9uKCk6IHZvaWQge1xyXG4gICAgICAgIGZvciAodmFyIGk9MDsgaTxHbG9iYWxzLmludGVyYWN0YWJsZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLmdhbWVPYmosIEdsb2JhbHMuaW50ZXJhY3RhYmxlc1tpXSwgdGhpcy5vbkltcGFjdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgb25JbXBhY3QoYnVsbGV0OiBQaGFzZXIuR2FtZU9iamVjdHMuR2FtZU9iamVjdCwgdGFyZ2V0OiBQaGFzZXIuR2FtZU9iamVjdHMuR2FtZU9iamVjdCk6IHZvaWQge1xyXG4gICAgICAgIC8vIFRPRE86IGltcGFydCBkYW1hZ2UgdG8gdGFyZ2V0IGFuZCBkZXN0cm95IGJ1bGxldFxyXG4gICAgfVxyXG5cclxuICAgIGdldEdhbWVPYmplY3QoKTogUGhhc2VyLkdhbWVPYmplY3RzLkdhbWVPYmplY3Qge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdhbWVPYmo7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0QW5nbGUoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nYW1lT2JqLmFuZ2xlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFJvdGF0aW9uKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZU9iai5yb3RhdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBnZXRIZWFkaW5nKCk6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIGxldCB4OiBudW1iZXIgPSBNYXRoLmNvcyh0aGlzLmdhbWVPYmoucm90YXRpb24pO1xyXG4gICAgICAgIGxldCB5OiBudW1iZXIgPSBNYXRoLnNpbih0aGlzLmdhbWVPYmoucm90YXRpb24pO1xyXG4gICAgICAgIHJldHVybiBuZXcgUGhhc2VyLk1hdGguVmVjdG9yMih4LCB5KS5ub3JtYWxpemUoKS5uZWdhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRWZWxvY2l0eSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdhbWVPYmouYm9keS52ZWxvY2l0eS5sZW5ndGgoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRMb2NhdGlvbigpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICBsZXQgY2FtZXJhUG9zOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5zY2VuZS5jYW1lcmFzLm1haW4uZ2V0V29ybGRQb2ludCgwLCAwKTtcclxuICAgICAgICByZXR1cm4gbmV3IFBoYXNlci5NYXRoLlZlY3RvcjIodGhpcy5nYW1lT2JqLnggLSBjYW1lcmFQb3MueCwgdGhpcy5nYW1lT2JqLnkgLSBjYW1lcmFQb3MueSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UmVhbExvY2F0aW9uKCk6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIHJldHVybiBuZXcgUGhhc2VyLk1hdGguVmVjdG9yMih0aGlzLmdhbWVPYmoueCwgdGhpcy5nYW1lT2JqLnkpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0SW5Nb3Rpb24oKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IGhlYWRpbmc6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSB0aGlzLmdldEhlYWRpbmcoKTtcclxuICAgICAgICBsZXQgZGVsdGFWOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gaGVhZGluZy5tdWx0aXBseShuZXcgUGhhc2VyLk1hdGguVmVjdG9yMih0aGlzLmZvcmNlLCB0aGlzLmZvcmNlKSk7XHJcbiAgICAgICAgdGhpcy5nYW1lT2JqLmJvZHkudmVsb2NpdHkuYWRkKGRlbHRhVik7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBHbG9iYWxzIH0gZnJvbSBcIi4uL3V0aWxpdGllcy9nbG9iYWxzXCI7XHJcbmltcG9ydCB7IFNoaXBQb2QgfSBmcm9tIFwiLi4vc2hpcHMvc2hpcC1wb2RcIjtcclxuXHJcbmNvbnN0IHNjZW5lQ29uZmlnOiBQaGFzZXIuVHlwZXMuU2NlbmVzLlNldHRpbmdzQ29uZmlnID0ge1xyXG4gICAgYWN0aXZlOiB0cnVlLFxyXG4gICAgdmlzaWJsZTogdHJ1ZSxcclxuICAgIGtleTogJ092ZXJsYXlTY2VuZSdcclxufTtcclxuXHJcbmV4cG9ydCBjbGFzcyBPdmVybGF5U2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgcHJpdmF0ZSBkZWJ1ZzogUGhhc2VyLkdhbWVPYmplY3RzLlRleHQ7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoc2NlbmVDb25maWcpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwcmVsb2FkKCk6IHZvaWQge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZGVidWcgPSB0aGlzLmFkZC50ZXh0KDEwLCAxMCwgJycsIHsgZm9udDogJzE2cHggQ291cmllcicsIGZpbGw6ICcjZmZkZGRkJyB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICghR2xvYmFscy5wYXVzZWQpIHtcclxuICAgICAgICAgICAgaWYgKEdsb2JhbHMucGxheWVyKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcDogU2hpcFBvZCA9IEdsb2JhbHMucGxheWVyO1xyXG4gICAgICAgICAgICAgICAgbGV0IGxvYzogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHAuZ2V0UmVhbExvY2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRlYnVnLnNldFRleHQoW1xyXG4gICAgICAgICAgICAgICAgICAgIGBWZWxvY2l0eTogJHtwLmdldFZlbG9jaXR5KCkudG9GaXhlZCgxKX1gLFxyXG4gICAgICAgICAgICAgICAgICAgIGBJbnRlZ3JpdHk6ICR7cC5nZXRJbnRlZ3JpdHkoKS50b0ZpeGVkKDEpfWAsXHJcbiAgICAgICAgICAgICAgICAgICAgYEhlYXQ6ICR7cC5nZXRUZW1wZXJhdHVyZSgpLnRvRml4ZWQoMSl9YCxcclxuICAgICAgICAgICAgICAgICAgICBgRnVlbDogJHtwLmdldFJlbWFpbmluZ0Z1ZWwoKS50b0ZpeGVkKDEpfWAsXHJcbiAgICAgICAgICAgICAgICAgICAgYExvY2F0aW9uOiAke2xvYy54LnRvRml4ZWQoMSl9LCR7bG9jLnkudG9GaXhlZCgxKX1gLFxyXG4gICAgICAgICAgICAgICAgICAgIGBBbmdsZTogJHtwLmdldEFuZ2xlKCkudG9GaXhlZCgxKX1gXHJcbiAgICAgICAgICAgICAgICBdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJzb3VyY2VSb290IjoiIn0=