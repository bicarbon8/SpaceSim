!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("phaser")):"function"==typeof define&&define.amd?define(["phaser"],e):"object"==typeof exports?exports.bundle=e(require("phaser")):t.bundle=e(t.phaser)}(window,(function(t){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.interactables=[]}(e.Globals||(e.Globals={}))},function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var o=new Uint8Array(16);t.exports=function(){return n(o),o}}else{var i=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),i[e]=t>>>((3&e)<<3)&255;return i}}},function(t,e){for(var n=[],o=0;o<256;++o)n[o]=(o+256).toString(16).substr(1);t.exports=function(t,e){var o=e||0,i=n;return[i[t[o++]],i[t[o++]],i[t[o++]],i[t[o++]],"-",i[t[o++]],i[t[o++]],"-",i[t[o++]],i[t[o++]],"-",i[t[o++]],i[t[o++]],"-",i[t[o++]],i[t[o++]],i[t[o++]],i[t[o++]],i[t[o++]],i[t[o++]]].join("")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.MAX_INTEGRITY=100,t.MAX_FUEL=100,t.MAX_SAFE_TEMPERATURE=100,t.MAX_TEMPERATURE=200,t.OVERHEAT_CHECK_INTERVAL=100,t.COOLING_RATE=.3,t.THRUSTER_FORCE=1,t.FUEL_PER_THRUST=.001,t.HEAT_PER_THRUST=.1,t.BOOSTER_FORCE=100,t.FUEL_PER_BOOST=1,t.HEAT_PER_BOOST=25,t.BOOSTER_COOLDOWN_TIME=1e3}(e.Constants||(e.Constants={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.enumLength=function(t){var e=0;for(var n in t)isNaN(Number(n))&&e++;return e},t.now=function(){return(new Date).getTime()}}(e.Helpers||(e.Helpers={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.front=0]="front",t[t.frontRight=1]="frontRight",t[t.right=2]="right",t[t.backRight=3]="backRight",t[t.backLeft=4]="backLeft",t[t.left=5]="left",t[t.frontLeft=6]="frontLeft"}(e.AttachmentLocation||(e.AttachmentLocation={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(7),i=n(0),a=n(18),r={type:Phaser.AUTO,scale:{width:window.innerWidth,height:window.innerHeight},backgroundColor:"#000000",parent:"space-sim",physics:{default:"arcade",arcade:{gravity:{x:0,y:0}}},scene:[o.ShipScene,a.OverlayScene]};e.game=new Phaser.Game(r),window.addEventListener("resize",(function(){e.game.scale.refresh()})),i.Globals.game=e.game},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(8),r=n(0),s=n(14),c=n(15),h={active:!0,visible:!0,key:"ShipScene"},u=function(t){function e(){return t.call(this,h)||this}return i(e,t),e.prototype.preload=function(){this.load.image("stars","./assets/backgrounds/tileableStars.png"),this.load.image("ship-pod","./assets/sprites/ship-pod.png")},e.prototype.create=function(){var t=this;this.add.tileSprite(0,0,10*this.cameras.main.width,10*this.cameras.main.height,"stars"),this.mouse=new s.Mouse(this),this.player=new a.ShipPod(this),r.Globals.player=this.player,this.player.setTarget(this.mouse);var e=new c.CannonAttachment(this);this.player.addAttachment(e),this.setupCamera(this.player),this.input.keyboard.on("keydown-P",(function(){r.Globals.paused=!0})),this.input.keyboard.on("keydown-R",(function(){r.Globals.paused=!1})),this.mouse.onWheelUp((function(e){var n=t.cameras.main.zoom-.5;n<.1&&(n=.1),t.cameras.main.zoomTo(n)})),this.mouse.onWheelDown((function(e){var n=t.cameras.main.zoom+.5;n>1&&(n=1),t.cameras.main.zoomTo(n)}))},e.prototype.update=function(){r.Globals.paused||r.Globals.player.update()},e.prototype.setupCamera=function(t){this.cameras.main.backgroundColor.setFromRGB({r:0,g:0,b:0}),this.cameras.main.setZoom(1),this.cameras.main.centerOn(0,0);var e=this.cameras.main.width,n=this.cameras.main.height,o=Math.floor(e/2),i=Math.floor(n/2),a=Math.floor(o/2),r=Math.floor(i/2);this.cameras.main.startFollow(t.getGameObject(),!0),this.cameras.main.deadzone=new Phaser.Geom.Rectangle(a,r,o,i)},e}(Phaser.Scene);e.ShipScene=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(9);var o=n(10),i=n(0),a=n(3),r=n(4),s=n(5),c=function(){function t(t){this.remainingFuel=100,this.temperature=0,this.active=!0,this.lastOverheatCheck=0,this.lastBoostTime=0,this.id=o.RNG.guid(),this.scene=t,this.gameObj=t.add.container(0,0),this.scene.physics.add.existing(this.gameObj),this.gameObj.body.bounce.setTo(.7,.7);var e=t.add.sprite(0,0,"ship-pod");this.gameObj.add(e),this.integrity=a.Constants.MAX_INTEGRITY,this.attachments=new Array(r.Helpers.enumLength(s.AttachmentLocation)),this.setupInputHandlers()}return t.prototype.update=function(){!i.Globals.paused&&this.active&&(this.lookAtTarget(),this.thrustKey.isDown&&this.thrustFowards(),this.boostKey.isDown&&this.boostForwards(),this.scene.input.activePointer.leftButtonDown()&&this.attachments[0]&&this.attachments[0].trigger(),this.checkOverheatCondition(),this.rotateAttachmentsClockwiseKey.isDown&&this.rotateAttachmentsClockwise(),this.rotateAttachmentsAntiClockwiseKey.isDown&&this.rotateAttachmentsAntiClockwise(),this.updateAttachments())},t.prototype.updateAttachments=function(){for(var t=0;t<this.attachments.length;t++){var e=this.attachments[t];e&&e.update()}},t.prototype.setupInputHandlers=function(){this.thrustKey=this.scene.input.keyboard.addKey("SPACE",!0,!0),this.boostKey=this.scene.input.keyboard.addKey("TAB",!0,!1),this.rotateAttachmentsClockwiseKey=this.scene.input.keyboard.addKey("E",!0,!1),this.rotateAttachmentsAntiClockwiseKey=this.scene.input.keyboard.addKey("Q",!0,!1)},t.prototype.checkOverheatCondition=function(){if(!i.Globals.paused&&this.active&&r.Helpers.now()-this.lastOverheatCheck>a.Constants.OVERHEAT_CHECK_INTERVAL){if(this.temperature>a.Constants.MAX_TEMPERATURE&&this.destroy(),this.temperature>a.Constants.MAX_SAFE_TEMPERATURE){var t=(this.temperature-a.Constants.MAX_SAFE_TEMPERATURE)/a.Constants.MAX_SAFE_TEMPERATURE;this.sustainDamage(t)}this.applyCooling(a.Constants.COOLING_RATE),this.lastOverheatCheck=r.Helpers.now()}},t.prototype.getRealLocation=function(){return new Phaser.Math.Vector2(this.gameObj.x,this.gameObj.y)},t.prototype.getLocation=function(){var t=this.scene.cameras.main.getWorldPoint(0,0);return new Phaser.Math.Vector2(this.gameObj.x-t.x,this.gameObj.y-t.y)},t.prototype.getId=function(){return this.id},t.prototype.getGameObject=function(){return this.gameObj},t.prototype.setTarget=function(t){this.target=t},t.prototype.lookAtTarget=function(){var t=this.target.getRealLocation(),e=Phaser.Math.Angle.Between(t.x,t.y,this.gameObj.x,this.gameObj.y);this.gameObj.setRotation(e)},t.prototype.getAngle=function(){return this.gameObj.angle},t.prototype.getHeading=function(){var t=Math.cos(this.gameObj.rotation),e=Math.sin(this.gameObj.rotation);return new Phaser.Math.Vector2(t,e).normalize().negate()},t.prototype.getVelocity=function(){return this.gameObj.body.velocity.length()},t.prototype.thrustFowards=function(){this.applyThrust(a.Constants.THRUSTER_FORCE,a.Constants.FUEL_PER_THRUST,a.Constants.HEAT_PER_THRUST)},t.prototype.boostForwards=function(){r.Helpers.now()-this.lastBoostTime>=a.Constants.BOOSTER_COOLDOWN_TIME&&(this.applyThrust(a.Constants.BOOSTER_FORCE,a.Constants.FUEL_PER_BOOST,a.Constants.HEAT_PER_BOOST),this.lastBoostTime=r.Helpers.now())},t.prototype.applyThrust=function(t,e,n){if(this.getRemainingFuel()>0){var o=this.getHeading().multiply(new Phaser.Math.Vector2(t,t));this.gameObj.body.velocity.add(o),this.reduceFuel(e),this.applyHeating(n)}},t.prototype.strafeLeft=function(){},t.prototype.strafeRight=function(){},t.prototype.thrustBackwards=function(){},t.prototype.getTemperature=function(){return this.temperature},t.prototype.applyHeating=function(t){this.temperature+=t},t.prototype.applyCooling=function(t){this.temperature-=t,this.temperature<0&&(this.temperature=0)},t.prototype.reduceFuel=function(t){this.remainingFuel-=t,this.remainingFuel<0&&(this.remainingFuel=0)},t.prototype.addFuel=function(t){this.remainingFuel+=t,this.remainingFuel>a.Constants.MAX_FUEL&&(this.remainingFuel=a.Constants.MAX_FUEL)},t.prototype.getRemainingFuel=function(){return this.remainingFuel},t.prototype.getIntegrity=function(){return this.integrity},t.prototype.sustainDamage=function(t){this.integrity-=t,this.integrity<=0&&(this.integrity=0,this.active=!1,this.destroy())},t.prototype.repair=function(t){this.integrity=t,this.integrity>a.Constants.MAX_INTEGRITY&&(this.integrity=a.Constants.MAX_INTEGRITY)},t.prototype.rotateAttachmentsClockwise=function(){var t=this.attachments.pop();this.attachments.unshift(t),this.updateAttachmentPositions()},t.prototype.rotateAttachmentsAntiClockwise=function(){var t=this.attachments.shift();this.attachments.push(t),this.updateAttachmentPositions()},t.prototype.updateAttachmentPositions=function(){for(var t=0;t<this.attachments.length;t++)switch(t){case s.AttachmentLocation.front:this.attachments[t].setAttachmentLocation(s.AttachmentLocation.front);break;case s.AttachmentLocation.frontRight:this.attachments[t].setAttachmentLocation(s.AttachmentLocation.frontRight);break;case s.AttachmentLocation.right:this.attachments[t].setAttachmentLocation(s.AttachmentLocation.right);break;case s.AttachmentLocation.backRight:this.attachments[t].setAttachmentLocation(s.AttachmentLocation.backRight);break;case s.AttachmentLocation.backLeft:this.attachments[t].setAttachmentLocation(s.AttachmentLocation.backLeft);break;case s.AttachmentLocation.left:this.attachments[t].setAttachmentLocation(s.AttachmentLocation.left);break;case s.AttachmentLocation.frontLeft:this.attachments[t].setAttachmentLocation(s.AttachmentLocation.frontLeft)}},t.prototype.addAttachment=function(t){this.removeAttachment(s.AttachmentLocation.front),this.attachments[s.AttachmentLocation.front]=t,t.attach(this),this.gameObj.add(t.getGameObject())},t.prototype.removeAttachment=function(t){if(this.attachments[t]){var e=this.attachments[t].getGameObject();this.gameObj.remove(e),this.attachments[t].detach(),this.attachments[t]=null}},t.prototype.destroy=function(){},t}();e.ShipPod=c},function(e,n){e.exports=t},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(11);!function(t){t.int=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},t.guid=function(){return o.v4()}}(e.RNG||(e.RNG={}))},function(t,e,n){var o=n(12),i=n(13),a=i;a.v1=o,a.v4=i,t.exports=a},function(t,e,n){var o,i,a=n(1),r=n(2),s=0,c=0;t.exports=function(t,e,n){var h=e&&n||0,u=e||[],p=(t=t||{}).node||o,l=void 0!==t.clockseq?t.clockseq:i;if(null==p||null==l){var m=a();null==p&&(p=o=[1|m[0],m[1],m[2],m[3],m[4],m[5]]),null==l&&(l=i=16383&(m[6]<<8|m[7]))}var f=void 0!==t.msecs?t.msecs:(new Date).getTime(),y=void 0!==t.nsecs?t.nsecs:c+1,g=f-s+(y-c)/1e4;if(g<0&&void 0===t.clockseq&&(l=l+1&16383),(g<0||f>s)&&void 0===t.nsecs&&(y=0),y>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=f,c=y,i=l;var d=(1e4*(268435455&(f+=122192928e5))+y)%4294967296;u[h++]=d>>>24&255,u[h++]=d>>>16&255,u[h++]=d>>>8&255,u[h++]=255&d;var b=f/4294967296*1e4&268435455;u[h++]=b>>>8&255,u[h++]=255&b,u[h++]=b>>>24&15|16,u[h++]=b>>>16&255,u[h++]=l>>>8|128,u[h++]=255&l;for(var v=0;v<6;++v)u[h+v]=p[v];return e||r(u)}},function(t,e,n){var o=n(1),i=n(2);t.exports=function(t,e,n){var a=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var r=(t=t||{}).random||(t.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e)for(var s=0;s<16;++s)e[a+s]=r[s];return e||i(r)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.scene=t,this.scene.input.mouse.capture=!0}return t.prototype.getAngle=function(){return this.scene.input.activePointer.getAngle()},t.prototype.getHeading=function(){var t=this.getAngle(),e=Math.cos(t),n=Math.sin(t);return new Phaser.Math.Vector2(e,n).normalize().negate()},t.prototype.getVelocity=function(){return this.scene.input.activePointer.velocity.length()},t.prototype.getLocation=function(){return this.scene.input.activePointer.position.clone()},t.prototype.getRealLocation=function(){var t=this.getLocation();return this.scene.cameras.main.getWorldPoint(t.x,t.y)},t.prototype.onWheelUp=function(t){this.scene.input.on(Phaser.Input.Events.POINTER_WHEEL,(function(e,n,o,i,a,r){i>0&&t(i)}))},t.prototype.onWheelDown=function(t){this.scene.input.on(Phaser.Input.Events.POINTER_WHEEL,(function(e,n,o,i,a,r){i<0&&t(-i)}))},t}();e.Mouse=o},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(16),r=n(0),s=n(4),c=n(17),h=function(t){function e(e){var n=t.call(this,e)||this;return n.maxAmmo=500,n.remainingAmmo=n.maxAmmo,n.cooldownTime=1e3,n.lastFiredAt=0,n.gameObj=n.scene.physics.add.sprite(0,0,"cannon"),n}return i(e,t),e.prototype.reload=function(t){this.remainingAmmo+=t,this.remainingAmmo>this.maxAmmo&&(this.remainingAmmo=this.maxAmmo)},e.prototype.getRemainingAmmo=function(){return this.remainingAmmo},e.prototype.update=function(){},e.prototype.trigger=function(){!r.Globals.paused&&this.active&&this.fire()},e.prototype.fire=function(t){!r.Globals.paused&&this.active&&this.getRemainingAmmo()>0&&s.Helpers.now()-this.lastFiredAt>this.cooldownTime&&(new c.Bullet(this.scene,{x:this.getRealLocation().x,y:this.getRealLocation().y,force:1e3,angle:this.getAngle()}),this.lastFiredAt=s.Helpers.now())},e}(a.ShipAttachment);e.CannonAttachment=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),i=n(5),a=function(){function t(t){this.scene=t,this.active=!0,this.integrity=o.Constants.MAX_INTEGRITY}return t.prototype.attach=function(t){this.ship=t,this.setAttachmentLocation(i.AttachmentLocation.front);var e=this.ship.getRealLocation();this.gameObj.setPosition(e.x,e.y),this.gameObj.setRotation(this.ship.getAngle());var n=this.getHeading();n.multiply(new Phaser.Math.Vector2(11,0));var o=this.getRealLocation();o.add(n),this.gameObj.setPosition(o.x,o.y)},t.prototype.detach=function(){this.ship=null,this.attachmentLocation=null},t.prototype.getGameObject=function(){return this.gameObj},t.prototype.getAngle=function(){return this.gameObj.angle},t.prototype.getHeading=function(){var t=Math.cos(this.gameObj.rotation),e=Math.sin(this.gameObj.rotation);return new Phaser.Math.Vector2(t,e).normalize().negate()},t.prototype.getVelocity=function(){return this.gameObj.body.velocity.length()},t.prototype.getLocation=function(){var t=this.scene.cameras.main.getWorldPoint(0,0);return new Phaser.Math.Vector2(this.gameObj.x-t.x,this.gameObj.y-t.y)},t.prototype.getRealLocation=function(){return new Phaser.Math.Vector2(this.gameObj.x,this.gameObj.y)},t.prototype.getIntegrity=function(){return this.integrity},t.prototype.sustainDamage=function(t){this.integrity-=t,this.integrity<=0&&(this.integrity=0,this.active=!1)},t.prototype.repair=function(t){this.integrity=t,this.integrity>o.Constants.MAX_INTEGRITY&&(this.integrity=o.Constants.MAX_INTEGRITY)},t.prototype.destroy=function(){this.active=!1,this.ship.removeAttachment(this.attachmentLocation)},t.prototype.setAttachmentLocation=function(t){this.attachmentLocation=t},t}();e.ShipAttachment=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=function(){function t(t,e){this.scene=t,this.force=e.force||0,this.gameObj=t.physics.add.sprite(e.x||0,e.y||0,"bullet"),this.gameObj.setAngle(e.angle||0),this.active=!0,this.addCollisionDetection(),this.setInMotion()}return t.prototype.addCollisionDetection=function(){for(var t=0;t<o.Globals.interactables.length;t++)this.scene.physics.add.collider(this.gameObj,o.Globals.interactables[t],this.onImpact)},t.prototype.onImpact=function(t,e){},t.prototype.getGameObject=function(){return this.gameObj},t.prototype.getAngle=function(){return this.gameObj.angle},t.prototype.getHeading=function(){var t=Math.cos(this.gameObj.rotation),e=Math.sin(this.gameObj.rotation);return new Phaser.Math.Vector2(t,e).normalize().negate()},t.prototype.getVelocity=function(){return this.gameObj.body.velocity.length()},t.prototype.getLocation=function(){var t=this.scene.cameras.main.getWorldPoint(0,0);return new Phaser.Math.Vector2(this.gameObj.x-t.x,this.gameObj.y-t.y)},t.prototype.getRealLocation=function(){return new Phaser.Math.Vector2(this.gameObj.x,this.gameObj.y)},t.prototype.setInMotion=function(){var t=this.getHeading().multiply(new Phaser.Math.Vector2(this.force,this.force));this.gameObj.body.velocity.add(t)},t}();e.Bullet=i},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),r={active:!0,visible:!0,key:"OverlayScene"},s=function(t){function e(){return t.call(this,r)||this}return i(e,t),e.prototype.preload=function(){},e.prototype.create=function(){this.debug=this.add.text(10,10,"",{font:"16px Courier",fill:"#ffdddd"})},e.prototype.update=function(){if(!a.Globals.paused&&a.Globals.player){var t=a.Globals.player,e=t.getRealLocation();this.debug.setText(["Velocity: "+t.getVelocity().toFixed(1),"Integrity: "+t.getIntegrity().toFixed(1),"Heat: "+t.getTemperature().toFixed(1),"Fuel: "+t.getRemainingFuel().toFixed(1),"Location: "+e.x.toFixed(1)+","+e.y.toFixed(1)])}},e}(Phaser.Scene);e.OverlayScene=s}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idW5kbGUvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL2J1bmRsZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvdXRpbGl0aWVzL2dsb2JhbHMudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vbm9kZV9tb2R1bGVzL3V1aWQvbGliL3JuZy1icm93c2VyLmpzIiwid2VicGFjazovL2J1bmRsZS8uL25vZGVfbW9kdWxlcy91dWlkL2xpYi9ieXRlc1RvVXVpZC5qcyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvdXRpbGl0aWVzL2NvbnN0YW50cy50cyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvdXRpbGl0aWVzL2hlbHBlcnMudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NoaXBzL2F0dGFjaG1lbnRzL2F0dGFjaG1lbnQtbG9jYXRpb24udHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL2dhbWUudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NjZW5lcy9zaGlwLXNjZW5lLnRzIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy9zaGlwcy9zaGlwLXBvZC50cyIsIndlYnBhY2s6Ly9idW5kbGUvZXh0ZXJuYWwgXCJwaGFzZXJcIiIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvdXRpbGl0aWVzL3JuZy50cyIsIndlYnBhY2s6Ly9idW5kbGUvLi9ub2RlX21vZHVsZXMvdXVpZC9pbmRleC5qcyIsIndlYnBhY2s6Ly9idW5kbGUvLi9ub2RlX21vZHVsZXMvdXVpZC92MS5qcyIsIndlYnBhY2s6Ly9idW5kbGUvLi9ub2RlX21vZHVsZXMvdXVpZC92NC5qcyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvdXRpbGl0aWVzL21vdXNlLnRzIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy9zaGlwcy9hdHRhY2htZW50cy9vZmZlbmNlL2Nhbm5vbi1hdHRhY2htZW50LnRzIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy9zaGlwcy9hdHRhY2htZW50cy9zaGlwLWF0dGFjaG1lbnQudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NoaXBzL2F0dGFjaG1lbnRzL29mZmVuY2UvYnVsbGV0LnRzIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy9zY2VuZXMvb3ZlcmxheS1zY2VuZS50cyJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJyZXF1aXJlIiwiZGVmaW5lIiwiYW1kIiwid2luZG93IiwiX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fOV9fIiwiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkdsb2JhbHMiLCJpbnRlcmFjdGFibGVzIiwiZ2V0UmFuZG9tVmFsdWVzIiwiY3J5cHRvIiwibXNDcnlwdG8iLCJybmRzOCIsIlVpbnQ4QXJyYXkiLCJybmRzIiwiQXJyYXkiLCJNYXRoIiwicmFuZG9tIiwiYnl0ZVRvSGV4IiwidG9TdHJpbmciLCJzdWJzdHIiLCJidWYiLCJvZmZzZXQiLCJidGgiLCJqb2luIiwiQ29uc3RhbnRzIiwiTUFYX0lOVEVHUklUWSIsIk1BWF9GVUVMIiwiTUFYX1NBRkVfVEVNUEVSQVRVUkUiLCJNQVhfVEVNUEVSQVRVUkUiLCJPVkVSSEVBVF9DSEVDS19JTlRFUlZBTCIsIkNPT0xJTkdfUkFURSIsIlRIUlVTVEVSX0ZPUkNFIiwiRlVFTF9QRVJfVEhSVVNUIiwiSEVBVF9QRVJfVEhSVVNUIiwiQk9PU1RFUl9GT1JDRSIsIkZVRUxfUEVSX0JPT1NUIiwiSEVBVF9QRVJfQk9PU1QiLCJCT09TVEVSX0NPT0xET1dOX1RJTUUiLCJIZWxwZXJzIiwiZW51bUxlbmd0aCIsImVudW1UeXBlIiwiY291bnQiLCJpdGVtIiwiaXNOYU4iLCJOdW1iZXIiLCJub3ciLCJEYXRlIiwiZ2V0VGltZSIsIkF0dGFjaG1lbnRMb2NhdGlvbiIsImdhbWVDb25maWciLCJ0eXBlIiwiUGhhc2VyIiwiQVVUTyIsInNjYWxlIiwid2lkdGgiLCJpbm5lcldpZHRoIiwiaGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJwYXJlbnQiLCJwaHlzaWNzIiwiZGVmYXVsdCIsImFyY2FkZSIsImdyYXZpdHkiLCJ4IiwieSIsInNjZW5lIiwiU2hpcFNjZW5lIiwiT3ZlcmxheVNjZW5lIiwiZ2FtZSIsIkdhbWUiLCJhZGRFdmVudExpc3RlbmVyIiwicmVmcmVzaCIsInNjZW5lQ29uZmlnIiwiYWN0aXZlIiwidmlzaWJsZSIsInByZWxvYWQiLCJ0aGlzIiwibG9hZCIsImltYWdlIiwiYWRkIiwidGlsZVNwcml0ZSIsImNhbWVyYXMiLCJtYWluIiwibW91c2UiLCJNb3VzZSIsInBsYXllciIsIlNoaXBQb2QiLCJzZXRUYXJnZXQiLCJjYW5vbiIsIkNhbm5vbkF0dGFjaG1lbnQiLCJhZGRBdHRhY2htZW50Iiwic2V0dXBDYW1lcmEiLCJpbnB1dCIsImtleWJvYXJkIiwib24iLCJwYXVzZWQiLCJvbldoZWVsVXAiLCJzY3JvbGxBbW91bnQiLCJuZXdab29tIiwiem9vbSIsInpvb21UbyIsIm9uV2hlZWxEb3duIiwidXBkYXRlIiwic2V0RnJvbVJHQiIsImciLCJiIiwic2V0Wm9vbSIsImNlbnRlck9uIiwiZHpXaWR0aCIsImZsb29yIiwiZHpIZWlnaHQiLCJkelgiLCJkelkiLCJzdGFydEZvbGxvdyIsImdldEdhbWVPYmplY3QiLCJkZWFkem9uZSIsIkdlb20iLCJSZWN0YW5nbGUiLCJTY2VuZSIsInJlbWFpbmluZ0Z1ZWwiLCJ0ZW1wZXJhdHVyZSIsImxhc3RPdmVyaGVhdENoZWNrIiwibGFzdEJvb3N0VGltZSIsImlkIiwiUk5HIiwiZ3VpZCIsImdhbWVPYmoiLCJjb250YWluZXIiLCJleGlzdGluZyIsImJvZHkiLCJib3VuY2UiLCJzZXRUbyIsInNoaXAiLCJzcHJpdGUiLCJpbnRlZ3JpdHkiLCJhdHRhY2htZW50cyIsInNldHVwSW5wdXRIYW5kbGVycyIsImxvb2tBdFRhcmdldCIsInRocnVzdEtleSIsImlzRG93biIsInRocnVzdEZvd2FyZHMiLCJib29zdEtleSIsImJvb3N0Rm9yd2FyZHMiLCJhY3RpdmVQb2ludGVyIiwibGVmdEJ1dHRvbkRvd24iLCJ0cmlnZ2VyIiwiY2hlY2tPdmVyaGVhdENvbmRpdGlvbiIsInJvdGF0ZUF0dGFjaG1lbnRzQ2xvY2t3aXNlS2V5Iiwicm90YXRlQXR0YWNobWVudHNDbG9ja3dpc2UiLCJyb3RhdGVBdHRhY2htZW50c0FudGlDbG9ja3dpc2VLZXkiLCJyb3RhdGVBdHRhY2htZW50c0FudGlDbG9ja3dpc2UiLCJ1cGRhdGVBdHRhY2htZW50cyIsImxlbmd0aCIsImEiLCJhZGRLZXkiLCJkZXN0cm95IiwiZGVsdGEiLCJzdXN0YWluRGFtYWdlIiwiYXBwbHlDb29saW5nIiwiZ2V0UmVhbExvY2F0aW9uIiwiVmVjdG9yMiIsImdldExvY2F0aW9uIiwiY2FtZXJhUG9zIiwiZ2V0V29ybGRQb2ludCIsImdldElkIiwidGFyZ2V0IiwicG9zIiwicmFkaWFucyIsIkFuZ2xlIiwiQmV0d2VlbiIsInNldFJvdGF0aW9uIiwiZ2V0QW5nbGUiLCJhbmdsZSIsImdldEhlYWRpbmciLCJjb3MiLCJyb3RhdGlvbiIsInNpbiIsIm5vcm1hbGl6ZSIsIm5lZ2F0ZSIsImdldFZlbG9jaXR5IiwidmVsb2NpdHkiLCJhcHBseVRocnVzdCIsImZvcmNlIiwiZnVlbCIsImhlYXQiLCJnZXRSZW1haW5pbmdGdWVsIiwiZGVsdGFWIiwibXVsdGlwbHkiLCJyZWR1Y2VGdWVsIiwiYXBwbHlIZWF0aW5nIiwic3RyYWZlTGVmdCIsInN0cmFmZVJpZ2h0IiwidGhydXN0QmFja3dhcmRzIiwiZ2V0VGVtcGVyYXR1cmUiLCJkZWdyZWVzIiwiYW1vdW50IiwiYWRkRnVlbCIsImdldEludGVncml0eSIsInJlcGFpciIsImxhc3QiLCJwb3AiLCJ1bnNoaWZ0IiwidXBkYXRlQXR0YWNobWVudFBvc2l0aW9ucyIsImZpcnN0Iiwic2hpZnQiLCJwdXNoIiwiZnJvbnQiLCJzZXRBdHRhY2htZW50TG9jYXRpb24iLCJmcm9udFJpZ2h0IiwicmlnaHQiLCJiYWNrUmlnaHQiLCJiYWNrTGVmdCIsImxlZnQiLCJmcm9udExlZnQiLCJhdHRhY2htZW50IiwicmVtb3ZlQXR0YWNobWVudCIsImF0dGFjaCIsImxvY2F0aW9uIiwiZ28iLCJyZW1vdmUiLCJkZXRhY2giLCJpbnQiLCJtaW4iLCJtYXgiLCJ2NCIsInYxIiwidXVpZCIsIl9ub2RlSWQiLCJfY2xvY2tzZXEiLCJybmciLCJieXRlc1RvVXVpZCIsIl9sYXN0TVNlY3MiLCJfbGFzdE5TZWNzIiwib3B0aW9ucyIsIm5vZGUiLCJjbG9ja3NlcSIsInVuZGVmaW5lZCIsInNlZWRCeXRlcyIsIm1zZWNzIiwibnNlY3MiLCJkdCIsIkVycm9yIiwidGwiLCJ0bWgiLCJpaSIsImNhcHR1cmUiLCJwb3NpdGlvbiIsImNsb25lIiwibG9jIiwiZnVuYyIsIklucHV0IiwiRXZlbnRzIiwiUE9JTlRFUl9XSEVFTCIsInBvaW50ZXIiLCJjdXJyZW50bHlPdmVyIiwiZHgiLCJkeSIsImR6IiwiZXZlbnQiLCJtYXhBbW1vIiwicmVtYWluaW5nQW1tbyIsImNvb2xkb3duVGltZSIsImxhc3RGaXJlZEF0IiwicmVsb2FkIiwiZ2V0UmVtYWluaW5nQW1tbyIsImZpcmUiLCJkaXJlY3Rpb24iLCJCdWxsZXQiLCJTaGlwQXR0YWNobWVudCIsImNlbnRyZSIsInNldFBvc2l0aW9uIiwiaGVhZGluZyIsImF0dGFjaG1lbnRMb2NhdGlvbiIsInBhcmFtcyIsInNldEFuZ2xlIiwiYWRkQ29sbGlzaW9uRGV0ZWN0aW9uIiwic2V0SW5Nb3Rpb24iLCJjb2xsaWRlciIsIm9uSW1wYWN0IiwiYnVsbGV0IiwiZGVidWciLCJ0ZXh0IiwiZm9udCIsImZpbGwiLCJzZXRUZXh0IiwidG9GaXhlZCJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBMkNBLEVBQU1DLEdBQzFCLGlCQUFaQyxTQUEwQyxpQkFBWEMsT0FDeENBLE9BQU9ELFFBQVVELEVBQVFHLFFBQVEsV0FDUixtQkFBWEMsUUFBeUJBLE9BQU9DLElBQzlDRCxPQUFPLENBQUMsVUFBV0osR0FDTyxpQkFBWkMsUUFDZEEsUUFBZ0IsT0FBSUQsRUFBUUcsUUFBUSxXQUVwQ0osRUFBYSxPQUFJQyxFQUFRRCxFQUFhLFFBUnhDLENBU0dPLFFBQVEsU0FBU0MsR0FDcEIsTyxZQ1RFLElBQUlDLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVULFFBR25DLElBQUlDLEVBQVNNLEVBQWlCRSxHQUFZLENBQ3pDQyxFQUFHRCxFQUNIRSxHQUFHLEVBQ0hYLFFBQVMsSUFVVixPQU5BWSxFQUFRSCxHQUFVSSxLQUFLWixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTUSxHQUcvRFAsRUFBT1UsR0FBSSxFQUdKVixFQUFPRCxRQTBEZixPQXJEQVEsRUFBb0JNLEVBQUlGLEVBR3hCSixFQUFvQk8sRUFBSVIsRUFHeEJDLEVBQW9CUSxFQUFJLFNBQVNoQixFQUFTaUIsRUFBTUMsR0FDM0NWLEVBQW9CVyxFQUFFbkIsRUFBU2lCLElBQ2xDRyxPQUFPQyxlQUFlckIsRUFBU2lCLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVYsRUFBb0JnQixFQUFJLFNBQVN4QixHQUNYLG9CQUFYeUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlckIsRUFBU3lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFBZXJCLEVBQVMsYUFB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RyxLQUFLa0QsUUFBUUcsS0FBS21ELFNBQVNyRyxJQUFJMkcsSUFFdkMsRUExREEsR0FBYSxFQUFBaUYsVSw4WkNMYixXQUdNbk0sRUFBa0QsQ0FDcERDLFFBQVEsRUFDUkMsU0FBUyxFQUNUOUUsSUFBSyxnQkFHVCxjQUdJLGEsT0FDSSxZQUFNNEUsSUFBWSxLQTBCMUIsT0E5QmtDLE9BT3ZCLFlBQUFHLFFBQVAsYUFJTyxZQUFBaEYsT0FBUCxXQUNJaUYsS0FBSzRNLE1BQVE1TSxLQUFLRyxJQUFJME0sS0FBSyxHQUFJLEdBQUksR0FBSSxDQUFFQyxLQUFNLGVBQWdCQyxLQUFNLGFBR2xFLFlBQUFyTCxPQUFQLFdBQ0ksSUFBSyxFQUFBakcsUUFBUTBGLFFBQ0wsRUFBQTFGLFFBQVFnRixPQUFRLENBQ2hCLElBQUlsRixFQUFhLEVBQUFFLFFBQVFnRixPQUNyQm1LLEVBQTJCclAsRUFBRTRKLGtCQUNqQ25GLEtBQUs0TSxNQUFNSSxRQUFRLENBQ2YsYUFBYXpSLEVBQUVnTCxjQUFjMEcsUUFBUSxHQUNyQyxjQUFjMVIsRUFBRWtNLGVBQWV3RixRQUFRLEdBQ3ZDLFNBQVMxUixFQUFFOEwsaUJBQWlCNEYsUUFBUSxHQUNwQyxTQUFTMVIsRUFBRXNMLG1CQUFtQm9HLFFBQVEsR0FDdEMsYUFBYXJDLEVBQUl6TCxFQUFFOE4sUUFBUSxHQUFFLElBQUlyQyxFQUFJeEwsRUFBRTZOLFFBQVEsT0FLbkUsRUE5QkEsQ0FBa0MzTyxPQUFPb0UsT0FBNUIsRUFBQW5EIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcInBoYXNlclwiKSk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXCJwaGFzZXJcIl0sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiYnVuZGxlXCJdID0gZmFjdG9yeShyZXF1aXJlKFwicGhhc2VyXCIpKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJidW5kbGVcIl0gPSBmYWN0b3J5KHJvb3RbXCJwaGFzZXJcIl0pO1xufSkod2luZG93LCBmdW5jdGlvbihfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX185X18pIHtcbnJldHVybiAiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNik7XG4iLCJpbXBvcnQgeyBTaGlwUG9kIH0gZnJvbSBcIi4uL3NoaXBzL3NoaXAtcG9kXCI7XHJcblxyXG5leHBvcnQgbW9kdWxlIEdsb2JhbHMge1xyXG4gICAgZXhwb3J0IHZhciBwYXVzZWQ6IGJvb2xlYW47XHJcbiAgICBleHBvcnQgdmFyIHBsYXllcjogU2hpcFBvZDtcclxuICAgIGV4cG9ydCB2YXIgZ2FtZTogUGhhc2VyLkdhbWU7XHJcbiAgICBleHBvcnQgdmFyIGludGVyYWN0YWJsZXM6IFBoYXNlci5HYW1lT2JqZWN0cy5HYW1lT2JqZWN0W10gPSBbXTtcclxufSIsIi8vIFVuaXF1ZSBJRCBjcmVhdGlvbiByZXF1aXJlcyBhIGhpZ2ggcXVhbGl0eSByYW5kb20gIyBnZW5lcmF0b3IuICBJbiB0aGVcbi8vIGJyb3dzZXIgdGhpcyBpcyBhIGxpdHRsZSBjb21wbGljYXRlZCBkdWUgdG8gdW5rbm93biBxdWFsaXR5IG9mIE1hdGgucmFuZG9tKClcbi8vIGFuZCBpbmNvbnNpc3RlbnQgc3VwcG9ydCBmb3IgdGhlIGBjcnlwdG9gIEFQSS4gIFdlIGRvIHRoZSBiZXN0IHdlIGNhbiB2aWFcbi8vIGZlYXR1cmUtZGV0ZWN0aW9uXG5cbi8vIGdldFJhbmRvbVZhbHVlcyBuZWVkcyB0byBiZSBpbnZva2VkIGluIGEgY29udGV4dCB3aGVyZSBcInRoaXNcIiBpcyBhIENyeXB0b1xuLy8gaW1wbGVtZW50YXRpb24uIEFsc28sIGZpbmQgdGhlIGNvbXBsZXRlIGltcGxlbWVudGF0aW9uIG9mIGNyeXB0byBvbiBJRTExLlxudmFyIGdldFJhbmRvbVZhbHVlcyA9ICh0eXBlb2YoY3J5cHRvKSAhPSAndW5kZWZpbmVkJyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChjcnlwdG8pKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICh0eXBlb2YobXNDcnlwdG8pICE9ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cubXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzID09ICdmdW5jdGlvbicgJiYgbXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQobXNDcnlwdG8pKTtcblxuaWYgKGdldFJhbmRvbVZhbHVlcykge1xuICAvLyBXSEFUV0cgY3J5cHRvIFJORyAtIGh0dHA6Ly93aWtpLndoYXR3Zy5vcmcvd2lraS9DcnlwdG9cbiAgdmFyIHJuZHM4ID0gbmV3IFVpbnQ4QXJyYXkoMTYpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB3aGF0d2dSTkcoKSB7XG4gICAgZ2V0UmFuZG9tVmFsdWVzKHJuZHM4KTtcbiAgICByZXR1cm4gcm5kczg7XG4gIH07XG59IGVsc2Uge1xuICAvLyBNYXRoLnJhbmRvbSgpLWJhc2VkIChSTkcpXG4gIC8vXG4gIC8vIElmIGFsbCBlbHNlIGZhaWxzLCB1c2UgTWF0aC5yYW5kb20oKS4gIEl0J3MgZmFzdCwgYnV0IGlzIG9mIHVuc3BlY2lmaWVkXG4gIC8vIHF1YWxpdHkuXG4gIHZhciBybmRzID0gbmV3IEFycmF5KDE2KTtcblxuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG1hdGhSTkcoKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIHI7IGkgPCAxNjsgaSsrKSB7XG4gICAgICBpZiAoKGkgJiAweDAzKSA9PT0gMCkgciA9IE1hdGgucmFuZG9tKCkgKiAweDEwMDAwMDAwMDtcbiAgICAgIHJuZHNbaV0gPSByID4+PiAoKGkgJiAweDAzKSA8PCAzKSAmIDB4ZmY7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJuZHM7XG4gIH07XG59XG4iLCIvKipcbiAqIENvbnZlcnQgYXJyYXkgb2YgMTYgYnl0ZSB2YWx1ZXMgdG8gVVVJRCBzdHJpbmcgZm9ybWF0IG9mIHRoZSBmb3JtOlxuICogWFhYWFhYWFgtWFhYWC1YWFhYLVhYWFgtWFhYWFhYWFhYWFhYXG4gKi9cbnZhciBieXRlVG9IZXggPSBbXTtcbmZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyArK2kpIHtcbiAgYnl0ZVRvSGV4W2ldID0gKGkgKyAweDEwMCkudG9TdHJpbmcoMTYpLnN1YnN0cigxKTtcbn1cblxuZnVuY3Rpb24gYnl0ZXNUb1V1aWQoYnVmLCBvZmZzZXQpIHtcbiAgdmFyIGkgPSBvZmZzZXQgfHwgMDtcbiAgdmFyIGJ0aCA9IGJ5dGVUb0hleDtcbiAgLy8gam9pbiB1c2VkIHRvIGZpeCBtZW1vcnkgaXNzdWUgY2F1c2VkIGJ5IGNvbmNhdGVuYXRpb246IGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMxNzUjYzRcbiAgcmV0dXJuIChbXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSxcbiAgICBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLCAnLScsXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgJy0nLFxuICAgIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sICctJyxcbiAgICBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLCAnLScsXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSxcbiAgICBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLFxuICAgIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV1cbiAgXSkuam9pbignJyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYnl0ZXNUb1V1aWQ7XG4iLCJleHBvcnQgbW9kdWxlIENvbnN0YW50cyB7XHJcbiAgICBleHBvcnQgY29uc3QgTUFYX0lOVEVHUklUWTogbnVtYmVyID0gMTAwO1xyXG4gICAgZXhwb3J0IGNvbnN0IE1BWF9GVUVMOiBudW1iZXIgPSAxMDA7XHJcbiAgICBleHBvcnQgY29uc3QgTUFYX1NBRkVfVEVNUEVSQVRVUkU6IG51bWJlciA9IDEwMDtcclxuICAgIGV4cG9ydCBjb25zdCBNQVhfVEVNUEVSQVRVUkU6IG51bWJlciA9IDIwMDtcclxuICAgIGV4cG9ydCBjb25zdCBPVkVSSEVBVF9DSEVDS19JTlRFUlZBTDogbnVtYmVyID0gMTAwOyAvLyBtaWxsaXNlY29uZHNcclxuICAgIGV4cG9ydCBjb25zdCBDT09MSU5HX1JBVEU6IG51bWJlciA9IDAuMzsgLy8gZGVncmVlcyBwZXIgc2Vjb25kXHJcbiAgICBleHBvcnQgY29uc3QgVEhSVVNURVJfRk9SQ0U6IG51bWJlciA9IDE7XHJcbiAgICBleHBvcnQgY29uc3QgRlVFTF9QRVJfVEhSVVNUOiBudW1iZXIgPSAwLjAwMTsgLy8gdW5pdHNcclxuICAgIGV4cG9ydCBjb25zdCBIRUFUX1BFUl9USFJVU1Q6IG51bWJlciA9IDAuMSAvLyBkZWdyZWVzXHJcbiAgICBleHBvcnQgY29uc3QgQk9PU1RFUl9GT1JDRTogbnVtYmVyID0gMTAwO1xyXG4gICAgZXhwb3J0IGNvbnN0IEZVRUxfUEVSX0JPT1NUOiBudW1iZXIgPSAxOyAvLyB1bml0c1xyXG4gICAgZXhwb3J0IGNvbnN0IEhFQVRfUEVSX0JPT1NUOiBudW1iZXIgPSAyNTsgLy8gZGVncmVlc1xyXG4gICAgZXhwb3J0IGNvbnN0IEJPT1NURVJfQ09PTERPV05fVElNRTogbnVtYmVyID0gMTAwMDsgLy8gbWlsbGlzZWNvbmRzXHJcbn0iLCJleHBvcnQgbW9kdWxlIEhlbHBlcnMge1xyXG4gICAgLyoqXHJcbiAgICAgKiBnZXQgdGhlIG51bWJlciBvZiBlbGVtZW50cyBpbiBhbiBlbnVtLlxyXG4gICAgICogPHA+XHJcbiAgICAgKiBleDogPGk+ZW51bSBGb28geyBiYXIgPSAwLCBiYXogPSAxLCBib3ogPSAyIH08L2k+PGJyIC8+XHJcbiAgICAgKiByZXR1cm5zOiA8Yj4zPC9iPlxyXG4gICAgICogPC9wPlxyXG4gICAgICogQHBhcmFtIGVudW1UeXBlIHRoZSB0eXBlIG5hbWUgb2YgYW4gZW51bVxyXG4gICAgICogQHJldHVybnMgdGhlIG51bWJlciBvZiBlbGVtZW50cyBpbiB0aGUgZW51bVxyXG4gICAgICovXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gZW51bUxlbmd0aChlbnVtVHlwZTogYW55KTogbnVtYmVyIHtcclxuICAgICAgICBsZXQgY291bnQgPSAwO1xyXG4gICAgICAgIGZvcihsZXQgaXRlbSBpbiBlbnVtVHlwZSkge1xyXG4gICAgICAgICAgICBpZihpc05hTihOdW1iZXIoaXRlbSkpKSB7XHJcbiAgICAgICAgICAgICAgICBjb3VudCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb3VudDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IHRpbWUgaW4gbWlsbGlzZWNvbmRzIHNpbmNlIHRoZSBlcG9jaFxyXG4gICAgICovXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gbm93KCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGVudW0gQXR0YWNobWVudExvY2F0aW9uIHtcclxuICAgIGZyb250LFxyXG4gICAgZnJvbnRSaWdodCxcclxuICAgIHJpZ2h0LFxyXG4gICAgYmFja1JpZ2h0LFxyXG4gICAgLy8gTk9URTogdGhlcmUgaXMgbm8gJ2JhY2snIGF0dGFjaG1lbnQgcG9pbnQgZHVlIHRvIGxvY2F0aW9uIG9mIHRocnVzdGVyXHJcbiAgICBiYWNrTGVmdCxcclxuICAgIGxlZnQsXHJcbiAgICBmcm9udExlZnRcclxufSIsImltcG9ydCB7IFNoaXBTY2VuZSB9IGZyb20gXCIuL3NjZW5lcy9zaGlwLXNjZW5lXCI7XHJcbmltcG9ydCB7IEdsb2JhbHMgfSBmcm9tIFwiLi91dGlsaXRpZXMvZ2xvYmFsc1wiO1xyXG5pbXBvcnQgeyBPdmVybGF5U2NlbmUgfSBmcm9tIFwiLi9zY2VuZXMvb3ZlcmxheS1zY2VuZVwiO1xyXG5cclxuY29uc3QgZ2FtZUNvbmZpZzogUGhhc2VyLlR5cGVzLkNvcmUuR2FtZUNvbmZpZyA9IHtcclxuICAgIHR5cGU6IFBoYXNlci5BVVRPLFxyXG4gICAgc2NhbGU6IHtcclxuICAgICAgICB3aWR0aDogd2luZG93LmlubmVyV2lkdGgsXHJcbiAgICAgICAgaGVpZ2h0OiB3aW5kb3cuaW5uZXJIZWlnaHRcclxuICAgIH0sXHJcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwMDAwJyxcclxuICAgIHBhcmVudDogJ3NwYWNlLXNpbScsXHJcbiAgICBwaHlzaWNzOiB7XHJcbiAgICAgICAgZGVmYXVsdDogJ2FyY2FkZScsXHJcbiAgICAgICAgYXJjYWRlOiB7XHJcbiAgICAgICAgICAgIGdyYXZpdHk6IHsgeDogMCwgeTogMCB9LFxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBzY2VuZTogW1NoaXBTY2VuZSwgT3ZlcmxheVNjZW5lXVxyXG59O1xyXG5leHBvcnQgY29uc3QgZ2FtZTogUGhhc2VyLkdhbWUgPSBuZXcgUGhhc2VyLkdhbWUoZ2FtZUNvbmZpZyk7XHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4ge1xyXG4gICAgZ2FtZS5zY2FsZS5yZWZyZXNoKCk7XHJcbn0pO1xyXG5cclxuR2xvYmFscy5nYW1lID0gZ2FtZTsiLCJpbXBvcnQgeyBTaGlwUG9kIH0gZnJvbSBcIi4uL3NoaXBzL3NoaXAtcG9kXCI7XHJcbmltcG9ydCB7IEdsb2JhbHMgfSBmcm9tIFwiLi4vdXRpbGl0aWVzL2dsb2JhbHNcIjtcclxuaW1wb3J0IHsgTW91c2UgfSBmcm9tIFwiLi4vdXRpbGl0aWVzL21vdXNlXCI7XHJcbmltcG9ydCB7IENhbm5vbkF0dGFjaG1lbnQgfSBmcm9tIFwiLi4vc2hpcHMvYXR0YWNobWVudHMvb2ZmZW5jZS9jYW5ub24tYXR0YWNobWVudFwiO1xyXG5cclxuY29uc3Qgc2NlbmVDb25maWc6IFBoYXNlci5UeXBlcy5TY2VuZXMuU2V0dGluZ3NDb25maWcgPSB7XHJcbiAgICBhY3RpdmU6IHRydWUsXHJcbiAgICB2aXNpYmxlOiB0cnVlLFxyXG4gICAga2V5OiAnU2hpcFNjZW5lJ1xyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIFNoaXBTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBwcml2YXRlIG1vdXNlOiBNb3VzZTtcclxuICAgIHByaXZhdGUgcGxheWVyOiBTaGlwUG9kO1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcihzY2VuZUNvbmZpZyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHByZWxvYWQoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdzdGFycycsICcuL2Fzc2V0cy9iYWNrZ3JvdW5kcy90aWxlYWJsZVN0YXJzLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnc2hpcC1wb2QnLCAnLi9hc3NldHMvc3ByaXRlcy9zaGlwLXBvZC5wbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuYWRkLnRpbGVTcHJpdGUoMCwgMCwgdGhpcy5jYW1lcmFzLm1haW4ud2lkdGggKiAxMCwgdGhpcy5jYW1lcmFzLm1haW4uaGVpZ2h0ICogMTAsICdzdGFycycpO1xyXG5cclxuICAgICAgICB0aGlzLm1vdXNlID0gbmV3IE1vdXNlKHRoaXMpO1xyXG4gICAgICAgIHRoaXMucGxheWVyID0gbmV3IFNoaXBQb2QodGhpcyk7XHJcbiAgICAgICAgR2xvYmFscy5wbGF5ZXIgPSB0aGlzLnBsYXllcjtcclxuICAgICAgICB0aGlzLnBsYXllci5zZXRUYXJnZXQodGhpcy5tb3VzZSk7XHJcblxyXG4gICAgICAgIC8vIFRNUFxyXG4gICAgICAgIGxldCBjYW5vbjogQ2Fubm9uQXR0YWNobWVudCA9IG5ldyBDYW5ub25BdHRhY2htZW50KHRoaXMpO1xyXG4gICAgICAgIHRoaXMucGxheWVyLmFkZEF0dGFjaG1lbnQoY2Fub24pO1xyXG5cclxuICAgICAgICB0aGlzLnNldHVwQ2FtZXJhKHRoaXMucGxheWVyKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmlucHV0LmtleWJvYXJkLm9uKCdrZXlkb3duLVAnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIEdsb2JhbHMucGF1c2VkID0gdHJ1ZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmlucHV0LmtleWJvYXJkLm9uKCdrZXlkb3duLVInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIEdsb2JhbHMucGF1c2VkID0gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5tb3VzZS5vbldoZWVsVXAoKHNjcm9sbEFtb3VudDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBjdXJyZW50Wm9vbTogbnVtYmVyID0gdGhpcy5jYW1lcmFzLm1haW4uem9vbTtcclxuICAgICAgICAgICAgLy8gem9vbSBvdXRcclxuICAgICAgICAgICAgbGV0IG5ld1pvb206IG51bWJlciA9IGN1cnJlbnRab29tIC0gMC41O1xyXG4gICAgICAgICAgICBpZiAobmV3Wm9vbSA8IDAuMSkge1xyXG4gICAgICAgICAgICAgICAgbmV3Wm9vbSA9IDAuMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgem9vbWluZyBmcm9tICR7Y3VycmVudFpvb219IHRvICR7bmV3Wm9vbX1gKTtcclxuICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uem9vbVRvKG5ld1pvb20pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubW91c2Uub25XaGVlbERvd24oKHNjcm9sbEFtb3VudDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBjdXJyZW50Wm9vbTogbnVtYmVyID0gdGhpcy5jYW1lcmFzLm1haW4uem9vbTtcclxuICAgICAgICAgICAgLy8gem9vbSBpblxyXG4gICAgICAgICAgICBsZXQgbmV3Wm9vbTogbnVtYmVyID0gY3VycmVudFpvb20gKyAwLjU7XHJcbiAgICAgICAgICAgIGlmIChuZXdab29tID4gMSkge1xyXG4gICAgICAgICAgICAgICAgbmV3Wm9vbSA9IDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYHpvb21pbmcgZnJvbSAke2N1cnJlbnRab29tfSB0byAke25ld1pvb219YCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnpvb21UbyhuZXdab29tKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICghR2xvYmFscy5wYXVzZWQpIHtcclxuICAgICAgICAgICAgR2xvYmFscy5wbGF5ZXIudXBkYXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0dXBDYW1lcmEocGxheWVyOiBTaGlwUG9kKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uYmFja2dyb3VuZENvbG9yLnNldEZyb21SR0Ioe3I6IDAsIGc6IDAsIGI6IDB9KTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRab29tKDEpO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLmNlbnRlck9uKDAsIDApO1xyXG5cclxuICAgICAgICBsZXQgd2lkdGg6IG51bWJlciA9IHRoaXMuY2FtZXJhcy5tYWluLndpZHRoO1xyXG4gICAgICAgIGxldCBoZWlnaHQ6IG51bWJlciA9IHRoaXMuY2FtZXJhcy5tYWluLmhlaWdodDtcclxuICAgICAgICBsZXQgZHpXaWR0aDogbnVtYmVyID0gTWF0aC5mbG9vcih3aWR0aCAvIDIpO1xyXG4gICAgICAgIGxldCBkekhlaWdodDogbnVtYmVyID0gTWF0aC5mbG9vcihoZWlnaHQgLyAyKTtcclxuICAgICAgICBsZXQgZHpYOiBudW1iZXIgPSBNYXRoLmZsb29yKGR6V2lkdGggLyAyKTtcclxuICAgICAgICBsZXQgZHpZOiBudW1iZXIgPSBNYXRoLmZsb29yKGR6SGVpZ2h0IC8gMik7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc3RhcnRGb2xsb3cocGxheWVyLmdldEdhbWVPYmplY3QoKSwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uZGVhZHpvbmUgPSBuZXcgUGhhc2VyLkdlb20uUmVjdGFuZ2xlKGR6WCwgZHpZLCBkeldpZHRoLCBkekhlaWdodCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgXCJwaGFzZXJcIjtcclxuaW1wb3J0IHsgUk5HIH0gZnJvbSBcIi4uL3V0aWxpdGllcy9ybmdcIjtcclxuaW1wb3J0IHsgVXBkYXRhYmxlIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvdXBkYXRhYmxlXCI7XHJcbmltcG9ydCB7IENhblRhcmdldCB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2Nhbi10YXJnZXRcIjtcclxuaW1wb3J0IHsgQ2FuVGhydXN0IH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvY2FuLXRocnVzdFwiO1xyXG5pbXBvcnQgeyBIYXNMb2NhdGlvbiB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2hhcy1sb2NhdGlvblwiO1xyXG5pbXBvcnQgeyBIYXNHYW1lT2JqZWN0IH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvaGFzLWdhbWUtb2JqZWN0XCI7XHJcbmltcG9ydCB7IEdsb2JhbHMgfSBmcm9tIFwiLi4vdXRpbGl0aWVzL2dsb2JhbHNcIjtcclxuaW1wb3J0IHsgSGFzSW50ZWdyaXR5IH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvaGFzLWludGVncml0eVwiO1xyXG5pbXBvcnQgeyBDb25zdGFudHMgfSBmcm9tIFwiLi4vdXRpbGl0aWVzL2NvbnN0YW50c1wiO1xyXG5pbXBvcnQgeyBTaGlwQXR0YWNobWVudCB9IGZyb20gXCIuL2F0dGFjaG1lbnRzL3NoaXAtYXR0YWNobWVudFwiO1xyXG5pbXBvcnQgeyBIYXNBdHRhY2htZW50cyB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2hhcy1hdHRhY2htZW50c1wiO1xyXG5pbXBvcnQgeyBIZWxwZXJzIH0gZnJvbSBcIi4uL3V0aWxpdGllcy9oZWxwZXJzXCI7XHJcbmltcG9ydCB7IEF0dGFjaG1lbnRMb2NhdGlvbiB9IGZyb20gXCIuL2F0dGFjaG1lbnRzL2F0dGFjaG1lbnQtbG9jYXRpb25cIjtcclxuaW1wb3J0IHsgSGFzVGVtcGVyYXR1cmUgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9oYXMtdGVtcGVyYXR1cmVcIjtcclxuaW1wb3J0IHsgSGFzRnVlbCB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2hhcy1mdWVsXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU2hpcFBvZCBpbXBsZW1lbnRzIFVwZGF0YWJsZSwgQ2FuVGFyZ2V0LCBDYW5UaHJ1c3QsIEhhc0xvY2F0aW9uLCBIYXNHYW1lT2JqZWN0LCBIYXNJbnRlZ3JpdHksIEhhc0F0dGFjaG1lbnRzLCBIYXNUZW1wZXJhdHVyZSwgSGFzRnVlbCB7XHJcbiAgICBwcml2YXRlIGlkOiBzdHJpbmc7IC8vIFVVSURcclxuICAgIHByaXZhdGUgc2NlbmU6IFBoYXNlci5TY2VuZTtcclxuICAgIHByaXZhdGUgZ2FtZU9iajogUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcjtcclxuICAgIHByaXZhdGUgdGFyZ2V0OiBIYXNMb2NhdGlvbjtcclxuICAgIHByaXZhdGUgaW50ZWdyaXR5OiBudW1iZXI7XHJcbiAgICBwcml2YXRlIGF0dGFjaG1lbnRzOiBTaGlwQXR0YWNobWVudFtdO1xyXG4gICAgcHJpdmF0ZSB0aHJ1c3RLZXk6IFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXk7XHJcbiAgICBwcml2YXRlIGJvb3N0S2V5OiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5O1xyXG4gICAgcHJpdmF0ZSByb3RhdGVBdHRhY2htZW50c0Nsb2Nrd2lzZUtleTogUGhhc2VyLklucHV0LktleWJvYXJkLktleTtcclxuICAgIHByaXZhdGUgcm90YXRlQXR0YWNobWVudHNBbnRpQ2xvY2t3aXNlS2V5OiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5O1xyXG4gICAgcHJpdmF0ZSByZW1haW5pbmdGdWVsOiBudW1iZXIgPSAxMDA7XHJcbiAgICBwcml2YXRlIHRlbXBlcmF0dXJlOiBudW1iZXIgPSAwOyAvLyBpbiBDZWxjaXVzXHJcblxyXG4gICAgYWN0aXZlOiBib29sZWFuID0gdHJ1ZTtcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3Ioc2NlbmU6IFBoYXNlci5TY2VuZSkge1xyXG4gICAgICAgIHRoaXMuaWQgPSBSTkcuZ3VpZCgpO1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLmdhbWVPYmogPSBzY2VuZS5hZGQuY29udGFpbmVyKDAsIDApO1xyXG4gICAgICAgIHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5nYW1lT2JqKTtcclxuICAgICAgICAodGhpcy5nYW1lT2JqLmJvZHkgYXMgUGhhc2VyLlBoeXNpY3MuQXJjYWRlLkJvZHkpLmJvdW5jZS5zZXRUbygwLjcsIDAuNyk7XHJcbiAgICAgICAgbGV0IHNoaXA6IFBoYXNlci5HYW1lT2JqZWN0cy5TcHJpdGUgPSBzY2VuZS5hZGQuc3ByaXRlKDAsIDAsICdzaGlwLXBvZCcpO1xyXG4gICAgICAgIHRoaXMuZ2FtZU9iai5hZGQoc2hpcCk7XHJcblxyXG4gICAgICAgIHRoaXMuaW50ZWdyaXR5ID0gQ29uc3RhbnRzLk1BWF9JTlRFR1JJVFk7XHJcbiAgICAgICAgdGhpcy5hdHRhY2htZW50cyA9IG5ldyBBcnJheTxTaGlwQXR0YWNobWVudD4oSGVscGVycy5lbnVtTGVuZ3RoKEF0dGFjaG1lbnRMb2NhdGlvbikpO1xyXG5cclxuICAgICAgICB0aGlzLnNldHVwSW5wdXRIYW5kbGVycygpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIUdsb2JhbHMucGF1c2VkICYmIHRoaXMuYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9va0F0VGFyZ2V0KCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRocnVzdEtleS5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudGhydXN0Rm93YXJkcygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmJvb3N0S2V5LmlzRG93bikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ib29zdEZvcndhcmRzKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuc2NlbmUuaW5wdXQuYWN0aXZlUG9pbnRlci5sZWZ0QnV0dG9uRG93bigpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hdHRhY2htZW50c1swXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNobWVudHNbMF0udHJpZ2dlcigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2tPdmVyaGVhdENvbmRpdGlvbigpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5yb3RhdGVBdHRhY2htZW50c0Nsb2Nrd2lzZUtleS5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucm90YXRlQXR0YWNobWVudHNDbG9ja3dpc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5yb3RhdGVBdHRhY2htZW50c0FudGlDbG9ja3dpc2VLZXkuaXNEb3duKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJvdGF0ZUF0dGFjaG1lbnRzQW50aUNsb2Nrd2lzZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQXR0YWNobWVudHMoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1cGRhdGVBdHRhY2htZW50cygpOiB2b2lkIHtcclxuICAgICAgICBmb3IgKHZhciBpPTA7IGk8dGhpcy5hdHRhY2htZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgYTogU2hpcEF0dGFjaG1lbnQgPSB0aGlzLmF0dGFjaG1lbnRzW2ldO1xyXG4gICAgICAgICAgICBpZiAoYSkge1xyXG4gICAgICAgICAgICAgICAgYS51cGRhdGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldHVwSW5wdXRIYW5kbGVycygpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnRocnVzdEtleSA9IHRoaXMuc2NlbmUuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KCdTUEFDRScsIHRydWUsIHRydWUpO1xyXG4gICAgICAgIHRoaXMuYm9vc3RLZXkgPSB0aGlzLnNjZW5lLmlucHV0LmtleWJvYXJkLmFkZEtleSgnVEFCJywgdHJ1ZSwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMucm90YXRlQXR0YWNobWVudHNDbG9ja3dpc2VLZXkgPSB0aGlzLnNjZW5lLmlucHV0LmtleWJvYXJkLmFkZEtleSgnRScsIHRydWUsIGZhbHNlKTtcclxuICAgICAgICB0aGlzLnJvdGF0ZUF0dGFjaG1lbnRzQW50aUNsb2Nrd2lzZUtleSA9IHRoaXMuc2NlbmUuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KCdRJywgdHJ1ZSwgZmFsc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogY2hlY2tzIGZvciBhbmQgYXBwbGllcyBkYW1hZ2UgYmFzZWQgb24gZGVncmVlcyBvdmVyIHNhZmUgdGVtcGVyYXR1cmUgYXQgYSByYXRlXHJcbiAgICAgKiBkZWZpbmVkIGJ5IHtDb25zdGFudHMuT1ZFUkhFQVRfQ0hFQ0tfSU5URVJWQUx9IG1pbGxpc2Vjb25kcyBiZXR3ZWVuIGVhY2ggY2hlY2suXHJcbiAgICAgKiBhbHNvIGFwcGxpZXMgY29vbGluZyBhdCBhIHJhdGUgb2Yge0NvbnN0YW50cy5DT09MSU5HX1JBVEV9XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgY2hlY2tPdmVyaGVhdENvbmRpdGlvbigpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIUdsb2JhbHMucGF1c2VkICYmIHRoaXMuYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIGlmIChIZWxwZXJzLm5vdygpIC0gdGhpcy5sYXN0T3ZlcmhlYXRDaGVjayA+IENvbnN0YW50cy5PVkVSSEVBVF9DSEVDS19JTlRFUlZBTCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudGVtcGVyYXR1cmUgPiBDb25zdGFudHMuTUFYX1RFTVBFUkFUVVJFKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95KCk7IC8vIHdlIGFyZSBkZWFkXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50ZW1wZXJhdHVyZSA+IENvbnN0YW50cy5NQVhfU0FGRV9URU1QRVJBVFVSRSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlZHVjZSBpbnRlZ3JpdHkgYmFzZWQgb24gZGVncmVlcyBvdmVyIHNhZmUgb3BlcmF0aW5nIHRlbXBcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZGVsdGE6IG51bWJlciA9ICh0aGlzLnRlbXBlcmF0dXJlIC0gQ29uc3RhbnRzLk1BWF9TQUZFX1RFTVBFUkFUVVJFKSAvIENvbnN0YW50cy5NQVhfU0FGRV9URU1QRVJBVFVSRTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN1c3RhaW5EYW1hZ2UoZGVsdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5hcHBseUNvb2xpbmcoQ29uc3RhbnRzLkNPT0xJTkdfUkFURSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RPdmVyaGVhdENoZWNrID0gSGVscGVycy5ub3coKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHByaXZhdGUgbGFzdE92ZXJoZWF0Q2hlY2s6IG51bWJlciA9IDA7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUT0RPOiBuZWVkZWQgc28gd2UgY2FuIHVzZSBGbG9hdGluZyBPcmlnaW5cclxuICAgICAqL1xyXG4gICAgZ2V0UmVhbExvY2F0aW9uKCk6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIHJldHVybiBuZXcgUGhhc2VyLk1hdGguVmVjdG9yMih0aGlzLmdhbWVPYmoueCwgdGhpcy5nYW1lT2JqLnkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogdGhlIGxvY2F0aW9uIHdpdGhpbiB0aGUgdmlld2FibGUgYXJlYVxyXG4gICAgICogQHJldHVybnMgYSB7UGhhc2VyLk1hdGguVmVjdG9yMn0gb2Zmc2V0IGZvciBsb2NhdGlvbiB3aXRoaW4gY3VycmVudCBcclxuICAgICAqIHZpZXdhYmxlIGFyZWFcclxuICAgICAqL1xyXG4gICAgZ2V0TG9jYXRpb24oKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgbGV0IGNhbWVyYVBvczogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuc2NlbmUuY2FtZXJhcy5tYWluLmdldFdvcmxkUG9pbnQoMCwgMCk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKHRoaXMuZ2FtZU9iai54IC0gY2FtZXJhUG9zLngsIHRoaXMuZ2FtZU9iai55IC0gY2FtZXJhUG9zLnkpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldElkKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0R2FtZU9iamVjdCgpOiBQaGFzZXIuR2FtZU9iamVjdHMuR2FtZU9iamVjdCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZU9iajtcclxuICAgIH1cclxuXHJcbiAgICBzZXRUYXJnZXQodGFyZ2V0OiBIYXNMb2NhdGlvbikge1xyXG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xyXG4gICAgfVxyXG5cclxuICAgIGxvb2tBdFRhcmdldCgpOiB2b2lkIHtcclxuICAgICAgICBsZXQgcG9zID0gdGhpcy50YXJnZXQuZ2V0UmVhbExvY2F0aW9uKCk7XHJcbiAgICAgICAgbGV0IHJhZGlhbnM6IG51bWJlciA9IFBoYXNlci5NYXRoLkFuZ2xlLkJldHdlZW4ocG9zLngsIHBvcy55LCB0aGlzLmdhbWVPYmoueCwgdGhpcy5nYW1lT2JqLnkpO1xyXG4gICAgICAgIHRoaXMuZ2FtZU9iai5zZXRSb3RhdGlvbihyYWRpYW5zKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRBbmdsZSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdhbWVPYmouYW5nbGU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0SGVhZGluZygpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICBsZXQgeDogbnVtYmVyID0gTWF0aC5jb3ModGhpcy5nYW1lT2JqLnJvdGF0aW9uKTtcclxuICAgICAgICBsZXQgeTogbnVtYmVyID0gTWF0aC5zaW4odGhpcy5nYW1lT2JqLnJvdGF0aW9uKTtcclxuICAgICAgICByZXR1cm4gbmV3IFBoYXNlci5NYXRoLlZlY3RvcjIoeCwgeSkubm9ybWFsaXplKCkubmVnYXRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VmVsb2NpdHkoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gKHRoaXMuZ2FtZU9iai5ib2R5IGFzIFBoYXNlci5QaHlzaWNzLkFyY2FkZS5Cb2R5KS52ZWxvY2l0eS5sZW5ndGgoKTtcclxuICAgIH1cclxuXHJcbiAgICB0aHJ1c3RGb3dhcmRzKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuYXBwbHlUaHJ1c3QoQ29uc3RhbnRzLlRIUlVTVEVSX0ZPUkNFLCBDb25zdGFudHMuRlVFTF9QRVJfVEhSVVNULCBDb25zdGFudHMuSEVBVF9QRVJfVEhSVVNUKTtcclxuICAgIH1cclxuXHJcbiAgICBib29zdEZvcndhcmRzKCk6IHZvaWQge1xyXG4gICAgICAgIGlmIChIZWxwZXJzLm5vdygpIC0gdGhpcy5sYXN0Qm9vc3RUaW1lID49IENvbnN0YW50cy5CT09TVEVSX0NPT0xET1dOX1RJTUUpIHtcclxuICAgICAgICAgICAgdGhpcy5hcHBseVRocnVzdChDb25zdGFudHMuQk9PU1RFUl9GT1JDRSwgQ29uc3RhbnRzLkZVRUxfUEVSX0JPT1NULCBDb25zdGFudHMuSEVBVF9QRVJfQk9PU1QpO1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RCb29zdFRpbWUgPSBIZWxwZXJzLm5vdygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHByaXZhdGUgbGFzdEJvb3N0VGltZTogbnVtYmVyID0gMDtcclxuXHJcbiAgICBwcml2YXRlIGFwcGx5VGhydXN0KGZvcmNlOiBudW1iZXIsIGZ1ZWw6IG51bWJlciwgaGVhdDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0UmVtYWluaW5nRnVlbCgpID4gMCkge1xyXG4gICAgICAgICAgICBsZXQgaGVhZGluZzogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuZ2V0SGVhZGluZygpO1xyXG4gICAgICAgICAgICBsZXQgZGVsdGFWOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gaGVhZGluZy5tdWx0aXBseShuZXcgUGhhc2VyLk1hdGguVmVjdG9yMihmb3JjZSwgZm9yY2UpKTtcclxuICAgICAgICAgICAgKHRoaXMuZ2FtZU9iai5ib2R5IGFzIFBoYXNlci5QaHlzaWNzLkFyY2FkZS5Cb2R5KS52ZWxvY2l0eS5hZGQoZGVsdGFWKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVkdWNlRnVlbChmdWVsKTtcclxuICAgICAgICAgICAgdGhpcy5hcHBseUhlYXRpbmcoaGVhdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0cmFmZUxlZnQoKTogdm9pZCB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHN0cmFmZVJpZ2h0KCk6IHZvaWQge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICB0aHJ1c3RCYWNrd2FyZHMoKTogdm9pZCB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGdldFRlbXBlcmF0dXJlKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGVtcGVyYXR1cmU7XHJcbiAgICB9XHJcblxyXG4gICAgYXBwbHlIZWF0aW5nKGRlZ3JlZXM6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMudGVtcGVyYXR1cmUgKz0gZGVncmVlcztcclxuICAgIH1cclxuXHJcbiAgICBhcHBseUNvb2xpbmcoZGVncmVlczogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy50ZW1wZXJhdHVyZSAtPSBkZWdyZWVzO1xyXG4gICAgICAgIGlmICh0aGlzLnRlbXBlcmF0dXJlIDwgMCkge1xyXG4gICAgICAgICAgICB0aGlzLnRlbXBlcmF0dXJlID0gMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVkdWNlRnVlbChhbW91bnQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMucmVtYWluaW5nRnVlbCAtPSBhbW91bnQ7XHJcbiAgICAgICAgaWYgKHRoaXMucmVtYWluaW5nRnVlbCA8IDApIHtcclxuICAgICAgICAgICAgdGhpcy5yZW1haW5pbmdGdWVsID0gMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYWRkRnVlbChhbW91bnQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMucmVtYWluaW5nRnVlbCArPSBhbW91bnQ7XHJcbiAgICAgICAgaWYgKHRoaXMucmVtYWluaW5nRnVlbCA+IENvbnN0YW50cy5NQVhfRlVFTCkge1xyXG4gICAgICAgICAgICB0aGlzLnJlbWFpbmluZ0Z1ZWwgPSBDb25zdGFudHMuTUFYX0ZVRUw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldFJlbWFpbmluZ0Z1ZWwoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZW1haW5pbmdGdWVsO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEludGVncml0eSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmludGVncml0eTtcclxuICAgIH1cclxuXHJcbiAgICBzdXN0YWluRGFtYWdlKGFtb3VudDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5pbnRlZ3JpdHkgLT0gYW1vdW50O1xyXG4gICAgICAgIGlmICh0aGlzLmludGVncml0eSA8PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW50ZWdyaXR5ID0gMDtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5kZXN0cm95KCk7IC8vIHdlIGFyZSBkZWFkXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlcGFpcihhbW91bnQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuaW50ZWdyaXR5ID0gYW1vdW50O1xyXG4gICAgICAgIGlmICh0aGlzLmludGVncml0eSA+IENvbnN0YW50cy5NQVhfSU5URUdSSVRZKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW50ZWdyaXR5ID0gQ29uc3RhbnRzLk1BWF9JTlRFR1JJVFk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJvdGF0ZUF0dGFjaG1lbnRzQ2xvY2t3aXNlKCk6IHZvaWQge1xyXG4gICAgICAgIGxldCBsYXN0OiBTaGlwQXR0YWNobWVudCA9IHRoaXMuYXR0YWNobWVudHMucG9wKCk7IC8vIHJlbW92ZSBsYXN0IGVsZW1lbnRcclxuICAgICAgICB0aGlzLmF0dGFjaG1lbnRzLnVuc2hpZnQobGFzdCk7IC8vIHB1c2ggbGFzdCBlbGVtZW50IG9udG8gc3RhcnQgb2YgYXJyYXlcclxuICAgICAgICB0aGlzLnVwZGF0ZUF0dGFjaG1lbnRQb3NpdGlvbnMoKTtcclxuICAgIH1cclxuXHJcbiAgICByb3RhdGVBdHRhY2htZW50c0FudGlDbG9ja3dpc2UoKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IGZpcnN0OiBTaGlwQXR0YWNobWVudCA9IHRoaXMuYXR0YWNobWVudHMuc2hpZnQoKTsgLy8gcmVtb3ZlIGZpcnN0IGVsZW1lbnRcclxuICAgICAgICB0aGlzLmF0dGFjaG1lbnRzLnB1c2goZmlyc3QpOyAvLyBwdXNoIGZpcnN0IGVsZW1lbnQgb250byBlbmQgb2YgYXJyYXlcclxuICAgICAgICB0aGlzLnVwZGF0ZUF0dGFjaG1lbnRQb3NpdGlvbnMoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHVwZGF0ZUF0dGFjaG1lbnRQb3NpdGlvbnMoKTogdm9pZCB7XHJcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPHRoaXMuYXR0YWNobWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgc3dpdGNoIChpKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIEF0dGFjaG1lbnRMb2NhdGlvbi5mcm9udDpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzW2ldLnNldEF0dGFjaG1lbnRMb2NhdGlvbihBdHRhY2htZW50TG9jYXRpb24uZnJvbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBBdHRhY2htZW50TG9jYXRpb24uZnJvbnRSaWdodDpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzW2ldLnNldEF0dGFjaG1lbnRMb2NhdGlvbihBdHRhY2htZW50TG9jYXRpb24uZnJvbnRSaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIEF0dGFjaG1lbnRMb2NhdGlvbi5yaWdodDpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzW2ldLnNldEF0dGFjaG1lbnRMb2NhdGlvbihBdHRhY2htZW50TG9jYXRpb24ucmlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBBdHRhY2htZW50TG9jYXRpb24uYmFja1JpZ2h0OlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNobWVudHNbaV0uc2V0QXR0YWNobWVudExvY2F0aW9uKEF0dGFjaG1lbnRMb2NhdGlvbi5iYWNrUmlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBBdHRhY2htZW50TG9jYXRpb24uYmFja0xlZnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdHRhY2htZW50c1tpXS5zZXRBdHRhY2htZW50TG9jYXRpb24oQXR0YWNobWVudExvY2F0aW9uLmJhY2tMZWZ0KTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgQXR0YWNobWVudExvY2F0aW9uLmxlZnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdHRhY2htZW50c1tpXS5zZXRBdHRhY2htZW50TG9jYXRpb24oQXR0YWNobWVudExvY2F0aW9uLmxlZnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBBdHRhY2htZW50TG9jYXRpb24uZnJvbnRMZWZ0OlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNobWVudHNbaV0uc2V0QXR0YWNobWVudExvY2F0aW9uKEF0dGFjaG1lbnRMb2NhdGlvbi5mcm9udExlZnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmVwbGFjZXMgdGhlIGF0dGFjaG1lbnQgaW4ge0F0dGFjaG1lbnRMb2NhdGlvbi5mcm9udH1cclxuICAgICAqIHdpdGggdGhlIHBhc3NlZCBpbiB7U2hpcEF0dGFjaG1lbnR9LiBpZiBubyBhdHRhY2htZW50XHJcbiAgICAgKiBpbiB0aGUge0F0dGFjaG1lbnRMb2NhdGlvbi5mcm9udH0gc2xvdCB0aGVuIGl0IGlzIFxyXG4gICAgICogc2ltcGx5IGFkZGVkLlxyXG4gICAgICogQHBhcmFtIGF0dGFjaG1lbnQgdGhlIGF0dGFjaG1lbnQgdG8gYmUgYWRkZWRcclxuICAgICAqL1xyXG4gICAgYWRkQXR0YWNobWVudChhdHRhY2htZW50OiBTaGlwQXR0YWNobWVudCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMucmVtb3ZlQXR0YWNobWVudChBdHRhY2htZW50TG9jYXRpb24uZnJvbnQpO1xyXG4gICAgICAgIHRoaXMuYXR0YWNobWVudHNbQXR0YWNobWVudExvY2F0aW9uLmZyb250XSA9IGF0dGFjaG1lbnQ7XHJcbiAgICAgICAgYXR0YWNobWVudC5hdHRhY2godGhpcyk7XHJcbiAgICAgICAgdGhpcy5nYW1lT2JqLmFkZChhdHRhY2htZW50LmdldEdhbWVPYmplY3QoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlQXR0YWNobWVudChsb2NhdGlvbjogQXR0YWNobWVudExvY2F0aW9uKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuYXR0YWNobWVudHNbbG9jYXRpb25dKSB7XHJcbiAgICAgICAgICAgIGxldCBnbzogUGhhc2VyLkdhbWVPYmplY3RzLkdhbWVPYmplY3QgPSB0aGlzLmF0dGFjaG1lbnRzW2xvY2F0aW9uXS5nZXRHYW1lT2JqZWN0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZU9iai5yZW1vdmUoZ28pO1xyXG4gICAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzW2xvY2F0aW9uXS5kZXRhY2goKTtcclxuICAgICAgICAgICAgdGhpcy5hdHRhY2htZW50c1tsb2NhdGlvbl0gPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkZXN0cm95KCk6IHZvaWQge1xyXG4gICAgICAgIC8vIFRPRE86XHJcbiAgICB9XHJcbn0iLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzlfXzsiLCJpbXBvcnQgeyB2NCB9IGZyb20gXCJ1dWlkXCI7XHJcblxyXG5leHBvcnQgbW9kdWxlIFJORyB7XHJcbiAgICBleHBvcnQgZnVuY3Rpb24gaW50KG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW47XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGd1aWQoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdjQoKTtcclxuICAgIH1cclxufSIsInZhciB2MSA9IHJlcXVpcmUoJy4vdjEnKTtcbnZhciB2NCA9IHJlcXVpcmUoJy4vdjQnKTtcblxudmFyIHV1aWQgPSB2NDtcbnV1aWQudjEgPSB2MTtcbnV1aWQudjQgPSB2NDtcblxubW9kdWxlLmV4cG9ydHMgPSB1dWlkO1xuIiwidmFyIHJuZyA9IHJlcXVpcmUoJy4vbGliL3JuZycpO1xudmFyIGJ5dGVzVG9VdWlkID0gcmVxdWlyZSgnLi9saWIvYnl0ZXNUb1V1aWQnKTtcblxuLy8gKipgdjEoKWAgLSBHZW5lcmF0ZSB0aW1lLWJhc2VkIFVVSUQqKlxuLy9cbi8vIEluc3BpcmVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS9MaW9zSy9VVUlELmpzXG4vLyBhbmQgaHR0cDovL2RvY3MucHl0aG9uLm9yZy9saWJyYXJ5L3V1aWQuaHRtbFxuXG52YXIgX25vZGVJZDtcbnZhciBfY2xvY2tzZXE7XG5cbi8vIFByZXZpb3VzIHV1aWQgY3JlYXRpb24gdGltZVxudmFyIF9sYXN0TVNlY3MgPSAwO1xudmFyIF9sYXN0TlNlY3MgPSAwO1xuXG4vLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkIGZvciBBUEkgZGV0YWlsc1xuZnVuY3Rpb24gdjEob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgdmFyIGkgPSBidWYgJiYgb2Zmc2V0IHx8IDA7XG4gIHZhciBiID0gYnVmIHx8IFtdO1xuXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgbm9kZSA9IG9wdGlvbnMubm9kZSB8fCBfbm9kZUlkO1xuICB2YXIgY2xvY2tzZXEgPSBvcHRpb25zLmNsb2Nrc2VxICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNsb2Nrc2VxIDogX2Nsb2Nrc2VxO1xuXG4gIC8vIG5vZGUgYW5kIGNsb2Nrc2VxIG5lZWQgdG8gYmUgaW5pdGlhbGl6ZWQgdG8gcmFuZG9tIHZhbHVlcyBpZiB0aGV5J3JlIG5vdFxuICAvLyBzcGVjaWZpZWQuICBXZSBkbyB0aGlzIGxhemlseSB0byBtaW5pbWl6ZSBpc3N1ZXMgcmVsYXRlZCB0byBpbnN1ZmZpY2llbnRcbiAgLy8gc3lzdGVtIGVudHJvcHkuICBTZWUgIzE4OVxuICBpZiAobm9kZSA9PSBudWxsIHx8IGNsb2Nrc2VxID09IG51bGwpIHtcbiAgICB2YXIgc2VlZEJ5dGVzID0gcm5nKCk7XG4gICAgaWYgKG5vZGUgPT0gbnVsbCkge1xuICAgICAgLy8gUGVyIDQuNSwgY3JlYXRlIGFuZCA0OC1iaXQgbm9kZSBpZCwgKDQ3IHJhbmRvbSBiaXRzICsgbXVsdGljYXN0IGJpdCA9IDEpXG4gICAgICBub2RlID0gX25vZGVJZCA9IFtcbiAgICAgICAgc2VlZEJ5dGVzWzBdIHwgMHgwMSxcbiAgICAgICAgc2VlZEJ5dGVzWzFdLCBzZWVkQnl0ZXNbMl0sIHNlZWRCeXRlc1szXSwgc2VlZEJ5dGVzWzRdLCBzZWVkQnl0ZXNbNV1cbiAgICAgIF07XG4gICAgfVxuICAgIGlmIChjbG9ja3NlcSA9PSBudWxsKSB7XG4gICAgICAvLyBQZXIgNC4yLjIsIHJhbmRvbWl6ZSAoMTQgYml0KSBjbG9ja3NlcVxuICAgICAgY2xvY2tzZXEgPSBfY2xvY2tzZXEgPSAoc2VlZEJ5dGVzWzZdIDw8IDggfCBzZWVkQnl0ZXNbN10pICYgMHgzZmZmO1xuICAgIH1cbiAgfVxuXG4gIC8vIFVVSUQgdGltZXN0YW1wcyBhcmUgMTAwIG5hbm8tc2Vjb25kIHVuaXRzIHNpbmNlIHRoZSBHcmVnb3JpYW4gZXBvY2gsXG4gIC8vICgxNTgyLTEwLTE1IDAwOjAwKS4gIEpTTnVtYmVycyBhcmVuJ3QgcHJlY2lzZSBlbm91Z2ggZm9yIHRoaXMsIHNvXG4gIC8vIHRpbWUgaXMgaGFuZGxlZCBpbnRlcm5hbGx5IGFzICdtc2VjcycgKGludGVnZXIgbWlsbGlzZWNvbmRzKSBhbmQgJ25zZWNzJ1xuICAvLyAoMTAwLW5hbm9zZWNvbmRzIG9mZnNldCBmcm9tIG1zZWNzKSBzaW5jZSB1bml4IGVwb2NoLCAxOTcwLTAxLTAxIDAwOjAwLlxuICB2YXIgbXNlY3MgPSBvcHRpb25zLm1zZWNzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm1zZWNzIDogbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cbiAgLy8gUGVyIDQuMi4xLjIsIHVzZSBjb3VudCBvZiB1dWlkJ3MgZ2VuZXJhdGVkIGR1cmluZyB0aGUgY3VycmVudCBjbG9ja1xuICAvLyBjeWNsZSB0byBzaW11bGF0ZSBoaWdoZXIgcmVzb2x1dGlvbiBjbG9ja1xuICB2YXIgbnNlY3MgPSBvcHRpb25zLm5zZWNzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm5zZWNzIDogX2xhc3ROU2VjcyArIDE7XG5cbiAgLy8gVGltZSBzaW5jZSBsYXN0IHV1aWQgY3JlYXRpb24gKGluIG1zZWNzKVxuICB2YXIgZHQgPSAobXNlY3MgLSBfbGFzdE1TZWNzKSArIChuc2VjcyAtIF9sYXN0TlNlY3MpLzEwMDAwO1xuXG4gIC8vIFBlciA0LjIuMS4yLCBCdW1wIGNsb2Nrc2VxIG9uIGNsb2NrIHJlZ3Jlc3Npb25cbiAgaWYgKGR0IDwgMCAmJiBvcHRpb25zLmNsb2Nrc2VxID09PSB1bmRlZmluZWQpIHtcbiAgICBjbG9ja3NlcSA9IGNsb2Nrc2VxICsgMSAmIDB4M2ZmZjtcbiAgfVxuXG4gIC8vIFJlc2V0IG5zZWNzIGlmIGNsb2NrIHJlZ3Jlc3NlcyAobmV3IGNsb2Nrc2VxKSBvciB3ZSd2ZSBtb3ZlZCBvbnRvIGEgbmV3XG4gIC8vIHRpbWUgaW50ZXJ2YWxcbiAgaWYgKChkdCA8IDAgfHwgbXNlY3MgPiBfbGFzdE1TZWNzKSAmJiBvcHRpb25zLm5zZWNzID09PSB1bmRlZmluZWQpIHtcbiAgICBuc2VjcyA9IDA7XG4gIH1cblxuICAvLyBQZXIgNC4yLjEuMiBUaHJvdyBlcnJvciBpZiB0b28gbWFueSB1dWlkcyBhcmUgcmVxdWVzdGVkXG4gIGlmIChuc2VjcyA+PSAxMDAwMCkge1xuICAgIHRocm93IG5ldyBFcnJvcigndXVpZC52MSgpOiBDYW5cXCd0IGNyZWF0ZSBtb3JlIHRoYW4gMTBNIHV1aWRzL3NlYycpO1xuICB9XG5cbiAgX2xhc3RNU2VjcyA9IG1zZWNzO1xuICBfbGFzdE5TZWNzID0gbnNlY3M7XG4gIF9jbG9ja3NlcSA9IGNsb2Nrc2VxO1xuXG4gIC8vIFBlciA0LjEuNCAtIENvbnZlcnQgZnJvbSB1bml4IGVwb2NoIHRvIEdyZWdvcmlhbiBlcG9jaFxuICBtc2VjcyArPSAxMjIxOTI5MjgwMDAwMDtcblxuICAvLyBgdGltZV9sb3dgXG4gIHZhciB0bCA9ICgobXNlY3MgJiAweGZmZmZmZmYpICogMTAwMDAgKyBuc2VjcykgJSAweDEwMDAwMDAwMDtcbiAgYltpKytdID0gdGwgPj4+IDI0ICYgMHhmZjtcbiAgYltpKytdID0gdGwgPj4+IDE2ICYgMHhmZjtcbiAgYltpKytdID0gdGwgPj4+IDggJiAweGZmO1xuICBiW2krK10gPSB0bCAmIDB4ZmY7XG5cbiAgLy8gYHRpbWVfbWlkYFxuICB2YXIgdG1oID0gKG1zZWNzIC8gMHgxMDAwMDAwMDAgKiAxMDAwMCkgJiAweGZmZmZmZmY7XG4gIGJbaSsrXSA9IHRtaCA+Pj4gOCAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRtaCAmIDB4ZmY7XG5cbiAgLy8gYHRpbWVfaGlnaF9hbmRfdmVyc2lvbmBcbiAgYltpKytdID0gdG1oID4+PiAyNCAmIDB4ZiB8IDB4MTA7IC8vIGluY2x1ZGUgdmVyc2lvblxuICBiW2krK10gPSB0bWggPj4+IDE2ICYgMHhmZjtcblxuICAvLyBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGAgKFBlciA0LjIuMiAtIGluY2x1ZGUgdmFyaWFudClcbiAgYltpKytdID0gY2xvY2tzZXEgPj4+IDggfCAweDgwO1xuXG4gIC8vIGBjbG9ja19zZXFfbG93YFxuICBiW2krK10gPSBjbG9ja3NlcSAmIDB4ZmY7XG5cbiAgLy8gYG5vZGVgXG4gIGZvciAodmFyIG4gPSAwOyBuIDwgNjsgKytuKSB7XG4gICAgYltpICsgbl0gPSBub2RlW25dO1xuICB9XG5cbiAgcmV0dXJuIGJ1ZiA/IGJ1ZiA6IGJ5dGVzVG9VdWlkKGIpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHYxO1xuIiwidmFyIHJuZyA9IHJlcXVpcmUoJy4vbGliL3JuZycpO1xudmFyIGJ5dGVzVG9VdWlkID0gcmVxdWlyZSgnLi9saWIvYnl0ZXNUb1V1aWQnKTtcblxuZnVuY3Rpb24gdjQob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgdmFyIGkgPSBidWYgJiYgb2Zmc2V0IHx8IDA7XG5cbiAgaWYgKHR5cGVvZihvcHRpb25zKSA9PSAnc3RyaW5nJykge1xuICAgIGJ1ZiA9IG9wdGlvbnMgPT09ICdiaW5hcnknID8gbmV3IEFycmF5KDE2KSA6IG51bGw7XG4gICAgb3B0aW9ucyA9IG51bGw7XG4gIH1cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgdmFyIHJuZHMgPSBvcHRpb25zLnJhbmRvbSB8fCAob3B0aW9ucy5ybmcgfHwgcm5nKSgpO1xuXG4gIC8vIFBlciA0LjQsIHNldCBiaXRzIGZvciB2ZXJzaW9uIGFuZCBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGBcbiAgcm5kc1s2XSA9IChybmRzWzZdICYgMHgwZikgfCAweDQwO1xuICBybmRzWzhdID0gKHJuZHNbOF0gJiAweDNmKSB8IDB4ODA7XG5cbiAgLy8gQ29weSBieXRlcyB0byBidWZmZXIsIGlmIHByb3ZpZGVkXG4gIGlmIChidWYpIHtcbiAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgMTY7ICsraWkpIHtcbiAgICAgIGJ1ZltpICsgaWldID0gcm5kc1tpaV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGJ1ZiB8fCBieXRlc1RvVXVpZChybmRzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB2NDtcbiIsImltcG9ydCB7IEhhc0xvY2F0aW9uIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvaGFzLWxvY2F0aW9uXCI7XHJcbmltcG9ydCB7IE1vdXNlV2hlZWxTY3JvbGwgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9tb3VzZS13aGVlbC1zY3JvbGxcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBNb3VzZSBpbXBsZW1lbnRzIEhhc0xvY2F0aW9uIHtcclxuICAgIHByaXZhdGUgc2NlbmU6IFBoYXNlci5TY2VuZTtcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3Ioc2NlbmU6IFBoYXNlci5TY2VuZSkge1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLnNjZW5lLmlucHV0Lm1vdXNlLmNhcHR1cmUgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEFuZ2xlKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NlbmUuaW5wdXQuYWN0aXZlUG9pbnRlci5nZXRBbmdsZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEhlYWRpbmcoKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgbGV0IHJvdGF0aW9uOiBudW1iZXIgPSB0aGlzLmdldEFuZ2xlKCk7XHJcbiAgICAgICAgbGV0IHg6IG51bWJlciA9IE1hdGguY29zKHJvdGF0aW9uKTtcclxuICAgICAgICBsZXQgeTogbnVtYmVyID0gTWF0aC5zaW4ocm90YXRpb24pO1xyXG4gICAgICAgIHJldHVybiBuZXcgUGhhc2VyLk1hdGguVmVjdG9yMih4LCB5KS5ub3JtYWxpemUoKS5uZWdhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRWZWxvY2l0eSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNjZW5lLmlucHV0LmFjdGl2ZVBvaW50ZXIudmVsb2NpdHkubGVuZ3RoKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiByZXR1cm5zIHRoZSBwb3NpdGlvbiBvZiB0aGUgbW91c2Ugd2l0aGluIHRoZSBib3VuZHMgb2YgdGhlIGN1cnJlbnRcclxuICAgICAqIHNjcmVlbi5cclxuICAgICAqIEByZXR1cm5zIGEge1BoYXNlci5NYXRoLlZlY3RvcjJ9IGNsb25lIG9mIHRoZSBwb3NpdGlvblxyXG4gICAgICovXHJcbiAgICBnZXRMb2NhdGlvbigpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhgbW91c2UgbG9jYXRpb246ICR7SlNPTi5zdHJpbmdpZnkodGhpcy5sb2NhdGlvbil9YCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NlbmUuaW5wdXQuYWN0aXZlUG9pbnRlci5wb3NpdGlvbi5jbG9uZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogb2Zmc2V0cyB0aGUgc2NyZWVuIHBvc2l0aW9uIGJhc2VkIG9uIGNhbWVyYSBwb3NpdGlvblxyXG4gICAgICovXHJcbiAgICBnZXRSZWFsTG9jYXRpb24oKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgbGV0IGxvYzogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuZ2V0TG9jYXRpb24oKTtcclxuICAgICAgICBsZXQgd29ybGQ6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSB0aGlzLnNjZW5lLmNhbWVyYXMubWFpbi5nZXRXb3JsZFBvaW50KGxvYy54LCBsb2MueSk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coYG1vdXNlIFJFQUwgbG9jYXRpb246ICR7SlNPTi5zdHJpbmdpZnkod29ybGQpfWApO1xyXG4gICAgICAgIHJldHVybiB3b3JsZDtcclxuICAgIH1cclxuXHJcbiAgICBvbldoZWVsVXA8VCBleHRlbmRzIE1vdXNlV2hlZWxTY3JvbGw+KGZ1bmM6IFQpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnNjZW5lLmlucHV0Lm9uKFBoYXNlci5JbnB1dC5FdmVudHMuUE9JTlRFUl9XSEVFTCwgKHBvaW50ZXIsIGN1cnJlbnRseU92ZXIsIGR4LCBkeSwgZHosIGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChkeSA+IDApIHtcclxuICAgICAgICAgICAgICAgIGZ1bmMoZHkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgb25XaGVlbERvd248VCBleHRlbmRzIE1vdXNlV2hlZWxTY3JvbGw+KGZ1bmM6IFQpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnNjZW5lLmlucHV0Lm9uKFBoYXNlci5JbnB1dC5FdmVudHMuUE9JTlRFUl9XSEVFTCwgKHBvaW50ZXIsIGN1cnJlbnRseU92ZXIsIGR4LCBkeSwgZHosIGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChkeSA8IDApIHtcclxuICAgICAgICAgICAgICAgIGZ1bmMoLWR5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgU2hpcEF0dGFjaG1lbnQgfSBmcm9tIFwiLi4vc2hpcC1hdHRhY2htZW50XCI7XHJcbmltcG9ydCB7IENhblNob290IH0gZnJvbSBcIi4uLy4uLy4uL2ludGVyZmFjZXMvY2FuLXNob290XCI7XHJcbmltcG9ydCB7IEdsb2JhbHMgfSBmcm9tIFwiLi4vLi4vLi4vdXRpbGl0aWVzL2dsb2JhbHNcIjtcclxuaW1wb3J0IHsgSGVscGVycyB9IGZyb20gXCIuLi8uLi8uLi91dGlsaXRpZXMvaGVscGVyc1wiO1xyXG5pbXBvcnQgeyBCdWxsZXQgfSBmcm9tIFwiLi9idWxsZXRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDYW5ub25BdHRhY2htZW50IGV4dGVuZHMgU2hpcEF0dGFjaG1lbnQgaW1wbGVtZW50cyBDYW5TaG9vdCB7XHJcbiAgICBwcml2YXRlIG1heEFtbW86IG51bWJlcjtcclxuICAgIHByaXZhdGUgcmVtYWluaW5nQW1tbzogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBjb29sZG93blRpbWU6IG51bWJlcjtcclxuICAgIHByaXZhdGUgbGFzdEZpcmVkQXQ6IG51bWJlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZTogUGhhc2VyLlNjZW5lKSB7XHJcbiAgICAgICAgc3VwZXIoc2NlbmUpO1xyXG5cclxuICAgICAgICB0aGlzLm1heEFtbW8gPSA1MDA7XHJcbiAgICAgICAgdGhpcy5yZW1haW5pbmdBbW1vID0gdGhpcy5tYXhBbW1vO1xyXG4gICAgICAgIHRoaXMuY29vbGRvd25UaW1lID0gMTAwMDsgLy8gbWlsbGlzZWNvbmRzXHJcbiAgICAgICAgdGhpcy5sYXN0RmlyZWRBdCA9IDA7IC8vIG5ldmVyXHJcblxyXG4gICAgICAgIHRoaXMuZ2FtZU9iaiA9IHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKDAsIDAsICdjYW5ub24nKTtcclxuICAgIH1cclxuXHJcbiAgICByZWxvYWQoYW1vdW50OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnJlbWFpbmluZ0FtbW8gKz0gYW1vdW50O1xyXG4gICAgICAgIGlmICh0aGlzLnJlbWFpbmluZ0FtbW8gPiB0aGlzLm1heEFtbW8pIHtcclxuICAgICAgICAgICAgdGhpcy5yZW1haW5pbmdBbW1vID0gdGhpcy5tYXhBbW1vO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRSZW1haW5pbmdBbW1vKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVtYWluaW5nQW1tbztcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgdHJpZ2dlcigpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIUdsb2JhbHMucGF1c2VkICYmIHRoaXMuYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZmlyZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmaXJlKGRpcmVjdGlvbj86IFBoYXNlci5NYXRoLlZlY3RvcjIpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIUdsb2JhbHMucGF1c2VkICYmIHRoaXMuYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdldFJlbWFpbmluZ0FtbW8oKSA+IDApIHtcclxuICAgICAgICAgICAgICAgIGlmIChIZWxwZXJzLm5vdygpIC0gdGhpcy5sYXN0RmlyZWRBdCA+IHRoaXMuY29vbGRvd25UaW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IEJ1bGxldCh0aGlzLnNjZW5lLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHg6IHRoaXMuZ2V0UmVhbExvY2F0aW9uKCkueCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeTogdGhpcy5nZXRSZWFsTG9jYXRpb24oKS55LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JjZTogMTAwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYW5nbGU6IHRoaXMuZ2V0QW5nbGUoKVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdEZpcmVkQXQgPSBIZWxwZXJzLm5vdygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgU2hpcFBvZCB9IGZyb20gXCIuLi9zaGlwLXBvZFwiO1xyXG5pbXBvcnQgeyBIYXNHYW1lT2JqZWN0IH0gZnJvbSBcIi4uLy4uL2ludGVyZmFjZXMvaGFzLWdhbWUtb2JqZWN0XCI7XHJcbmltcG9ydCB7IFVwZGF0YWJsZSB9IGZyb20gXCIuLi8uLi9pbnRlcmZhY2VzL3VwZGF0YWJsZVwiO1xyXG5pbXBvcnQgeyBIYXNMb2NhdGlvbiB9IGZyb20gXCIuLi8uLi9pbnRlcmZhY2VzL2hhcy1sb2NhdGlvblwiO1xyXG5pbXBvcnQgeyBIYXNJbnRlZ3JpdHkgfSBmcm9tIFwiLi4vLi4vaW50ZXJmYWNlcy9oYXMtaW50ZWdyaXR5XCI7XHJcbmltcG9ydCB7IENvbnN0YW50cyB9IGZyb20gXCIuLi8uLi91dGlsaXRpZXMvY29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IEF0dGFjaG1lbnRMb2NhdGlvbiB9IGZyb20gXCIuL2F0dGFjaG1lbnQtbG9jYXRpb25cIjtcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBTaGlwQXR0YWNobWVudCBpbXBsZW1lbnRzIFVwZGF0YWJsZSwgSGFzR2FtZU9iamVjdCwgSGFzTG9jYXRpb24sIEhhc0ludGVncml0eSB7XHJcbiAgICBwcm90ZWN0ZWQgc2hpcDogU2hpcFBvZDtcclxuICAgIHByb3RlY3RlZCBzY2VuZTogUGhhc2VyLlNjZW5lO1xyXG4gICAgcHJvdGVjdGVkIGdhbWVPYmo6IFBoYXNlci5QaHlzaWNzLkFyY2FkZS5TcHJpdGU7XHJcbiAgICBwcm90ZWN0ZWQgaW50ZWdyaXR5OiBudW1iZXI7XHJcbiAgICBwcm90ZWN0ZWQgYXR0YWNobWVudExvY2F0aW9uOiBBdHRhY2htZW50TG9jYXRpb247XHJcblxyXG4gICAgYWN0aXZlOiBib29sZWFuO1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZTogUGhhc2VyLlNjZW5lKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmludGVncml0eSA9IENvbnN0YW50cy5NQVhfSU5URUdSSVRZO1xyXG4gICAgfVxyXG5cclxuICAgIGF0dGFjaChzaGlwOiBTaGlwUG9kKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5zaGlwID0gc2hpcDtcclxuICAgICAgICB0aGlzLnNldEF0dGFjaG1lbnRMb2NhdGlvbihBdHRhY2htZW50TG9jYXRpb24uZnJvbnQpOyAvLyBhbHdheXMgYWRkZWQgb24gZnJvbnRcclxuICAgICAgICBsZXQgY2VudHJlOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5zaGlwLmdldFJlYWxMb2NhdGlvbigpO1xyXG4gICAgICAgIHRoaXMuZ2FtZU9iai5zZXRQb3NpdGlvbihjZW50cmUueCwgY2VudHJlLnkpOyAvLyBjZW50cmUgb24gc2hpcCBsb2NhdGlvblxyXG4gICAgICAgIHRoaXMuZ2FtZU9iai5zZXRSb3RhdGlvbih0aGlzLnNoaXAuZ2V0QW5nbGUoKSk7IC8vIHNldCBoZWFkaW5nIHRvIG1hdGNoIHNoaXBcclxuICAgICAgICBsZXQgaGVhZGluZzogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuZ2V0SGVhZGluZygpO1xyXG4gICAgICAgIGhlYWRpbmcubXVsdGlwbHkobmV3IFBoYXNlci5NYXRoLlZlY3RvcjIoMTEsIDApKTsgLy8gb2Zmc2V0IGJ5IC0xMXhcclxuICAgICAgICBsZXQgbG9jOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5nZXRSZWFsTG9jYXRpb24oKTtcclxuICAgICAgICBsb2MuYWRkKGhlYWRpbmcpO1xyXG4gICAgICAgIHRoaXMuZ2FtZU9iai5zZXRQb3NpdGlvbihsb2MueCwgbG9jLnkpO1xyXG4gICAgfVxyXG5cclxuICAgIGRldGFjaCgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnNoaXAgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuYXR0YWNobWVudExvY2F0aW9uID0gbnVsbDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgZ2V0R2FtZU9iamVjdCgpOiBQaGFzZXIuR2FtZU9iamVjdHMuR2FtZU9iamVjdCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZU9iajtcclxuICAgIH1cclxuXHJcbiAgICBhYnN0cmFjdCB1cGRhdGUoKTogdm9pZDtcclxuXHJcbiAgICBhYnN0cmFjdCB0cmlnZ2VyKCk6IHZvaWQ7XHJcblxyXG4gICAgZ2V0QW5nbGUoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nYW1lT2JqLmFuZ2xlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmV0dXJucyBhIG5vcm1hbGlzZWQge1BoYXNlci5NYXRoLlZlY3RvcjJ9IHJlcHJlc2VudGluZyBcclxuICAgICAqIHRoZSBkaXJlY3Rpb24gdGhpcyBvYmplY3Qgd291bGQgdHJhdmVsXHJcbiAgICAgKi9cclxuICAgIGdldEhlYWRpbmcoKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgbGV0IHg6IG51bWJlciA9IE1hdGguY29zKHRoaXMuZ2FtZU9iai5yb3RhdGlvbik7XHJcbiAgICAgICAgbGV0IHk6IG51bWJlciA9IE1hdGguc2luKHRoaXMuZ2FtZU9iai5yb3RhdGlvbik7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKHgsIHkpLm5vcm1hbGl6ZSgpLm5lZ2F0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFZlbG9jaXR5KCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZU9iai5ib2R5LnZlbG9jaXR5Lmxlbmd0aCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldExvY2F0aW9uKCk6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIGxldCBjYW1lcmFQb3M6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSB0aGlzLnNjZW5lLmNhbWVyYXMubWFpbi5nZXRXb3JsZFBvaW50KDAsIDApO1xyXG4gICAgICAgIHJldHVybiBuZXcgUGhhc2VyLk1hdGguVmVjdG9yMih0aGlzLmdhbWVPYmoueCAtIGNhbWVyYVBvcy54LCB0aGlzLmdhbWVPYmoueSAtIGNhbWVyYVBvcy55KTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRSZWFsTG9jYXRpb24oKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKHRoaXMuZ2FtZU9iai54LCB0aGlzLmdhbWVPYmoueSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0SW50ZWdyaXR5KCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW50ZWdyaXR5O1xyXG4gICAgfVxyXG5cclxuICAgIHN1c3RhaW5EYW1hZ2UoYW1vdW50OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmludGVncml0eSAtPSBhbW91bnQ7XHJcbiAgICAgICAgaWYgKHRoaXMuaW50ZWdyaXR5IDw9IDApIHtcclxuICAgICAgICAgICAgdGhpcy5pbnRlZ3JpdHkgPSAwO1xyXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAvLyBUT0RPOiBkZXN0cm95IGF0dGFjaG1lbnRcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVwYWlyKGFtb3VudDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5pbnRlZ3JpdHkgPSBhbW91bnQ7XHJcbiAgICAgICAgaWYgKHRoaXMuaW50ZWdyaXR5ID4gQ29uc3RhbnRzLk1BWF9JTlRFR1JJVFkpIHtcclxuICAgICAgICAgICAgdGhpcy5pbnRlZ3JpdHkgPSBDb25zdGFudHMuTUFYX0lOVEVHUklUWTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc2hpcC5yZW1vdmVBdHRhY2htZW50KHRoaXMuYXR0YWNobWVudExvY2F0aW9uKTtcclxuICAgICAgICAvLyBUT0RPOiBkZXN0cm95IGF0dGFjaG1lbnRcclxuICAgIH1cclxuXHJcbiAgICBzZXRBdHRhY2htZW50TG9jYXRpb24obG9jOiBBdHRhY2htZW50TG9jYXRpb24pOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmF0dGFjaG1lbnRMb2NhdGlvbiA9IGxvYztcclxuICAgIH1cclxufSIsImltcG9ydCB7IEhhc0dhbWVPYmplY3QgfSBmcm9tIFwiLi4vLi4vLi4vaW50ZXJmYWNlcy9oYXMtZ2FtZS1vYmplY3RcIjtcclxuaW1wb3J0IHsgQnVsbGV0UGFyYW1ldGVycyB9IGZyb20gXCIuLi8uLi8uLi9pbnRlcmZhY2VzL2J1bGxldC1wYXJhbWV0ZXJzXCI7XHJcbmltcG9ydCB7IEhhc0xvY2F0aW9uIH0gZnJvbSBcIi4uLy4uLy4uL2ludGVyZmFjZXMvaGFzLWxvY2F0aW9uXCI7XHJcbmltcG9ydCB7IEdsb2JhbHMgfSBmcm9tIFwiLi4vLi4vLi4vdXRpbGl0aWVzL2dsb2JhbHNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBCdWxsZXQgaW1wbGVtZW50cyBIYXNHYW1lT2JqZWN0LCBIYXNMb2NhdGlvbiB7XHJcbiAgICBzY2VuZTogUGhhc2VyLlNjZW5lO1xyXG4gICAgZm9yY2U6IG51bWJlcjtcclxuICAgIGdhbWVPYmo6IFBoYXNlci5QaHlzaWNzLkFyY2FkZS5TcHJpdGU7XHJcbiAgICBhY3RpdmU6IGJvb2xlYW47XHJcblxyXG4gICAgY29uc3RydWN0b3Ioc2NlbmU6IFBoYXNlci5TY2VuZSwgcGFyYW1zOiBCdWxsZXRQYXJhbWV0ZXJzKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuZm9yY2UgPSBwYXJhbXMuZm9yY2UgfHwgMDtcclxuICAgICAgICB0aGlzLmdhbWVPYmogPSBzY2VuZS5waHlzaWNzLmFkZC5zcHJpdGUocGFyYW1zLnggfHwgMCwgcGFyYW1zLnkgfHwgMCwgJ2J1bGxldCcpO1xyXG4gICAgICAgIHRoaXMuZ2FtZU9iai5zZXRBbmdsZShwYXJhbXMuYW5nbGUgfHwgMCk7XHJcbiAgICAgICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuYWRkQ29sbGlzaW9uRGV0ZWN0aW9uKCk7XHJcbiAgICAgICAgdGhpcy5zZXRJbk1vdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYWRkQ29sbGlzaW9uRGV0ZWN0aW9uKCk6IHZvaWQge1xyXG4gICAgICAgIGZvciAodmFyIGk9MDsgaTxHbG9iYWxzLmludGVyYWN0YWJsZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLmdhbWVPYmosIEdsb2JhbHMuaW50ZXJhY3RhYmxlc1tpXSwgdGhpcy5vbkltcGFjdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgb25JbXBhY3QoYnVsbGV0OiBQaGFzZXIuR2FtZU9iamVjdHMuR2FtZU9iamVjdCwgY29sbGlkZXI6IFBoYXNlci5HYW1lT2JqZWN0cy5HYW1lT2JqZWN0KTogdm9pZCB7XHJcbiAgICAgICAgLy8gVE9ETzogaW1wYXJ0IGRhbWFnZSB0byBjb2xsaWRlciBhbmQgZGVzdHJveSBidWxsZXRcclxuICAgIH1cclxuXHJcbiAgICBnZXRHYW1lT2JqZWN0KCk6IFBoYXNlci5HYW1lT2JqZWN0cy5HYW1lT2JqZWN0IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nYW1lT2JqO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEFuZ2xlKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZU9iai5hbmdsZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRIZWFkaW5nKCk6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIGxldCB4OiBudW1iZXIgPSBNYXRoLmNvcyh0aGlzLmdhbWVPYmoucm90YXRpb24pO1xyXG4gICAgICAgIGxldCB5OiBudW1iZXIgPSBNYXRoLnNpbih0aGlzLmdhbWVPYmoucm90YXRpb24pO1xyXG4gICAgICAgIHJldHVybiBuZXcgUGhhc2VyLk1hdGguVmVjdG9yMih4LCB5KS5ub3JtYWxpemUoKS5uZWdhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRWZWxvY2l0eSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdhbWVPYmouYm9keS52ZWxvY2l0eS5sZW5ndGgoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRMb2NhdGlvbigpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICBsZXQgY2FtZXJhUG9zOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5zY2VuZS5jYW1lcmFzLm1haW4uZ2V0V29ybGRQb2ludCgwLCAwKTtcclxuICAgICAgICByZXR1cm4gbmV3IFBoYXNlci5NYXRoLlZlY3RvcjIodGhpcy5nYW1lT2JqLnggLSBjYW1lcmFQb3MueCwgdGhpcy5nYW1lT2JqLnkgLSBjYW1lcmFQb3MueSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UmVhbExvY2F0aW9uKCk6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIHJldHVybiBuZXcgUGhhc2VyLk1hdGguVmVjdG9yMih0aGlzLmdhbWVPYmoueCwgdGhpcy5nYW1lT2JqLnkpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0SW5Nb3Rpb24oKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IGhlYWRpbmc6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSB0aGlzLmdldEhlYWRpbmcoKTtcclxuICAgICAgICBsZXQgZGVsdGFWOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gaGVhZGluZy5tdWx0aXBseShuZXcgUGhhc2VyLk1hdGguVmVjdG9yMih0aGlzLmZvcmNlLCB0aGlzLmZvcmNlKSk7XHJcbiAgICAgICAgdGhpcy5nYW1lT2JqLmJvZHkudmVsb2NpdHkuYWRkKGRlbHRhVik7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBHbG9iYWxzIH0gZnJvbSBcIi4uL3V0aWxpdGllcy9nbG9iYWxzXCI7XHJcbmltcG9ydCB7IFNoaXBQb2QgfSBmcm9tIFwiLi4vc2hpcHMvc2hpcC1wb2RcIjtcclxuXHJcbmNvbnN0IHNjZW5lQ29uZmlnOiBQaGFzZXIuVHlwZXMuU2NlbmVzLlNldHRpbmdzQ29uZmlnID0ge1xyXG4gICAgYWN0aXZlOiB0cnVlLFxyXG4gICAgdmlzaWJsZTogdHJ1ZSxcclxuICAgIGtleTogJ092ZXJsYXlTY2VuZSdcclxufTtcclxuXHJcbmV4cG9ydCBjbGFzcyBPdmVybGF5U2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgcHJpdmF0ZSBkZWJ1ZzogUGhhc2VyLkdhbWVPYmplY3RzLlRleHQ7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoc2NlbmVDb25maWcpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwcmVsb2FkKCk6IHZvaWQge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZGVidWcgPSB0aGlzLmFkZC50ZXh0KDEwLCAxMCwgJycsIHsgZm9udDogJzE2cHggQ291cmllcicsIGZpbGw6ICcjZmZkZGRkJyB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICghR2xvYmFscy5wYXVzZWQpIHtcclxuICAgICAgICAgICAgaWYgKEdsb2JhbHMucGxheWVyKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcDogU2hpcFBvZCA9IEdsb2JhbHMucGxheWVyO1xyXG4gICAgICAgICAgICAgICAgbGV0IGxvYzogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHAuZ2V0UmVhbExvY2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRlYnVnLnNldFRleHQoW1xyXG4gICAgICAgICAgICAgICAgICAgIGBWZWxvY2l0eTogJHtwLmdldFZlbG9jaXR5KCkudG9GaXhlZCgxKX1gLFxyXG4gICAgICAgICAgICAgICAgICAgIGBJbnRlZ3JpdHk6ICR7cC5nZXRJbnRlZ3JpdHkoKS50b0ZpeGVkKDEpfWAsXHJcbiAgICAgICAgICAgICAgICAgICAgYEhlYXQ6ICR7cC5nZXRUZW1wZXJhdHVyZSgpLnRvRml4ZWQoMSl9YCxcclxuICAgICAgICAgICAgICAgICAgICBgRnVlbDogJHtwLmdldFJlbWFpbmluZ0Z1ZWwoKS50b0ZpeGVkKDEpfWAsXHJcbiAgICAgICAgICAgICAgICAgICAgYExvY2F0aW9uOiAke2xvYy54LnRvRml4ZWQoMSl9LCR7bG9jLnkudG9GaXhlZCgxKX1gXHJcbiAgICAgICAgICAgICAgICBdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJzb3VyY2VSb290IjoiIn0=