!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("phaser")):"function"==typeof define&&define.amd?define(["phaser"],e):"object"==typeof exports?exports.bundle=e(require("phaser")):t.bundle=e(t.phaser)}(window,(function(t){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=7)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.interactables=[]}(e.Globals||(e.Globals={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.enumLength=function(t){var e=0;for(var n in t)isNaN(Number(n))&&e++;return e},t.now=function(){return(new Date).getTime()},t.getHeading=function(t){if(t){var e=Math.cos(Phaser.Math.DegToRad(t.rotation)),n=Math.sin(Phaser.Math.DegToRad(t.rotation));return new Phaser.Math.Vector2(e,n).normalize().negate()}return Phaser.Math.Vector2.ZERO},t.offsetWithHeading=function(e,n){var o=t.getHeading(e);o.multiply(n),e.position.add(o)}}(e.Helpers||(e.Helpers={}))},function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var o=new Uint8Array(16);t.exports=function(){return n(o),o}}else{var i=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),i[e]=t>>>((3&e)<<3)&255;return i}}},function(t,e){for(var n=[],o=0;o<256;++o)n[o]=(o+256).toString(16).substr(1);t.exports=function(t,e){var o=e||0,i=n;return[i[t[o++]],i[t[o++]],i[t[o++]],i[t[o++]],"-",i[t[o++]],i[t[o++]],"-",i[t[o++]],i[t[o++]],"-",i[t[o++]],i[t[o++]],"-",i[t[o++]],i[t[o++]],i[t[o++]],i[t[o++]],i[t[o++]],i[t[o++]]].join("")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.MAX_INTEGRITY=100,t.MAX_FUEL=100,t.MAX_SAFE_TEMPERATURE=100,t.MAX_TEMPERATURE=200,t.MAX_VELOCITY=500,t.OVERHEAT_CHECK_INTERVAL=100,t.COOLING_RATE=.3,t.THRUSTER_FORCE=1,t.FUEL_PER_THRUST=.001,t.HEAT_PER_THRUST=.1,t.BOOSTER_FORCE=300,t.FUEL_PER_BOOST=1,t.HEAT_PER_BOOST=25,t.BOOSTER_COOLDOWN_TIME=1e3,t.THROW_FORCE=100,function(t){t[t.blue=0]="blue",t[t.green=1]="green",t[t.red=2]="red",t[t.white=3]="white",t[t.yellow=4]="yellow"}(t.Flare||(t.Flare={}))}(e.Constants||(e.Constants={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.front=0]="front",t[t.frontRight=1]="frontRight",t[t.right=2]="right",t[t.backRight=3]="backRight",t[t.backLeft=4]="backLeft",t[t.left=5]="left",t[t.frontLeft=6]="frontLeft"}(e.AttachmentLocation||(e.AttachmentLocation={}))},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(18),s=function(t){function e(e,n){var o=t.call(this,n)||this;return o.increment=e,o.minZoom=1-2*e,o.maxZoom=1,o}return i(e,t),e.prototype.create=function(){var t=this;this.mouse=new a.Mouse(this),this.mouse.onWheelUp((function(e){var n=t.cameras.main.zoom-t.increment;n<t.minZoom&&(n=t.minZoom),t.cameras.main.zoomTo(n)})),this.mouse.onWheelDown((function(e){var n=t.cameras.main.zoom+t.increment;n>t.maxZoom&&(n=t.maxZoom),t.cameras.main.zoomTo(n)}))},e}(Phaser.Scene);e.ZoomableScene=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(8),i=n(0),a=n(19),s=n(20),r=n(21),c={type:Phaser.AUTO,scale:{width:window.innerWidth,height:window.innerHeight},backgroundColor:"#000000",parent:"space-sim",physics:{default:"arcade",arcade:{gravity:{x:0,y:0}}},scene:[s.FarStarsScene,r.SystemScene,o.ShipScene,a.OverlayScene]};e.game=new Phaser.Game(c),window.addEventListener("resize",(function(){e.game.scale.refresh()})),i.Globals.game=e.game},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(9),s=n(0),r=n(15),c=n(6),h={active:!0,visible:!0,key:"ShipScene"},u=function(t){function e(){return t.call(this,.4,h)||this}return i(e,t),e.prototype.preload=function(){this.load.image("ship-pod","./assets/sprites/ship-pod.png"),this.load.image("cannon","./assets/sprites/cannon.png"),this.load.spritesheet("flares","./assets/particles/flares.png",{frameWidth:130,frameHeight:132,startFrame:0,endFrame:4}),this.load.image("explosion","./assets/particles/explosion.png"),this.load.image("bullet","./assets/sprites/bullet.png")},e.prototype.create=function(){t.prototype.create.call(this),this.player=new a.ShipPod(this),s.Globals.player=this.player,this.player.setTarget(this.mouse);var e=new r.CannonAttachment(this);this.player.addAttachment(e),this.setupCamera(this.player),this.game.canvas.oncontextmenu=function(t){t.preventDefault()}},e.prototype.update=function(){this.player.update()},e.prototype.setupCamera=function(t){this.cameras.main.backgroundColor.setFromRGB({r:0,g:0,b:0}),this.cameras.main.setZoom(1),this.cameras.main.centerOn(0,0);var e=this.cameras.main.width,n=this.cameras.main.height,o=Math.floor(e/2),i=Math.floor(n/2),a=Math.floor(o/2),s=Math.floor(i/2);this.cameras.main.startFollow(t.getGameObject(),!0),this.cameras.main.deadzone=new Phaser.Geom.Rectangle(a,s,o,i)},e}(c.ZoomableScene);e.ShipScene=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(10);var o=n(11),i=n(4),a=n(1),s=n(5),r=function(){function t(t){this.remainingFuel=100,this.temperature=0,this.active=!0,this.lastOverheatCheck=0,this.lastBoostTime=0,this.id=o.RNG.guid(),this.scene=t,this.gameObj=t.add.container(0,0),this.scene.physics.add.existing(this.gameObj),this.getPhysicsBody().bounce.setTo(.7,.7),this.getPhysicsBody().setMaxVelocity(i.Constants.MAX_VELOCITY,i.Constants.MAX_VELOCITY),this.thrusterParticles=t.add.particles("flares",i.Constants.Flare.yellow),this.explosionParticles=t.add.particles("explosion");var e=t.add.sprite(0,0,"ship-pod");this.gameObj.add(e),this.integrity=i.Constants.MAX_INTEGRITY,this.attachments=new Array(a.Helpers.enumLength(s.AttachmentLocation)),this.setupInputHandlers()}return t.prototype.update=function(){this.active&&(this.lookAtTarget(),this.thrustKey.isDown&&this.thrustFowards(),this.boostKey.isDown&&this.boostForwards(),this.scene.input.activePointer.leftButtonDown()&&this.attachments[0]&&this.attachments[0].trigger(),this.scene.input.activePointer.rightButtonDown()&&this.attachments[0]&&this.throwAttachment(this.attachments[0]),this.checkOverheatCondition(),this.rotateAttachmentsClockwiseKey.isDown&&this.rotateAttachmentsClockwise(),this.rotateAttachmentsAntiClockwiseKey.isDown&&this.rotateAttachmentsAntiClockwise(),this.detachAttachmentKey.isDown&&this.removeAttachment(s.AttachmentLocation.front),this.updateAttachments())},t.prototype.updateAttachments=function(){for(var t=0;t<this.attachments.length;t++){var e=this.attachments[t];e&&e.update()}},t.prototype.setupInputHandlers=function(){this.thrustKey=this.scene.input.keyboard.addKey("SPACE",!0,!0),this.boostKey=this.scene.input.keyboard.addKey("TAB",!0,!1),this.rotateAttachmentsClockwiseKey=this.scene.input.keyboard.addKey("E",!0,!1),this.rotateAttachmentsAntiClockwiseKey=this.scene.input.keyboard.addKey("Q",!0,!1),this.detachAttachmentKey=this.scene.input.keyboard.addKey("X",!0,!1)},t.prototype.checkOverheatCondition=function(){if(this.active&&this.scene.game.getTime()>this.lastOverheatCheck+i.Constants.OVERHEAT_CHECK_INTERVAL){if(this.temperature>i.Constants.MAX_TEMPERATURE&&this.destroy(),this.temperature>i.Constants.MAX_SAFE_TEMPERATURE){var t=(this.temperature-i.Constants.MAX_SAFE_TEMPERATURE)/i.Constants.MAX_SAFE_TEMPERATURE;this.sustainDamage(t)}this.applyCooling(i.Constants.COOLING_RATE),this.lastOverheatCheck=this.scene.game.getTime()}},t.prototype.getRealLocation=function(){return this.getGameObject()?new Phaser.Math.Vector2(this.gameObj.x,this.gameObj.y):Phaser.Math.Vector2.ZERO},t.prototype.getLocation=function(){if(this.getGameObject()){var t=this.scene.cameras.main.getWorldPoint(0,0);return new Phaser.Math.Vector2(this.gameObj.x-t.x,this.gameObj.y-t.y)}return Phaser.Math.Vector2.ZERO},t.prototype.getId=function(){return this.id},t.prototype.getGameObject=function(){return this.gameObj},t.prototype.getPhysicsBody=function(){return this.getGameObject()?this.getGameObject().body:null},t.prototype.setTarget=function(t){this.target=t},t.prototype.getTarget=function(){return this.target},t.prototype.lookAtTarget=function(){if(this.getPhysicsBody()&&this.getTarget()){var t=this.getTarget().getRealLocation(),e=this.getRealLocation(),n=Phaser.Math.Angle.Between(t.x,t.y,e.x,e.y),o=Phaser.Math.RadToDeg(n);this.getPhysicsBody().rotation=o}},t.prototype.getRotation=function(){return this.getPhysicsBody()?this.getPhysicsBody().rotation:0},t.prototype.getHeading=function(){return a.Helpers.getHeading(this.getPhysicsBody())},t.prototype.getSpeed=function(){return this.getVelocity().length()},t.prototype.getVelocity=function(){return this.getPhysicsBody()?this.getPhysicsBody().velocity.clone():Phaser.Math.Vector2.ZERO},t.prototype.thrustFowards=function(){this.applyThrust(i.Constants.THRUSTER_FORCE,i.Constants.FUEL_PER_THRUST,i.Constants.HEAT_PER_THRUST),this.displayThrusterFire(i.Constants.Flare.yellow,.2,1)},t.prototype.boostForwards=function(){a.Helpers.now()-this.lastBoostTime>=i.Constants.BOOSTER_COOLDOWN_TIME&&(this.applyThrust(i.Constants.BOOSTER_FORCE,i.Constants.FUEL_PER_BOOST,i.Constants.HEAT_PER_BOOST),this.displayThrusterFire(i.Constants.Flare.blue,1,10),this.lastBoostTime=a.Helpers.now())},t.prototype.applyThrust=function(t,e,n){if(this.getRemainingFuel()>0){var o=this.getHeading().multiply(new Phaser.Math.Vector2(t,t));this.getPhysicsBody().velocity.add(o),this.reduceFuel(e),this.applyHeating(n)}},t.prototype.displayThrusterFire=function(t,e,n){var o=this.getRealLocation(),i=new Phaser.Math.Vector2(20,0).add(o),a=this.getHeading().negate(),s=Phaser.Math.RotateAround(i,o.x,o.y,Phaser.Math.DegToRad(this.getRotation()));this.getVelocity();this.thrusterParticles.createEmitter({frame:t,x:s.x,y:s.y,lifespan:{min:250,max:500},speedX:{min:100*a.x,max:500*a.x},speedY:{min:100*a.y,max:500*a.y},angle:0,gravityX:0,gravityY:0,scale:{start:e,end:0},quantity:n,blendMode:"ADD",maxParticles:10})},t.prototype.strafeLeft=function(){},t.prototype.strafeRight=function(){},t.prototype.thrustBackwards=function(){},t.prototype.getTemperature=function(){return this.temperature},t.prototype.applyHeating=function(t){this.temperature+=t},t.prototype.applyCooling=function(t){this.temperature-=t,this.temperature<0&&(this.temperature=0)},t.prototype.reduceFuel=function(t){this.remainingFuel-=t,this.remainingFuel<0&&(this.remainingFuel=0)},t.prototype.addFuel=function(t){this.remainingFuel+=t,this.remainingFuel>i.Constants.MAX_FUEL&&(this.remainingFuel=i.Constants.MAX_FUEL)},t.prototype.getRemainingFuel=function(){return this.remainingFuel},t.prototype.getIntegrity=function(){return this.integrity},t.prototype.sustainDamage=function(t){this.integrity-=t,this.integrity<=0&&(this.integrity=0,this.destroy())},t.prototype.repair=function(t){this.integrity=t,this.integrity>i.Constants.MAX_INTEGRITY&&(this.integrity=i.Constants.MAX_INTEGRITY)},t.prototype.rotateAttachmentsClockwise=function(){var t=this.attachments.pop();this.attachments.unshift(t),this.updateAttachmentPositions()},t.prototype.rotateAttachmentsAntiClockwise=function(){var t=this.attachments.shift();this.attachments.push(t),this.updateAttachmentPositions()},t.prototype.updateAttachmentPositions=function(){for(var t=0;t<this.attachments.length;t++)if(this.attachments[t])switch(t){case s.AttachmentLocation.front:this.attachments[t].setAttachmentLocation(s.AttachmentLocation.front);break;case s.AttachmentLocation.frontRight:this.attachments[t].setAttachmentLocation(s.AttachmentLocation.frontRight);break;case s.AttachmentLocation.right:this.attachments[t].setAttachmentLocation(s.AttachmentLocation.right);break;case s.AttachmentLocation.backRight:this.attachments[t].setAttachmentLocation(s.AttachmentLocation.backRight);break;case s.AttachmentLocation.backLeft:this.attachments[t].setAttachmentLocation(s.AttachmentLocation.backLeft);break;case s.AttachmentLocation.left:this.attachments[t].setAttachmentLocation(s.AttachmentLocation.left);break;case s.AttachmentLocation.frontLeft:this.attachments[t].setAttachmentLocation(s.AttachmentLocation.frontLeft)}},t.prototype.addAttachment=function(t){for(var e=!1,n=0;n<a.Helpers.enumLength(s.AttachmentLocation);n++)if(!this.attachments[n]){var o=void 0;switch(n){case s.AttachmentLocation.front:o=s.AttachmentLocation.front;break;case s.AttachmentLocation.frontRight:o=s.AttachmentLocation.frontRight;break;case s.AttachmentLocation.right:o=s.AttachmentLocation.right;break;case s.AttachmentLocation.backRight:o=s.AttachmentLocation.backRight;break;case s.AttachmentLocation.backLeft:o=s.AttachmentLocation.backLeft;break;case s.AttachmentLocation.left:o=s.AttachmentLocation.left;break;case s.AttachmentLocation.frontLeft:o=s.AttachmentLocation.frontLeft}this.attachments[n]=t,t.attach(this,o),e=!0}e||(this.attachments[s.AttachmentLocation.front].detach(),this.attachments[s.AttachmentLocation.front]=t,t.attach(this,s.AttachmentLocation.front)),this.gameObj.add(t.getGameObject())},t.prototype.removeAttachment=function(t){if(this.attachments[t]){var e=this.attachments[t].getPhysicsBody(),n=this.attachments[t].getGameObject();this.gameObj.remove(n,!1),this.attachments[t].detach(),this.attachments[t]=null,e.position=this.getRealLocation();var o=this.getPhysicsBody().velocity;e.setVelocity(o.x,o.y),e.rotation=this.getRotation()}},t.prototype.throwAttachment=function(t){if(t)for(var e=0;e<this.attachments.length;e++)if(this.attachments[e]&&this.attachments[e]==t){this.removeAttachment(e),t.throw();break}},t.prototype.getAttachments=function(){return this.attachments},t.prototype.destroy=function(){this.active=!1,this.displayShipExplosion(),this.getGameObject().destroy(),this.gameObj=null},t.prototype.displayShipExplosion=function(){var t=this.getRealLocation();this.explosionParticles.createEmitter({x:t.x,y:t.y,lifespan:{min:500,max:1e3},speedX:{min:-1,max:1},speedY:{min:-1,max:1},angle:{min:-180,max:179},gravityX:0,gravityY:0,scale:{start:1,end:0},blendMode:"ADD",maxParticles:3}),this.thrusterParticles.createEmitter({frame:i.Constants.Flare.red,x:t.x,y:t.y,lifespan:{min:100,max:500},speedX:{min:-600,max:600},speedY:{min:-600,max:600},angle:{min:-180,max:179},gravityX:0,gravityY:0,scale:{start:1,end:0},blendMode:"ADD",maxParticles:10})},t}();e.ShipPod=r},function(e,n){e.exports=t},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(12);!function(t){t.int=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},t.guid=function(){return o.v4()}}(e.RNG||(e.RNG={}))},function(t,e,n){var o=n(13),i=n(14),a=i;a.v1=o,a.v4=i,t.exports=a},function(t,e,n){var o,i,a=n(2),s=n(3),r=0,c=0;t.exports=function(t,e,n){var h=e&&n||0,u=e||[],p=(t=t||{}).node||o,l=void 0!==t.clockseq?t.clockseq:i;if(null==p||null==l){var y=a();null==p&&(p=o=[1|y[0],y[1],y[2],y[3],y[4],y[5]]),null==l&&(l=i=16383&(y[6]<<8|y[7]))}var m=void 0!==t.msecs?t.msecs:(new Date).getTime(),f=void 0!==t.nsecs?t.nsecs:c+1,g=m-r+(f-c)/1e4;if(g<0&&void 0===t.clockseq&&(l=l+1&16383),(g<0||m>r)&&void 0===t.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");r=m,c=f,i=l;var d=(1e4*(268435455&(m+=122192928e5))+f)%4294967296;u[h++]=d>>>24&255,u[h++]=d>>>16&255,u[h++]=d>>>8&255,u[h++]=255&d;var v=m/4294967296*1e4&268435455;u[h++]=v>>>8&255,u[h++]=255&v,u[h++]=v>>>24&15|16,u[h++]=v>>>16&255,u[h++]=l>>>8|128,u[h++]=255&l;for(var b=0;b<6;++b)u[h+b]=p[b];return e||s(u)}},function(t,e,n){var o=n(2),i=n(3);t.exports=function(t,e,n){var a=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var s=(t=t||{}).random||(t.rng||o)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e)for(var r=0;r<16;++r)e[a+r]=s[r];return e||i(s)}},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(16),s=n(17),r=function(t){function e(e){var n=t.call(this,e)||this;return n.maxAmmo=500,n.remainingAmmo=n.maxAmmo,n.cooldownTime=0,n.firingDelay=1e3,n.gameObj=n.scene.physics.add.sprite(0,0,"cannon"),n}return i(e,t),e.prototype.reload=function(t){this.remainingAmmo+=t,this.remainingAmmo>this.maxAmmo&&(this.remainingAmmo=this.maxAmmo)},e.prototype.getRemainingAmmo=function(){return this.remainingAmmo},e.prototype.update=function(){},e.prototype.trigger=function(){this.active&&this.fire()},e.prototype.fire=function(t){if(this.active&&this.getRemainingAmmo()>0&&this.scene.game.getTime()>this.cooldownTime){var e=this.getRealLocation();new s.Bullet(this.scene,{x:e.x,y:e.y,force:3e3,angle:this.getRotation()}),this.cooldownTime=this.scene.game.getTime()+this.firingDelay}},e}(a.ShipAttachment);e.CannonAttachment=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(4),i=n(5),a=n(1),s=function(){function t(t){this.scene=t,this.active=!0,this.integrity=o.Constants.MAX_INTEGRITY,this.isThrown=!1}return t.prototype.attach=function(t,e){e||(e=i.AttachmentLocation.front),this.ship=t,this.setAttachmentLocation(e);var n=this.ship.getRealLocation();this.getPhysicsBody().position=n,this.getPhysicsBody().rotation=this.ship.getRotation()},t.prototype.detach=function(){this.ship=null,this.attachmentLocation=null;var t=this.getGameObject();t.setActive(!0),this.scene.add.existing(t)},t.prototype.throw=function(){this.isThrown=!0;var t=this.getHeading();t.multiply(new Phaser.Math.Vector2(o.Constants.THROW_FORCE,o.Constants.THROW_FORCE)),this.ship&&t.add(this.ship.getPhysicsBody().velocity),this.getPhysicsBody().velocity.add(t)},t.prototype.getGameObject=function(){return this.gameObj},t.prototype.getPhysicsBody=function(){return this.getGameObject()?this.getGameObject().body:null},t.prototype.getRotation=function(){var t=this.gameObj.rotation;return this.ship&&(t+=this.ship.getRotation()),t},t.prototype.getHeading=function(){var t=a.Helpers.getHeading(this.getPhysicsBody());return this.ship&&t.add(this.ship.getHeading()),t},t.prototype.getSpeed=function(){var t=this.getVelocity().length();return this.ship&&(t+=this.ship.getSpeed()),t},t.prototype.getVelocity=function(){if(this.getPhysicsBody()){var t=this.getPhysicsBody().velocity.clone();return this.ship&&t.add(this.ship.getVelocity()),t}return Phaser.Math.Vector2.ZERO},t.prototype.getLocation=function(){var t=this.scene.cameras.main.getWorldPoint(0,0),e=this.getRealLocation();return new Phaser.Math.Vector2(e.x-t.x,e.y-t.y)},t.prototype.getRealLocation=function(){var t=this.getPhysicsBody(),e=new Phaser.Math.Vector2(t.x,t.y);return this.ship&&e.add(this.ship.getRealLocation()),e},t.prototype.getIntegrity=function(){return this.integrity},t.prototype.sustainDamage=function(t){this.integrity-=t,this.integrity<=0&&(this.integrity=0,this.active=!1)},t.prototype.repair=function(t){this.integrity=t,this.integrity>o.Constants.MAX_INTEGRITY&&(this.integrity=o.Constants.MAX_INTEGRITY)},t.prototype.destroy=function(){this.active=!1,this.ship.removeAttachment(this.attachmentLocation)},t.prototype.setAttachmentLocation=function(t){this.attachmentLocation=t},t}();e.ShipAttachment=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(1),a=function(){function t(t,e){this.scene=t,this.force=e.force||0,this.gameObj=t.physics.add.sprite(e.x||0,e.y||0,"bullet"),this.gameObj.setAngle(e.angle||0),this.active=!0,this.addCollisionDetection(),this.setInMotion()}return t.prototype.addCollisionDetection=function(){for(var t=0;t<o.Globals.interactables.length;t++)this.scene.physics.add.collider(this.gameObj,o.Globals.interactables[t],this.onImpact)},t.prototype.onImpact=function(t,e){},t.prototype.getGameObject=function(){return this.gameObj},t.prototype.getPhysicsBody=function(){if(this.getGameObject())return this.getGameObject().body},t.prototype.getAngle=function(){return this.gameObj.angle},t.prototype.getRotation=function(){return this.gameObj.rotation},t.prototype.getHeading=function(){return i.Helpers.getHeading(this.getPhysicsBody())},t.prototype.getSpeed=function(){return this.getVelocity().length()},t.prototype.getVelocity=function(){return this.getPhysicsBody()?this.getPhysicsBody().velocity.clone():Phaser.Math.Vector2.ZERO},t.prototype.getLocation=function(){var t=this.scene.cameras.main.getWorldPoint(0,0),e=this.getPhysicsBody();return new Phaser.Math.Vector2(e.x-t.x,e.y-t.y)},t.prototype.getRealLocation=function(){return new Phaser.Math.Vector2(this.gameObj.x,this.gameObj.y)},t.prototype.setInMotion=function(){var t=this.getHeading().multiply(new Phaser.Math.Vector2(this.force,this.force));this.gameObj.body.velocity.add(t)},t}();e.Bullet=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.scene=t,this.scene.input.mouse.capture=!0}return t.prototype.getAngle=function(){return this.scene.input.activePointer.getAngle()},t.prototype.getRotation=function(){return this.getAngle()*(Math.PI/180)},t.prototype.getHeading=function(){var t=this.getAngle(),e=Math.cos(t),n=Math.sin(t);return new Phaser.Math.Vector2(e,n).normalize().negate()},t.prototype.getSpeed=function(){return this.getVelocity().length()},t.prototype.getVelocity=function(){return this.scene.input.activePointer.velocity.clone()},t.prototype.getLocation=function(){return this.scene.input.activePointer.position.clone()},t.prototype.getRealLocation=function(){return this.scene.input.activePointer.positionToCamera(this.scene.cameras.main)},t.prototype.onWheelUp=function(t){this.scene.input.on(Phaser.Input.Events.POINTER_WHEEL,(function(e,n,o,i,a,s){i>0&&t(i)}))},t.prototype.onWheelDown=function(t){this.scene.input.on(Phaser.Input.Events.POINTER_WHEEL,(function(e,n,o,i,a,s){i<0&&t(-i)}))},t}();e.Mouse=o},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),s={active:!0,visible:!0,key:"OverlayScene"},r=function(t){function e(){return t.call(this,s)||this}return i(e,t),e.prototype.preload=function(){},e.prototype.create=function(){this.debug=this.add.text(10,10,"",{font:"16px Courier",fill:"#ffdddd"})},e.prototype.update=function(){if(a.Globals.player){var t=a.Globals.player,e=t.getRealLocation();this.debug.setText(["Velocity: "+t.getSpeed().toFixed(1),"Integrity: "+t.getIntegrity().toFixed(1),"Heat: "+t.getTemperature().toFixed(1),"Fuel: "+t.getRemainingFuel().toFixed(1),"Location: "+e.x.toFixed(1)+","+e.y.toFixed(1),"Angle: "+t.getRotation().toFixed(1)])}},e}(Phaser.Scene);e.OverlayScene=r},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a={active:!0,visible:!0,key:"FarStars"},s=function(t){function e(){return t.call(this,a)||this}return i(e,t),e.prototype.preload=function(){this.load.image("far-stars","./assets/backgrounds/starfield-tile-512x512.png")},e.prototype.create=function(){var t=Math.ceil(this.game.canvas.width/2),e=Math.ceil(this.game.canvas.height/2);this.add.tileSprite(t,e,this.game.canvas.width+10,this.game.canvas.height+10,"far-stars")},e.prototype.update=function(){},e}(Phaser.Scene);e.FarStarsScene=s},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(6),s=n(0),r={active:!0,visible:!0,key:"SystemScene"},c=function(t){function e(){return t.call(this,.05,r)||this}return i(e,t),e.prototype.preload=function(){this.load.image("sun","./assets/backgrounds/sun.png")},e.prototype.create=function(){t.prototype.create.call(this),this.startPosition=new Phaser.Math.Vector2(Phaser.Math.RND.between(0,this.game.canvas.width),Phaser.Math.RND.between(0,this.game.canvas.height)),this.sun=this.add.sprite(this.startPosition.x,this.startPosition.y,"sun")},e.prototype.update=function(){if(this.sun.angle+=.01,this.sun.angle>=360&&(this.sun.angle=0),s.Globals.player){var t=s.Globals.player.getRealLocation();t.divide(new Phaser.Math.Vector2(500,500)),t.negate(),this.sun.x=this.startPosition.x+t.x,this.sun.y=this.startPosition.y+t.y}},e}(a.ZoomableScene);e.SystemScene=c}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idW5kbGUvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL2J1bmRsZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvdXRpbGl0aWVzL2dsb2JhbHMudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3V0aWxpdGllcy9oZWxwZXJzLnRzIiwid2VicGFjazovL2J1bmRsZS8uL25vZGVfbW9kdWxlcy91dWlkL2xpYi9ybmctYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly9idW5kbGUvLi9ub2RlX21vZHVsZXMvdXVpZC9saWIvYnl0ZXNUb1V1aWQuanMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3V0aWxpdGllcy9jb25zdGFudHMudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NoaXBzL2F0dGFjaG1lbnRzL2F0dGFjaG1lbnQtbG9jYXRpb24udHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NjZW5lcy96b29tYWJsZS1zY2VuZS50cyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvZ2FtZS50cyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvc2NlbmVzL3NoaXAtc2NlbmUudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NoaXBzL3NoaXAtcG9kLnRzIiwid2VicGFjazovL2J1bmRsZS9leHRlcm5hbCBcInBoYXNlclwiIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy91dGlsaXRpZXMvcm5nLnRzIiwid2VicGFjazovL2J1bmRsZS8uL25vZGVfbW9kdWxlcy91dWlkL2luZGV4LmpzIiwid2VicGFjazovL2J1bmRsZS8uL25vZGVfbW9kdWxlcy91dWlkL3YxLmpzIiwid2VicGFjazovL2J1bmRsZS8uL25vZGVfbW9kdWxlcy91dWlkL3Y0LmpzIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy9zaGlwcy9hdHRhY2htZW50cy9vZmZlbmNlL2Nhbm5vbi1hdHRhY2htZW50LnRzIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy9zaGlwcy9hdHRhY2htZW50cy9zaGlwLWF0dGFjaG1lbnQudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NoaXBzL2F0dGFjaG1lbnRzL29mZmVuY2UvYnVsbGV0LnRzIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy91dGlsaXRpZXMvbW91c2UudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NjZW5lcy9vdmVybGF5LXNjZW5lLnRzIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy9zY2VuZXMvZmFyLXN0YXJzLXNjZW5lLnRzIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy9zY2VuZXMvc3lzdGVtLXNjZW5lLnRzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsInJlcXVpcmUiLCJkZWZpbmUiLCJhbWQiLCJ3aW5kb3ciLCJfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX18xMF9fIiwiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkdsb2JhbHMiLCJpbnRlcmFjdGFibGVzIiwiSGVscGVycyIsImVudW1MZW5ndGgiLCJlbnVtVHlwZSIsImNvdW50IiwiaXRlbSIsImlzTmFOIiwiTnVtYmVyIiwibm93IiwiRGF0ZSIsImdldFRpbWUiLCJnZXRIZWFkaW5nIiwiYm9keSIsIngiLCJNYXRoIiwiY29zIiwiUGhhc2VyIiwiRGVnVG9SYWQiLCJyb3RhdGlvbiIsInkiLCJzaW4iLCJWZWN0b3IyIiwibm9ybWFsaXplIiwibmVnYXRlIiwiWkVSTyIsIm9mZnNldFdpdGhIZWFkaW5nIiwib2Zmc2V0IiwiaGVhZGluZyIsIm11bHRpcGx5IiwicG9zaXRpb24iLCJhZGQiLCJnZXRSYW5kb21WYWx1ZXMiLCJjcnlwdG8iLCJtc0NyeXB0byIsInJuZHM4IiwiVWludDhBcnJheSIsInJuZHMiLCJBcnJheSIsInJhbmRvbSIsImJ5dGVUb0hleCIsInRvU3RyaW5nIiwic3Vic3RyIiwiYnVmIiwiYnRoIiwiam9pbiIsIkNvbnN0YW50cyIsIk1BWF9JTlRFR1JJVFkiLCJNQVhfRlVFTCIsIk1BWF9TQUZFX1RFTVBFUkFUVVJFIiwiTUFYX1RFTVBFUkFUVVJFIiwiTUFYX1ZFTE9DSVRZIiwiT1ZFUkhFQVRfQ0hFQ0tfSU5URVJWQUwiLCJDT09MSU5HX1JBVEUiLCJUSFJVU1RFUl9GT1JDRSIsIkZVRUxfUEVSX1RIUlVTVCIsIkhFQVRfUEVSX1RIUlVTVCIsIkJPT1NURVJfRk9SQ0UiLCJGVUVMX1BFUl9CT09TVCIsIkhFQVRfUEVSX0JPT1NUIiwiQk9PU1RFUl9DT09MRE9XTl9USU1FIiwiVEhST1dfRk9SQ0UiLCJGbGFyZSIsIkF0dGFjaG1lbnRMb2NhdGlvbiIsImluY3JlbWVudCIsImNvbmZpZyIsIm1pblpvb20iLCJtYXhab29tIiwidGhpcyIsIm1vdXNlIiwiTW91c2UiLCJvbldoZWVsVXAiLCJzY3JvbGxBbW91bnQiLCJuZXdab29tIiwiY2FtZXJhcyIsIm1haW4iLCJ6b29tIiwiem9vbVRvIiwib25XaGVlbERvd24iLCJTY2VuZSIsIlpvb21hYmxlU2NlbmUiLCJnYW1lQ29uZmlnIiwidHlwZSIsIkFVVE8iLCJzY2FsZSIsIndpZHRoIiwiaW5uZXJXaWR0aCIsImhlaWdodCIsImlubmVySGVpZ2h0IiwiYmFja2dyb3VuZENvbG9yIiwicGFyZW50IiwicGh5c2ljcyIsImRlZmF1bHQiLCJhcmNhZGUiLCJncmF2aXR5Iiwic2NlbmUiLCJGYXJTdGFyc1NjZW5lIiwiU3lzdGVtU2NlbmUiLCJTaGlwU2NlbmUiLCJPdmVybGF5U2NlbmUiLCJnYW1lIiwiR2FtZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZWZyZXNoIiwic2NlbmVDb25maWciLCJhY3RpdmUiLCJ2aXNpYmxlIiwicHJlbG9hZCIsImxvYWQiLCJpbWFnZSIsInNwcml0ZXNoZWV0IiwiZnJhbWVXaWR0aCIsImZyYW1lSGVpZ2h0Iiwic3RhcnRGcmFtZSIsImVuZEZyYW1lIiwicGxheWVyIiwiU2hpcFBvZCIsInNldFRhcmdldCIsImNhbm9uIiwiQ2Fubm9uQXR0YWNobWVudCIsImFkZEF0dGFjaG1lbnQiLCJzZXR1cENhbWVyYSIsImNhbnZhcyIsIm9uY29udGV4dG1lbnUiLCJlIiwicHJldmVudERlZmF1bHQiLCJ1cGRhdGUiLCJzZXRGcm9tUkdCIiwiZyIsImIiLCJzZXRab29tIiwiY2VudGVyT24iLCJkeldpZHRoIiwiZmxvb3IiLCJkekhlaWdodCIsImR6WCIsImR6WSIsInN0YXJ0Rm9sbG93IiwiZ2V0R2FtZU9iamVjdCIsImRlYWR6b25lIiwiR2VvbSIsIlJlY3RhbmdsZSIsInJlbWFpbmluZ0Z1ZWwiLCJ0ZW1wZXJhdHVyZSIsImxhc3RPdmVyaGVhdENoZWNrIiwibGFzdEJvb3N0VGltZSIsImlkIiwiUk5HIiwiZ3VpZCIsImdhbWVPYmoiLCJjb250YWluZXIiLCJleGlzdGluZyIsImdldFBoeXNpY3NCb2R5IiwiYm91bmNlIiwic2V0VG8iLCJzZXRNYXhWZWxvY2l0eSIsInRocnVzdGVyUGFydGljbGVzIiwicGFydGljbGVzIiwieWVsbG93IiwiZXhwbG9zaW9uUGFydGljbGVzIiwic2hpcCIsInNwcml0ZSIsImludGVncml0eSIsImF0dGFjaG1lbnRzIiwic2V0dXBJbnB1dEhhbmRsZXJzIiwibG9va0F0VGFyZ2V0IiwidGhydXN0S2V5IiwiaXNEb3duIiwidGhydXN0Rm93YXJkcyIsImJvb3N0S2V5IiwiYm9vc3RGb3J3YXJkcyIsImlucHV0IiwiYWN0aXZlUG9pbnRlciIsImxlZnRCdXR0b25Eb3duIiwidHJpZ2dlciIsInJpZ2h0QnV0dG9uRG93biIsInRocm93QXR0YWNobWVudCIsImNoZWNrT3ZlcmhlYXRDb25kaXRpb24iLCJyb3RhdGVBdHRhY2htZW50c0Nsb2Nrd2lzZUtleSIsInJvdGF0ZUF0dGFjaG1lbnRzQ2xvY2t3aXNlIiwicm90YXRlQXR0YWNobWVudHNBbnRpQ2xvY2t3aXNlS2V5Iiwicm90YXRlQXR0YWNobWVudHNBbnRpQ2xvY2t3aXNlIiwiZGV0YWNoQXR0YWNobWVudEtleSIsInJlbW92ZUF0dGFjaG1lbnQiLCJmcm9udCIsInVwZGF0ZUF0dGFjaG1lbnRzIiwibGVuZ3RoIiwiYSIsImtleWJvYXJkIiwiYWRkS2V5IiwiZGVzdHJveSIsImRlbHRhIiwic3VzdGFpbkRhbWFnZSIsImFwcGx5Q29vbGluZyIsImdldFJlYWxMb2NhdGlvbiIsImdldExvY2F0aW9uIiwiY2FtZXJhUG9zIiwiZ2V0V29ybGRQb2ludCIsImdldElkIiwidGFyZ2V0IiwiZ2V0VGFyZ2V0IiwidGFyZ2V0UG9zIiwic2hpcFBvcyIsInJhZGlhbnMiLCJBbmdsZSIsIkJldHdlZW4iLCJkZWdyZWVzIiwiUmFkVG9EZWciLCJnZXRSb3RhdGlvbiIsImdldFNwZWVkIiwiZ2V0VmVsb2NpdHkiLCJ2ZWxvY2l0eSIsImNsb25lIiwiYXBwbHlUaHJ1c3QiLCJkaXNwbGF5VGhydXN0ZXJGaXJlIiwiYmx1ZSIsImZvcmNlIiwiZnVlbCIsImhlYXQiLCJnZXRSZW1haW5pbmdGdWVsIiwiZGVsdGFWIiwicmVkdWNlRnVlbCIsImFwcGx5SGVhdGluZyIsImNvbG91ciIsInN0YXJ0U2NhbGUiLCJxdWFudGl0eSIsInBvcyIsImgiLCJsb2MiLCJSb3RhdGVBcm91bmQiLCJjcmVhdGVFbWl0dGVyIiwiZnJhbWUiLCJsaWZlc3BhbiIsIm1pbiIsIm1heCIsInNwZWVkWCIsInNwZWVkWSIsImFuZ2xlIiwiZ3Jhdml0eVgiLCJncmF2aXR5WSIsInN0YXJ0IiwiZW5kIiwiYmxlbmRNb2RlIiwibWF4UGFydGljbGVzIiwic3RyYWZlTGVmdCIsInN0cmFmZVJpZ2h0IiwidGhydXN0QmFja3dhcmRzIiwiZ2V0VGVtcGVyYXR1cmUiLCJhbW91bnQiLCJhZGRGdWVsIiwiZ2V0SW50ZWdyaXR5IiwicmVwYWlyIiwibGFzdCIsInBvcCIsInVuc2hpZnQiLCJ1cGRhdGVBdHRhY2htZW50UG9zaXRpb25zIiwiZmlyc3QiLCJzaGlmdCIsInB1c2giLCJzZXRBdHRhY2htZW50TG9jYXRpb24iLCJmcm9udFJpZ2h0IiwicmlnaHQiLCJiYWNrUmlnaHQiLCJiYWNrTGVmdCIsImxlZnQiLCJmcm9udExlZnQiLCJhdHRhY2htZW50IiwiYXR0YWNoZWQiLCJhdHRhY2giLCJkZXRhY2giLCJsb2NhdGlvbiIsImdvIiwicmVtb3ZlIiwic2hpcFZlbG9jaXR5VmVjdG9yIiwic2V0VmVsb2NpdHkiLCJ0aHJvdyIsImdldEF0dGFjaG1lbnRzIiwiZGlzcGxheVNoaXBFeHBsb3Npb24iLCJyZWQiLCJpbnQiLCJ2NCIsInYxIiwidXVpZCIsIl9ub2RlSWQiLCJfY2xvY2tzZXEiLCJybmciLCJieXRlc1RvVXVpZCIsIl9sYXN0TVNlY3MiLCJfbGFzdE5TZWNzIiwib3B0aW9ucyIsIm5vZGUiLCJjbG9ja3NlcSIsInVuZGVmaW5lZCIsInNlZWRCeXRlcyIsIm1zZWNzIiwibnNlY3MiLCJkdCIsIkVycm9yIiwidGwiLCJ0bWgiLCJpaSIsIm1heEFtbW8iLCJyZW1haW5pbmdBbW1vIiwiY29vbGRvd25UaW1lIiwiZmlyaW5nRGVsYXkiLCJyZWxvYWQiLCJnZXRSZW1haW5pbmdBbW1vIiwiZmlyZSIsImRpcmVjdGlvbiIsIkJ1bGxldCIsIlNoaXBBdHRhY2htZW50IiwiaXNUaHJvd24iLCJjZW50cmUiLCJhdHRhY2htZW50TG9jYXRpb24iLCJzZXRBY3RpdmUiLCJzcGVlZCIsInJlYWxMb2MiLCJyZWFsTG9jYXRpb24iLCJwYXJhbXMiLCJzZXRBbmdsZSIsImFkZENvbGxpc2lvbkRldGVjdGlvbiIsInNldEluTW90aW9uIiwiY29sbGlkZXIiLCJvbkltcGFjdCIsImJ1bGxldCIsImdldEFuZ2xlIiwiY2FwdHVyZSIsIlBJIiwicG9zaXRpb25Ub0NhbWVyYSIsImZ1bmMiLCJvbiIsIklucHV0IiwiRXZlbnRzIiwiUE9JTlRFUl9XSEVFTCIsInBvaW50ZXIiLCJjdXJyZW50bHlPdmVyIiwiZHgiLCJkeSIsImR6IiwiZXZlbnQiLCJkZWJ1ZyIsInRleHQiLCJmb250IiwiZmlsbCIsInNldFRleHQiLCJ0b0ZpeGVkIiwieE9mZnNldCIsImNlaWwiLCJ5T2Zmc2V0IiwidGlsZVNwcml0ZSIsInN0YXJ0UG9zaXRpb24iLCJSTkQiLCJiZXR3ZWVuIiwic3VuIiwiZGl2aWRlIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUEyQ0EsRUFBTUMsR0FDMUIsaUJBQVpDLFNBQTBDLGlCQUFYQyxPQUN4Q0EsT0FBT0QsUUFBVUQsRUFBUUcsUUFBUSxXQUNSLG1CQUFYQyxRQUF5QkEsT0FBT0MsSUFDOUNELE9BQU8sQ0FBQyxVQUFXSixHQUNPLGlCQUFaQyxRQUNkQSxRQUFnQixPQUFJRCxFQUFRRyxRQUFRLFdBRXBDSixFQUFhLE9BQUlDLEVBQVFELEVBQWEsUUFSeEMsQ0FTR08sUUFBUSxTQUFTQyxHQUNwQixPLFlDVEUsSUFBSUMsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVVQsUUFHbkMsSUFBSUMsRUFBU00sRUFBaUJFLEdBQVksQ0FDekNDLEVBQUdELEVBQ0hFLEdBQUcsRUFDSFgsUUFBUyxJQVVWLE9BTkFZLEVBQVFILEdBQVVJLEtBQUtaLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNRLEdBRy9EUCxFQUFPVSxHQUFJLEVBR0pWLEVBQU9ELFFBMERmLE9BckRBUSxFQUFvQk0sRUFBSUYsRUFHeEJKLEVBQW9CTyxFQUFJUixFQUd4QkMsRUFBb0JRLEVBQUksU0FBU2hCLEVBQVNpQixFQUFNQyxHQUMzQ1YsRUFBb0JXLEVBQUVuQixFQUFTaUIsSUFDbENHLE9BQU9DLGVBQWVyQixFQUFT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LEtBQUswUixjQUFjaFYsRUFBR3NELEtBQUswUixjQUFjMVUsRUFBRyxRQUdwRSxZQUFBMEcsT0FBUCxXQUtJLEdBSkExRCxLQUFLNlIsSUFBSXBILE9BQVMsSUFDZHpLLEtBQUs2UixJQUFJcEgsT0FBUyxNQUNsQnpLLEtBQUs2UixJQUFJcEgsTUFBUSxHQUVqQixFQUFBN08sUUFBUW1ILE9BQVEsQ0FFaEIsSUFBSWlILEVBQTJCLEVBQUFwTyxRQUFRbUgsT0FBTytFLGtCQUM5Q2tDLEVBQUk4SCxPQUFPLElBQUlqVixPQUFPRixLQUFLTyxRQUFRLElBQUssTUFDeEM4TSxFQUFJNU0sU0FFSjRDLEtBQUs2UixJQUFJblYsRUFBSXNELEtBQUswUixjQUFjaFYsRUFBSXNOLEVBQUl0TixFQUN4Q3NELEtBQUs2UixJQUFJN1UsRUFBSWdELEtBQUswUixjQUFjMVUsRUFBSWdOLEVBQUloTixJQUdwRCxFQXBDQSxDQUFpQyxFQUFBNEQsZUFBcEIsRUFBQWlCIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcInBoYXNlclwiKSk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXCJwaGFzZXJcIl0sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiYnVuZGxlXCJdID0gZmFjdG9yeShyZXF1aXJlKFwicGhhc2VyXCIpKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJidW5kbGVcIl0gPSBmYWN0b3J5KHJvb3RbXCJwaGFzZXJcIl0pO1xufSkod2luZG93LCBmdW5jdGlvbihfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX18xMF9fKSB7XG5yZXR1cm4gIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDcpO1xuIiwiaW1wb3J0IHsgU2hpcFBvZCB9IGZyb20gXCIuLi9zaGlwcy9zaGlwLXBvZFwiO1xyXG5cclxuZXhwb3J0IG1vZHVsZSBHbG9iYWxzIHtcclxuICAgIGV4cG9ydCB2YXIgcGxheWVyOiBTaGlwUG9kO1xyXG4gICAgZXhwb3J0IHZhciBnYW1lOiBQaGFzZXIuR2FtZTtcclxuICAgIGV4cG9ydCB2YXIgaW50ZXJhY3RhYmxlczogUGhhc2VyLkdhbWVPYmplY3RzLkdhbWVPYmplY3RbXSA9IFtdO1xyXG59IiwiZXhwb3J0IG1vZHVsZSBIZWxwZXJzIHtcclxuICAgIC8qKlxyXG4gICAgICogZ2V0IHRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW4gYW4gZW51bS5cclxuICAgICAqIDxwPlxyXG4gICAgICogZXg6IDxpPmVudW0gRm9vIHsgYmFyID0gMCwgYmF6ID0gMSwgYm96ID0gMiB9PC9pPjxiciAvPlxyXG4gICAgICogcmV0dXJuczogPGI+MzwvYj5cclxuICAgICAqIDwvcD5cclxuICAgICAqIEBwYXJhbSBlbnVtVHlwZSB0aGUgdHlwZSBuYW1lIG9mIGFuIGVudW1cclxuICAgICAqIEByZXR1cm5zIHRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW4gdGhlIGVudW1cclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGVudW1MZW5ndGgoZW51bVR5cGU6IGFueSk6IG51bWJlciB7XHJcbiAgICAgICAgbGV0IGNvdW50ID0gMDtcclxuICAgICAgICBmb3IobGV0IGl0ZW0gaW4gZW51bVR5cGUpIHtcclxuICAgICAgICAgICAgaWYoaXNOYU4oTnVtYmVyKGl0ZW0pKSkge1xyXG4gICAgICAgICAgICAgICAgY291bnQrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY291bnQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCB0aW1lIGluIG1pbGxpc2Vjb25kcyBzaW5jZSB0aGUgZXBvY2hcclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIG5vdygpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgYSB7UGhhc2VyLk1hdGguVmVjdG9yMn0gdGhhdCByZXByZXNlbnRzIGEgbm9ybWFsaXNlZCB2ZWN0b3Igb2YgZGlyZWN0aW9uXHJcbiAgICAgKiBiYXNlZCBvbiB0aGUgcm90YXRpb24gb2YgdGhlIHBhc3NlZCBpbiB7UGhhc2VyLlBoeXNpY3MuQXJjYWRlLkJvZHl9XHJcbiAgICAgKiBAcGFyYW0gYm9keSB0aGUgcGh5c2ljcyBlbmFibGVkIHtHYW1lT2JqZWN0LmJvZHl9IGZyb20gd2hpY2ggdG8gZ2V0IHRoZSBoZWFkaW5nXHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBnZXRIZWFkaW5nKGJvZHk6IFBoYXNlci5QaHlzaWNzLkFyY2FkZS5Cb2R5KTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgaWYgKGJvZHkpIHtcclxuICAgICAgICAgICAgbGV0IHg6IG51bWJlciA9IE1hdGguY29zKFBoYXNlci5NYXRoLkRlZ1RvUmFkKGJvZHkucm90YXRpb24pKTtcclxuICAgICAgICAgICAgbGV0IHk6IG51bWJlciA9IE1hdGguc2luKFBoYXNlci5NYXRoLkRlZ1RvUmFkKGJvZHkucm90YXRpb24pKTtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKHgsIHkpLm5vcm1hbGl6ZSgpLm5lZ2F0ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUGhhc2VyLk1hdGguVmVjdG9yMi5aRVJPO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogYXBwbGllcyB0aGUgcGFzc2VkIGluIG9mZnNldCB0byBhIHJvdGF0ZWQgYm9keSBlcXVpdmFsZW50IHRvIHJldmVyc2luZyB0aGVcclxuICAgICAqIHJvdGF0aW9uLCBhcHBseWluZyB0aGUgb2Zmc2V0IGFuZCB0aGVuIHJlLWFwcGx5aW5nIHRoZSBvZmZzZXRcclxuICAgICAqIEBwYXJhbSBib2R5IHRoZSB7UGhhc2VyLlBoeXNpY3MuQXJjYWRlLkJvZHl9IHRvIG9mZnNldFxyXG4gICAgICogQHBhcmFtIG9mZnNldCBhIHtQaGFzZXIuTWF0aC5WZWN0b3IyfSByZXByZXNlbnRpbmcgdGhlIHVucm90YXRlZCBvZmZzZXQgdG8gYXBwbHlcclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIG9mZnNldFdpdGhIZWFkaW5nKGJvZHk6IFBoYXNlci5QaHlzaWNzLkFyY2FkZS5Cb2R5LCBvZmZzZXQ6IFBoYXNlci5NYXRoLlZlY3RvcjIpOiB2b2lkIHtcclxuICAgICAgICBsZXQgaGVhZGluZzogUGhhc2VyLk1hdGguVmVjdG9yMiA9IEhlbHBlcnMuZ2V0SGVhZGluZyhib2R5KTtcclxuICAgICAgICBoZWFkaW5nLm11bHRpcGx5KG9mZnNldCk7XHJcbiAgICAgICAgYm9keS5wb3NpdGlvbi5hZGQoaGVhZGluZyk7XHJcbiAgICB9XHJcbn0iLCIvLyBVbmlxdWUgSUQgY3JlYXRpb24gcmVxdWlyZXMgYSBoaWdoIHF1YWxpdHkgcmFuZG9tICMgZ2VuZXJhdG9yLiAgSW4gdGhlXG4vLyBicm93c2VyIHRoaXMgaXMgYSBsaXR0bGUgY29tcGxpY2F0ZWQgZHVlIHRvIHVua25vd24gcXVhbGl0eSBvZiBNYXRoLnJhbmRvbSgpXG4vLyBhbmQgaW5jb25zaXN0ZW50IHN1cHBvcnQgZm9yIHRoZSBgY3J5cHRvYCBBUEkuICBXZSBkbyB0aGUgYmVzdCB3ZSBjYW4gdmlhXG4vLyBmZWF0dXJlLWRldGVjdGlvblxuXG4vLyBnZXRSYW5kb21WYWx1ZXMgbmVlZHMgdG8gYmUgaW52b2tlZCBpbiBhIGNvbnRleHQgd2hlcmUgXCJ0aGlzXCIgaXMgYSBDcnlwdG9cbi8vIGltcGxlbWVudGF0aW9uLiBBbHNvLCBmaW5kIHRoZSBjb21wbGV0ZSBpbXBsZW1lbnRhdGlvbiBvZiBjcnlwdG8gb24gSUUxMS5cbnZhciBnZXRSYW5kb21WYWx1ZXMgPSAodHlwZW9mKGNyeXB0bykgIT0gJ3VuZGVmaW5lZCcgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQoY3J5cHRvKSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAodHlwZW9mKG1zQ3J5cHRvKSAhPSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93Lm1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcyA9PSAnZnVuY3Rpb24nICYmIG1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKG1zQ3J5cHRvKSk7XG5cbmlmIChnZXRSYW5kb21WYWx1ZXMpIHtcbiAgLy8gV0hBVFdHIGNyeXB0byBSTkcgLSBodHRwOi8vd2lraS53aGF0d2cub3JnL3dpa2kvQ3J5cHRvXG4gIHZhciBybmRzOCA9IG5ldyBVaW50OEFycmF5KDE2KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gd2hhdHdnUk5HKCkge1xuICAgIGdldFJhbmRvbVZhbHVlcyhybmRzOCk7XG4gICAgcmV0dXJuIHJuZHM4O1xuICB9O1xufSBlbHNlIHtcbiAgLy8gTWF0aC5yYW5kb20oKS1iYXNlZCAoUk5HKVxuICAvL1xuICAvLyBJZiBhbGwgZWxzZSBmYWlscywgdXNlIE1hdGgucmFuZG9tKCkuICBJdCdzIGZhc3QsIGJ1dCBpcyBvZiB1bnNwZWNpZmllZFxuICAvLyBxdWFsaXR5LlxuICB2YXIgcm5kcyA9IG5ldyBBcnJheSgxNik7XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBtYXRoUk5HKCkge1xuICAgIGZvciAodmFyIGkgPSAwLCByOyBpIDwgMTY7IGkrKykge1xuICAgICAgaWYgKChpICYgMHgwMykgPT09IDApIHIgPSBNYXRoLnJhbmRvbSgpICogMHgxMDAwMDAwMDA7XG4gICAgICBybmRzW2ldID0gciA+Pj4gKChpICYgMHgwMykgPDwgMykgJiAweGZmO1xuICAgIH1cblxuICAgIHJldHVybiBybmRzO1xuICB9O1xufVxuIiwiLyoqXG4gKiBDb252ZXJ0IGFycmF5IG9mIDE2IGJ5dGUgdmFsdWVzIHRvIFVVSUQgc3RyaW5nIGZvcm1hdCBvZiB0aGUgZm9ybTpcbiAqIFhYWFhYWFhYLVhYWFgtWFhYWC1YWFhYLVhYWFhYWFhYWFhYWFxuICovXG52YXIgYnl0ZVRvSGV4ID0gW107XG5mb3IgKHZhciBpID0gMDsgaSA8IDI1NjsgKytpKSB7XG4gIGJ5dGVUb0hleFtpXSA9IChpICsgMHgxMDApLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSk7XG59XG5cbmZ1bmN0aW9uIGJ5dGVzVG9VdWlkKGJ1Ziwgb2Zmc2V0KSB7XG4gIHZhciBpID0gb2Zmc2V0IHx8IDA7XG4gIHZhciBidGggPSBieXRlVG9IZXg7XG4gIC8vIGpvaW4gdXNlZCB0byBmaXggbWVtb3J5IGlzc3VlIGNhdXNlZCBieSBjb25jYXRlbmF0aW9uOiBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMTc1I2M0XG4gIHJldHVybiAoW1xuICAgIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgJy0nLFxuICAgIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sICctJyxcbiAgICBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLCAnLScsXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgJy0nLFxuICAgIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSxcbiAgICBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dXG4gIF0pLmpvaW4oJycpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJ5dGVzVG9VdWlkO1xuIiwiZXhwb3J0IG1vZHVsZSBDb25zdGFudHMge1xyXG4gICAgZXhwb3J0IGNvbnN0IE1BWF9JTlRFR1JJVFk6IG51bWJlciA9IDEwMDtcclxuICAgIGV4cG9ydCBjb25zdCBNQVhfRlVFTDogbnVtYmVyID0gMTAwO1xyXG4gICAgZXhwb3J0IGNvbnN0IE1BWF9TQUZFX1RFTVBFUkFUVVJFOiBudW1iZXIgPSAxMDA7XHJcbiAgICBleHBvcnQgY29uc3QgTUFYX1RFTVBFUkFUVVJFOiBudW1iZXIgPSAyMDA7XHJcbiAgICBleHBvcnQgY29uc3QgTUFYX1ZFTE9DSVRZOiBudW1iZXIgPSA1MDA7XHJcbiAgICBleHBvcnQgY29uc3QgT1ZFUkhFQVRfQ0hFQ0tfSU5URVJWQUw6IG51bWJlciA9IDEwMDsgLy8gbWlsbGlzZWNvbmRzXHJcbiAgICBleHBvcnQgY29uc3QgQ09PTElOR19SQVRFOiBudW1iZXIgPSAwLjM7IC8vIGRlZ3JlZXMgcGVyIHNlY29uZFxyXG4gICAgZXhwb3J0IGNvbnN0IFRIUlVTVEVSX0ZPUkNFOiBudW1iZXIgPSAxO1xyXG4gICAgZXhwb3J0IGNvbnN0IEZVRUxfUEVSX1RIUlVTVDogbnVtYmVyID0gMC4wMDE7IC8vIHVuaXRzXHJcbiAgICBleHBvcnQgY29uc3QgSEVBVF9QRVJfVEhSVVNUOiBudW1iZXIgPSAwLjEgLy8gZGVncmVlc1xyXG4gICAgZXhwb3J0IGNvbnN0IEJPT1NURVJfRk9SQ0U6IG51bWJlciA9IDMwMDtcclxuICAgIGV4cG9ydCBjb25zdCBGVUVMX1BFUl9CT09TVDogbnVtYmVyID0gMTsgLy8gdW5pdHNcclxuICAgIGV4cG9ydCBjb25zdCBIRUFUX1BFUl9CT09TVDogbnVtYmVyID0gMjU7IC8vIGRlZ3JlZXNcclxuICAgIGV4cG9ydCBjb25zdCBCT09TVEVSX0NPT0xET1dOX1RJTUU6IG51bWJlciA9IDEwMDA7IC8vIG1pbGxpc2Vjb25kc1xyXG4gICAgZXhwb3J0IGNvbnN0IFRIUk9XX0ZPUkNFOiBudW1iZXIgPSAxMDA7XHJcbiAgICBleHBvcnQgZW51bSBGbGFyZSB7XHJcbiAgICAgICAgYmx1ZSA9IDAsXHJcbiAgICAgICAgZ3JlZW4gPSAxLFxyXG4gICAgICAgIHJlZCA9IDIsXHJcbiAgICAgICAgd2hpdGUgPSAzLFxyXG4gICAgICAgIHllbGxvdyA9IDRcclxuICAgIH1cclxufSIsImV4cG9ydCBlbnVtIEF0dGFjaG1lbnRMb2NhdGlvbiB7XHJcbiAgICBmcm9udCxcclxuICAgIGZyb250UmlnaHQsXHJcbiAgICByaWdodCxcclxuICAgIGJhY2tSaWdodCxcclxuICAgIC8vIE5PVEU6IHRoZXJlIGlzIG5vICdiYWNrJyBhdHRhY2htZW50IHBvaW50IGR1ZSB0byBsb2NhdGlvbiBvZiB0aHJ1c3RlclxyXG4gICAgYmFja0xlZnQsXHJcbiAgICBsZWZ0LFxyXG4gICAgZnJvbnRMZWZ0XHJcbn0iLCJpbXBvcnQgeyBNb3VzZSB9IGZyb20gXCIuLi91dGlsaXRpZXMvbW91c2VcIjtcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBab29tYWJsZVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIHByb3RlY3RlZCBtb3VzZTogTW91c2U7XHJcbiAgICBwcml2YXRlIGluY3JlbWVudDogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBtaW5ab29tOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIG1heFpvb206IG51bWJlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihpbmNyZW1lbnQ6IG51bWJlciwgY29uZmlnOiBQaGFzZXIuVHlwZXMuU2NlbmVzLlNldHRpbmdzQ29uZmlnKSB7XHJcbiAgICAgICAgc3VwZXIoY29uZmlnKTtcclxuICAgICAgICB0aGlzLmluY3JlbWVudCA9IGluY3JlbWVudDtcclxuICAgICAgICB0aGlzLm1pblpvb20gPSAxIC0gKGluY3JlbWVudCAqIDIpO1xyXG4gICAgICAgIHRoaXMubWF4Wm9vbSA9IDE7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFic3RyYWN0IHByZWxvYWQoKTogdm9pZDtcclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMubW91c2UgPSBuZXcgTW91c2UodGhpcyk7XHJcbiAgICAgICAgdGhpcy5tb3VzZS5vbldoZWVsVXAoKHNjcm9sbEFtb3VudDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBjdXJyZW50Wm9vbTogbnVtYmVyID0gdGhpcy5jYW1lcmFzLm1haW4uem9vbTtcclxuICAgICAgICAgICAgLy8gem9vbSBvdXRcclxuICAgICAgICAgICAgbGV0IG5ld1pvb206IG51bWJlciA9IGN1cnJlbnRab29tIC0gdGhpcy5pbmNyZW1lbnQ7XHJcbiAgICAgICAgICAgIGlmIChuZXdab29tIDwgdGhpcy5taW5ab29tKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdab29tID0gdGhpcy5taW5ab29tO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGB6b29taW5nIGZyb20gJHtjdXJyZW50Wm9vbX0gdG8gJHtuZXdab29tfWApO1xyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi56b29tVG8obmV3Wm9vbSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5tb3VzZS5vbldoZWVsRG93bigoc2Nyb2xsQW1vdW50OiBudW1iZXIpID0+IHtcclxuICAgICAgICAgICAgbGV0IGN1cnJlbnRab29tOiBudW1iZXIgPSB0aGlzLmNhbWVyYXMubWFpbi56b29tO1xyXG4gICAgICAgICAgICAvLyB6b29tIGluXHJcbiAgICAgICAgICAgIGxldCBuZXdab29tOiBudW1iZXIgPSBjdXJyZW50Wm9vbSArIHRoaXMuaW5jcmVtZW50O1xyXG4gICAgICAgICAgICBpZiAobmV3Wm9vbSA+IHRoaXMubWF4Wm9vbSkge1xyXG4gICAgICAgICAgICAgICAgbmV3Wm9vbSA9IHRoaXMubWF4Wm9vbTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgem9vbWluZyBmcm9tICR7Y3VycmVudFpvb219IHRvICR7bmV3Wm9vbX1gKTtcclxuICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uem9vbVRvKG5ld1pvb20pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCB1cGRhdGUoKTogdm9pZDtcclxufSIsImltcG9ydCB7IFNoaXBTY2VuZSB9IGZyb20gXCIuL3NjZW5lcy9zaGlwLXNjZW5lXCI7XHJcbmltcG9ydCB7IEdsb2JhbHMgfSBmcm9tIFwiLi91dGlsaXRpZXMvZ2xvYmFsc1wiO1xyXG5pbXBvcnQgeyBPdmVybGF5U2NlbmUgfSBmcm9tIFwiLi9zY2VuZXMvb3ZlcmxheS1zY2VuZVwiO1xyXG5pbXBvcnQgeyBGYXJTdGFyc1NjZW5lIH0gZnJvbSBcIi4vc2NlbmVzL2Zhci1zdGFycy1zY2VuZVwiO1xyXG5pbXBvcnQgeyBTeXN0ZW1TY2VuZSB9IGZyb20gXCIuL3NjZW5lcy9zeXN0ZW0tc2NlbmVcIjtcclxuXHJcbmNvbnN0IGdhbWVDb25maWc6IFBoYXNlci5UeXBlcy5Db3JlLkdhbWVDb25maWcgPSB7XHJcbiAgICB0eXBlOiBQaGFzZXIuQVVUTyxcclxuICAgIHNjYWxlOiB7XHJcbiAgICAgICAgd2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoLFxyXG4gICAgICAgIGhlaWdodDogd2luZG93LmlubmVySGVpZ2h0XHJcbiAgICB9LFxyXG4gICAgYmFja2dyb3VuZENvbG9yOiAnIzAwMDAwMCcsXHJcbiAgICBwYXJlbnQ6ICdzcGFjZS1zaW0nLFxyXG4gICAgcGh5c2ljczoge1xyXG4gICAgICAgIGRlZmF1bHQ6ICdhcmNhZGUnLFxyXG4gICAgICAgIGFyY2FkZToge1xyXG4gICAgICAgICAgICBncmF2aXR5OiB7IHg6IDAsIHk6IDAgfSxcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgc2NlbmU6IFtGYXJTdGFyc1NjZW5lLCBTeXN0ZW1TY2VuZSwgU2hpcFNjZW5lLCBPdmVybGF5U2NlbmVdXHJcbn07XHJcbmV4cG9ydCBjb25zdCBnYW1lOiBQaGFzZXIuR2FtZSA9IG5ldyBQaGFzZXIuR2FtZShnYW1lQ29uZmlnKTtcclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7XHJcbiAgICBnYW1lLnNjYWxlLnJlZnJlc2goKTtcclxufSk7XHJcblxyXG5HbG9iYWxzLmdhbWUgPSBnYW1lOyIsImltcG9ydCB7IFNoaXBQb2QgfSBmcm9tIFwiLi4vc2hpcHMvc2hpcC1wb2RcIjtcclxuaW1wb3J0IHsgR2xvYmFscyB9IGZyb20gXCIuLi91dGlsaXRpZXMvZ2xvYmFsc1wiO1xyXG5pbXBvcnQgeyBNb3VzZSB9IGZyb20gXCIuLi91dGlsaXRpZXMvbW91c2VcIjtcclxuaW1wb3J0IHsgQ2Fubm9uQXR0YWNobWVudCB9IGZyb20gXCIuLi9zaGlwcy9hdHRhY2htZW50cy9vZmZlbmNlL2Nhbm5vbi1hdHRhY2htZW50XCI7XHJcbmltcG9ydCB7IFpvb21hYmxlU2NlbmUgfSBmcm9tIFwiLi96b29tYWJsZS1zY2VuZVwiO1xyXG5cclxuY29uc3Qgc2NlbmVDb25maWc6IFBoYXNlci5UeXBlcy5TY2VuZXMuU2V0dGluZ3NDb25maWcgPSB7XHJcbiAgICBhY3RpdmU6IHRydWUsXHJcbiAgICB2aXNpYmxlOiB0cnVlLFxyXG4gICAga2V5OiAnU2hpcFNjZW5lJ1xyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIFNoaXBTY2VuZSBleHRlbmRzIFpvb21hYmxlU2NlbmUge1xyXG4gICAgcHJpdmF0ZSBwbGF5ZXI6IFNoaXBQb2Q7XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKDAuNCwgc2NlbmVDb25maWcpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwcmVsb2FkKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnc2hpcC1wb2QnLCAnLi9hc3NldHMvc3ByaXRlcy9zaGlwLXBvZC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2Nhbm5vbicsICcuL2Fzc2V0cy9zcHJpdGVzL2Nhbm5vbi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ2ZsYXJlcycsICcuL2Fzc2V0cy9wYXJ0aWNsZXMvZmxhcmVzLnBuZycsIHtcclxuICAgICAgICAgICAgZnJhbWVXaWR0aDogMTMwLFxyXG4gICAgICAgICAgICBmcmFtZUhlaWdodDogMTMyLFxyXG4gICAgICAgICAgICBzdGFydEZyYW1lOiAwLFxyXG4gICAgICAgICAgICBlbmRGcmFtZTogNFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZXhwbG9zaW9uJywgJy4vYXNzZXRzL3BhcnRpY2xlcy9leHBsb3Npb24ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdidWxsZXQnLCAnLi9hc3NldHMvc3ByaXRlcy9idWxsZXQucG5nJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNyZWF0ZSgpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci5jcmVhdGUoKTtcclxuICAgICAgICB0aGlzLnBsYXllciA9IG5ldyBTaGlwUG9kKHRoaXMpO1xyXG4gICAgICAgIEdsb2JhbHMucGxheWVyID0gdGhpcy5wbGF5ZXI7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIuc2V0VGFyZ2V0KHRoaXMubW91c2UpO1xyXG5cclxuICAgICAgICAvLyBUTVBcclxuICAgICAgICBsZXQgY2Fub246IENhbm5vbkF0dGFjaG1lbnQgPSBuZXcgQ2Fubm9uQXR0YWNobWVudCh0aGlzKTtcclxuICAgICAgICB0aGlzLnBsYXllci5hZGRBdHRhY2htZW50KGNhbm9uKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXR1cENhbWVyYSh0aGlzLnBsYXllcik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5nYW1lLmNhbnZhcy5vbmNvbnRleHRtZW51ID0gKGUpID0+IHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMucGxheWVyLnVwZGF0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0dXBDYW1lcmEocGxheWVyOiBTaGlwUG9kKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uYmFja2dyb3VuZENvbG9yLnNldEZyb21SR0Ioe3I6IDAsIGc6IDAsIGI6IDB9KTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRab29tKDEpO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLmNlbnRlck9uKDAsIDApO1xyXG5cclxuICAgICAgICBsZXQgd2lkdGg6IG51bWJlciA9IHRoaXMuY2FtZXJhcy5tYWluLndpZHRoO1xyXG4gICAgICAgIGxldCBoZWlnaHQ6IG51bWJlciA9IHRoaXMuY2FtZXJhcy5tYWluLmhlaWdodDtcclxuICAgICAgICBsZXQgZHpXaWR0aDogbnVtYmVyID0gTWF0aC5mbG9vcih3aWR0aCAvIDIpO1xyXG4gICAgICAgIGxldCBkekhlaWdodDogbnVtYmVyID0gTWF0aC5mbG9vcihoZWlnaHQgLyAyKTtcclxuICAgICAgICBsZXQgZHpYOiBudW1iZXIgPSBNYXRoLmZsb29yKGR6V2lkdGggLyAyKTtcclxuICAgICAgICBsZXQgZHpZOiBudW1iZXIgPSBNYXRoLmZsb29yKGR6SGVpZ2h0IC8gMik7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc3RhcnRGb2xsb3cocGxheWVyLmdldEdhbWVPYmplY3QoKSwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uZGVhZHpvbmUgPSBuZXcgUGhhc2VyLkdlb20uUmVjdGFuZ2xlKGR6WCwgZHpZLCBkeldpZHRoLCBkekhlaWdodCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgXCJwaGFzZXJcIjtcclxuaW1wb3J0IHsgUk5HIH0gZnJvbSBcIi4uL3V0aWxpdGllcy9ybmdcIjtcclxuaW1wb3J0IHsgVXBkYXRhYmxlIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvdXBkYXRhYmxlXCI7XHJcbmltcG9ydCB7IENhblRhcmdldCB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2Nhbi10YXJnZXRcIjtcclxuaW1wb3J0IHsgQ2FuVGhydXN0IH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvY2FuLXRocnVzdFwiO1xyXG5pbXBvcnQgeyBIYXNMb2NhdGlvbiB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2hhcy1sb2NhdGlvblwiO1xyXG5pbXBvcnQgeyBIYXNHYW1lT2JqZWN0IH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvaGFzLWdhbWUtb2JqZWN0XCI7XHJcbmltcG9ydCB7IEhhc0ludGVncml0eSB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2hhcy1pbnRlZ3JpdHlcIjtcclxuaW1wb3J0IHsgQ29uc3RhbnRzIH0gZnJvbSBcIi4uL3V0aWxpdGllcy9jb25zdGFudHNcIjtcclxuaW1wb3J0IHsgU2hpcEF0dGFjaG1lbnQgfSBmcm9tIFwiLi9hdHRhY2htZW50cy9zaGlwLWF0dGFjaG1lbnRcIjtcclxuaW1wb3J0IHsgSGFzQXR0YWNobWVudHMgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9oYXMtYXR0YWNobWVudHNcIjtcclxuaW1wb3J0IHsgSGVscGVycyB9IGZyb20gXCIuLi91dGlsaXRpZXMvaGVscGVyc1wiO1xyXG5pbXBvcnQgeyBBdHRhY2htZW50TG9jYXRpb24gfSBmcm9tIFwiLi9hdHRhY2htZW50cy9hdHRhY2htZW50LWxvY2F0aW9uXCI7XHJcbmltcG9ydCB7IEhhc1RlbXBlcmF0dXJlIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvaGFzLXRlbXBlcmF0dXJlXCI7XHJcbmltcG9ydCB7IEhhc0Z1ZWwgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9oYXMtZnVlbFwiO1xyXG5pbXBvcnQgeyBIYXNQaHlzaWNzR2FtZU9iamVjdCB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2hhcy1waHlzaWNzLWdhbWUtb2JqZWN0XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU2hpcFBvZCBpbXBsZW1lbnRzIFVwZGF0YWJsZSwgQ2FuVGFyZ2V0LCBDYW5UaHJ1c3QsIEhhc0xvY2F0aW9uLCBIYXNHYW1lT2JqZWN0LCBIYXNQaHlzaWNzR2FtZU9iamVjdCwgSGFzSW50ZWdyaXR5LCBIYXNBdHRhY2htZW50cywgSGFzVGVtcGVyYXR1cmUsIEhhc0Z1ZWwge1xyXG4gICAgcHJpdmF0ZSBpZDogc3RyaW5nOyAvLyBVVUlEXHJcbiAgICBwcml2YXRlIHNjZW5lOiBQaGFzZXIuU2NlbmU7XHJcbiAgICBwcml2YXRlIGdhbWVPYmo6IFBoYXNlci5HYW1lT2JqZWN0cy5Db250YWluZXI7XHJcbiAgICBwcml2YXRlIHRhcmdldDogSGFzTG9jYXRpb247XHJcbiAgICBwcml2YXRlIGludGVncml0eTogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBhdHRhY2htZW50czogU2hpcEF0dGFjaG1lbnRbXTtcclxuICAgIHByaXZhdGUgdGhydXN0S2V5OiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5O1xyXG4gICAgcHJpdmF0ZSBib29zdEtleTogUGhhc2VyLklucHV0LktleWJvYXJkLktleTtcclxuICAgIHByaXZhdGUgcm90YXRlQXR0YWNobWVudHNDbG9ja3dpc2VLZXk6IFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXk7XHJcbiAgICBwcml2YXRlIHJvdGF0ZUF0dGFjaG1lbnRzQW50aUNsb2Nrd2lzZUtleTogUGhhc2VyLklucHV0LktleWJvYXJkLktleTtcclxuICAgIHByaXZhdGUgZGV0YWNoQXR0YWNobWVudEtleTogUGhhc2VyLklucHV0LktleWJvYXJkLktleTtcclxuICAgIHByaXZhdGUgcmVtYWluaW5nRnVlbDogbnVtYmVyID0gMTAwO1xyXG4gICAgcHJpdmF0ZSB0ZW1wZXJhdHVyZTogbnVtYmVyID0gMDsgLy8gaW4gQ2VsY2l1c1xyXG4gICAgcHJpdmF0ZSB0aHJ1c3RlclBhcnRpY2xlczogUGhhc2VyLkdhbWVPYmplY3RzLlBhcnRpY2xlcy5QYXJ0aWNsZUVtaXR0ZXJNYW5hZ2VyO1xyXG4gICAgcHJpdmF0ZSBleHBsb3Npb25QYXJ0aWNsZXM6IFBoYXNlci5HYW1lT2JqZWN0cy5QYXJ0aWNsZXMuUGFydGljbGVFbWl0dGVyTWFuYWdlcjtcclxuXHJcbiAgICBhY3RpdmU6IGJvb2xlYW4gPSB0cnVlO1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZTogUGhhc2VyLlNjZW5lKSB7XHJcbiAgICAgICAgdGhpcy5pZCA9IFJORy5ndWlkKCk7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuZ2FtZU9iaiA9IHNjZW5lLmFkZC5jb250YWluZXIoMCwgMCk7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmdhbWVPYmopO1xyXG4gICAgICAgIHRoaXMuZ2V0UGh5c2ljc0JvZHkoKS5ib3VuY2Uuc2V0VG8oMC43LCAwLjcpO1xyXG4gICAgICAgIHRoaXMuZ2V0UGh5c2ljc0JvZHkoKS5zZXRNYXhWZWxvY2l0eShDb25zdGFudHMuTUFYX1ZFTE9DSVRZLCBDb25zdGFudHMuTUFYX1ZFTE9DSVRZKTtcclxuICAgICAgICB0aGlzLnRocnVzdGVyUGFydGljbGVzID0gc2NlbmUuYWRkLnBhcnRpY2xlcygnZmxhcmVzJywgQ29uc3RhbnRzLkZsYXJlLnllbGxvdyk7XHJcbiAgICAgICAgdGhpcy5leHBsb3Npb25QYXJ0aWNsZXMgPSBzY2VuZS5hZGQucGFydGljbGVzKCdleHBsb3Npb24nKTtcclxuICAgICAgICBsZXQgc2hpcDogUGhhc2VyLkdhbWVPYmplY3RzLlNwcml0ZSA9IHNjZW5lLmFkZC5zcHJpdGUoMCwgMCwgJ3NoaXAtcG9kJyk7XHJcbiAgICAgICAgdGhpcy5nYW1lT2JqLmFkZChzaGlwKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmludGVncml0eSA9IENvbnN0YW50cy5NQVhfSU5URUdSSVRZO1xyXG4gICAgICAgIHRoaXMuYXR0YWNobWVudHMgPSBuZXcgQXJyYXk8U2hpcEF0dGFjaG1lbnQ+KEhlbHBlcnMuZW51bUxlbmd0aChBdHRhY2htZW50TG9jYXRpb24pKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXR1cElucHV0SGFuZGxlcnMoKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9va0F0VGFyZ2V0KCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRocnVzdEtleS5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudGhydXN0Rm93YXJkcygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmJvb3N0S2V5LmlzRG93bikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ib29zdEZvcndhcmRzKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuc2NlbmUuaW5wdXQuYWN0aXZlUG9pbnRlci5sZWZ0QnV0dG9uRG93bigpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hdHRhY2htZW50c1swXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNobWVudHNbMF0udHJpZ2dlcigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNjZW5lLmlucHV0LmFjdGl2ZVBvaW50ZXIucmlnaHRCdXR0b25Eb3duKCkpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmF0dGFjaG1lbnRzWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aHJvd0F0dGFjaG1lbnQodGhpcy5hdHRhY2htZW50c1swXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5jaGVja092ZXJoZWF0Q29uZGl0aW9uKCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnJvdGF0ZUF0dGFjaG1lbnRzQ2xvY2t3aXNlS2V5LmlzRG93bikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yb3RhdGVBdHRhY2htZW50c0Nsb2Nrd2lzZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnJvdGF0ZUF0dGFjaG1lbnRzQW50aUNsb2Nrd2lzZUtleS5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucm90YXRlQXR0YWNobWVudHNBbnRpQ2xvY2t3aXNlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuZGV0YWNoQXR0YWNobWVudEtleS5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQXR0YWNobWVudChBdHRhY2htZW50TG9jYXRpb24uZnJvbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQXR0YWNobWVudHMoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1cGRhdGVBdHRhY2htZW50cygpOiB2b2lkIHtcclxuICAgICAgICBmb3IgKHZhciBpPTA7IGk8dGhpcy5hdHRhY2htZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgYTogU2hpcEF0dGFjaG1lbnQgPSB0aGlzLmF0dGFjaG1lbnRzW2ldO1xyXG4gICAgICAgICAgICBpZiAoYSkge1xyXG4gICAgICAgICAgICAgICAgYS51cGRhdGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldHVwSW5wdXRIYW5kbGVycygpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnRocnVzdEtleSA9IHRoaXMuc2NlbmUuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KCdTUEFDRScsIHRydWUsIHRydWUpO1xyXG4gICAgICAgIHRoaXMuYm9vc3RLZXkgPSB0aGlzLnNjZW5lLmlucHV0LmtleWJvYXJkLmFkZEtleSgnVEFCJywgdHJ1ZSwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMucm90YXRlQXR0YWNobWVudHNDbG9ja3dpc2VLZXkgPSB0aGlzLnNjZW5lLmlucHV0LmtleWJvYXJkLmFkZEtleSgnRScsIHRydWUsIGZhbHNlKTtcclxuICAgICAgICB0aGlzLnJvdGF0ZUF0dGFjaG1lbnRzQW50aUNsb2Nrd2lzZUtleSA9IHRoaXMuc2NlbmUuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KCdRJywgdHJ1ZSwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuZGV0YWNoQXR0YWNobWVudEtleSA9IHRoaXMuc2NlbmUuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KCdYJywgdHJ1ZSwgZmFsc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogY2hlY2tzIGZvciBhbmQgYXBwbGllcyBkYW1hZ2UgYmFzZWQgb24gZGVncmVlcyBvdmVyIHNhZmUgdGVtcGVyYXR1cmUgYXQgYSByYXRlXHJcbiAgICAgKiBkZWZpbmVkIGJ5IHtDb25zdGFudHMuT1ZFUkhFQVRfQ0hFQ0tfSU5URVJWQUx9IG1pbGxpc2Vjb25kcyBiZXR3ZWVuIGVhY2ggY2hlY2suXHJcbiAgICAgKiBhbHNvIGFwcGxpZXMgY29vbGluZyBhdCBhIHJhdGUgb2Yge0NvbnN0YW50cy5DT09MSU5HX1JBVEV9XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgY2hlY2tPdmVyaGVhdENvbmRpdGlvbigpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5hY3RpdmUpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc2NlbmUuZ2FtZS5nZXRUaW1lKCkgPiB0aGlzLmxhc3RPdmVyaGVhdENoZWNrICsgQ29uc3RhbnRzLk9WRVJIRUFUX0NIRUNLX0lOVEVSVkFMKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50ZW1wZXJhdHVyZSA+IENvbnN0YW50cy5NQVhfVEVNUEVSQVRVUkUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3koKTsgLy8gd2UgYXJlIGRlYWRcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRlbXBlcmF0dXJlID4gQ29uc3RhbnRzLk1BWF9TQUZFX1RFTVBFUkFUVVJFKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVkdWNlIGludGVncml0eSBiYXNlZCBvbiBkZWdyZWVzIG92ZXIgc2FmZSBvcGVyYXRpbmcgdGVtcFxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBkZWx0YTogbnVtYmVyID0gKHRoaXMudGVtcGVyYXR1cmUgLSBDb25zdGFudHMuTUFYX1NBRkVfVEVNUEVSQVRVUkUpIC8gQ29uc3RhbnRzLk1BWF9TQUZFX1RFTVBFUkFUVVJFO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3VzdGFpbkRhbWFnZShkZWx0YSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGx5Q29vbGluZyhDb25zdGFudHMuQ09PTElOR19SQVRFKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubGFzdE92ZXJoZWF0Q2hlY2sgPSB0aGlzLnNjZW5lLmdhbWUuZ2V0VGltZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBsYXN0T3ZlcmhlYXRDaGVjazogbnVtYmVyID0gMDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRPRE86IG5lZWRlZCBzbyB3ZSBjYW4gdXNlIEZsb2F0aW5nIE9yaWdpblxyXG4gICAgICovXHJcbiAgICBnZXRSZWFsTG9jYXRpb24oKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0R2FtZU9iamVjdCgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUGhhc2VyLk1hdGguVmVjdG9yMih0aGlzLmdhbWVPYmoueCwgdGhpcy5nYW1lT2JqLnkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUGhhc2VyLk1hdGguVmVjdG9yMi5aRVJPO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogdGhlIGxvY2F0aW9uIHdpdGhpbiB0aGUgdmlld2FibGUgYXJlYVxyXG4gICAgICogQHJldHVybnMgYSB7UGhhc2VyLk1hdGguVmVjdG9yMn0gb2Zmc2V0IGZvciBsb2NhdGlvbiB3aXRoaW4gY3VycmVudCBcclxuICAgICAqIHZpZXdhYmxlIGFyZWFcclxuICAgICAqL1xyXG4gICAgZ2V0TG9jYXRpb24oKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0R2FtZU9iamVjdCgpKSB7XHJcbiAgICAgICAgICAgIGxldCBjYW1lcmFQb3M6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSB0aGlzLnNjZW5lLmNhbWVyYXMubWFpbi5nZXRXb3JsZFBvaW50KDAsIDApO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFBoYXNlci5NYXRoLlZlY3RvcjIodGhpcy5nYW1lT2JqLnggLSBjYW1lcmFQb3MueCwgdGhpcy5nYW1lT2JqLnkgLSBjYW1lcmFQb3MueSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBQaGFzZXIuTWF0aC5WZWN0b3IyLlpFUk87XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0SWQoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pZDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRHYW1lT2JqZWN0KCk6IFBoYXNlci5HYW1lT2JqZWN0cy5HYW1lT2JqZWN0IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nYW1lT2JqO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFBoeXNpY3NCb2R5KCk6IFBoYXNlci5QaHlzaWNzLkFyY2FkZS5Cb2R5IHtcclxuICAgICAgICBpZiAodGhpcy5nZXRHYW1lT2JqZWN0KCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0R2FtZU9iamVjdCgpLmJvZHkgYXMgUGhhc2VyLlBoeXNpY3MuQXJjYWRlLkJvZHk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFRhcmdldCh0YXJnZXQ6IEhhc0xvY2F0aW9uKSB7XHJcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VGFyZ2V0KCk6IEhhc0xvY2F0aW9uIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50YXJnZXQ7XHJcbiAgICB9XHJcblxyXG4gICAgbG9va0F0VGFyZ2V0KCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmdldFBoeXNpY3NCb2R5KCkpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0VGFyZ2V0KCkpIHtcclxuICAgICAgICAgICAgICAgIGxldCB0YXJnZXRQb3MgPSB0aGlzLmdldFRhcmdldCgpLmdldFJlYWxMb2NhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHNoaXBQb3MgPSB0aGlzLmdldFJlYWxMb2NhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHJhZGlhbnM6IG51bWJlciA9IFBoYXNlci5NYXRoLkFuZ2xlLkJldHdlZW4odGFyZ2V0UG9zLngsIHRhcmdldFBvcy55LCBzaGlwUG9zLngsIHNoaXBQb3MueSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGVncmVlczogbnVtYmVyID0gUGhhc2VyLk1hdGguUmFkVG9EZWcocmFkaWFucyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdldFBoeXNpY3NCb2R5KCkucm90YXRpb24gPSBkZWdyZWVzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogdGhlIHJvdGF0aW9uIG9mIHRoZSBTaGlwJ3Mge0dhbWVPYmplY3QuYm9keX0gaW4gZGVncmVlc1xyXG4gICAgICovXHJcbiAgICBnZXRSb3RhdGlvbigpOiBudW1iZXIge1xyXG4gICAgICAgIGlmICh0aGlzLmdldFBoeXNpY3NCb2R5KCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UGh5c2ljc0JvZHkoKS5yb3RhdGlvbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0SGVhZGluZygpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICByZXR1cm4gSGVscGVycy5nZXRIZWFkaW5nKHRoaXMuZ2V0UGh5c2ljc0JvZHkoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0U3BlZWQoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRWZWxvY2l0eSgpLmxlbmd0aCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFZlbG9jaXR5KCk6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIGlmICh0aGlzLmdldFBoeXNpY3NCb2R5KCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UGh5c2ljc0JvZHkoKS52ZWxvY2l0eS5jbG9uZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUGhhc2VyLk1hdGguVmVjdG9yMi5aRVJPO1xyXG4gICAgfVxyXG5cclxuICAgIHRocnVzdEZvd2FyZHMoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5hcHBseVRocnVzdChDb25zdGFudHMuVEhSVVNURVJfRk9SQ0UsIENvbnN0YW50cy5GVUVMX1BFUl9USFJVU1QsIENvbnN0YW50cy5IRUFUX1BFUl9USFJVU1QpO1xyXG4gICAgICAgIHRoaXMuZGlzcGxheVRocnVzdGVyRmlyZShDb25zdGFudHMuRmxhcmUueWVsbG93LCAwLjIsIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIGJvb3N0Rm9yd2FyZHMoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKEhlbHBlcnMubm93KCkgLSB0aGlzLmxhc3RCb29zdFRpbWUgPj0gQ29uc3RhbnRzLkJPT1NURVJfQ09PTERPV05fVElNRSkge1xyXG4gICAgICAgICAgICB0aGlzLmFwcGx5VGhydXN0KENvbnN0YW50cy5CT09TVEVSX0ZPUkNFLCBDb25zdGFudHMuRlVFTF9QRVJfQk9PU1QsIENvbnN0YW50cy5IRUFUX1BFUl9CT09TVCk7XHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheVRocnVzdGVyRmlyZShDb25zdGFudHMuRmxhcmUuYmx1ZSwgMSwgMTApO1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RCb29zdFRpbWUgPSBIZWxwZXJzLm5vdygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHByaXZhdGUgbGFzdEJvb3N0VGltZTogbnVtYmVyID0gMDtcclxuXHJcbiAgICBwcml2YXRlIGFwcGx5VGhydXN0KGZvcmNlOiBudW1iZXIsIGZ1ZWw6IG51bWJlciwgaGVhdDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0UmVtYWluaW5nRnVlbCgpID4gMCkge1xyXG4gICAgICAgICAgICBsZXQgaGVhZGluZzogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuZ2V0SGVhZGluZygpO1xyXG4gICAgICAgICAgICBsZXQgZGVsdGFWOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gaGVhZGluZy5tdWx0aXBseShuZXcgUGhhc2VyLk1hdGguVmVjdG9yMihmb3JjZSwgZm9yY2UpKTtcclxuICAgICAgICAgICAgdGhpcy5nZXRQaHlzaWNzQm9keSgpLnZlbG9jaXR5LmFkZChkZWx0YVYpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5yZWR1Y2VGdWVsKGZ1ZWwpO1xyXG4gICAgICAgICAgICB0aGlzLmFwcGx5SGVhdGluZyhoZWF0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBkaXNwbGF5VGhydXN0ZXJGaXJlKGNvbG91cjogQ29uc3RhbnRzLkZsYXJlLCBzdGFydFNjYWxlOiBudW1iZXIsIHF1YW50aXR5OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICAvLyBtYWtlIHRocnVzdGVyIGZpcmVcclxuICAgICAgICBsZXQgcG9zOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5nZXRSZWFsTG9jYXRpb24oKTtcclxuICAgICAgICBsZXQgb2Zmc2V0OiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gbmV3IFBoYXNlci5NYXRoLlZlY3RvcjIoMjAsIDApLmFkZChwb3MpO1xyXG4gICAgICAgIGxldCBoOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5nZXRIZWFkaW5nKCkubmVnYXRlKCk7XHJcbiAgICAgICAgbGV0IGxvYzogUGhhc2VyLkdlb20uUG9pbnQgPSBQaGFzZXIuTWF0aC5Sb3RhdGVBcm91bmQob2Zmc2V0LCBwb3MueCwgcG9zLnksIFBoYXNlci5NYXRoLkRlZ1RvUmFkKHRoaXMuZ2V0Um90YXRpb24oKSkpO1xyXG4gICAgICAgIGxldCB2OiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5nZXRWZWxvY2l0eSgpO1xyXG4gICAgICAgIHRoaXMudGhydXN0ZXJQYXJ0aWNsZXMuY3JlYXRlRW1pdHRlcih7XHJcbiAgICAgICAgICAgIGZyYW1lOiBjb2xvdXIgYXMgbnVtYmVyLFxyXG4gICAgICAgICAgICB4OiBsb2MueCxcclxuICAgICAgICAgICAgeTogbG9jLnksXHJcbiAgICAgICAgICAgIGxpZmVzcGFuOiB7IG1pbjogMjUwLCBtYXg6IDUwMCB9LFxyXG4gICAgICAgICAgICBzcGVlZFg6IHsgbWluOiBoLngqMTAwLCBtYXg6IGgueCo1MDAgfSxcclxuICAgICAgICAgICAgc3BlZWRZOiB7IG1pbjogaC55KjEwMCwgbWF4OiBoLnkqNTAwIH0sXHJcbiAgICAgICAgICAgIGFuZ2xlOiAwLFxyXG4gICAgICAgICAgICBncmF2aXR5WDogMCxcclxuICAgICAgICAgICAgZ3Jhdml0eVk6IDAsXHJcbiAgICAgICAgICAgIHNjYWxlOiB7IHN0YXJ0OiBzdGFydFNjYWxlLCBlbmQ6IDAgfSxcclxuICAgICAgICAgICAgcXVhbnRpdHk6IHF1YW50aXR5LFxyXG4gICAgICAgICAgICBibGVuZE1vZGU6ICdBREQnLFxyXG4gICAgICAgICAgICBtYXhQYXJ0aWNsZXM6IDEwXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RyYWZlTGVmdCgpOiB2b2lkIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgc3RyYWZlUmlnaHQoKTogdm9pZCB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHRocnVzdEJhY2t3YXJkcygpOiB2b2lkIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VGVtcGVyYXR1cmUoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50ZW1wZXJhdHVyZTtcclxuICAgIH1cclxuXHJcbiAgICBhcHBseUhlYXRpbmcoZGVncmVlczogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy50ZW1wZXJhdHVyZSArPSBkZWdyZWVzO1xyXG4gICAgfVxyXG5cclxuICAgIGFwcGx5Q29vbGluZyhkZWdyZWVzOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnRlbXBlcmF0dXJlIC09IGRlZ3JlZXM7XHJcbiAgICAgICAgaWYgKHRoaXMudGVtcGVyYXR1cmUgPCAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGVtcGVyYXR1cmUgPSAwO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZWR1Y2VGdWVsKGFtb3VudDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5yZW1haW5pbmdGdWVsIC09IGFtb3VudDtcclxuICAgICAgICBpZiAodGhpcy5yZW1haW5pbmdGdWVsIDwgMCkge1xyXG4gICAgICAgICAgICB0aGlzLnJlbWFpbmluZ0Z1ZWwgPSAwO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhZGRGdWVsKGFtb3VudDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5yZW1haW5pbmdGdWVsICs9IGFtb3VudDtcclxuICAgICAgICBpZiAodGhpcy5yZW1haW5pbmdGdWVsID4gQ29uc3RhbnRzLk1BWF9GVUVMKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVtYWluaW5nRnVlbCA9IENvbnN0YW50cy5NQVhfRlVFTDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UmVtYWluaW5nRnVlbCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJlbWFpbmluZ0Z1ZWw7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0SW50ZWdyaXR5KCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW50ZWdyaXR5O1xyXG4gICAgfVxyXG5cclxuICAgIHN1c3RhaW5EYW1hZ2UoYW1vdW50OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmludGVncml0eSAtPSBhbW91bnQ7XHJcbiAgICAgICAgaWYgKHRoaXMuaW50ZWdyaXR5IDw9IDApIHtcclxuICAgICAgICAgICAgdGhpcy5pbnRlZ3JpdHkgPSAwO1xyXG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3koKTsgLy8gd2UgYXJlIGRlYWRcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVwYWlyKGFtb3VudDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5pbnRlZ3JpdHkgPSBhbW91bnQ7XHJcbiAgICAgICAgaWYgKHRoaXMuaW50ZWdyaXR5ID4gQ29uc3RhbnRzLk1BWF9JTlRFR1JJVFkpIHtcclxuICAgICAgICAgICAgdGhpcy5pbnRlZ3JpdHkgPSBDb25zdGFudHMuTUFYX0lOVEVHUklUWTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcm90YXRlQXR0YWNobWVudHNDbG9ja3dpc2UoKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IGxhc3Q6IFNoaXBBdHRhY2htZW50ID0gdGhpcy5hdHRhY2htZW50cy5wb3AoKTsgLy8gcmVtb3ZlIGxhc3QgZWxlbWVudFxyXG4gICAgICAgIHRoaXMuYXR0YWNobWVudHMudW5zaGlmdChsYXN0KTsgLy8gcHVzaCBsYXN0IGVsZW1lbnQgb250byBzdGFydCBvZiBhcnJheVxyXG4gICAgICAgIHRoaXMudXBkYXRlQXR0YWNobWVudFBvc2l0aW9ucygpO1xyXG4gICAgfVxyXG5cclxuICAgIHJvdGF0ZUF0dGFjaG1lbnRzQW50aUNsb2Nrd2lzZSgpOiB2b2lkIHtcclxuICAgICAgICBsZXQgZmlyc3Q6IFNoaXBBdHRhY2htZW50ID0gdGhpcy5hdHRhY2htZW50cy5zaGlmdCgpOyAvLyByZW1vdmUgZmlyc3QgZWxlbWVudFxyXG4gICAgICAgIHRoaXMuYXR0YWNobWVudHMucHVzaChmaXJzdCk7IC8vIHB1c2ggZmlyc3QgZWxlbWVudCBvbnRvIGVuZCBvZiBhcnJheVxyXG4gICAgICAgIHRoaXMudXBkYXRlQXR0YWNobWVudFBvc2l0aW9ucygpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdXBkYXRlQXR0YWNobWVudFBvc2l0aW9ucygpOiB2b2lkIHtcclxuICAgICAgICBmb3IgKHZhciBpPTA7IGk8dGhpcy5hdHRhY2htZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5hdHRhY2htZW50c1tpXSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBBdHRhY2htZW50TG9jYXRpb24uZnJvbnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNobWVudHNbaV0uc2V0QXR0YWNobWVudExvY2F0aW9uKEF0dGFjaG1lbnRMb2NhdGlvbi5mcm9udCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQXR0YWNobWVudExvY2F0aW9uLmZyb250UmlnaHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNobWVudHNbaV0uc2V0QXR0YWNobWVudExvY2F0aW9uKEF0dGFjaG1lbnRMb2NhdGlvbi5mcm9udFJpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBBdHRhY2htZW50TG9jYXRpb24ucmlnaHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNobWVudHNbaV0uc2V0QXR0YWNobWVudExvY2F0aW9uKEF0dGFjaG1lbnRMb2NhdGlvbi5yaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQXR0YWNobWVudExvY2F0aW9uLmJhY2tSaWdodDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hdHRhY2htZW50c1tpXS5zZXRBdHRhY2htZW50TG9jYXRpb24oQXR0YWNobWVudExvY2F0aW9uLmJhY2tSaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQXR0YWNobWVudExvY2F0aW9uLmJhY2tMZWZ0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzW2ldLnNldEF0dGFjaG1lbnRMb2NhdGlvbihBdHRhY2htZW50TG9jYXRpb24uYmFja0xlZnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIEF0dGFjaG1lbnRMb2NhdGlvbi5sZWZ0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzW2ldLnNldEF0dGFjaG1lbnRMb2NhdGlvbihBdHRhY2htZW50TG9jYXRpb24ubGVmdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQXR0YWNobWVudExvY2F0aW9uLmZyb250TGVmdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hdHRhY2htZW50c1tpXS5zZXRBdHRhY2htZW50TG9jYXRpb24oQXR0YWNobWVudExvY2F0aW9uLmZyb250TGVmdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogYWRkcyB0aGUgcGFzc2VkIGluIHtTaGlwQXR0YWNobWVudH0gaW4ge0F0dGFjaG1lbnRMb2NhdGlvbi5mcm9udH0gb3JcclxuICAgICAqIHRoZSBmaXJzdCBvcGVuIHtBdHRhY2htZW50TG9jYXRpb259IGluIGEgY2xvY2t3aXNlIHNlYXJjaC4gaWYgbm8gb3BlblxyXG4gICAgICogc2xvdHMgZXhpc3QgdGhlbiB0aGUgZXhpc3Rpbmcge1NoaXBBdHRhY2htZW50fSBhdCB7QXR0YWNobWVudExvY2F0aW9uLmZyb250fVxyXG4gICAgICogaXMgZGV0YWNoZWQgYW5kIHJlcGxhY2VkIHdpdGggdGhlIHBhc3NlZCBpbiB7U2hpcEF0dGFjaG1lbnR9XHJcbiAgICAgKiBAcGFyYW0gYXR0YWNobWVudCB0aGUgYXR0YWNobWVudCB0byBiZSBhZGRlZFxyXG4gICAgICovXHJcbiAgICBhZGRBdHRhY2htZW50KGF0dGFjaG1lbnQ6IFNoaXBBdHRhY2htZW50KTogdm9pZCB7XHJcbiAgICAgICAgbGV0IGF0dGFjaGVkOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPEhlbHBlcnMuZW51bUxlbmd0aChBdHRhY2htZW50TG9jYXRpb24pOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmF0dGFjaG1lbnRzW2ldKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbG9jOiBBdHRhY2htZW50TG9jYXRpb247XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIEF0dGFjaG1lbnRMb2NhdGlvbi5mcm9udDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jID0gQXR0YWNobWVudExvY2F0aW9uLmZyb250O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIEF0dGFjaG1lbnRMb2NhdGlvbi5mcm9udFJpZ2h0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2MgPSBBdHRhY2htZW50TG9jYXRpb24uZnJvbnRSaWdodDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBBdHRhY2htZW50TG9jYXRpb24ucmlnaHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYyA9IEF0dGFjaG1lbnRMb2NhdGlvbi5yaWdodDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBBdHRhY2htZW50TG9jYXRpb24uYmFja1JpZ2h0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2MgPSBBdHRhY2htZW50TG9jYXRpb24uYmFja1JpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIEF0dGFjaG1lbnRMb2NhdGlvbi5iYWNrTGVmdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jID0gQXR0YWNobWVudExvY2F0aW9uLmJhY2tMZWZ0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIEF0dGFjaG1lbnRMb2NhdGlvbi5sZWZ0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2MgPSBBdHRhY2htZW50TG9jYXRpb24ubGVmdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBBdHRhY2htZW50TG9jYXRpb24uZnJvbnRMZWZ0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2MgPSBBdHRhY2htZW50TG9jYXRpb24uZnJvbnRMZWZ0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNobWVudHNbaV0gPSBhdHRhY2htZW50O1xyXG4gICAgICAgICAgICAgICAgYXR0YWNobWVudC5hdHRhY2godGhpcywgbG9jKTtcclxuICAgICAgICAgICAgICAgIGF0dGFjaGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFhdHRhY2hlZCkge1xyXG4gICAgICAgICAgICAvLyBkZXRhY2ggY3VycmVudCBmcm9udCBhdHRhY2htZW50XHJcbiAgICAgICAgICAgIHRoaXMuYXR0YWNobWVudHNbQXR0YWNobWVudExvY2F0aW9uLmZyb250XS5kZXRhY2goKTtcclxuICAgICAgICAgICAgdGhpcy5hdHRhY2htZW50c1tBdHRhY2htZW50TG9jYXRpb24uZnJvbnRdID0gYXR0YWNobWVudDtcclxuICAgICAgICAgICAgYXR0YWNobWVudC5hdHRhY2godGhpcywgQXR0YWNobWVudExvY2F0aW9uLmZyb250KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZ2FtZU9iai5hZGQoYXR0YWNobWVudC5nZXRHYW1lT2JqZWN0KCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZUF0dGFjaG1lbnQobG9jYXRpb246IEF0dGFjaG1lbnRMb2NhdGlvbik6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmF0dGFjaG1lbnRzW2xvY2F0aW9uXSkge1xyXG4gICAgICAgICAgICBsZXQgYm9keTogUGhhc2VyLlBoeXNpY3MuQXJjYWRlLkJvZHkgPSB0aGlzLmF0dGFjaG1lbnRzW2xvY2F0aW9uXS5nZXRQaHlzaWNzQm9keSgpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgbGV0IGdvOiBQaGFzZXIuR2FtZU9iamVjdHMuR2FtZU9iamVjdCA9IHRoaXMuYXR0YWNobWVudHNbbG9jYXRpb25dLmdldEdhbWVPYmplY3QoKTtcclxuICAgICAgICAgICAgdGhpcy5nYW1lT2JqLnJlbW92ZShnbywgZmFsc2UpO1xyXG4gICAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzW2xvY2F0aW9uXS5kZXRhY2goKTtcclxuICAgICAgICAgICAgdGhpcy5hdHRhY2htZW50c1tsb2NhdGlvbl0gPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgLy8gbW92ZSBhdHRhY2htZW50IHRvIHNoaXAgbG9jYXRpb24gYW5kIHJvdGF0aW9uIGFuZCBhcHBseSBjdXJyZW50IHZlbG9jaXR5XHJcbiAgICAgICAgICAgIGJvZHkucG9zaXRpb24gPSB0aGlzLmdldFJlYWxMb2NhdGlvbigpO1xyXG4gICAgICAgICAgICBsZXQgc2hpcFZlbG9jaXR5VmVjdG9yOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5nZXRQaHlzaWNzQm9keSgpLnZlbG9jaXR5O1xyXG4gICAgICAgICAgICBib2R5LnNldFZlbG9jaXR5KHNoaXBWZWxvY2l0eVZlY3Rvci54LCBzaGlwVmVsb2NpdHlWZWN0b3IueSk7XHJcbiAgICAgICAgICAgIGJvZHkucm90YXRpb24gPSB0aGlzLmdldFJvdGF0aW9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRocm93QXR0YWNobWVudChhdHRhY2htZW50OiBTaGlwQXR0YWNobWVudCk6IHZvaWQge1xyXG4gICAgICAgIGlmIChhdHRhY2htZW50KSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGk9MDsgaTx0aGlzLmF0dGFjaG1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hdHRhY2htZW50c1tpXSAmJiB0aGlzLmF0dGFjaG1lbnRzW2ldID09IGF0dGFjaG1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUF0dGFjaG1lbnQoaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgYXR0YWNobWVudC50aHJvdygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldEF0dGFjaG1lbnRzKCk6IFNoaXBBdHRhY2htZW50W10ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmF0dGFjaG1lbnRzO1xyXG4gICAgfVxyXG5cclxuICAgIGRlc3Ryb3koKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmRpc3BsYXlTaGlwRXhwbG9zaW9uKCk7XHJcbiAgICAgICAgdGhpcy5nZXRHYW1lT2JqZWN0KCkuZGVzdHJveSgpO1xyXG4gICAgICAgIHRoaXMuZ2FtZU9iaiA9IG51bGw7XHJcbiAgICAgICAgLy8gVE9ETzogc2lnbmFsIGVuZCBvZiBnYW1lIGFuZCBkaXNwbGF5IG1lbnVcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGRpc3BsYXlTaGlwRXhwbG9zaW9uKCk6IHZvaWQge1xyXG4gICAgICAgIGxldCBwb3M6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSB0aGlzLmdldFJlYWxMb2NhdGlvbigpO1xyXG4gICAgICAgIHRoaXMuZXhwbG9zaW9uUGFydGljbGVzLmNyZWF0ZUVtaXR0ZXIoe1xyXG4gICAgICAgICAgICB4OiBwb3MueCxcclxuICAgICAgICAgICAgeTogcG9zLnksXHJcbiAgICAgICAgICAgIGxpZmVzcGFuOiB7IG1pbjogNTAwLCBtYXg6IDEwMDAgfSxcclxuICAgICAgICAgICAgc3BlZWRYOiB7IG1pbjogLTEsIG1heDogMSB9LFxyXG4gICAgICAgICAgICBzcGVlZFk6IHsgbWluOiAtMSwgbWF4OiAxIH0sXHJcbiAgICAgICAgICAgIGFuZ2xlOiB7IG1pbjogLTE4MCwgbWF4OiAxNzkgfSxcclxuICAgICAgICAgICAgZ3Jhdml0eVg6IDAsXHJcbiAgICAgICAgICAgIGdyYXZpdHlZOiAwLFxyXG4gICAgICAgICAgICBzY2FsZTogeyBzdGFydDogMSwgZW5kOiAwIH0sXHJcbiAgICAgICAgICAgIGJsZW5kTW9kZTogJ0FERCcsXHJcbiAgICAgICAgICAgIG1heFBhcnRpY2xlczogM1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMudGhydXN0ZXJQYXJ0aWNsZXMuY3JlYXRlRW1pdHRlcih7XHJcbiAgICAgICAgICAgIGZyYW1lOiBDb25zdGFudHMuRmxhcmUucmVkIGFzIG51bWJlcixcclxuICAgICAgICAgICAgeDogcG9zLngsXHJcbiAgICAgICAgICAgIHk6IHBvcy55LFxyXG4gICAgICAgICAgICBsaWZlc3BhbjogeyBtaW46IDEwMCwgbWF4OiA1MDAgfSxcclxuICAgICAgICAgICAgc3BlZWRYOiB7IG1pbjogLTYwMCwgbWF4OiA2MDAgfSxcclxuICAgICAgICAgICAgc3BlZWRZOiB7IG1pbjogLTYwMCwgbWF4OiA2MDAgfSxcclxuICAgICAgICAgICAgYW5nbGU6IHsgbWluOiAtMTgwLCBtYXg6IDE3OSB9LFxyXG4gICAgICAgICAgICBncmF2aXR5WDogMCxcclxuICAgICAgICAgICAgZ3Jhdml0eVk6IDAsXHJcbiAgICAgICAgICAgIHNjYWxlOiB7IHN0YXJ0OiAxLCBlbmQ6IDAgfSxcclxuICAgICAgICAgICAgYmxlbmRNb2RlOiAnQUREJyxcclxuICAgICAgICAgICAgbWF4UGFydGljbGVzOiAxMFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX18xMF9fOyIsImltcG9ydCB7IHY0IH0gZnJvbSBcInV1aWRcIjtcclxuXHJcbmV4cG9ydCBtb2R1bGUgUk5HIHtcclxuICAgIGV4cG9ydCBmdW5jdGlvbiBpbnQobWluOiBudW1iZXIsIG1heDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbjtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gZ3VpZCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB2NCgpO1xyXG4gICAgfVxyXG59IiwidmFyIHYxID0gcmVxdWlyZSgnLi92MScpO1xudmFyIHY0ID0gcmVxdWlyZSgnLi92NCcpO1xuXG52YXIgdXVpZCA9IHY0O1xudXVpZC52MSA9IHYxO1xudXVpZC52NCA9IHY0O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHV1aWQ7XG4iLCJ2YXIgcm5nID0gcmVxdWlyZSgnLi9saWIvcm5nJyk7XG52YXIgYnl0ZXNUb1V1aWQgPSByZXF1aXJlKCcuL2xpYi9ieXRlc1RvVXVpZCcpO1xuXG4vLyAqKmB2MSgpYCAtIEdlbmVyYXRlIHRpbWUtYmFzZWQgVVVJRCoqXG4vL1xuLy8gSW5zcGlyZWQgYnkgaHR0cHM6Ly9naXRodWIuY29tL0xpb3NLL1VVSUQuanNcbi8vIGFuZCBodHRwOi8vZG9jcy5weXRob24ub3JnL2xpYnJhcnkvdXVpZC5odG1sXG5cbnZhciBfbm9kZUlkO1xudmFyIF9jbG9ja3NlcTtcblxuLy8gUHJldmlvdXMgdXVpZCBjcmVhdGlvbiB0aW1lXG52YXIgX2xhc3RNU2VjcyA9IDA7XG52YXIgX2xhc3ROU2VjcyA9IDA7XG5cbi8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdXVpZGpzL3V1aWQgZm9yIEFQSSBkZXRhaWxzXG5mdW5jdGlvbiB2MShvcHRpb25zLCBidWYsIG9mZnNldCkge1xuICB2YXIgaSA9IGJ1ZiAmJiBvZmZzZXQgfHwgMDtcbiAgdmFyIGIgPSBidWYgfHwgW107XG5cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHZhciBub2RlID0gb3B0aW9ucy5ub2RlIHx8IF9ub2RlSWQ7XG4gIHZhciBjbG9ja3NlcSA9IG9wdGlvbnMuY2xvY2tzZXEgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY2xvY2tzZXEgOiBfY2xvY2tzZXE7XG5cbiAgLy8gbm9kZSBhbmQgY2xvY2tzZXEgbmVlZCB0byBiZSBpbml0aWFsaXplZCB0byByYW5kb20gdmFsdWVzIGlmIHRoZXkncmUgbm90XG4gIC8vIHNwZWNpZmllZC4gIFdlIGRvIHRoaXMgbGF6aWx5IHRvIG1pbmltaXplIGlzc3VlcyByZWxhdGVkIHRvIGluc3VmZmljaWVudFxuICAvLyBzeXN0ZW0gZW50cm9weS4gIFNlZSAjMTg5XG4gIGlmIChub2RlID09IG51bGwgfHwgY2xvY2tzZXEgPT0gbnVsbCkge1xuICAgIHZhciBzZWVkQnl0ZXMgPSBybmcoKTtcbiAgICBpZiAobm9kZSA9PSBudWxsKSB7XG4gICAgICAvLyBQZXIgNC41LCBjcmVhdGUgYW5kIDQ4LWJpdCBub2RlIGlkLCAoNDcgcmFuZG9tIGJpdHMgKyBtdWx0aWNhc3QgYml0ID0gMSlcbiAgICAgIG5vZGUgPSBfbm9kZUlkID0gW1xuICAgICAgICBzZWVkQnl0ZXNbMF0gfCAweDAxLFxuICAgICAgICBzZWVkQnl0ZXNbMV0sIHNlZWRCeXRlc1syXSwgc2VlZEJ5dGVzWzNdLCBzZWVkQnl0ZXNbNF0sIHNlZWRCeXRlc1s1XVxuICAgICAgXTtcbiAgICB9XG4gICAgaWYgKGNsb2Nrc2VxID09IG51bGwpIHtcbiAgICAgIC8vIFBlciA0LjIuMiwgcmFuZG9taXplICgxNCBiaXQpIGNsb2Nrc2VxXG4gICAgICBjbG9ja3NlcSA9IF9jbG9ja3NlcSA9IChzZWVkQnl0ZXNbNl0gPDwgOCB8IHNlZWRCeXRlc1s3XSkgJiAweDNmZmY7XG4gICAgfVxuICB9XG5cbiAgLy8gVVVJRCB0aW1lc3RhbXBzIGFyZSAxMDAgbmFuby1zZWNvbmQgdW5pdHMgc2luY2UgdGhlIEdyZWdvcmlhbiBlcG9jaCxcbiAgLy8gKDE1ODItMTAtMTUgMDA6MDApLiAgSlNOdW1iZXJzIGFyZW4ndCBwcmVjaXNlIGVub3VnaCBmb3IgdGhpcywgc29cbiAgLy8gdGltZSBpcyBoYW5kbGVkIGludGVybmFsbHkgYXMgJ21zZWNzJyAoaW50ZWdlciBtaWxsaXNlY29uZHMpIGFuZCAnbnNlY3MnXG4gIC8vICgxMDAtbmFub3NlY29uZHMgb2Zmc2V0IGZyb20gbXNlY3MpIHNpbmNlIHVuaXggZXBvY2gsIDE5NzAtMDEtMDEgMDA6MDAuXG4gIHZhciBtc2VjcyA9IG9wdGlvbnMubXNlY3MgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubXNlY3MgOiBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblxuICAvLyBQZXIgNC4yLjEuMiwgdXNlIGNvdW50IG9mIHV1aWQncyBnZW5lcmF0ZWQgZHVyaW5nIHRoZSBjdXJyZW50IGNsb2NrXG4gIC8vIGN5Y2xlIHRvIHNpbXVsYXRlIGhpZ2hlciByZXNvbHV0aW9uIGNsb2NrXG4gIHZhciBuc2VjcyA9IG9wdGlvbnMubnNlY3MgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubnNlY3MgOiBfbGFzdE5TZWNzICsgMTtcblxuICAvLyBUaW1lIHNpbmNlIGxhc3QgdXVpZCBjcmVhdGlvbiAoaW4gbXNlY3MpXG4gIHZhciBkdCA9IChtc2VjcyAtIF9sYXN0TVNlY3MpICsgKG5zZWNzIC0gX2xhc3ROU2VjcykvMTAwMDA7XG5cbiAgLy8gUGVyIDQuMi4xLjIsIEJ1bXAgY2xvY2tzZXEgb24gY2xvY2sgcmVncmVzc2lvblxuICBpZiAoZHQgPCAwICYmIG9wdGlvbnMuY2xvY2tzZXEgPT09IHVuZGVmaW5lZCkge1xuICAgIGNsb2Nrc2VxID0gY2xvY2tzZXEgKyAxICYgMHgzZmZmO1xuICB9XG5cbiAgLy8gUmVzZXQgbnNlY3MgaWYgY2xvY2sgcmVncmVzc2VzIChuZXcgY2xvY2tzZXEpIG9yIHdlJ3ZlIG1vdmVkIG9udG8gYSBuZXdcbiAgLy8gdGltZSBpbnRlcnZhbFxuICBpZiAoKGR0IDwgMCB8fCBtc2VjcyA+IF9sYXN0TVNlY3MpICYmIG9wdGlvbnMubnNlY3MgPT09IHVuZGVmaW5lZCkge1xuICAgIG5zZWNzID0gMDtcbiAgfVxuXG4gIC8vIFBlciA0LjIuMS4yIFRocm93IGVycm9yIGlmIHRvbyBtYW55IHV1aWRzIGFyZSByZXF1ZXN0ZWRcbiAgaWYgKG5zZWNzID49IDEwMDAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd1dWlkLnYxKCk6IENhblxcJ3QgY3JlYXRlIG1vcmUgdGhhbiAxME0gdXVpZHMvc2VjJyk7XG4gIH1cblxuICBfbGFzdE1TZWNzID0gbXNlY3M7XG4gIF9sYXN0TlNlY3MgPSBuc2VjcztcbiAgX2Nsb2Nrc2VxID0gY2xvY2tzZXE7XG5cbiAgLy8gUGVyIDQuMS40IC0gQ29udmVydCBmcm9tIHVuaXggZXBvY2ggdG8gR3JlZ29yaWFuIGVwb2NoXG4gIG1zZWNzICs9IDEyMjE5MjkyODAwMDAwO1xuXG4gIC8vIGB0aW1lX2xvd2BcbiAgdmFyIHRsID0gKChtc2VjcyAmIDB4ZmZmZmZmZikgKiAxMDAwMCArIG5zZWNzKSAlIDB4MTAwMDAwMDAwO1xuICBiW2krK10gPSB0bCA+Pj4gMjQgJiAweGZmO1xuICBiW2krK10gPSB0bCA+Pj4gMTYgJiAweGZmO1xuICBiW2krK10gPSB0bCA+Pj4gOCAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRsICYgMHhmZjtcblxuICAvLyBgdGltZV9taWRgXG4gIHZhciB0bWggPSAobXNlY3MgLyAweDEwMDAwMDAwMCAqIDEwMDAwKSAmIDB4ZmZmZmZmZjtcbiAgYltpKytdID0gdG1oID4+PiA4ICYgMHhmZjtcbiAgYltpKytdID0gdG1oICYgMHhmZjtcblxuICAvLyBgdGltZV9oaWdoX2FuZF92ZXJzaW9uYFxuICBiW2krK10gPSB0bWggPj4+IDI0ICYgMHhmIHwgMHgxMDsgLy8gaW5jbHVkZSB2ZXJzaW9uXG4gIGJbaSsrXSA9IHRtaCA+Pj4gMTYgJiAweGZmO1xuXG4gIC8vIGBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkYCAoUGVyIDQuMi4yIC0gaW5jbHVkZSB2YXJpYW50KVxuICBiW2krK10gPSBjbG9ja3NlcSA+Pj4gOCB8IDB4ODA7XG5cbiAgLy8gYGNsb2NrX3NlcV9sb3dgXG4gIGJbaSsrXSA9IGNsb2Nrc2VxICYgMHhmZjtcblxuICAvLyBgbm9kZWBcbiAgZm9yICh2YXIgbiA9IDA7IG4gPCA2OyArK24pIHtcbiAgICBiW2kgKyBuXSA9IG5vZGVbbl07XG4gIH1cblxuICByZXR1cm4gYnVmID8gYnVmIDogYnl0ZXNUb1V1aWQoYik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdjE7XG4iLCJ2YXIgcm5nID0gcmVxdWlyZSgnLi9saWIvcm5nJyk7XG52YXIgYnl0ZXNUb1V1aWQgPSByZXF1aXJlKCcuL2xpYi9ieXRlc1RvVXVpZCcpO1xuXG5mdW5jdGlvbiB2NChvcHRpb25zLCBidWYsIG9mZnNldCkge1xuICB2YXIgaSA9IGJ1ZiAmJiBvZmZzZXQgfHwgMDtcblxuICBpZiAodHlwZW9mKG9wdGlvbnMpID09ICdzdHJpbmcnKSB7XG4gICAgYnVmID0gb3B0aW9ucyA9PT0gJ2JpbmFyeScgPyBuZXcgQXJyYXkoMTYpIDogbnVsbDtcbiAgICBvcHRpb25zID0gbnVsbDtcbiAgfVxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICB2YXIgcm5kcyA9IG9wdGlvbnMucmFuZG9tIHx8IChvcHRpb25zLnJuZyB8fCBybmcpKCk7XG5cbiAgLy8gUGVyIDQuNCwgc2V0IGJpdHMgZm9yIHZlcnNpb24gYW5kIGBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkYFxuICBybmRzWzZdID0gKHJuZHNbNl0gJiAweDBmKSB8IDB4NDA7XG4gIHJuZHNbOF0gPSAocm5kc1s4XSAmIDB4M2YpIHwgMHg4MDtcblxuICAvLyBDb3B5IGJ5dGVzIHRvIGJ1ZmZlciwgaWYgcHJvdmlkZWRcbiAgaWYgKGJ1Zikge1xuICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCAxNjsgKytpaSkge1xuICAgICAgYnVmW2kgKyBpaV0gPSBybmRzW2lpXTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYnVmIHx8IGJ5dGVzVG9VdWlkKHJuZHMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHY0O1xuIiwiaW1wb3J0IHsgU2hpcEF0dGFjaG1lbnQgfSBmcm9tIFwiLi4vc2hpcC1hdHRhY2htZW50XCI7XHJcbmltcG9ydCB7IENhblNob290IH0gZnJvbSBcIi4uLy4uLy4uL2ludGVyZmFjZXMvY2FuLXNob290XCI7XHJcbmltcG9ydCB7IEdsb2JhbHMgfSBmcm9tIFwiLi4vLi4vLi4vdXRpbGl0aWVzL2dsb2JhbHNcIjtcclxuaW1wb3J0IHsgQnVsbGV0IH0gZnJvbSBcIi4vYnVsbGV0XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ2Fubm9uQXR0YWNobWVudCBleHRlbmRzIFNoaXBBdHRhY2htZW50IGltcGxlbWVudHMgQ2FuU2hvb3Qge1xyXG4gICAgcHJpdmF0ZSBtYXhBbW1vOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHJlbWFpbmluZ0FtbW86IG51bWJlcjtcclxuICAgIHByaXZhdGUgY29vbGRvd25UaW1lOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIGZpcmluZ0RlbGF5OiBudW1iZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3Ioc2NlbmU6IFBoYXNlci5TY2VuZSkge1xyXG4gICAgICAgIHN1cGVyKHNjZW5lKTtcclxuXHJcbiAgICAgICAgdGhpcy5tYXhBbW1vID0gNTAwO1xyXG4gICAgICAgIHRoaXMucmVtYWluaW5nQW1tbyA9IHRoaXMubWF4QW1tbztcclxuICAgICAgICB0aGlzLmNvb2xkb3duVGltZSA9IDA7XHJcbiAgICAgICAgdGhpcy5maXJpbmdEZWxheSA9IDEwMDA7IC8vIG1pbGxpc2Vjb25kc1xyXG5cclxuICAgICAgICB0aGlzLmdhbWVPYmogPSB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLnNwcml0ZSgwLCAwLCAnY2Fubm9uJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVsb2FkKGFtb3VudDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5yZW1haW5pbmdBbW1vICs9IGFtb3VudDtcclxuICAgICAgICBpZiAodGhpcy5yZW1haW5pbmdBbW1vID4gdGhpcy5tYXhBbW1vKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVtYWluaW5nQW1tbyA9IHRoaXMubWF4QW1tbztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UmVtYWluaW5nQW1tbygpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJlbWFpbmluZ0FtbW87XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIHRyaWdnZXIoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZmlyZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmaXJlKGRpcmVjdGlvbj86IFBoYXNlci5NYXRoLlZlY3RvcjIpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5hY3RpdmUpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0UmVtYWluaW5nQW1tbygpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2NlbmUuZ2FtZS5nZXRUaW1lKCkgPiB0aGlzLmNvb2xkb3duVGltZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBsb2M6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSB0aGlzLmdldFJlYWxMb2NhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBCdWxsZXQodGhpcy5zY2VuZSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB4OiBsb2MueCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeTogbG9jLnksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcmNlOiAzMDAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmdsZTogdGhpcy5nZXRSb3RhdGlvbigpXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb29sZG93blRpbWUgPSB0aGlzLnNjZW5lLmdhbWUuZ2V0VGltZSgpICsgdGhpcy5maXJpbmdEZWxheTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IFNoaXBQb2QgfSBmcm9tIFwiLi4vc2hpcC1wb2RcIjtcclxuaW1wb3J0IHsgSGFzR2FtZU9iamVjdCB9IGZyb20gXCIuLi8uLi9pbnRlcmZhY2VzL2hhcy1nYW1lLW9iamVjdFwiO1xyXG5pbXBvcnQgeyBVcGRhdGFibGUgfSBmcm9tIFwiLi4vLi4vaW50ZXJmYWNlcy91cGRhdGFibGVcIjtcclxuaW1wb3J0IHsgSGFzTG9jYXRpb24gfSBmcm9tIFwiLi4vLi4vaW50ZXJmYWNlcy9oYXMtbG9jYXRpb25cIjtcclxuaW1wb3J0IHsgSGFzSW50ZWdyaXR5IH0gZnJvbSBcIi4uLy4uL2ludGVyZmFjZXMvaGFzLWludGVncml0eVwiO1xyXG5pbXBvcnQgeyBDb25zdGFudHMgfSBmcm9tIFwiLi4vLi4vdXRpbGl0aWVzL2NvbnN0YW50c1wiO1xyXG5pbXBvcnQgeyBBdHRhY2htZW50TG9jYXRpb24gfSBmcm9tIFwiLi9hdHRhY2htZW50LWxvY2F0aW9uXCI7XHJcbmltcG9ydCB7IEhlbHBlcnMgfSBmcm9tIFwiLi4vLi4vdXRpbGl0aWVzL2hlbHBlcnNcIjtcclxuaW1wb3J0IHsgSGFzUGh5c2ljc0dhbWVPYmplY3QgfSBmcm9tIFwiLi4vLi4vaW50ZXJmYWNlcy9oYXMtcGh5c2ljcy1nYW1lLW9iamVjdFwiO1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFNoaXBBdHRhY2htZW50IGltcGxlbWVudHMgVXBkYXRhYmxlLCBIYXNHYW1lT2JqZWN0LCBIYXNQaHlzaWNzR2FtZU9iamVjdCwgSGFzTG9jYXRpb24sIEhhc0ludGVncml0eSB7XHJcbiAgICBwcm90ZWN0ZWQgc2hpcDogU2hpcFBvZDtcclxuICAgIHByb3RlY3RlZCBzY2VuZTogUGhhc2VyLlNjZW5lO1xyXG4gICAgcHJvdGVjdGVkIGdhbWVPYmo6IFBoYXNlci5QaHlzaWNzLkFyY2FkZS5TcHJpdGU7XHJcbiAgICBwcm90ZWN0ZWQgaW50ZWdyaXR5OiBudW1iZXI7XHJcbiAgICBwcm90ZWN0ZWQgYXR0YWNobWVudExvY2F0aW9uOiBBdHRhY2htZW50TG9jYXRpb247XHJcbiAgICBwcm90ZWN0ZWQgaXNUaHJvd246IGJvb2xlYW47XHJcblxyXG4gICAgYWN0aXZlOiBib29sZWFuO1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZTogUGhhc2VyLlNjZW5lKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmludGVncml0eSA9IENvbnN0YW50cy5NQVhfSU5URUdSSVRZO1xyXG4gICAgICAgIHRoaXMuaXNUaHJvd24gPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBhdHRhY2goc2hpcDogU2hpcFBvZCwgbG9jYXRpb24/OiBBdHRhY2htZW50TG9jYXRpb24pOiB2b2lkIHtcclxuICAgICAgICBpZiAoIWxvY2F0aW9uKSB7XHJcbiAgICAgICAgICAgIGxvY2F0aW9uID0gQXR0YWNobWVudExvY2F0aW9uLmZyb250O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNoaXAgPSBzaGlwO1xyXG4gICAgICAgIHRoaXMuc2V0QXR0YWNobWVudExvY2F0aW9uKGxvY2F0aW9uKTtcclxuICAgICAgICBsZXQgY2VudHJlOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5zaGlwLmdldFJlYWxMb2NhdGlvbigpO1xyXG4gICAgICAgIHRoaXMuZ2V0UGh5c2ljc0JvZHkoKS5wb3NpdGlvbiA9IGNlbnRyZTsgLy8gY2VudHJlIG9uIHNoaXAgbG9jYXRpb25cclxuICAgICAgICB0aGlzLmdldFBoeXNpY3NCb2R5KCkucm90YXRpb24gPSB0aGlzLnNoaXAuZ2V0Um90YXRpb24oKTsgLy8gc2V0IGhlYWRpbmcgdG8gbWF0Y2ggc2hpcFxyXG4gICAgICAgIC8vIFRPRE86IG9mZnNldCBhdHRhY2htZW50IGJ5IFhYIHVuaXRzIGluIHRoZSBmb3J3YXJkIGRpcmVjdGlvblxyXG4gICAgfVxyXG5cclxuICAgIGRldGFjaCgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnNoaXAgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuYXR0YWNobWVudExvY2F0aW9uID0gbnVsbDtcclxuICAgICAgICBsZXQgZ286IFBoYXNlci5HYW1lT2JqZWN0cy5HYW1lT2JqZWN0ID0gdGhpcy5nZXRHYW1lT2JqZWN0KCk7XHJcbiAgICAgICAgZ28uc2V0QWN0aXZlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuc2NlbmUuYWRkLmV4aXN0aW5nKGdvKTtcclxuICAgIH1cclxuXHJcbiAgICB0aHJvdygpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmlzVGhyb3duID0gdHJ1ZTtcclxuICAgICAgICBsZXQgZGVsdGFWID0gdGhpcy5nZXRIZWFkaW5nKCk7XHJcbiAgICAgICAgZGVsdGFWLm11bHRpcGx5KG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKENvbnN0YW50cy5USFJPV19GT1JDRSwgQ29uc3RhbnRzLlRIUk9XX0ZPUkNFKSk7XHJcbiAgICAgICAgaWYgKHRoaXMuc2hpcCkge1xyXG4gICAgICAgICAgICBkZWx0YVYuYWRkKHRoaXMuc2hpcC5nZXRQaHlzaWNzQm9keSgpLnZlbG9jaXR5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gYWRkIHRocm93IGZvcmNlIHRvIGN1cnJlbnQgdmVsb2NpdHlcclxuICAgICAgICB0aGlzLmdldFBoeXNpY3NCb2R5KCkudmVsb2NpdHkuYWRkKGRlbHRhVik7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGdldEdhbWVPYmplY3QoKTogUGhhc2VyLkdhbWVPYmplY3RzLkdhbWVPYmplY3Qge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdhbWVPYmo7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UGh5c2ljc0JvZHkoKTogUGhhc2VyLlBoeXNpY3MuQXJjYWRlLkJvZHkge1xyXG4gICAgICAgIGlmICh0aGlzLmdldEdhbWVPYmplY3QoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRHYW1lT2JqZWN0KCkuYm9keSBhcyBQaGFzZXIuUGh5c2ljcy5BcmNhZGUuQm9keTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgYWJzdHJhY3QgdXBkYXRlKCk6IHZvaWQ7XHJcblxyXG4gICAgYWJzdHJhY3QgdHJpZ2dlcigpOiB2b2lkO1xyXG5cclxuICAgIGdldFJvdGF0aW9uKCk6IG51bWJlciB7XHJcbiAgICAgICAgbGV0IHJvdGF0aW9uOiBudW1iZXIgPSB0aGlzLmdhbWVPYmoucm90YXRpb247XHJcbiAgICAgICAgaWYgKHRoaXMuc2hpcCkge1xyXG4gICAgICAgICAgICByb3RhdGlvbiArPSB0aGlzLnNoaXAuZ2V0Um90YXRpb24oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJvdGF0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmV0dXJucyBhIG5vcm1hbGlzZWQge1BoYXNlci5NYXRoLlZlY3RvcjJ9IHJlcHJlc2VudGluZyBcclxuICAgICAqIHRoZSBkaXJlY3Rpb24gdGhpcyBvYmplY3Qgd291bGQgdHJhdmVsXHJcbiAgICAgKi9cclxuICAgIGdldEhlYWRpbmcoKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgbGV0IGhlYWRpbmc6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSBIZWxwZXJzLmdldEhlYWRpbmcodGhpcy5nZXRQaHlzaWNzQm9keSgpKTtcclxuICAgICAgICBpZiAodGhpcy5zaGlwKSB7XHJcbiAgICAgICAgICAgIGhlYWRpbmcuYWRkKHRoaXMuc2hpcC5nZXRIZWFkaW5nKCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaGVhZGluZztcclxuICAgIH1cclxuXHJcbiAgICBnZXRTcGVlZCgpOiBudW1iZXIge1xyXG4gICAgICAgIGxldCBzcGVlZDogbnVtYmVyID0gdGhpcy5nZXRWZWxvY2l0eSgpLmxlbmd0aCgpO1xyXG4gICAgICAgIGlmICh0aGlzLnNoaXApIHtcclxuICAgICAgICAgICAgc3BlZWQgKz0gdGhpcy5zaGlwLmdldFNwZWVkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzcGVlZDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRWZWxvY2l0eSgpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICBpZiAodGhpcy5nZXRQaHlzaWNzQm9keSgpKSB7XHJcbiAgICAgICAgICAgIGxldCB2ZWxvY2l0eTogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuZ2V0UGh5c2ljc0JvZHkoKS52ZWxvY2l0eS5jbG9uZSgpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zaGlwKSB7XHJcbiAgICAgICAgICAgICAgICB2ZWxvY2l0eS5hZGQodGhpcy5zaGlwLmdldFZlbG9jaXR5KCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB2ZWxvY2l0eTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFBoYXNlci5NYXRoLlZlY3RvcjIuWkVSTztcclxuICAgIH1cclxuXHJcbiAgICBnZXRMb2NhdGlvbigpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICBsZXQgY2FtZXJhUG9zOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5zY2VuZS5jYW1lcmFzLm1haW4uZ2V0V29ybGRQb2ludCgwLCAwKTtcclxuICAgICAgICBsZXQgcmVhbExvYzogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuZ2V0UmVhbExvY2F0aW9uKCk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKHJlYWxMb2MueCAtIGNhbWVyYVBvcy54LCByZWFsTG9jLnkgLSBjYW1lcmFQb3MueSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UmVhbExvY2F0aW9uKCk6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIGxldCBnbzogUGhhc2VyLlBoeXNpY3MuQXJjYWRlLkJvZHkgPSB0aGlzLmdldFBoeXNpY3NCb2R5KCk7XHJcbiAgICAgICAgbGV0IHJlYWxMb2NhdGlvbjogUGhhc2VyLk1hdGguVmVjdG9yMiA9IG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKGdvLngsIGdvLnkpO1xyXG4gICAgICAgIGlmICh0aGlzLnNoaXApIHtcclxuICAgICAgICAgICAgcmVhbExvY2F0aW9uLmFkZCh0aGlzLnNoaXAuZ2V0UmVhbExvY2F0aW9uKCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVhbExvY2F0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEludGVncml0eSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmludGVncml0eTtcclxuICAgIH1cclxuXHJcbiAgICBzdXN0YWluRGFtYWdlKGFtb3VudDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5pbnRlZ3JpdHkgLT0gYW1vdW50O1xyXG4gICAgICAgIGlmICh0aGlzLmludGVncml0eSA8PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW50ZWdyaXR5ID0gMDtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgLy8gVE9ETzogZGVzdHJveSBhdHRhY2htZW50XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlcGFpcihhbW91bnQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuaW50ZWdyaXR5ID0gYW1vdW50O1xyXG4gICAgICAgIGlmICh0aGlzLmludGVncml0eSA+IENvbnN0YW50cy5NQVhfSU5URUdSSVRZKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW50ZWdyaXR5ID0gQ29uc3RhbnRzLk1BWF9JTlRFR1JJVFk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRlc3Ryb3koKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnNoaXAucmVtb3ZlQXR0YWNobWVudCh0aGlzLmF0dGFjaG1lbnRMb2NhdGlvbik7XHJcbiAgICAgICAgLy8gVE9ETzogZGVzdHJveSBhdHRhY2htZW50XHJcbiAgICB9XHJcblxyXG4gICAgc2V0QXR0YWNobWVudExvY2F0aW9uKGxvYzogQXR0YWNobWVudExvY2F0aW9uKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5hdHRhY2htZW50TG9jYXRpb24gPSBsb2M7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBIYXNHYW1lT2JqZWN0IH0gZnJvbSBcIi4uLy4uLy4uL2ludGVyZmFjZXMvaGFzLWdhbWUtb2JqZWN0XCI7XHJcbmltcG9ydCB7IEJ1bGxldFBhcmFtZXRlcnMgfSBmcm9tIFwiLi4vLi4vLi4vaW50ZXJmYWNlcy9idWxsZXQtcGFyYW1ldGVyc1wiO1xyXG5pbXBvcnQgeyBIYXNMb2NhdGlvbiB9IGZyb20gXCIuLi8uLi8uLi9pbnRlcmZhY2VzL2hhcy1sb2NhdGlvblwiO1xyXG5pbXBvcnQgeyBHbG9iYWxzIH0gZnJvbSBcIi4uLy4uLy4uL3V0aWxpdGllcy9nbG9iYWxzXCI7XHJcbmltcG9ydCB7IEhhc1BoeXNpY3NHYW1lT2JqZWN0IH0gZnJvbSBcIi4uLy4uLy4uL2ludGVyZmFjZXMvaGFzLXBoeXNpY3MtZ2FtZS1vYmplY3RcIjtcclxuaW1wb3J0IHsgSGVscGVycyB9IGZyb20gXCIuLi8uLi8uLi91dGlsaXRpZXMvaGVscGVyc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEJ1bGxldCBpbXBsZW1lbnRzIEhhc0dhbWVPYmplY3QsIEhhc1BoeXNpY3NHYW1lT2JqZWN0LCBIYXNMb2NhdGlvbiB7XHJcbiAgICBzY2VuZTogUGhhc2VyLlNjZW5lO1xyXG4gICAgZm9yY2U6IG51bWJlcjtcclxuICAgIGdhbWVPYmo6IFBoYXNlci5QaHlzaWNzLkFyY2FkZS5TcHJpdGU7XHJcbiAgICBhY3RpdmU6IGJvb2xlYW47XHJcblxyXG4gICAgY29uc3RydWN0b3Ioc2NlbmU6IFBoYXNlci5TY2VuZSwgcGFyYW1zOiBCdWxsZXRQYXJhbWV0ZXJzKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuZm9yY2UgPSBwYXJhbXMuZm9yY2UgfHwgMDtcclxuICAgICAgICB0aGlzLmdhbWVPYmogPSBzY2VuZS5waHlzaWNzLmFkZC5zcHJpdGUocGFyYW1zLnggfHwgMCwgcGFyYW1zLnkgfHwgMCwgJ2J1bGxldCcpO1xyXG4gICAgICAgIHRoaXMuZ2FtZU9iai5zZXRBbmdsZShwYXJhbXMuYW5nbGUgfHwgMCk7XHJcbiAgICAgICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuYWRkQ29sbGlzaW9uRGV0ZWN0aW9uKCk7XHJcbiAgICAgICAgdGhpcy5zZXRJbk1vdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYWRkQ29sbGlzaW9uRGV0ZWN0aW9uKCk6IHZvaWQge1xyXG4gICAgICAgIGZvciAodmFyIGk9MDsgaTxHbG9iYWxzLmludGVyYWN0YWJsZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLmdhbWVPYmosIEdsb2JhbHMuaW50ZXJhY3RhYmxlc1tpXSwgdGhpcy5vbkltcGFjdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgb25JbXBhY3QoYnVsbGV0OiBQaGFzZXIuR2FtZU9iamVjdHMuR2FtZU9iamVjdCwgdGFyZ2V0OiBQaGFzZXIuR2FtZU9iamVjdHMuR2FtZU9iamVjdCk6IHZvaWQge1xyXG4gICAgICAgIC8vIFRPRE86IGltcGFydCBkYW1hZ2UgdG8gdGFyZ2V0IGFuZCBkZXN0cm95IGJ1bGxldFxyXG4gICAgfVxyXG5cclxuICAgIGdldEdhbWVPYmplY3QoKTogUGhhc2VyLkdhbWVPYmplY3RzLkdhbWVPYmplY3Qge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdhbWVPYmo7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UGh5c2ljc0JvZHkoKTogUGhhc2VyLlBoeXNpY3MuQXJjYWRlLkJvZHkge1xyXG4gICAgICAgIGlmICh0aGlzLmdldEdhbWVPYmplY3QoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRHYW1lT2JqZWN0KCkuYm9keSBhcyBQaGFzZXIuUGh5c2ljcy5BcmNhZGUuQm9keTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0QW5nbGUoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nYW1lT2JqLmFuZ2xlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFJvdGF0aW9uKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZU9iai5yb3RhdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBnZXRIZWFkaW5nKCk6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIHJldHVybiBIZWxwZXJzLmdldEhlYWRpbmcodGhpcy5nZXRQaHlzaWNzQm9keSgpKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRTcGVlZCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFZlbG9jaXR5KCkubGVuZ3RoKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VmVsb2NpdHkoKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0UGh5c2ljc0JvZHkoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRQaHlzaWNzQm9keSgpLnZlbG9jaXR5LmNsb25lKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBQaGFzZXIuTWF0aC5WZWN0b3IyLlpFUk87XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0TG9jYXRpb24oKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgbGV0IGNhbWVyYVBvczogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuc2NlbmUuY2FtZXJhcy5tYWluLmdldFdvcmxkUG9pbnQoMCwgMCk7XHJcbiAgICAgICAgbGV0IGdvOiBQaGFzZXIuUGh5c2ljcy5BcmNhZGUuQm9keSA9IHRoaXMuZ2V0UGh5c2ljc0JvZHkoKTtcclxuICAgICAgICByZXR1cm4gbmV3IFBoYXNlci5NYXRoLlZlY3RvcjIoZ28ueCAtIGNhbWVyYVBvcy54LCBnby55IC0gY2FtZXJhUG9zLnkpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFJlYWxMb2NhdGlvbigpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICByZXR1cm4gbmV3IFBoYXNlci5NYXRoLlZlY3RvcjIodGhpcy5nYW1lT2JqLngsIHRoaXMuZ2FtZU9iai55KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldEluTW90aW9uKCk6IHZvaWQge1xyXG4gICAgICAgIGxldCBoZWFkaW5nOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5nZXRIZWFkaW5nKCk7XHJcbiAgICAgICAgbGV0IGRlbHRhVjogUGhhc2VyLk1hdGguVmVjdG9yMiA9IGhlYWRpbmcubXVsdGlwbHkobmV3IFBoYXNlci5NYXRoLlZlY3RvcjIodGhpcy5mb3JjZSwgdGhpcy5mb3JjZSkpO1xyXG4gICAgICAgIHRoaXMuZ2FtZU9iai5ib2R5LnZlbG9jaXR5LmFkZChkZWx0YVYpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgSGFzTG9jYXRpb24gfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9oYXMtbG9jYXRpb25cIjtcclxuaW1wb3J0IHsgTW91c2VXaGVlbFNjcm9sbCB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL21vdXNlLXdoZWVsLXNjcm9sbFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1vdXNlIGltcGxlbWVudHMgSGFzTG9jYXRpb24ge1xyXG4gICAgcHJpdmF0ZSBzY2VuZTogUGhhc2VyLlNjZW5lO1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZTogUGhhc2VyLlNjZW5lKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuc2NlbmUuaW5wdXQubW91c2UuY2FwdHVyZSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0QW5nbGUoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zY2VuZS5pbnB1dC5hY3RpdmVQb2ludGVyLmdldEFuZ2xlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Um90YXRpb24oKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRBbmdsZSgpICogKE1hdGguUEkgLyAxODApO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEhlYWRpbmcoKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgbGV0IHJvdGF0aW9uOiBudW1iZXIgPSB0aGlzLmdldEFuZ2xlKCk7XHJcbiAgICAgICAgbGV0IHg6IG51bWJlciA9IE1hdGguY29zKHJvdGF0aW9uKTtcclxuICAgICAgICBsZXQgeTogbnVtYmVyID0gTWF0aC5zaW4ocm90YXRpb24pO1xyXG4gICAgICAgIHJldHVybiBuZXcgUGhhc2VyLk1hdGguVmVjdG9yMih4LCB5KS5ub3JtYWxpemUoKS5uZWdhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRTcGVlZCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFZlbG9jaXR5KCkubGVuZ3RoKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VmVsb2NpdHkoKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NlbmUuaW5wdXQuYWN0aXZlUG9pbnRlci52ZWxvY2l0eS5jbG9uZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmV0dXJucyB0aGUgcG9zaXRpb24gb2YgdGhlIG1vdXNlIHdpdGhpbiB0aGUgYm91bmRzIG9mIHRoZSBjdXJyZW50XHJcbiAgICAgKiBzY3JlZW4uXHJcbiAgICAgKiBAcmV0dXJucyBhIHtQaGFzZXIuTWF0aC5WZWN0b3IyfSBjbG9uZSBvZiB0aGUgcG9zaXRpb25cclxuICAgICAqL1xyXG4gICAgZ2V0TG9jYXRpb24oKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coYG1vdXNlIGxvY2F0aW9uOiAke0pTT04uc3RyaW5naWZ5KHRoaXMubG9jYXRpb24pfWApO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNjZW5lLmlucHV0LmFjdGl2ZVBvaW50ZXIucG9zaXRpb24uY2xvbmUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIG9mZnNldHMgdGhlIHNjcmVlbiBwb3NpdGlvbiBiYXNlZCBvbiBjYW1lcmEgcG9zaXRpb25cclxuICAgICAqL1xyXG4gICAgZ2V0UmVhbExvY2F0aW9uKCk6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGBtb3VzZSBSRUFMIGxvY2F0aW9uOiAke0pTT04uc3RyaW5naWZ5KHdvcmxkKX1gKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5zY2VuZS5pbnB1dC5hY3RpdmVQb2ludGVyLnBvc2l0aW9uVG9DYW1lcmEodGhpcy5zY2VuZS5jYW1lcmFzLm1haW4pIGFzIFBoYXNlci5NYXRoLlZlY3RvcjI7XHJcbiAgICB9XHJcblxyXG4gICAgb25XaGVlbFVwPFQgZXh0ZW5kcyBNb3VzZVdoZWVsU2Nyb2xsPihmdW5jOiBUKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5pbnB1dC5vbihQaGFzZXIuSW5wdXQuRXZlbnRzLlBPSU5URVJfV0hFRUwsIChwb2ludGVyLCBjdXJyZW50bHlPdmVyLCBkeCwgZHksIGR6LCBldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZHkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBmdW5jKGR5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG9uV2hlZWxEb3duPFQgZXh0ZW5kcyBNb3VzZVdoZWVsU2Nyb2xsPihmdW5jOiBUKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5pbnB1dC5vbihQaGFzZXIuSW5wdXQuRXZlbnRzLlBPSU5URVJfV0hFRUwsIChwb2ludGVyLCBjdXJyZW50bHlPdmVyLCBkeCwgZHksIGR6LCBldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZHkgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICBmdW5jKC1keSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEdsb2JhbHMgfSBmcm9tIFwiLi4vdXRpbGl0aWVzL2dsb2JhbHNcIjtcclxuaW1wb3J0IHsgU2hpcFBvZCB9IGZyb20gXCIuLi9zaGlwcy9zaGlwLXBvZFwiO1xyXG5cclxuY29uc3Qgc2NlbmVDb25maWc6IFBoYXNlci5UeXBlcy5TY2VuZXMuU2V0dGluZ3NDb25maWcgPSB7XHJcbiAgICBhY3RpdmU6IHRydWUsXHJcbiAgICB2aXNpYmxlOiB0cnVlLFxyXG4gICAga2V5OiAnT3ZlcmxheVNjZW5lJ1xyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIE92ZXJsYXlTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBwcml2YXRlIGRlYnVnOiBQaGFzZXIuR2FtZU9iamVjdHMuVGV4dDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcihzY2VuZUNvbmZpZyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHByZWxvYWQoKTogdm9pZCB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjcmVhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5kZWJ1ZyA9IHRoaXMuYWRkLnRleHQoMTAsIDEwLCAnJywgeyBmb250OiAnMTZweCBDb3VyaWVyJywgZmlsbDogJyNmZmRkZGQnIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKEdsb2JhbHMucGxheWVyKSB7XHJcbiAgICAgICAgICAgIGxldCBwOiBTaGlwUG9kID0gR2xvYmFscy5wbGF5ZXI7XHJcbiAgICAgICAgICAgIGxldCBsb2M6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSBwLmdldFJlYWxMb2NhdGlvbigpO1xyXG4gICAgICAgICAgICB0aGlzLmRlYnVnLnNldFRleHQoW1xyXG4gICAgICAgICAgICAgICAgYFZlbG9jaXR5OiAke3AuZ2V0U3BlZWQoKS50b0ZpeGVkKDEpfWAsXHJcbiAgICAgICAgICAgICAgICBgSW50ZWdyaXR5OiAke3AuZ2V0SW50ZWdyaXR5KCkudG9GaXhlZCgxKX1gLFxyXG4gICAgICAgICAgICAgICAgYEhlYXQ6ICR7cC5nZXRUZW1wZXJhdHVyZSgpLnRvRml4ZWQoMSl9YCxcclxuICAgICAgICAgICAgICAgIGBGdWVsOiAke3AuZ2V0UmVtYWluaW5nRnVlbCgpLnRvRml4ZWQoMSl9YCxcclxuICAgICAgICAgICAgICAgIGBMb2NhdGlvbjogJHtsb2MueC50b0ZpeGVkKDEpfSwke2xvYy55LnRvRml4ZWQoMSl9YCxcclxuICAgICAgICAgICAgICAgIGBBbmdsZTogJHtwLmdldFJvdGF0aW9uKCkudG9GaXhlZCgxKX1gXHJcbiAgICAgICAgICAgIF0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImNvbnN0IHNjZW5lQ29uZmlnOiBQaGFzZXIuVHlwZXMuU2NlbmVzLlNldHRpbmdzQ29uZmlnID0ge1xyXG4gICAgYWN0aXZlOiB0cnVlLFxyXG4gICAgdmlzaWJsZTogdHJ1ZSxcclxuICAgIGtleTogJ0ZhclN0YXJzJ1xyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIEZhclN0YXJzU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoc2NlbmVDb25maWcpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwcmVsb2FkKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZmFyLXN0YXJzJywgJy4vYXNzZXRzL2JhY2tncm91bmRzL3N0YXJmaWVsZC10aWxlLTUxMng1MTIucG5nJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNyZWF0ZSgpOiB2b2lkIHtcclxuICAgICAgICBsZXQgeE9mZnNldDogbnVtYmVyID0gTWF0aC5jZWlsKHRoaXMuZ2FtZS5jYW52YXMud2lkdGggLyAyKTtcclxuICAgICAgICBsZXQgeU9mZnNldDogbnVtYmVyID0gTWF0aC5jZWlsKHRoaXMuZ2FtZS5jYW52YXMuaGVpZ2h0IC8gMik7XHJcbiAgICAgICAgdGhpcy5hZGQudGlsZVNwcml0ZSh4T2Zmc2V0LCB5T2Zmc2V0LCB0aGlzLmdhbWUuY2FudmFzLndpZHRoICsgMTAsIHRoaXMuZ2FtZS5jYW52YXMuaGVpZ2h0ICsgMTAsICdmYXItc3RhcnMnKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgWm9vbWFibGVTY2VuZSB9IGZyb20gXCIuL3pvb21hYmxlLXNjZW5lXCI7XHJcbmltcG9ydCB7IEdsb2JhbHMgfSBmcm9tIFwiLi4vdXRpbGl0aWVzL2dsb2JhbHNcIjtcclxuXHJcbmNvbnN0IHNjZW5lQ29uZmlnOiBQaGFzZXIuVHlwZXMuU2NlbmVzLlNldHRpbmdzQ29uZmlnID0ge1xyXG4gICAgYWN0aXZlOiB0cnVlLFxyXG4gICAgdmlzaWJsZTogdHJ1ZSxcclxuICAgIGtleTogJ1N5c3RlbVNjZW5lJ1xyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIFN5c3RlbVNjZW5lIGV4dGVuZHMgWm9vbWFibGVTY2VuZSB7XHJcbiAgICBzdW46IFBoYXNlci5HYW1lT2JqZWN0cy5TcHJpdGU7XHJcbiAgICBzdGFydFBvc2l0aW9uOiBQaGFzZXIuTWF0aC5WZWN0b3IyO1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigwLjA1LCBzY2VuZUNvbmZpZyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHB1YmxpYyBwcmVsb2FkKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnc3VuJywgJy4vYXNzZXRzL2JhY2tncm91bmRzL3N1bi5wbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLmNyZWF0ZSgpO1xyXG4gICAgICAgIHRoaXMuc3RhcnRQb3NpdGlvbiA9IG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKFxyXG4gICAgICAgICAgICBQaGFzZXIuTWF0aC5STkQuYmV0d2VlbigwLCB0aGlzLmdhbWUuY2FudmFzLndpZHRoKSxcclxuICAgICAgICAgICAgUGhhc2VyLk1hdGguUk5ELmJldHdlZW4oMCwgdGhpcy5nYW1lLmNhbnZhcy5oZWlnaHQpXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLnN1biA9IHRoaXMuYWRkLnNwcml0ZSh0aGlzLnN0YXJ0UG9zaXRpb24ueCwgdGhpcy5zdGFydFBvc2l0aW9uLnksICdzdW4nKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHVibGljIHVwZGF0ZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnN1bi5hbmdsZSArPSAwLjAxO1xyXG4gICAgICAgIGlmICh0aGlzLnN1bi5hbmdsZSA+PSAzNjApIHtcclxuICAgICAgICAgICAgdGhpcy5zdW4uYW5nbGUgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoR2xvYmFscy5wbGF5ZXIpIHtcclxuICAgICAgICAgICAgLy8gbW92ZSB0aGUgc3VuIGluIHRoZSBvcHBvc2l0ZSBkaXJlY3Rpb24gb2YgdHJhdmVsIGF0IGEgcmF0ZSBvZiAxOjUwMFxyXG4gICAgICAgICAgICBsZXQgbG9jOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gR2xvYmFscy5wbGF5ZXIuZ2V0UmVhbExvY2F0aW9uKCk7XHJcbiAgICAgICAgICAgIGxvYy5kaXZpZGUobmV3IFBoYXNlci5NYXRoLlZlY3RvcjIoNTAwLCA1MDApKTtcclxuICAgICAgICAgICAgbG9jLm5lZ2F0ZSgpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zdW4ueCA9IHRoaXMuc3RhcnRQb3NpdGlvbi54ICsgbG9jLng7XHJcbiAgICAgICAgICAgIHRoaXMuc3VuLnkgPSB0aGlzLnN0YXJ0UG9zaXRpb24ueSArIGxvYy55O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJzb3VyY2VSb290IjoiIn0=