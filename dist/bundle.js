!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("phaser")):"function"==typeof define&&define.amd?define(["phaser"],e):"object"==typeof exports?exports.bundle=e(require("phaser")):t.bundle=e(t.phaser)}(window,(function(t){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=7)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.interactables=[],t.debug=!1}(e.Globals||(e.Globals={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.enumLength=function(t){var e=0;for(var n in t)isNaN(Number(n))&&e++;return e},t.getHeading=function(t){var e=Math.cos(Phaser.Math.DegToRad(t)),n=Math.sin(Phaser.Math.DegToRad(t));return new Phaser.Math.Vector2(e,n).normalize().negate()},t.vector2=function(t,e){return e||(e=t),new Phaser.Math.Vector2(t,e)}}(e.Helpers||(e.Helpers={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.front=0]="front",t[t.frontRight=1]="frontRight",t[t.right=2]="right",t[t.backRight=3]="backRight",t[t.backLeft=4]="backLeft",t[t.left=5]="left",t[t.frontLeft=6]="frontLeft"}(e.AttachmentLocation||(e.AttachmentLocation={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.MAX_INTEGRITY=100,t.MAX_FUEL=100,t.MAX_SAFE_TEMPERATURE=100,t.MAX_TEMPERATURE=200,t.MAX_VELOCITY=500,t.OVERHEAT_CHECK_INTERVAL=100,t.COOLING_RATE=.3,t.THRUSTER_FORCE=1,t.FUEL_PER_THRUST=.001,t.HEAT_PER_THRUST=.1,t.BOOSTER_FORCE=300,t.FUEL_PER_BOOST=1,t.HEAT_PER_BOOST=25,t.BOOSTER_COOLDOWN_TIME=1e3,t.THROW_FORCE=100,function(t){t[t.blue=0]="blue",t[t.green=1]="green",t[t.red=2]="red",t[t.white=3]="white",t[t.yellow=4]="yellow"}(t.Flare||(t.Flare={}))}(e.Constants||(e.Constants={}))},function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var i=new Uint8Array(16);t.exports=function(){return n(i),i}}else{var o=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}},function(t,e){for(var n=[],i=0;i<256;++i)n[i]=(i+256).toString(16).substr(1);t.exports=function(t,e){var i=e||0,o=n;return[o[t[i++]],o[t[i++]],o[t[i++]],o[t[i++]],"-",o[t[i++]],o[t[i++]],"-",o[t[i++]],o[t[i++]],"-",o[t[i++]],o[t[i++]],"-",o[t[i++]],o[t[i++]],o[t[i++]],o[t[i++]],o[t[i++]],o[t[i++]]].join("")}},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var s=n(20),a=function(t){function e(e,n){var i=t.call(this,n)||this;return i.increment=e,i.minZoom=1-2*e,i.maxZoom=1,i}return o(e,t),e.prototype.create=function(){var t=this;this.mouse=new s.Mouse(this),this.mouse.onWheelUp((function(e){var n=t.cameras.main.zoom-t.increment;n<t.minZoom&&(n=t.minZoom),t.cameras.main.zoomTo(n)})),this.mouse.onWheelDown((function(e){var n=t.cameras.main.zoom+t.increment;n>t.maxZoom&&(n=t.maxZoom),t.cameras.main.zoomTo(n)}))},e}(Phaser.Scene);e.ZoomableScene=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(8),o=n(0),s=n(21),a=n(22),r=n(23),c={type:Phaser.AUTO,scale:{width:window.innerWidth,height:window.innerHeight},backgroundColor:"#000000",parent:"space-sim",physics:{default:"arcade",arcade:{gravity:{x:0,y:0}}},scene:[a.FarStarsScene,r.SystemScene,i.ShipScene,s.OverlayScene]};e.game=new Phaser.Game(c),window.addEventListener("resize",(function(){e.game.scale.refresh()})),o.Globals.game=e.game,o.Globals.debug=!0},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var s=n(9),a=n(0),r=n(17),c=n(6),h=n(2),u={active:!0,visible:!0,key:"ShipScene"},p=function(t){function e(){return t.call(this,.4,u)||this}return o(e,t),e.prototype.preload=function(){this.load.image("ship-pod","./assets/sprites/ship-pod.png"),this.load.image("cannon","./assets/sprites/cannon.png"),this.load.spritesheet("flares","./assets/particles/flares.png",{frameWidth:130,frameHeight:132,startFrame:0,endFrame:4}),this.load.image("explosion","./assets/particles/explosion.png"),this.load.image("bullet","./assets/sprites/bullet.png")},e.prototype.create=function(){t.prototype.create.call(this),this.player=new s.ShipPod(this,{x:0,y:0}),a.Globals.player=this.player,this.player.setTarget(this.mouse);var e=new r.CannonAttachment(this);this.player.attachments.addAttachment(e),this.setupCamera(this.player),this.setupInputHandling()},e.prototype.update=function(){var t;(this.thrustKey.isDown&&this.player.thruster.thrustFowards(),this.boostKey.isDown&&this.player.thruster.boostForwards(),this.input.activePointer.leftButtonDown())&&((t=this.player.attachments.getAttachment(h.AttachmentLocation.front))&&t.trigger());this.input.activePointer.rightButtonDown()&&((t=this.player.attachments.getAttachment(h.AttachmentLocation.front))&&this.player.attachments.throwAttachment(h.AttachmentLocation.front));this.rotateAttachmentsClockwiseKey.isDown&&this.player.attachments.rotateAttachmentsClockwise(),this.rotateAttachmentsAntiClockwiseKey.isDown&&this.player.attachments.rotateAttachmentsAntiClockwise(),this.detachAttachmentKey.isDown&&this.player.attachments.removeAttachment(h.AttachmentLocation.front),this.player.update()},e.prototype.setupInputHandling=function(){this.thrustKey=this.input.keyboard.addKey("SPACE",!0,!0),this.boostKey=this.input.keyboard.addKey("TAB",!0,!1),this.rotateAttachmentsClockwiseKey=this.input.keyboard.addKey("E",!0,!1),this.rotateAttachmentsAntiClockwiseKey=this.input.keyboard.addKey("Q",!0,!1),this.detachAttachmentKey=this.input.keyboard.addKey("X",!0,!1),this.game.canvas.oncontextmenu=function(t){t.preventDefault()}},e.prototype.setupCamera=function(t){this.cameras.main.backgroundColor.setFromRGB({r:0,g:0,b:0}),this.cameras.main.setZoom(1),this.cameras.main.centerOn(0,0);var e=this.cameras.main.width,n=this.cameras.main.height,i=Math.floor(e/2),o=Math.floor(n/2),s=Math.floor(i/2),a=Math.floor(o/2);this.cameras.main.startFollow(t.getGameObject(),!0),this.cameras.main.deadzone=new Phaser.Geom.Rectangle(s,a,i,o)},e}(c.ZoomableScene);e.ShipScene=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(10);var i=n(11),o=n(3),s=n(1),a=n(15),r=n(16),c=function(){function t(t,e){this.remainingFuel=100,this.temperature=0,this.active=!0,this.lastOverheatCheck=0,e||(e={x:0,y:0}),this.id=i.RNG.guid(),this.scene=t,this.gameObj=t.add.container(e.x,e.y),this.scene.physics.add.existing(this.gameObj),this.getPhysicsBody().bounce.setTo(.7,.7),this.getPhysicsBody().setMaxVelocity(o.Constants.MAX_VELOCITY,o.Constants.MAX_VELOCITY),this.flareParticles=t.add.particles("flares"),this.explosionParticles=t.add.particles("explosion");var n=t.add.sprite(0,0,"ship-pod");this.getGameObject().add(n),this.integrity=o.Constants.MAX_INTEGRITY,this.thruster=new r.Thruster(this,this.scene),this.attachments=new a.AttachmentManager(this)}return t.prototype.update=function(){this.active&&(this.lookAtTarget(),this.checkOverheatCondition(),this.attachments.update())},t.prototype.checkOverheatCondition=function(){if(this.active&&this.scene.game.getTime()>this.lastOverheatCheck+o.Constants.OVERHEAT_CHECK_INTERVAL){if(this.temperature>o.Constants.MAX_TEMPERATURE&&this.destroy(),this.temperature>o.Constants.MAX_SAFE_TEMPERATURE){var t=(this.temperature-o.Constants.MAX_SAFE_TEMPERATURE)/o.Constants.MAX_SAFE_TEMPERATURE;this.sustainDamage(t)}this.applyCooling(o.Constants.COOLING_RATE),this.lastOverheatCheck=this.scene.game.getTime()}},t.prototype.getRealLocation=function(){return this.getGameObject()?new Phaser.Math.Vector2(this.getGameObject().x,this.getGameObject().y):Phaser.Math.Vector2.ZERO},t.prototype.getLocation=function(){if(this.getGameObject()){var t=this.scene.cameras.main.getWorldPoint(0,0);return new Phaser.Math.Vector2(this.gameObj.x-t.x,this.gameObj.y-t.y)}return Phaser.Math.Vector2.ZERO},t.prototype.getId=function(){return this.id},t.prototype.getGameObject=function(){return this.gameObj},t.prototype.getPhysicsBody=function(){return this.getGameObject()?this.getGameObject().body:null},t.prototype.setTarget=function(t){this.target=t},t.prototype.getTarget=function(){return this.target},t.prototype.lookAtTarget=function(){if(this.getPhysicsBody()&&this.getTarget()){var t=this.getTarget().getRealLocation(),e=this.getRealLocation(),n=Phaser.Math.Angle.Between(t.x,t.y,e.x,e.y),i=Phaser.Math.RadToDeg(n);this.getPhysicsBody().rotation=i}},t.prototype.getRotation=function(){return this.getGameObject()?this.getGameObject().angle:0},t.prototype.getHeading=function(){return s.Helpers.getHeading(this.getRotation())},t.prototype.getSpeed=function(){return this.getVelocity().length()},t.prototype.getVelocity=function(){return this.getPhysicsBody()?this.getPhysicsBody().velocity.clone():Phaser.Math.Vector2.ZERO},t.prototype.getTemperature=function(){return this.temperature},t.prototype.applyHeating=function(t){this.temperature+=t},t.prototype.applyCooling=function(t){this.temperature-=t,this.temperature<0&&(this.temperature=0)},t.prototype.reduceFuel=function(t){this.remainingFuel-=t,this.remainingFuel<0&&(this.remainingFuel=0)},t.prototype.addFuel=function(t){this.remainingFuel+=t,this.remainingFuel>o.Constants.MAX_FUEL&&(this.remainingFuel=o.Constants.MAX_FUEL)},t.prototype.getRemainingFuel=function(){return this.remainingFuel},t.prototype.getIntegrity=function(){return this.integrity},t.prototype.sustainDamage=function(t){this.integrity-=t,this.integrity<=0&&(this.integrity=0,this.destroy())},t.prototype.repair=function(t){this.integrity=t,this.integrity>o.Constants.MAX_INTEGRITY&&(this.integrity=o.Constants.MAX_INTEGRITY)},t.prototype.destroy=function(){this.active=!1,this.displayShipExplosion(),this.getGameObject().destroy(),this.gameObj=null},t.prototype.displayShipExplosion=function(){var t=this.getRealLocation();this.explosionParticles.createEmitter({x:t.x,y:t.y,lifespan:{min:500,max:1e3},speedX:{min:-1,max:1},speedY:{min:-1,max:1},angle:{min:-180,max:179},gravityX:0,gravityY:0,scale:{start:1,end:0},blendMode:"ADD",maxParticles:3}),this.flareParticles.createEmitter({frame:o.Constants.Flare.red,x:t.x,y:t.y,lifespan:{min:100,max:500},speedX:{min:-600,max:600},speedY:{min:-600,max:600},angle:{min:-180,max:179},gravityX:0,gravityY:0,scale:{start:1,end:0},blendMode:"ADD",maxParticles:10})},t}();e.ShipPod=c},function(e,n){e.exports=t},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(12);!function(t){t.int=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},t.guid=function(){return i.v4()}}(e.RNG||(e.RNG={}))},function(t,e,n){var i=n(13),o=n(14),s=o;s.v1=i,s.v4=o,t.exports=s},function(t,e,n){var i,o,s=n(4),a=n(5),r=0,c=0;t.exports=function(t,e,n){var h=e&&n||0,u=e||[],p=(t=t||{}).node||i,l=void 0!==t.clockseq?t.clockseq:o;if(null==p||null==l){var y=s();null==p&&(p=i=[1|y[0],y[1],y[2],y[3],y[4],y[5]]),null==l&&(l=o=16383&(y[6]<<8|y[7]))}var f=void 0!==t.msecs?t.msecs:(new Date).getTime(),m=void 0!==t.nsecs?t.nsecs:c+1,g=f-r+(m-c)/1e4;if(g<0&&void 0===t.clockseq&&(l=l+1&16383),(g<0||f>r)&&void 0===t.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");r=f,c=m,o=l;var d=(1e4*(268435455&(f+=122192928e5))+m)%4294967296;u[h++]=d>>>24&255,u[h++]=d>>>16&255,u[h++]=d>>>8&255,u[h++]=255&d;var v=f/4294967296*1e4&268435455;u[h++]=v>>>8&255,u[h++]=255&v,u[h++]=v>>>24&15|16,u[h++]=v>>>16&255,u[h++]=l>>>8|128,u[h++]=255&l;for(var b=0;b<6;++b)u[h+b]=p[b];return e||a(u)}},function(t,e,n){var i=n(4),o=n(5);t.exports=function(t,e,n){var s=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var a=(t=t||{}).random||(t.rng||i)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e)for(var r=0;r<16;++r)e[s+r]=a[r];return e||o(a)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n(2),s=function(){function t(t){this.attachments=[],this.active=!0,this.ship=t;for(var e=0;e<i.Helpers.enumLength(o.AttachmentLocation);e++)this.attachments.push(null)}return t.prototype.update=function(){if(this.active)for(var t=0;t<this.attachments.length;t++){var e=this.attachments[t];e&&e.update()}},t.prototype.rotateAttachmentsClockwise=function(){var t=this.attachments.pop();this.attachments.unshift(t),this.updateAttachmentPositions()},t.prototype.rotateAttachmentsAntiClockwise=function(){var t=this.attachments.shift();this.attachments.push(t),this.updateAttachmentPositions()},t.prototype.addAttachment=function(t){for(var e=!1,n=0;n<i.Helpers.enumLength(o.AttachmentLocation);n++)if(!this.attachments[n]){this.attachments[n]=t,t.attach(this.ship,n),e=!0;break}e||(this.attachments[o.AttachmentLocation.front].detach(),this.attachments[o.AttachmentLocation.front]=t,t.attach(this.ship,o.AttachmentLocation.front)),this.ship.getGameObject().add(t.getGameObject())},t.prototype.removeAttachment=function(t){if(this.attachments[t]){var e=this.attachments[t].getPhysicsBody(),n=this.attachments[t].getGameObject();this.ship.getGameObject().remove(n,!1),this.attachments[t].detach(),this.attachments[t]=null,e.position=this.ship.getRealLocation();var i=this.ship.getPhysicsBody().velocity;e.setVelocity(i.x,i.y),e.rotation=this.ship.getRotation()}},t.prototype.throwAttachment=function(t){var e=this.getAttachment(t);if(e)for(var n=0;n<this.attachments.length;n++)if(this.attachments[n]&&this.attachments[n]==e){this.removeAttachment(n),e.throw();break}},t.prototype.getAttachments=function(){return this.attachments},t.prototype.getAttachment=function(t){return this.attachments[t]},t.prototype.updateAttachmentPositions=function(){for(var t=0;t<this.attachments.length;t++)this.attachments[t]&&this.attachments[t].setAttachmentLocation(t)},t}();e.AttachmentManager=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),o=function(){function t(t,e){this.lastBoostTime=0,this.ship=t,this.scene=e,this.flareParticles=e.add.particles("flares")}return t.prototype.thrustFowards=function(){this.applyThrust(i.Constants.THRUSTER_FORCE,i.Constants.FUEL_PER_THRUST,i.Constants.HEAT_PER_THRUST),this.displayThrusterFire(i.Constants.Flare.yellow,.2,1)},t.prototype.boostForwards=function(){this.scene.game.getTime()>=this.lastBoostTime+i.Constants.BOOSTER_COOLDOWN_TIME&&(this.applyThrust(i.Constants.BOOSTER_FORCE,i.Constants.FUEL_PER_BOOST,i.Constants.HEAT_PER_BOOST),this.displayThrusterFire(i.Constants.Flare.blue,1,10),this.lastBoostTime=this.scene.game.getTime())},t.prototype.strafeLeft=function(){},t.prototype.strafeRight=function(){},t.prototype.thrustBackwards=function(){},t.prototype.applyThrust=function(t,e,n){if(this.ship.getRemainingFuel()>0){var i=this.ship.getHeading().multiply(new Phaser.Math.Vector2(t,t));this.ship.getPhysicsBody().velocity.add(i),this.ship.reduceFuel(e),this.ship.applyHeating(n)}},t.prototype.displayThrusterFire=function(t,e,n){var i=this.ship.getRealLocation(),o=new Phaser.Math.Vector2(20,0).add(i),s=this.ship.getHeading().negate(),a=Phaser.Math.RotateAround(o,i.x,i.y,Phaser.Math.DegToRad(this.ship.getRotation()));this.ship.getVelocity();this.flareParticles.createEmitter({frame:t,x:a.x,y:a.y,lifespan:{min:250,max:500},speedX:{min:100*s.x,max:500*s.x},speedY:{min:100*s.y,max:500*s.y},angle:0,gravityX:0,gravityY:0,scale:{start:e,end:0},quantity:n,blendMode:"ADD",maxParticles:10})},t}();e.Thruster=o},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var s=n(18),a=n(19),r=function(t){function e(e){var n=t.call(this,e)||this;return n.maxAmmo=500,n.remainingAmmo=n.maxAmmo,n.lastFired=0,n.firingDelay=1e3,n.gameObj=n.scene.add.sprite(0,0,"cannon"),n.scene.physics.add.existing(n.gameObj),n}return o(e,t),e.prototype.reload=function(t){this.remainingAmmo+=t,this.remainingAmmo>this.maxAmmo&&(this.remainingAmmo=this.maxAmmo)},e.prototype.getRemainingAmmo=function(){return this.remainingAmmo},e.prototype.update=function(){},e.prototype.trigger=function(){this.active&&this.fire()},e.prototype.fire=function(t){if(this.active&&this.getRemainingAmmo()>0&&this.scene.game.getTime()>this.lastFired+this.firingDelay){var e=this.getRealLocation();new a.Bullet(this.scene,{x:e.x,y:e.y,force:3e3,angle:this.getRotation(),startingV:this.getVelocity()}),this.lastFired=this.scene.game.getTime()}},e}(s.ShipAttachment);e.CannonAttachment=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),o=n(2),s=n(1),a=function(){function t(t){this.scene=t,this.active=!0,this.integrity=i.Constants.MAX_INTEGRITY,this.isThrown=!1}return t.prototype.attach=function(t,e){e||(e=o.AttachmentLocation.front),this.ship=t,this.setAttachmentLocation(e);var n=this.ship.getRealLocation();this.getPhysicsBody().position=n,this.getPhysicsBody().rotation=this.ship.getRotation()},t.prototype.detach=function(){this.ship=null,this.attachmentLocation=null;var t=this.getGameObject();t.setActive(!0),this.scene.add.existing(t)},t.prototype.throw=function(){this.isThrown=!0;var t=this.getHeading();t.multiply(new Phaser.Math.Vector2(i.Constants.THROW_FORCE,i.Constants.THROW_FORCE)),this.ship&&t.add(this.ship.getPhysicsBody().velocity),this.getPhysicsBody().velocity.add(t)},t.prototype.getGameObject=function(){return this.gameObj},t.prototype.getPhysicsBody=function(){return this.getGameObject()?this.getGameObject().body:null},t.prototype.getRotation=function(){var t=this.getGameObject().angle;return this.ship&&(t+=this.ship.getRotation()),t},t.prototype.getHeading=function(){var t=this.getRotation();return s.Helpers.getHeading(t)},t.prototype.getSpeed=function(){var t=this.getVelocity().length();return this.ship&&(t+=this.ship.getSpeed()),t},t.prototype.getVelocity=function(){if(this.getPhysicsBody()){var t=this.getPhysicsBody().velocity.clone();return this.ship&&t.add(this.ship.getVelocity()),t}return Phaser.Math.Vector2.ZERO},t.prototype.getLocation=function(){var t=this.scene.cameras.main.getWorldPoint(0,0),e=this.getRealLocation();return new Phaser.Math.Vector2(e.x-t.x,e.y-t.y)},t.prototype.getRealLocation=function(){if(this.getGameObject()){var t=new Phaser.Math.Vector2(this.getGameObject().x,this.getGameObject().y);return this.ship&&t.add(this.ship.getRealLocation()),t}return Phaser.Math.Vector2.ZERO},t.prototype.getIntegrity=function(){return this.integrity},t.prototype.sustainDamage=function(t){this.integrity-=t,this.integrity<=0&&(this.integrity=0,this.active=!1,this.destroy())},t.prototype.repair=function(t){this.integrity=t,this.integrity>i.Constants.MAX_INTEGRITY&&(this.integrity=i.Constants.MAX_INTEGRITY)},t.prototype.destroy=function(){this.active=!1,this.ship.attachments.removeAttachment(this.attachmentLocation),this.getGameObject().destroy()},t.prototype.setAttachmentLocation=function(t){this.attachmentLocation=t},t}();e.ShipAttachment=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(1),s=function(){function t(t,e){this.active=!0,this.scene=t,this.force=e.force||0,this.gameObj=this.scene.add.sprite(e.x||0,e.y||0,"bullet"),this.scene.physics.add.existing(this.gameObj),this.getGameObject().angle=e.angle||0,this.getPhysicsBody().velocity=e.startingV||Phaser.Math.Vector2.ZERO,this.addCollisionDetection(),this.setInMotion()}return t.prototype.addCollisionDetection=function(){for(var t=0;t<i.Globals.interactables.length;t++)this.scene.physics.add.collider(this.gameObj,i.Globals.interactables[t],this.onImpact)},t.prototype.onImpact=function(t,e){},t.prototype.getGameObject=function(){return this.gameObj},t.prototype.getPhysicsBody=function(){if(this.getGameObject())return this.getGameObject().body},t.prototype.getRotation=function(){return this.getGameObject().angle},t.prototype.getHeading=function(){return o.Helpers.getHeading(this.getRotation())},t.prototype.getSpeed=function(){return this.getVelocity().length()},t.prototype.getVelocity=function(){return this.getPhysicsBody()?this.getPhysicsBody().velocity.clone():Phaser.Math.Vector2.ZERO},t.prototype.getLocation=function(){var t=this.scene.cameras.main.getWorldPoint(0,0),e=this.getRealLocation();return new Phaser.Math.Vector2(e.x-t.x,e.y-t.y)},t.prototype.getRealLocation=function(){return this.getGameObject()?new Phaser.Math.Vector2(this.getGameObject().x,this.getGameObject().y):Phaser.Math.Vector2.ZERO},t.prototype.setInMotion=function(){var t=this.getHeading().multiply(o.Helpers.vector2(this.force));this.getPhysicsBody().velocity.add(t)},t}();e.Bullet=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.scene=t,this.scene.input.mouse.capture=!0}return t.prototype.getAngle=function(){return this.scene.input.activePointer.getAngle()},t.prototype.getRotation=function(){return this.getAngle()*(Math.PI/180)},t.prototype.getHeading=function(){var t=this.getAngle(),e=Math.cos(t),n=Math.sin(t);return new Phaser.Math.Vector2(e,n).normalize().negate()},t.prototype.getSpeed=function(){return this.getVelocity().length()},t.prototype.getVelocity=function(){return this.scene.input.activePointer.velocity.clone()},t.prototype.getLocation=function(){return this.scene.input.activePointer.position.clone()},t.prototype.getRealLocation=function(){return this.scene.input.activePointer.positionToCamera(this.scene.cameras.main)},t.prototype.onWheelUp=function(t){this.scene.input.on(Phaser.Input.Events.POINTER_WHEEL,(function(e,n,i,o,s,a){o>0&&t(o)}))},t.prototype.onWheelDown=function(t){this.scene.input.on(Phaser.Input.Events.POINTER_WHEEL,(function(e,n,i,o,s,a){o<0&&t(-o)}))},t}();e.Mouse=i},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),a=n(2),r={active:!0,visible:!0,key:"OverlayScene"},c=function(t){function e(){return t.call(this,r)||this}return o(e,t),e.prototype.preload=function(){},e.prototype.create=function(){this.shipDebug=this.add.text(10,10,"",{font:"16px Courier",fill:"#ffdddd"})},e.prototype.update=function(){s.Globals.debug&&this.displayDebugInfo()},e.prototype.displayDebugInfo=function(){if(s.Globals.player){for(var t=s.Globals.player,e=t.getRealLocation(),n=["Speed: "+t.getSpeed().toFixed(1),"Integrity: "+t.getIntegrity().toFixed(1),"Heat: "+t.getTemperature().toFixed(1),"Fuel: "+t.getRemainingFuel().toFixed(1),"Location: "+e.x.toFixed(1)+","+e.y.toFixed(1),"Angle: "+t.getRotation().toFixed(1)],i=t.attachments.getAttachments(),o=0;o<i.length;o++)if(i[o]){n.push("---- AttachmentLocation."+a.AttachmentLocation[o]+" - "+o+" ----");var r=i[o].getRealLocation();n.push("Attachment "+o+" Location: "+r.x.toFixed(1)+","+r.y.toFixed(1)),n.push("Attachment "+o+" Angle: "+i[o].getRotation().toFixed(1))}this.shipDebug.setText(n)}},e}(Phaser.Scene);e.OverlayScene=c},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var s={active:!0,visible:!0,key:"FarStars"},a=function(t){function e(){return t.call(this,s)||this}return o(e,t),e.prototype.preload=function(){this.load.image("far-stars","./assets/backgrounds/starfield-tile-512x512.png")},e.prototype.create=function(){var t=Math.ceil(this.game.canvas.width/2),e=Math.ceil(this.game.canvas.height/2);this.add.tileSprite(t,e,this.game.canvas.width+10,this.game.canvas.height+10,"far-stars")},e.prototype.update=function(){},e}(Phaser.Scene);e.FarStarsScene=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var s=n(6),a=n(0),r={active:!0,visible:!0,key:"SystemScene"},c=function(t){function e(){return t.call(this,.05,r)||this}return o(e,t),e.prototype.preload=function(){this.load.image("sun","./assets/backgrounds/sun.png")},e.prototype.create=function(){t.prototype.create.call(this),this.startPosition=new Phaser.Math.Vector2(Phaser.Math.RND.between(0,this.game.canvas.width),Phaser.Math.RND.between(0,this.game.canvas.height)),this.sun=this.add.sprite(this.startPosition.x,this.startPosition.y,"sun")},e.prototype.update=function(){if(this.sun.angle+=.01,this.sun.angle>=360&&(this.sun.angle=0),a.Globals.player){var t=a.Globals.player.getRealLocation();t.divide(new Phaser.Math.Vector2(500,500)),t.negate(),this.sun.x=this.startPosition.x+t.x,this.sun.y=this.startPosition.y+t.y}},e}(s.ZoomableScene);e.SystemScene=c}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idW5kbGUvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL2J1bmRsZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvdXRpbGl0aWVzL2dsb2JhbHMudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3V0aWxpdGllcy9oZWxwZXJzLnRzIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy9zaGlwcy9hdHRhY2htZW50cy9hdHRhY2htZW50LWxvY2F0aW9uLnRzIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy91dGlsaXRpZXMvY29uc3RhbnRzLnRzIiwid2VicGFjazovL2J1bmRsZS8uL25vZGVfbW9kdWxlcy91dWlkL2xpYi9ybmctYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly9idW5kbGUvLi9ub2RlX21vZHVsZXMvdXVpZC9saWIvYnl0ZXNUb1V1aWQuanMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NjZW5lcy96b29tYWJsZS1zY2VuZS50cyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvZ2FtZS50cyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvc2NlbmVzL3NoaXAtc2NlbmUudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NoaXBzL3NoaXAtcG9kLnRzIiwid2VicGFjazovL2J1bmRsZS9leHRlcm5hbCBcInBoYXNlclwiIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy91dGlsaXRpZXMvcm5nLnRzIiwid2VicGFjazovL2J1bmRsZS8uL25vZGVfbW9kdWxlcy91dWlkL2luZGV4LmpzIiwid2VicGFjazovL2J1bmRsZS8uL25vZGVfbW9kdWxlcy91dWlkL3YxLmpzIiwid2VicGFjazovL2J1bmRsZS8uL25vZGVfbW9kdWxlcy91dWlkL3Y0LmpzIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy9zaGlwcy9hdHRhY2htZW50cy9hdHRhY2htZW50LW1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NoaXBzL2F0dGFjaG1lbnRzL3V0aWxpdHkvdGhydXN0ZXIudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NoaXBzL2F0dGFjaG1lbnRzL29mZmVuY2UvY2Fubm9uLWF0dGFjaG1lbnQudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NoaXBzL2F0dGFjaG1lbnRzL3NoaXAtYXR0YWNobWVudC50cyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvc2hpcHMvYXR0YWNobWVudHMvb2ZmZW5jZS9idWxsZXQudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3V0aWxpdGllcy9tb3VzZS50cyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvc2NlbmVzL292ZXJsYXktc2NlbmUudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NjZW5lcy9mYXItc3RhcnMtc2NlbmUudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NjZW5lcy9zeXN0ZW0tc2NlbmUudHMiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwicmVxdWlyZSIsImRlZmluZSIsImFtZCIsIndpbmRvdyIsIl9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzEwX18iLCJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiR2xvYmFscyIsImludGVyYWN0YWJsZXMiLCJkZWJ1ZyIsIkhlbHBlcnMiLCJlbnVtTGVuZ3RoIiwiZW51bVR5cGUiLCJjb3VudCIsIml0ZW0iLCJpc05hTiIsIk51bWJlciIsImdldEhlYWRpbmciLCJyb3RhdGlvbiIsIngiLCJNYXRoIiwiY29zIiwiUGhhc2VyIiwiRGVnVG9SYWQiLCJ5Iiwic2luIiwiVmVjdG9yMiIsIm5vcm1hbGl6ZSIsIm5lZ2F0ZSIsInZlY3RvcjIiLCJBdHRhY2htZW50TG9jYXRpb24iLCJDb25zdGFudHMiLCJNQVhfSU5URUdSSVRZIiwiTUFYX0ZVRUwiLCJNQVhfU0FGRV9URU1QRVJBVFVSRSIsIk1BWF9URU1QRVJBVFVSRSIsIk1BWF9WRUxPQ0lUWSIsIk9WRVJIRUFUX0NIRUNLX0lOVEVSVkFMIiwiQ09PTElOR19SQVRFIiwiVEhSVVNURVJfRk9SQ0UiLCJGVUVMX1BFUl9USFJVU1QiLCJIRUFUX1BFUl9USFJVU1QiLCJCT09TVEVSX0ZPUkNFIiwiRlVFTF9QRVJfQk9PU1QiLCJIRUFUX1BFUl9CT09TVCIsIkJPT1NURVJfQ09PTERPV05fVElNRSIsIlRIUk9XX0ZPUkNFIiwiRmxhcmUiLCJnZXRSYW5kb21WYWx1ZXMiLCJjcnlwdG8iLCJtc0NyeXB0byIsInJuZHM4IiwiVWludDhBcnJheSIsInJuZHMiLCJBcnJheSIsInJhbmRvbSIsImJ5dGVUb0hleCIsInRvU3RyaW5nIiwic3Vic3RyIiwiYnVmIiwib2Zmc2V0IiwiYnRoIiwiam9pbiIsImluY3JlbWVudCIsImNvbmZpZyIsIm1pblpvb20iLCJtYXhab29tIiwidGhpcyIsIm1vdXNlIiwiTW91c2UiLCJvbldoZWVsVXAiLCJzY3JvbGxBbW91bnQiLCJuZXdab29tIiwiY2FtZXJhcyIsIm1haW4iLCJ6b29tIiwiem9vbVRvIiwib25XaGVlbERvd24iLCJTY2VuZSIsIlpvb21hYmxlU2NlbmUiLCJnYW1lQ29uZmlnIiwidHlwZSIsIkFVVE8iLCJzY2FsZSIsIndpZHRoIiwiaW5uZXJXaWR0aCIsImhlaWdodCIsImlubmVySGVpZ2h0IiwiYmFja2dyb3VuZENvbG9yIiwicGFyZW50IiwicGh5c2ljcyIsImRlZmF1bHQiLCJhcmNhZGUiLCJncmF2aXR5Iiwic2NlbmUiLCJGYXJTdGFyc1NjZW5lIiwiU3lzdGVtU2NlbmUiLCJTaGlwU2NlbmUiLCJPdmVybGF5U2NlbmUiLCJnYW1lIiwiR2FtZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZWZyZXNoIiwic2NlbmVDb25maWciLCJhY3RpdmUiLCJ2aXNpYmxlIiwicHJlbG9hZCIsImxvYWQiLCJpbWFnZSIsInNwcml0ZXNoZWV0IiwiZnJhbWVXaWR0aCIsImZyYW1lSGVpZ2h0Iiwic3RhcnRGcmFtZSIsImVuZEZyYW1lIiwicGxheWVyIiwiU2hpcFBvZCIsInNldFRhcmdldCIsImNhbm9uIiwiQ2Fubm9uQXR0YWNobWVudCIsImF0dGFjaG1lbnRzIiwiYWRkQXR0YWNobWVudCIsInNldHVwQ2FtZXJhIiwic2V0dXBJbnB1dEhhbmRsaW5nIiwidXBkYXRlIiwiYSIsInRocnVzdEtleSIsImlzRG93biIsInRocnVzdGVyIiwidGhydXN0Rm93YXJkcyIsImJvb3N0S2V5IiwiYm9vc3RGb3J3YXJkcyIsImlucHV0IiwiYWN0aXZlUG9pbnRlciIsImxlZnRCdXR0b25Eb3duIiwiZ2V0QXR0YWNobWVudCIsImZyb250IiwidHJpZ2dlciIsInJpZ2h0QnV0dG9uRG93biIsInRocm93QXR0YWNobWVudCIsInJvdGF0ZUF0dGFjaG1lbnRzQ2xvY2t3aXNlS2V5Iiwicm90YXRlQXR0YWNobWVudHNDbG9ja3dpc2UiLCJyb3RhdGVBdHRhY2htZW50c0FudGlDbG9ja3dpc2VLZXkiLCJyb3RhdGVBdHRhY2htZW50c0FudGlDbG9ja3dpc2UiLCJkZXRhY2hBdHRhY2htZW50S2V5IiwicmVtb3ZlQXR0YWNobWVudCIsImtleWJvYXJkIiwiYWRkS2V5IiwiY2FudmFzIiwib25jb250ZXh0bWVudSIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInNldEZyb21SR0IiLCJnIiwiYiIsInNldFpvb20iLCJjZW50ZXJPbiIsImR6V2lkdGgiLCJmbG9vciIsImR6SGVpZ2h0IiwiZHpYIiwiZHpZIiwic3RhcnRGb2xsb3ciLCJnZXRHYW1lT2JqZWN0IiwiZGVhZHpvbmUiLCJHZW9tIiwiUmVjdGFuZ2xlIiwicmVtYWluaW5nRnVlbCIsInRlbXBlcmF0dXJlIiwibGFzdE92ZXJoZWF0Q2hlY2siLCJpZCIsIlJORyIsImd1aWQiLCJnYW1lT2JqIiwiYWRkIiwiY29udGFpbmVyIiwiZXhpc3RpbmciLCJnZXRQaHlzaWNzQm9keSIsImJvdW5jZSIsInNldFRvIiwic2V0TWF4VmVsb2NpdHkiLCJmbGFyZVBhcnRpY2xlcyIsInBhcnRpY2xlcyIsImV4cGxvc2lvblBhcnRpY2xlcyIsInNoaXAiLCJzcHJpdGUiLCJpbnRlZ3JpdHkiLCJUaHJ1c3RlciIsIkF0dGFjaG1lbnRNYW5hZ2VyIiwibG9va0F0VGFyZ2V0IiwiY2hlY2tPdmVyaGVhdENvbmRpdGlvbiIsImdldFRpbWUiLCJkZXN0cm95IiwiZGVsdGEiLCJzdXN0YWluRGFtYWdlIiwiYXBwbHlDb29saW5nIiwiZ2V0UmVhbExvY2F0aW9uIiwiWkVSTyIsImdldExvY2F0aW9uIiwiY2FtZXJhUG9zIiwiZ2V0V29ybGRQb2ludCIsImdldElkIiwiYm9keSIsInRhcmdldCIsImdldFRhcmdldCIsInRhcmdldFBvcyIsInNoaXBQb3MiLCJyYWRpYW5zIiwiQW5nbGUiLCJCZXR3ZWVuIiwiZGVncmVlcyIsIlJhZFRvRGVnIiwiZ2V0Um90YXRpb24iLCJhbmdsZSIsImdldFNwZWVkIiwiZ2V0VmVsb2NpdHkiLCJsZW5ndGgiLCJ2ZWxvY2l0eSIsImNsb25lIiwiZ2V0VGVtcGVyYXR1cmUiLCJhcHBseUhlYXRpbmciLCJyZWR1Y2VGdWVsIiwiYW1vdW50IiwiYWRkRnVlbCIsImdldFJlbWFpbmluZ0Z1ZWwiLCJnZXRJbnRlZ3JpdHkiLCJyZXBhaXIiLCJkaXNwbGF5U2hpcEV4cGxvc2lvbiIsInBvcyIsImNyZWF0ZUVtaXR0ZXIiLCJsaWZlc3BhbiIsIm1pbiIsIm1heCIsInNwZWVkWCIsInNwZWVkWSIsImdyYXZpdHlYIiwiZ3Jhdml0eVkiLCJzdGFydCIsImVuZCIsImJsZW5kTW9kZSIsIm1heFBhcnRpY2xlcyIsImZyYW1lIiwicmVkIiwiaW50IiwidjQiLCJ2MSIsInV1aWQiLCJfbm9kZUlkIiwiX2Nsb2Nrc2VxIiwicm5nIiwiYnl0ZXNUb1V1aWQiLCJfbGFzdE1TZWNzIiwiX2xhc3ROU2VjcyIsIm9wdGlvbnMiLCJub2RlIiwiY2xvY2tzZXEiLCJ1bmRlZmluZWQiLCJzZWVkQnl0ZXMiLCJtc2VjcyIsIkRhdGUiLCJuc2VjcyIsImR0IiwiRXJyb3IiLCJ0bCIsInRtaCIsImlpIiwicHVzaCIsImxhc3QiLCJwb3AiLCJ1bnNoaWZ0IiwidXBkYXRlQXR0YWNobWVudFBvc2l0aW9ucyIsImZpcnN0Iiwic2hpZnQiLCJhdHRhY2htZW50IiwiYXR0YWNoZWQiLCJhdHRhY2giLCJkZXRhY2giLCJsb2NhdGlvbiIsImdvIiwicmVtb3ZlIiwicG9zaXRpb24iLCJzaGlwVmVsb2NpdHlWZWN0b3IiLCJzZXRWZWxvY2l0eSIsInRocm93IiwiZ2V0QXR0YWNobWVudHMiLCJzZXRBdHRhY2htZW50TG9jYXRpb24iLCJsYXN0Qm9vc3RUaW1lIiwiYXBwbHlUaHJ1c3QiLCJkaXNwbGF5VGhydXN0ZXJGaXJlIiwieWVsbG93IiwiYmx1ZSIsInN0cmFmZUxlZnQiLCJzdHJhZmVSaWdodCIsInRocnVzdEJhY2t3YXJkcyIsImZvcmNlIiwiZnVlbCIsImhlYXQiLCJkZWx0YVYiLCJtdWx0aXBseSIsImNvbG91ciIsInN0YXJ0U2NhbGUiLCJxdWFudGl0eSIsImgiLCJsb2MiLCJSb3RhdGVBcm91bmQiLCJtYXhBbW1vIiwicmVtYWluaW5nQW1tbyIsImxhc3RGaXJlZCIsImZpcmluZ0RlbGF5IiwicmVsb2FkIiwiZ2V0UmVtYWluaW5nQW1tbyIsImZpcmUiLCJkaXJlY3Rpb24iLCJCdWxsZXQiLCJzdGFydGluZ1YiLCJTaGlwQXR0YWNobWVudCIsImlzVGhyb3duIiwiY2VudHJlIiwiYXR0YWNobWVudExvY2F0aW9uIiwic2V0QWN0aXZlIiwic3BlZWQiLCJyZWFsTG9jIiwicGFyYW1zIiwiYWRkQ29sbGlzaW9uRGV0ZWN0aW9uIiwic2V0SW5Nb3Rpb24iLCJjb2xsaWRlciIsIm9uSW1wYWN0IiwiYnVsbGV0IiwiY2FwdHVyZSIsImdldEFuZ2xlIiwiUEkiLCJwb3NpdGlvblRvQ2FtZXJhIiwiZnVuYyIsIm9uIiwiSW5wdXQiLCJFdmVudHMiLCJQT0lOVEVSX1dIRUVMIiwicG9pbnRlciIsImN1cnJlbnRseU92ZXIiLCJkeCIsImR5IiwiZHoiLCJldmVudCIsInNoaXBEZWJ1ZyIsInRleHQiLCJmb250IiwiZmlsbCIsImRpc3BsYXlEZWJ1Z0luZm8iLCJpbmZvIiwidG9GaXhlZCIsImF0dExvYyIsInNldFRleHQiLCJ4T2Zmc2V0IiwiY2VpbCIsInlPZmZzZXQiLCJ0aWxlU3ByaXRlIiwic3RhcnRQb3NpdGlvbiIsIlJORCIsImJldHdlZW4iLCJzdW4iLCJkaXZpZGUiXSwibWFwcGluZ3MiOiJDQUFBLFNBQTJDQSxFQUFNQyxHQUMxQixpQkFBWkMsU0FBMEMsaUJBQVhDLE9BQ3hDQSxPQUFPRCxRQUFVRCxFQUFRRyxRQUFRLFdBQ1IsbUJBQVhDLFFBQXlCQSxPQUFPQyxJQUM5Q0QsT0FBTyxDQUFDLFVBQVdKLEdBQ08saUJBQVpDLFFBQ2RBLFFBQWdCLE9BQUlELEVBQVFHLFFBQVEsV0FFcENKLEVBQWEsT0FBSUMsRUFBUUQsRUFBYSxRQVJ4QyxDQVNHTyxRQUFRLFNBQVNDLEdBQ3BCLE8sWUNURSxJQUFJQyxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVVCxRQUduQyxJQUFJQyxFQUFTTSxFQUFpQkUsR0FBWSxDQUN6Q0MsRUFBR0QsRUFDSEUsR0FBRyxFQUNIWCxRQUFTLElBVVYsT0FOQVksRUFBUUgsR0FBVUksS0FBS1osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU1EsR0FHL0RQLEVBQU9VLEdBQUksRUFHSlYsRUFBT0QsUUEwRGYsT0FyREFRLEVBQW9CTSxFQUFJRixFQUd4Qkos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dGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCJwaGFzZXJcIikpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW1wicGhhc2VyXCJdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcImJ1bmRsZVwiXSA9IGZhY3RvcnkocmVxdWlyZShcInBoYXNlclwiKSk7XG5cdGVsc2Vcblx0XHRyb290W1wiYnVuZGxlXCJdID0gZmFjdG9yeShyb290W1wicGhhc2VyXCJdKTtcbn0pKHdpbmRvdywgZnVuY3Rpb24oX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fMTBfXykge1xucmV0dXJuICIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA3KTtcbiIsImltcG9ydCB7IFNoaXBQb2QgfSBmcm9tIFwiLi4vc2hpcHMvc2hpcC1wb2RcIjtcclxuXHJcbmV4cG9ydCBtb2R1bGUgR2xvYmFscyB7XHJcbiAgICBleHBvcnQgdmFyIHBsYXllcjogU2hpcFBvZDtcclxuICAgIGV4cG9ydCB2YXIgZ2FtZTogUGhhc2VyLkdhbWU7XHJcbiAgICBleHBvcnQgdmFyIGludGVyYWN0YWJsZXM6IFBoYXNlci5HYW1lT2JqZWN0cy5HYW1lT2JqZWN0W10gPSBbXTtcclxuICAgIGV4cG9ydCB2YXIgZGVidWc6IGJvb2xlYW4gPSBmYWxzZTtcclxufSIsImV4cG9ydCBtb2R1bGUgSGVscGVycyB7XHJcbiAgICAvKipcclxuICAgICAqIGdldCB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIGluIGFuIGVudW0uXHJcbiAgICAgKiA8cD5cclxuICAgICAqIGV4OiA8aT5lbnVtIEZvbyB7IGJhciA9IDAsIGJheiA9IDEsIGJveiA9IDIgfTwvaT48YnIgLz5cclxuICAgICAqIHJldHVybnM6IDxiPjM8L2I+XHJcbiAgICAgKiA8L3A+XHJcbiAgICAgKiBAcGFyYW0gZW51bVR5cGUgdGhlIHR5cGUgbmFtZSBvZiBhbiBlbnVtXHJcbiAgICAgKiBAcmV0dXJucyB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIGluIHRoZSBlbnVtXHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBlbnVtTGVuZ3RoKGVudW1UeXBlOiBhbnkpOiBudW1iZXIge1xyXG4gICAgICAgIGxldCBjb3VudCA9IDA7XHJcbiAgICAgICAgZm9yKGxldCBpdGVtIGluIGVudW1UeXBlKSB7XHJcbiAgICAgICAgICAgIGlmKGlzTmFOKE51bWJlcihpdGVtKSkpIHtcclxuICAgICAgICAgICAgICAgIGNvdW50Kys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNvdW50O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmV0dXJucyBhIHtQaGFzZXIuTWF0aC5WZWN0b3IyfSB0aGF0IHJlcHJlc2VudHMgYSBub3JtYWxpc2VkIHZlY3RvciBvZiBkaXJlY3Rpb25cclxuICAgICAqIGJhc2VkIG9uIHRoZSBwYXNzZWQgaW4gcm90YXRpb25cclxuICAgICAqIEBwYXJhbSByb3RhdGlvbiB0aGUgcm90YXRpb24gaW4gZGVncmVlc1xyXG4gICAgICovXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gZ2V0SGVhZGluZyhyb3RhdGlvbjogbnVtYmVyKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgbGV0IHg6IG51bWJlciA9IE1hdGguY29zKFBoYXNlci5NYXRoLkRlZ1RvUmFkKHJvdGF0aW9uKSk7XHJcbiAgICAgICAgbGV0IHk6IG51bWJlciA9IE1hdGguc2luKFBoYXNlci5NYXRoLkRlZ1RvUmFkKHJvdGF0aW9uKSk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKHgsIHkpLm5vcm1hbGl6ZSgpLm5lZ2F0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiB2ZWN0b3IyKHg6IG51bWJlciwgeT86IG51bWJlcik6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIGlmICgheSkge1xyXG4gICAgICAgICAgICB5ID0geDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKHgsIHkpO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGVudW0gQXR0YWNobWVudExvY2F0aW9uIHtcclxuICAgIGZyb250LFxyXG4gICAgZnJvbnRSaWdodCxcclxuICAgIHJpZ2h0LFxyXG4gICAgYmFja1JpZ2h0LFxyXG4gICAgLy8gTk9URTogdGhlcmUgaXMgbm8gJ2JhY2snIGF0dGFjaG1lbnQgcG9pbnQgZHVlIHRvIGxvY2F0aW9uIG9mIHRocnVzdGVyXHJcbiAgICBiYWNrTGVmdCxcclxuICAgIGxlZnQsXHJcbiAgICBmcm9udExlZnRcclxufSIsImV4cG9ydCBtb2R1bGUgQ29uc3RhbnRzIHtcclxuICAgIGV4cG9ydCBjb25zdCBNQVhfSU5URUdSSVRZOiBudW1iZXIgPSAxMDA7XHJcbiAgICBleHBvcnQgY29uc3QgTUFYX0ZVRUw6IG51bWJlciA9IDEwMDtcclxuICAgIGV4cG9ydCBjb25zdCBNQVhfU0FGRV9URU1QRVJBVFVSRTogbnVtYmVyID0gMTAwO1xyXG4gICAgZXhwb3J0IGNvbnN0IE1BWF9URU1QRVJBVFVSRTogbnVtYmVyID0gMjAwO1xyXG4gICAgZXhwb3J0IGNvbnN0IE1BWF9WRUxPQ0lUWTogbnVtYmVyID0gNTAwO1xyXG4gICAgZXhwb3J0IGNvbnN0IE9WRVJIRUFUX0NIRUNLX0lOVEVSVkFMOiBudW1iZXIgPSAxMDA7IC8vIG1pbGxpc2Vjb25kc1xyXG4gICAgZXhwb3J0IGNvbnN0IENPT0xJTkdfUkFURTogbnVtYmVyID0gMC4zOyAvLyBkZWdyZWVzIHBlciBzZWNvbmRcclxuICAgIGV4cG9ydCBjb25zdCBUSFJVU1RFUl9GT1JDRTogbnVtYmVyID0gMTtcclxuICAgIGV4cG9ydCBjb25zdCBGVUVMX1BFUl9USFJVU1Q6IG51bWJlciA9IDAuMDAxOyAvLyB1bml0c1xyXG4gICAgZXhwb3J0IGNvbnN0IEhFQVRfUEVSX1RIUlVTVDogbnVtYmVyID0gMC4xIC8vIGRlZ3JlZXNcclxuICAgIGV4cG9ydCBjb25zdCBCT09TVEVSX0ZPUkNFOiBudW1iZXIgPSAzMDA7XHJcbiAgICBleHBvcnQgY29uc3QgRlVFTF9QRVJfQk9PU1Q6IG51bWJlciA9IDE7IC8vIHVuaXRzXHJcbiAgICBleHBvcnQgY29uc3QgSEVBVF9QRVJfQk9PU1Q6IG51bWJlciA9IDI1OyAvLyBkZWdyZWVzXHJcbiAgICBleHBvcnQgY29uc3QgQk9PU1RFUl9DT09MRE9XTl9USU1FOiBudW1iZXIgPSAxMDAwOyAvLyBtaWxsaXNlY29uZHNcclxuICAgIGV4cG9ydCBjb25zdCBUSFJPV19GT1JDRTogbnVtYmVyID0gMTAwO1xyXG4gICAgZXhwb3J0IGVudW0gRmxhcmUge1xyXG4gICAgICAgIGJsdWUgPSAwLFxyXG4gICAgICAgIGdyZWVuID0gMSxcclxuICAgICAgICByZWQgPSAyLFxyXG4gICAgICAgIHdoaXRlID0gMyxcclxuICAgICAgICB5ZWxsb3cgPSA0XHJcbiAgICB9XHJcbn0iLCIvLyBVbmlxdWUgSUQgY3JlYXRpb24gcmVxdWlyZXMgYSBoaWdoIHF1YWxpdHkgcmFuZG9tICMgZ2VuZXJhdG9yLiAgSW4gdGhlXG4vLyBicm93c2VyIHRoaXMgaXMgYSBsaXR0bGUgY29tcGxpY2F0ZWQgZHVlIHRvIHVua25vd24gcXVhbGl0eSBvZiBNYXRoLnJhbmRvbSgpXG4vLyBhbmQgaW5jb25zaXN0ZW50IHN1cHBvcnQgZm9yIHRoZSBgY3J5cHRvYCBBUEkuICBXZSBkbyB0aGUgYmVzdCB3ZSBjYW4gdmlhXG4vLyBmZWF0dXJlLWRldGVjdGlvblxuXG4vLyBnZXRSYW5kb21WYWx1ZXMgbmVlZHMgdG8gYmUgaW52b2tlZCBpbiBhIGNvbnRleHQgd2hlcmUgXCJ0aGlzXCIgaXMgYSBDcnlwdG9cbi8vIGltcGxlbWVudGF0aW9uLiBBbHNvLCBmaW5kIHRoZSBjb21wbGV0ZSBpbXBsZW1lbnRhdGlvbiBvZiBjcnlwdG8gb24gSUUxMS5cbnZhciBnZXRSYW5kb21WYWx1ZXMgPSAodHlwZW9mKGNyeXB0bykgIT0gJ3VuZGVmaW5lZCcgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQoY3J5cHRvKSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAodHlwZW9mKG1zQ3J5cHRvKSAhPSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93Lm1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcyA9PSAnZnVuY3Rpb24nICYmIG1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKG1zQ3J5cHRvKSk7XG5cbmlmIChnZXRSYW5kb21WYWx1ZXMpIHtcbiAgLy8gV0hBVFdHIGNyeXB0byBSTkcgLSBodHRwOi8vd2lraS53aGF0d2cub3JnL3dpa2kvQ3J5cHRvXG4gIHZhciBybmRzOCA9IG5ldyBVaW50OEFycmF5KDE2KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gd2hhdHdnUk5HKCkge1xuICAgIGdldFJhbmRvbVZhbHVlcyhybmRzOCk7XG4gICAgcmV0dXJuIHJuZHM4O1xuICB9O1xufSBlbHNlIHtcbiAgLy8gTWF0aC5yYW5kb20oKS1iYXNlZCAoUk5HKVxuICAvL1xuICAvLyBJZiBhbGwgZWxzZSBmYWlscywgdXNlIE1hdGgucmFuZG9tKCkuICBJdCdzIGZhc3QsIGJ1dCBpcyBvZiB1bnNwZWNpZmllZFxuICAvLyBxdWFsaXR5LlxuICB2YXIgcm5kcyA9IG5ldyBBcnJheSgxNik7XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBtYXRoUk5HKCkge1xuICAgIGZvciAodmFyIGkgPSAwLCByOyBpIDwgMTY7IGkrKykge1xuICAgICAgaWYgKChpICYgMHgwMykgPT09IDApIHIgPSBNYXRoLnJhbmRvbSgpICogMHgxMDAwMDAwMDA7XG4gICAgICBybmRzW2ldID0gciA+Pj4gKChpICYgMHgwMykgPDwgMykgJiAweGZmO1xuICAgIH1cblxuICAgIHJldHVybiBybmRzO1xuICB9O1xufVxuIiwiLyoqXG4gKiBDb252ZXJ0IGFycmF5IG9mIDE2IGJ5dGUgdmFsdWVzIHRvIFVVSUQgc3RyaW5nIGZvcm1hdCBvZiB0aGUgZm9ybTpcbiAqIFhYWFhYWFhYLVhYWFgtWFhYWC1YWFhYLVhYWFhYWFhYWFhYWFxuICovXG52YXIgYnl0ZVRvSGV4ID0gW107XG5mb3IgKHZhciBpID0gMDsgaSA8IDI1NjsgKytpKSB7XG4gIGJ5dGVUb0hleFtpXSA9IChpICsgMHgxMDApLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSk7XG59XG5cbmZ1bmN0aW9uIGJ5dGVzVG9VdWlkKGJ1Ziwgb2Zmc2V0KSB7XG4gIHZhciBpID0gb2Zmc2V0IHx8IDA7XG4gIHZhciBidGggPSBieXRlVG9IZXg7XG4gIC8vIGpvaW4gdXNlZCB0byBmaXggbWVtb3J5IGlzc3VlIGNhdXNlZCBieSBjb25jYXRlbmF0aW9uOiBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMTc1I2M0XG4gIHJldHVybiAoW1xuICAgIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgJy0nLFxuICAgIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sICctJyxcbiAgICBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLCAnLScsXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgJy0nLFxuICAgIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSxcbiAgICBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dXG4gIF0pLmpvaW4oJycpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJ5dGVzVG9VdWlkO1xuIiwiaW1wb3J0IHsgTW91c2UgfSBmcm9tIFwiLi4vdXRpbGl0aWVzL21vdXNlXCI7XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgWm9vbWFibGVTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBwcm90ZWN0ZWQgbW91c2U6IE1vdXNlO1xyXG4gICAgcHJpdmF0ZSBpbmNyZW1lbnQ6IG51bWJlcjtcclxuICAgIHByaXZhdGUgbWluWm9vbTogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBtYXhab29tOiBudW1iZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IoaW5jcmVtZW50OiBudW1iZXIsIGNvbmZpZzogUGhhc2VyLlR5cGVzLlNjZW5lcy5TZXR0aW5nc0NvbmZpZykge1xyXG4gICAgICAgIHN1cGVyKGNvbmZpZyk7XHJcbiAgICAgICAgdGhpcy5pbmNyZW1lbnQgPSBpbmNyZW1lbnQ7XHJcbiAgICAgICAgdGhpcy5taW5ab29tID0gMSAtIChpbmNyZW1lbnQgKiAyKTtcclxuICAgICAgICB0aGlzLm1heFpvb20gPSAxO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBwcmVsb2FkKCk6IHZvaWQ7XHJcblxyXG4gICAgcHVibGljIGNyZWF0ZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLm1vdXNlID0gbmV3IE1vdXNlKHRoaXMpO1xyXG4gICAgICAgIHRoaXMubW91c2Uub25XaGVlbFVwKChzY3JvbGxBbW91bnQ6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICBsZXQgY3VycmVudFpvb206IG51bWJlciA9IHRoaXMuY2FtZXJhcy5tYWluLnpvb207XHJcbiAgICAgICAgICAgIC8vIHpvb20gb3V0XHJcbiAgICAgICAgICAgIGxldCBuZXdab29tOiBudW1iZXIgPSBjdXJyZW50Wm9vbSAtIHRoaXMuaW5jcmVtZW50O1xyXG4gICAgICAgICAgICBpZiAobmV3Wm9vbSA8IHRoaXMubWluWm9vbSkge1xyXG4gICAgICAgICAgICAgICAgbmV3Wm9vbSA9IHRoaXMubWluWm9vbTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgem9vbWluZyBmcm9tICR7Y3VycmVudFpvb219IHRvICR7bmV3Wm9vbX1gKTtcclxuICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uem9vbVRvKG5ld1pvb20pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubW91c2Uub25XaGVlbERvd24oKHNjcm9sbEFtb3VudDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBjdXJyZW50Wm9vbTogbnVtYmVyID0gdGhpcy5jYW1lcmFzLm1haW4uem9vbTtcclxuICAgICAgICAgICAgLy8gem9vbSBpblxyXG4gICAgICAgICAgICBsZXQgbmV3Wm9vbTogbnVtYmVyID0gY3VycmVudFpvb20gKyB0aGlzLmluY3JlbWVudDtcclxuICAgICAgICAgICAgaWYgKG5ld1pvb20gPiB0aGlzLm1heFpvb20pIHtcclxuICAgICAgICAgICAgICAgIG5ld1pvb20gPSB0aGlzLm1heFpvb207XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYHpvb21pbmcgZnJvbSAke2N1cnJlbnRab29tfSB0byAke25ld1pvb219YCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnpvb21UbyhuZXdab29tKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgdXBkYXRlKCk6IHZvaWQ7XHJcbn0iLCJpbXBvcnQgeyBTaGlwU2NlbmUgfSBmcm9tIFwiLi9zY2VuZXMvc2hpcC1zY2VuZVwiO1xyXG5pbXBvcnQgeyBHbG9iYWxzIH0gZnJvbSBcIi4vdXRpbGl0aWVzL2dsb2JhbHNcIjtcclxuaW1wb3J0IHsgT3ZlcmxheVNjZW5lIH0gZnJvbSBcIi4vc2NlbmVzL292ZXJsYXktc2NlbmVcIjtcclxuaW1wb3J0IHsgRmFyU3RhcnNTY2VuZSB9IGZyb20gXCIuL3NjZW5lcy9mYXItc3RhcnMtc2NlbmVcIjtcclxuaW1wb3J0IHsgU3lzdGVtU2NlbmUgfSBmcm9tIFwiLi9zY2VuZXMvc3lzdGVtLXNjZW5lXCI7XHJcblxyXG5jb25zdCBnYW1lQ29uZmlnOiBQaGFzZXIuVHlwZXMuQ29yZS5HYW1lQ29uZmlnID0ge1xyXG4gICAgdHlwZTogUGhhc2VyLkFVVE8sXHJcbiAgICBzY2FsZToge1xyXG4gICAgICAgIHdpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aCxcclxuICAgICAgICBoZWlnaHQ6IHdpbmRvdy5pbm5lckhlaWdodFxyXG4gICAgfSxcclxuICAgIGJhY2tncm91bmRDb2xvcjogJyMwMDAwMDAnLFxyXG4gICAgcGFyZW50OiAnc3BhY2Utc2ltJyxcclxuICAgIHBoeXNpY3M6IHtcclxuICAgICAgICBkZWZhdWx0OiAnYXJjYWRlJyxcclxuICAgICAgICBhcmNhZGU6IHtcclxuICAgICAgICAgICAgZ3Jhdml0eTogeyB4OiAwLCB5OiAwIH0sXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHNjZW5lOiBbRmFyU3RhcnNTY2VuZSwgU3lzdGVtU2NlbmUsIFNoaXBTY2VuZSwgT3ZlcmxheVNjZW5lXVxyXG59O1xyXG5leHBvcnQgY29uc3QgZ2FtZTogUGhhc2VyLkdhbWUgPSBuZXcgUGhhc2VyLkdhbWUoZ2FtZUNvbmZpZyk7XHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4ge1xyXG4gICAgZ2FtZS5zY2FsZS5yZWZyZXNoKCk7XHJcbn0pO1xyXG5cclxuR2xvYmFscy5nYW1lID0gZ2FtZTtcclxuR2xvYmFscy5kZWJ1ZyA9IHRydWU7IiwiaW1wb3J0IHsgU2hpcFBvZCB9IGZyb20gXCIuLi9zaGlwcy9zaGlwLXBvZFwiO1xyXG5pbXBvcnQgeyBHbG9iYWxzIH0gZnJvbSBcIi4uL3V0aWxpdGllcy9nbG9iYWxzXCI7XHJcbmltcG9ydCB7IENhbm5vbkF0dGFjaG1lbnQgfSBmcm9tIFwiLi4vc2hpcHMvYXR0YWNobWVudHMvb2ZmZW5jZS9jYW5ub24tYXR0YWNobWVudFwiO1xyXG5pbXBvcnQgeyBab29tYWJsZVNjZW5lIH0gZnJvbSBcIi4vem9vbWFibGUtc2NlbmVcIjtcclxuaW1wb3J0IHsgQXR0YWNobWVudExvY2F0aW9uIH0gZnJvbSBcIi4uL3NoaXBzL2F0dGFjaG1lbnRzL2F0dGFjaG1lbnQtbG9jYXRpb25cIjtcclxuaW1wb3J0IHsgU2hpcEF0dGFjaG1lbnQgfSBmcm9tIFwiLi4vc2hpcHMvYXR0YWNobWVudHMvc2hpcC1hdHRhY2htZW50XCI7XHJcblxyXG5jb25zdCBzY2VuZUNvbmZpZzogUGhhc2VyLlR5cGVzLlNjZW5lcy5TZXR0aW5nc0NvbmZpZyA9IHtcclxuICAgIGFjdGl2ZTogdHJ1ZSxcclxuICAgIHZpc2libGU6IHRydWUsXHJcbiAgICBrZXk6ICdTaGlwU2NlbmUnXHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgU2hpcFNjZW5lIGV4dGVuZHMgWm9vbWFibGVTY2VuZSB7XHJcbiAgICBwcml2YXRlIHBsYXllcjogU2hpcFBvZDtcclxuXHJcbiAgICAvKiogSW5wdXQgSGFuZGxlcnMgKi9cclxuICAgIHByaXZhdGUgdGhydXN0S2V5OiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5O1xyXG4gICAgcHJpdmF0ZSBib29zdEtleTogUGhhc2VyLklucHV0LktleWJvYXJkLktleTtcclxuICAgIHByaXZhdGUgcm90YXRlQXR0YWNobWVudHNDbG9ja3dpc2VLZXk6IFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXk7XHJcbiAgICBwcml2YXRlIHJvdGF0ZUF0dGFjaG1lbnRzQW50aUNsb2Nrd2lzZUtleTogUGhhc2VyLklucHV0LktleWJvYXJkLktleTtcclxuICAgIHByaXZhdGUgZGV0YWNoQXR0YWNobWVudEtleTogUGhhc2VyLklucHV0LktleWJvYXJkLktleTtcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoMC40LCBzY2VuZUNvbmZpZyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3NoaXAtcG9kJywgJy4vYXNzZXRzL3Nwcml0ZXMvc2hpcC1wb2QucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdjYW5ub24nLCAnLi9hc3NldHMvc3ByaXRlcy9jYW5ub24ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCdmbGFyZXMnLCAnLi9hc3NldHMvcGFydGljbGVzL2ZsYXJlcy5wbmcnLCB7XHJcbiAgICAgICAgICAgIGZyYW1lV2lkdGg6IDEzMCxcclxuICAgICAgICAgICAgZnJhbWVIZWlnaHQ6IDEzMixcclxuICAgICAgICAgICAgc3RhcnRGcmFtZTogMCxcclxuICAgICAgICAgICAgZW5kRnJhbWU6IDRcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2V4cGxvc2lvbicsICcuL2Fzc2V0cy9wYXJ0aWNsZXMvZXhwbG9zaW9uLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYnVsbGV0JywgJy4vYXNzZXRzL3Nwcml0ZXMvYnVsbGV0LnBuZycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci5jcmVhdGUoKTtcclxuICAgICAgICB0aGlzLnBsYXllciA9IG5ldyBTaGlwUG9kKHRoaXMsIHtcclxuICAgICAgICAgICAgeDogMCxcclxuICAgICAgICAgICAgeTogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIEdsb2JhbHMucGxheWVyID0gdGhpcy5wbGF5ZXI7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIuc2V0VGFyZ2V0KHRoaXMubW91c2UpO1xyXG5cclxuICAgICAgICAvLyBUTVBcclxuICAgICAgICBsZXQgY2Fub246IENhbm5vbkF0dGFjaG1lbnQgPSBuZXcgQ2Fubm9uQXR0YWNobWVudCh0aGlzKTtcclxuICAgICAgICB0aGlzLnBsYXllci5hdHRhY2htZW50cy5hZGRBdHRhY2htZW50KGNhbm9uKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXR1cENhbWVyYSh0aGlzLnBsYXllcik7XHJcbiAgICAgICAgdGhpcy5zZXR1cElucHV0SGFuZGxpbmcoKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMudGhydXN0S2V5LmlzRG93bikge1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllci50aHJ1c3Rlci50aHJ1c3RGb3dhcmRzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmJvb3N0S2V5LmlzRG93bikge1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllci50aHJ1c3Rlci5ib29zdEZvcndhcmRzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlucHV0LmFjdGl2ZVBvaW50ZXIubGVmdEJ1dHRvbkRvd24oKSkge1xyXG4gICAgICAgICAgICBsZXQgYTogU2hpcEF0dGFjaG1lbnQgPSB0aGlzLnBsYXllci5hdHRhY2htZW50cy5nZXRBdHRhY2htZW50KEF0dGFjaG1lbnRMb2NhdGlvbi5mcm9udCk7XHJcbiAgICAgICAgICAgIGlmIChhKSB7XHJcbiAgICAgICAgICAgICAgICBhLnRyaWdnZXIoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pbnB1dC5hY3RpdmVQb2ludGVyLnJpZ2h0QnV0dG9uRG93bigpKSB7XHJcbiAgICAgICAgICAgIGxldCBhOiBTaGlwQXR0YWNobWVudCA9IHRoaXMucGxheWVyLmF0dGFjaG1lbnRzLmdldEF0dGFjaG1lbnQoQXR0YWNobWVudExvY2F0aW9uLmZyb250KTtcclxuICAgICAgICAgICAgaWYgKGEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyLmF0dGFjaG1lbnRzLnRocm93QXR0YWNobWVudChBdHRhY2htZW50TG9jYXRpb24uZnJvbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnJvdGF0ZUF0dGFjaG1lbnRzQ2xvY2t3aXNlS2V5LmlzRG93bikge1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllci5hdHRhY2htZW50cy5yb3RhdGVBdHRhY2htZW50c0Nsb2Nrd2lzZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5yb3RhdGVBdHRhY2htZW50c0FudGlDbG9ja3dpc2VLZXkuaXNEb3duKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyLmF0dGFjaG1lbnRzLnJvdGF0ZUF0dGFjaG1lbnRzQW50aUNsb2Nrd2lzZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5kZXRhY2hBdHRhY2htZW50S2V5LmlzRG93bikge1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllci5hdHRhY2htZW50cy5yZW1vdmVBdHRhY2htZW50KEF0dGFjaG1lbnRMb2NhdGlvbi5mcm9udCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucGxheWVyLnVwZGF0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0dXBJbnB1dEhhbmRsaW5nKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMudGhydXN0S2V5ID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoJ1NQQUNFJywgdHJ1ZSwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5ib29zdEtleSA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KCdUQUInLCB0cnVlLCBmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5yb3RhdGVBdHRhY2htZW50c0Nsb2Nrd2lzZUtleSA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KCdFJywgdHJ1ZSwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMucm90YXRlQXR0YWNobWVudHNBbnRpQ2xvY2t3aXNlS2V5ID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoJ1EnLCB0cnVlLCBmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5kZXRhY2hBdHRhY2htZW50S2V5ID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoJ1gnLCB0cnVlLCBmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5nYW1lLmNhbnZhcy5vbmNvbnRleHRtZW51ID0gKGUpID0+IHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldHVwQ2FtZXJhKHBsYXllcjogU2hpcFBvZCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLmJhY2tncm91bmRDb2xvci5zZXRGcm9tUkdCKHtyOiAwLCBnOiAwLCBiOiAwfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0Wm9vbSgxKTtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5jZW50ZXJPbigwLCAwKTtcclxuXHJcbiAgICAgICAgbGV0IHdpZHRoOiBudW1iZXIgPSB0aGlzLmNhbWVyYXMubWFpbi53aWR0aDtcclxuICAgICAgICBsZXQgaGVpZ2h0OiBudW1iZXIgPSB0aGlzLmNhbWVyYXMubWFpbi5oZWlnaHQ7XHJcbiAgICAgICAgbGV0IGR6V2lkdGg6IG51bWJlciA9IE1hdGguZmxvb3Iod2lkdGggLyAyKTtcclxuICAgICAgICBsZXQgZHpIZWlnaHQ6IG51bWJlciA9IE1hdGguZmxvb3IoaGVpZ2h0IC8gMik7XHJcbiAgICAgICAgbGV0IGR6WDogbnVtYmVyID0gTWF0aC5mbG9vcihkeldpZHRoIC8gMik7XHJcbiAgICAgICAgbGV0IGR6WTogbnVtYmVyID0gTWF0aC5mbG9vcihkekhlaWdodCAvIDIpO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnN0YXJ0Rm9sbG93KHBsYXllci5nZXRHYW1lT2JqZWN0KCksIHRydWUpO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLmRlYWR6b25lID0gbmV3IFBoYXNlci5HZW9tLlJlY3RhbmdsZShkelgsIGR6WSwgZHpXaWR0aCwgZHpIZWlnaHQpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFwicGhhc2VyXCI7XHJcbmltcG9ydCB7IFJORyB9IGZyb20gXCIuLi91dGlsaXRpZXMvcm5nXCI7XHJcbmltcG9ydCB7IFVwZGF0YWJsZSB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL3VwZGF0YWJsZVwiO1xyXG5pbXBvcnQgeyBDYW5UYXJnZXQgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9jYW4tdGFyZ2V0XCI7XHJcbmltcG9ydCB7IEhhc0xvY2F0aW9uIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvaGFzLWxvY2F0aW9uXCI7XHJcbmltcG9ydCB7IEhhc0dhbWVPYmplY3QgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9oYXMtZ2FtZS1vYmplY3RcIjtcclxuaW1wb3J0IHsgSGFzSW50ZWdyaXR5IH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvaGFzLWludGVncml0eVwiO1xyXG5pbXBvcnQgeyBDb25zdGFudHMgfSBmcm9tIFwiLi4vdXRpbGl0aWVzL2NvbnN0YW50c1wiO1xyXG5pbXBvcnQgeyBIZWxwZXJzIH0gZnJvbSBcIi4uL3V0aWxpdGllcy9oZWxwZXJzXCI7XHJcbmltcG9ydCB7IEhhc1RlbXBlcmF0dXJlIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvaGFzLXRlbXBlcmF0dXJlXCI7XHJcbmltcG9ydCB7IEhhc0Z1ZWwgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9oYXMtZnVlbFwiO1xyXG5pbXBvcnQgeyBIYXNQaHlzaWNzR2FtZU9iamVjdCB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2hhcy1waHlzaWNzLWdhbWUtb2JqZWN0XCI7XHJcbmltcG9ydCB7IEF0dGFjaG1lbnRNYW5hZ2VyIH0gZnJvbSBcIi4vYXR0YWNobWVudHMvYXR0YWNobWVudC1tYW5hZ2VyXCI7XHJcbmltcG9ydCB7IFRocnVzdGVyIH0gZnJvbSBcIi4vYXR0YWNobWVudHMvdXRpbGl0eS90aHJ1c3RlclwiO1xyXG5pbXBvcnQgeyBTaGlwUG9kQ29uZmlnIH0gZnJvbSBcIi4vc2hpcC1wb2QtY29uZmlnXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU2hpcFBvZCBpbXBsZW1lbnRzIFVwZGF0YWJsZSwgQ2FuVGFyZ2V0LCBIYXNMb2NhdGlvbiwgSGFzR2FtZU9iamVjdDxQaGFzZXIuR2FtZU9iamVjdHMuQ29udGFpbmVyPiwgSGFzUGh5c2ljc0dhbWVPYmplY3QsIEhhc0ludGVncml0eSwgSGFzVGVtcGVyYXR1cmUsIEhhc0Z1ZWwge1xyXG4gICAgcHJpdmF0ZSBpZDogc3RyaW5nOyAvLyBVVUlEXHJcbiAgICBwcml2YXRlIHNjZW5lOiBQaGFzZXIuU2NlbmU7XHJcbiAgICBwcml2YXRlIGdhbWVPYmo6IFBoYXNlci5HYW1lT2JqZWN0cy5Db250YWluZXI7XHJcbiAgICBwcml2YXRlIHRhcmdldDogSGFzTG9jYXRpb247XHJcbiAgICBwcml2YXRlIGludGVncml0eTogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSByZW1haW5pbmdGdWVsOiBudW1iZXIgPSAxMDA7XHJcbiAgICBwcml2YXRlIHRlbXBlcmF0dXJlOiBudW1iZXIgPSAwOyAvLyBpbiBDZWxjaXVzXHJcbiAgICBwcml2YXRlIGZsYXJlUGFydGljbGVzOiBQaGFzZXIuR2FtZU9iamVjdHMuUGFydGljbGVzLlBhcnRpY2xlRW1pdHRlck1hbmFnZXI7XHJcbiAgICBwcml2YXRlIGV4cGxvc2lvblBhcnRpY2xlczogUGhhc2VyLkdhbWVPYmplY3RzLlBhcnRpY2xlcy5QYXJ0aWNsZUVtaXR0ZXJNYW5hZ2VyO1xyXG5cclxuICAgIGFjdGl2ZTogYm9vbGVhbiA9IHRydWU7XHJcbiAgICBhdHRhY2htZW50czogQXR0YWNobWVudE1hbmFnZXI7XHJcbiAgICB0aHJ1c3RlcjogVGhydXN0ZXI7XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lOiBQaGFzZXIuU2NlbmUsIGNvbmZpZz86IFNoaXBQb2RDb25maWcpIHtcclxuICAgICAgICBpZiAoIWNvbmZpZykge1xyXG4gICAgICAgICAgICBjb25maWcgPSB7eDogMCwgeTogMH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaWQgPSBSTkcuZ3VpZCgpO1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLmdhbWVPYmogPSBzY2VuZS5hZGQuY29udGFpbmVyKGNvbmZpZy54LCBjb25maWcueSk7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmdhbWVPYmopO1xyXG4gICAgICAgIHRoaXMuZ2V0UGh5c2ljc0JvZHkoKS5ib3VuY2Uuc2V0VG8oMC43LCAwLjcpO1xyXG4gICAgICAgIHRoaXMuZ2V0UGh5c2ljc0JvZHkoKS5zZXRNYXhWZWxvY2l0eShDb25zdGFudHMuTUFYX1ZFTE9DSVRZLCBDb25zdGFudHMuTUFYX1ZFTE9DSVRZKTtcclxuICAgICAgICB0aGlzLmZsYXJlUGFydGljbGVzID0gc2NlbmUuYWRkLnBhcnRpY2xlcygnZmxhcmVzJyk7XHJcbiAgICAgICAgdGhpcy5leHBsb3Npb25QYXJ0aWNsZXMgPSBzY2VuZS5hZGQucGFydGljbGVzKCdleHBsb3Npb24nKTtcclxuICAgICAgICBsZXQgc2hpcDogUGhhc2VyLkdhbWVPYmplY3RzLlNwcml0ZSA9IHNjZW5lLmFkZC5zcHJpdGUoMCwgMCwgJ3NoaXAtcG9kJyk7XHJcbiAgICAgICAgdGhpcy5nZXRHYW1lT2JqZWN0KCkuYWRkKHNoaXApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuaW50ZWdyaXR5ID0gQ29uc3RhbnRzLk1BWF9JTlRFR1JJVFk7XHJcbiAgICAgICAgdGhpcy50aHJ1c3RlciA9IG5ldyBUaHJ1c3Rlcih0aGlzLCB0aGlzLnNjZW5lKTtcclxuICAgICAgICB0aGlzLmF0dGFjaG1lbnRzID0gbmV3IEF0dGFjaG1lbnRNYW5hZ2VyKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5hY3RpdmUpIHtcclxuICAgICAgICAgICAgdGhpcy5sb29rQXRUYXJnZXQoKTtcclxuICAgICAgICAgICAgdGhpcy5jaGVja092ZXJoZWF0Q29uZGl0aW9uKCk7XHJcbiAgICAgICAgICAgIHRoaXMuYXR0YWNobWVudHMudXBkYXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogY2hlY2tzIGZvciBhbmQgYXBwbGllcyBkYW1hZ2UgYmFzZWQgb24gZGVncmVlcyBvdmVyIHNhZmUgdGVtcGVyYXR1cmUgYXQgYSByYXRlXHJcbiAgICAgKiBkZWZpbmVkIGJ5IHtDb25zdGFudHMuT1ZFUkhFQVRfQ0hFQ0tfSU5URVJWQUx9IG1pbGxpc2Vjb25kcyBiZXR3ZWVuIGVhY2ggY2hlY2suXHJcbiAgICAgKiBhbHNvIGFwcGxpZXMgY29vbGluZyBhdCBhIHJhdGUgb2Yge0NvbnN0YW50cy5DT09MSU5HX1JBVEV9XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgY2hlY2tPdmVyaGVhdENvbmRpdGlvbigpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5hY3RpdmUpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc2NlbmUuZ2FtZS5nZXRUaW1lKCkgPiB0aGlzLmxhc3RPdmVyaGVhdENoZWNrICsgQ29uc3RhbnRzLk9WRVJIRUFUX0NIRUNLX0lOVEVSVkFMKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50ZW1wZXJhdHVyZSA+IENvbnN0YW50cy5NQVhfVEVNUEVSQVRVUkUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3koKTsgLy8gd2UgYXJlIGRlYWRcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRlbXBlcmF0dXJlID4gQ29uc3RhbnRzLk1BWF9TQUZFX1RFTVBFUkFUVVJFKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVkdWNlIGludGVncml0eSBiYXNlZCBvbiBkZWdyZWVzIG92ZXIgc2FmZSBvcGVyYXRpbmcgdGVtcFxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBkZWx0YTogbnVtYmVyID0gKHRoaXMudGVtcGVyYXR1cmUgLSBDb25zdGFudHMuTUFYX1NBRkVfVEVNUEVSQVRVUkUpIC8gQ29uc3RhbnRzLk1BWF9TQUZFX1RFTVBFUkFUVVJFO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3VzdGFpbkRhbWFnZShkZWx0YSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGx5Q29vbGluZyhDb25zdGFudHMuQ09PTElOR19SQVRFKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubGFzdE92ZXJoZWF0Q2hlY2sgPSB0aGlzLnNjZW5lLmdhbWUuZ2V0VGltZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBsYXN0T3ZlcmhlYXRDaGVjazogbnVtYmVyID0gMDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRPRE86IG5lZWRlZCBzbyB3ZSBjYW4gdXNlIEZsb2F0aW5nIE9yaWdpblxyXG4gICAgICovXHJcbiAgICBnZXRSZWFsTG9jYXRpb24oKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0R2FtZU9iamVjdCgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUGhhc2VyLk1hdGguVmVjdG9yMih0aGlzLmdldEdhbWVPYmplY3QoKS54LCB0aGlzLmdldEdhbWVPYmplY3QoKS55KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFBoYXNlci5NYXRoLlZlY3RvcjIuWkVSTztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHRoZSBsb2NhdGlvbiB3aXRoaW4gdGhlIHZpZXdhYmxlIGFyZWFcclxuICAgICAqIEByZXR1cm5zIGEge1BoYXNlci5NYXRoLlZlY3RvcjJ9IG9mZnNldCBmb3IgbG9jYXRpb24gd2l0aGluIGN1cnJlbnQgXHJcbiAgICAgKiB2aWV3YWJsZSBhcmVhXHJcbiAgICAgKi9cclxuICAgIGdldExvY2F0aW9uKCk6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIGlmICh0aGlzLmdldEdhbWVPYmplY3QoKSkge1xyXG4gICAgICAgICAgICBsZXQgY2FtZXJhUG9zOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5zY2VuZS5jYW1lcmFzLm1haW4uZ2V0V29ybGRQb2ludCgwLCAwKTtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKHRoaXMuZ2FtZU9iai54IC0gY2FtZXJhUG9zLngsIHRoaXMuZ2FtZU9iai55IC0gY2FtZXJhUG9zLnkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUGhhc2VyLk1hdGguVmVjdG9yMi5aRVJPO1xyXG4gICAgfVxyXG5cclxuICAgIGdldElkKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0R2FtZU9iamVjdCgpOiBQaGFzZXIuR2FtZU9iamVjdHMuQ29udGFpbmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nYW1lT2JqO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFBoeXNpY3NCb2R5KCk6IFBoYXNlci5QaHlzaWNzLkFyY2FkZS5Cb2R5IHtcclxuICAgICAgICBpZiAodGhpcy5nZXRHYW1lT2JqZWN0KCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0R2FtZU9iamVjdCgpLmJvZHkgYXMgUGhhc2VyLlBoeXNpY3MuQXJjYWRlLkJvZHk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFRhcmdldCh0YXJnZXQ6IEhhc0xvY2F0aW9uKSB7XHJcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VGFyZ2V0KCk6IEhhc0xvY2F0aW9uIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50YXJnZXQ7XHJcbiAgICB9XHJcblxyXG4gICAgbG9va0F0VGFyZ2V0KCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmdldFBoeXNpY3NCb2R5KCkpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0VGFyZ2V0KCkpIHtcclxuICAgICAgICAgICAgICAgIGxldCB0YXJnZXRQb3MgPSB0aGlzLmdldFRhcmdldCgpLmdldFJlYWxMb2NhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHNoaXBQb3MgPSB0aGlzLmdldFJlYWxMb2NhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHJhZGlhbnM6IG51bWJlciA9IFBoYXNlci5NYXRoLkFuZ2xlLkJldHdlZW4odGFyZ2V0UG9zLngsIHRhcmdldFBvcy55LCBzaGlwUG9zLngsIHNoaXBQb3MueSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGVncmVlczogbnVtYmVyID0gUGhhc2VyLk1hdGguUmFkVG9EZWcocmFkaWFucyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdldFBoeXNpY3NCb2R5KCkucm90YXRpb24gPSBkZWdyZWVzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogdGhlIHJvdGF0aW9uIG9mIHRoZSBTaGlwJ3Mge0dhbWVPYmplY3QuYm9keX0gaW4gZGVncmVlc1xyXG4gICAgICovXHJcbiAgICBnZXRSb3RhdGlvbigpOiBudW1iZXIge1xyXG4gICAgICAgIGlmICh0aGlzLmdldEdhbWVPYmplY3QoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRHYW1lT2JqZWN0KCkuYW5nbGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEhlYWRpbmcoKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgcmV0dXJuIEhlbHBlcnMuZ2V0SGVhZGluZyh0aGlzLmdldFJvdGF0aW9uKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFNwZWVkKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VmVsb2NpdHkoKS5sZW5ndGgoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRWZWxvY2l0eSgpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICBpZiAodGhpcy5nZXRQaHlzaWNzQm9keSgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFBoeXNpY3NCb2R5KCkudmVsb2NpdHkuY2xvbmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFBoYXNlci5NYXRoLlZlY3RvcjIuWkVSTztcclxuICAgIH1cclxuXHJcbiAgICBnZXRUZW1wZXJhdHVyZSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRlbXBlcmF0dXJlO1xyXG4gICAgfVxyXG5cclxuICAgIGFwcGx5SGVhdGluZyhkZWdyZWVzOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnRlbXBlcmF0dXJlICs9IGRlZ3JlZXM7XHJcbiAgICB9XHJcblxyXG4gICAgYXBwbHlDb29saW5nKGRlZ3JlZXM6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMudGVtcGVyYXR1cmUgLT0gZGVncmVlcztcclxuICAgICAgICBpZiAodGhpcy50ZW1wZXJhdHVyZSA8IDApIHtcclxuICAgICAgICAgICAgdGhpcy50ZW1wZXJhdHVyZSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlZHVjZUZ1ZWwoYW1vdW50OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnJlbWFpbmluZ0Z1ZWwgLT0gYW1vdW50O1xyXG4gICAgICAgIGlmICh0aGlzLnJlbWFpbmluZ0Z1ZWwgPCAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVtYWluaW5nRnVlbCA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFkZEZ1ZWwoYW1vdW50OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnJlbWFpbmluZ0Z1ZWwgKz0gYW1vdW50O1xyXG4gICAgICAgIGlmICh0aGlzLnJlbWFpbmluZ0Z1ZWwgPiBDb25zdGFudHMuTUFYX0ZVRUwpIHtcclxuICAgICAgICAgICAgdGhpcy5yZW1haW5pbmdGdWVsID0gQ29uc3RhbnRzLk1BWF9GVUVMO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRSZW1haW5pbmdGdWVsKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVtYWluaW5nRnVlbDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRJbnRlZ3JpdHkoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pbnRlZ3JpdHk7XHJcbiAgICB9XHJcblxyXG4gICAgc3VzdGFpbkRhbWFnZShhbW91bnQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuaW50ZWdyaXR5IC09IGFtb3VudDtcclxuICAgICAgICBpZiAodGhpcy5pbnRlZ3JpdHkgPD0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmludGVncml0eSA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveSgpOyAvLyB3ZSBhcmUgZGVhZFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXBhaXIoYW1vdW50OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmludGVncml0eSA9IGFtb3VudDtcclxuICAgICAgICBpZiAodGhpcy5pbnRlZ3JpdHkgPiBDb25zdGFudHMuTUFYX0lOVEVHUklUWSkge1xyXG4gICAgICAgICAgICB0aGlzLmludGVncml0eSA9IENvbnN0YW50cy5NQVhfSU5URUdSSVRZO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkZXN0cm95KCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5kaXNwbGF5U2hpcEV4cGxvc2lvbigpO1xyXG4gICAgICAgIHRoaXMuZ2V0R2FtZU9iamVjdCgpLmRlc3Ryb3koKTtcclxuICAgICAgICB0aGlzLmdhbWVPYmogPSBudWxsO1xyXG4gICAgICAgIC8vIFRPRE86IHNpZ25hbCBlbmQgb2YgZ2FtZSBhbmQgZGlzcGxheSBtZW51XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBkaXNwbGF5U2hpcEV4cGxvc2lvbigpOiB2b2lkIHtcclxuICAgICAgICBsZXQgcG9zOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5nZXRSZWFsTG9jYXRpb24oKTtcclxuICAgICAgICB0aGlzLmV4cGxvc2lvblBhcnRpY2xlcy5jcmVhdGVFbWl0dGVyKHtcclxuICAgICAgICAgICAgeDogcG9zLngsXHJcbiAgICAgICAgICAgIHk6IHBvcy55LFxyXG4gICAgICAgICAgICBsaWZlc3BhbjogeyBtaW46IDUwMCwgbWF4OiAxMDAwIH0sXHJcbiAgICAgICAgICAgIHNwZWVkWDogeyBtaW46IC0xLCBtYXg6IDEgfSxcclxuICAgICAgICAgICAgc3BlZWRZOiB7IG1pbjogLTEsIG1heDogMSB9LFxyXG4gICAgICAgICAgICBhbmdsZTogeyBtaW46IC0xODAsIG1heDogMTc5IH0sXHJcbiAgICAgICAgICAgIGdyYXZpdHlYOiAwLFxyXG4gICAgICAgICAgICBncmF2aXR5WTogMCxcclxuICAgICAgICAgICAgc2NhbGU6IHsgc3RhcnQ6IDEsIGVuZDogMCB9LFxyXG4gICAgICAgICAgICBibGVuZE1vZGU6ICdBREQnLFxyXG4gICAgICAgICAgICBtYXhQYXJ0aWNsZXM6IDNcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmZsYXJlUGFydGljbGVzLmNyZWF0ZUVtaXR0ZXIoe1xyXG4gICAgICAgICAgICBmcmFtZTogQ29uc3RhbnRzLkZsYXJlLnJlZCBhcyBudW1iZXIsXHJcbiAgICAgICAgICAgIHg6IHBvcy54LFxyXG4gICAgICAgICAgICB5OiBwb3MueSxcclxuICAgICAgICAgICAgbGlmZXNwYW46IHsgbWluOiAxMDAsIG1heDogNTAwIH0sXHJcbiAgICAgICAgICAgIHNwZWVkWDogeyBtaW46IC02MDAsIG1heDogNjAwIH0sXHJcbiAgICAgICAgICAgIHNwZWVkWTogeyBtaW46IC02MDAsIG1heDogNjAwIH0sXHJcbiAgICAgICAgICAgIGFuZ2xlOiB7IG1pbjogLTE4MCwgbWF4OiAxNzkgfSxcclxuICAgICAgICAgICAgZ3Jhdml0eVg6IDAsXHJcbiAgICAgICAgICAgIGdyYXZpdHlZOiAwLFxyXG4gICAgICAgICAgICBzY2FsZTogeyBzdGFydDogMSwgZW5kOiAwIH0sXHJcbiAgICAgICAgICAgIGJsZW5kTW9kZTogJ0FERCcsXHJcbiAgICAgICAgICAgIG1heFBhcnRpY2xlczogMTBcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fMTBfXzsiLCJpbXBvcnQgeyB2NCB9IGZyb20gXCJ1dWlkXCI7XHJcblxyXG5leHBvcnQgbW9kdWxlIFJORyB7XHJcbiAgICBleHBvcnQgZnVuY3Rpb24gaW50KG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW47XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGd1aWQoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdjQoKTtcclxuICAgIH1cclxufSIsInZhciB2MSA9IHJlcXVpcmUoJy4vdjEnKTtcbnZhciB2NCA9IHJlcXVpcmUoJy4vdjQnKTtcblxudmFyIHV1aWQgPSB2NDtcbnV1aWQudjEgPSB2MTtcbnV1aWQudjQgPSB2NDtcblxubW9kdWxlLmV4cG9ydHMgPSB1dWlkO1xuIiwidmFyIHJuZyA9IHJlcXVpcmUoJy4vbGliL3JuZycpO1xudmFyIGJ5dGVzVG9VdWlkID0gcmVxdWlyZSgnLi9saWIvYnl0ZXNUb1V1aWQnKTtcblxuLy8gKipgdjEoKWAgLSBHZW5lcmF0ZSB0aW1lLWJhc2VkIFVVSUQqKlxuLy9cbi8vIEluc3BpcmVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS9MaW9zSy9VVUlELmpzXG4vLyBhbmQgaHR0cDovL2RvY3MucHl0aG9uLm9yZy9saWJyYXJ5L3V1aWQuaHRtbFxuXG52YXIgX25vZGVJZDtcbnZhciBfY2xvY2tzZXE7XG5cbi8vIFByZXZpb3VzIHV1aWQgY3JlYXRpb24gdGltZVxudmFyIF9sYXN0TVNlY3MgPSAwO1xudmFyIF9sYXN0TlNlY3MgPSAwO1xuXG4vLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkIGZvciBBUEkgZGV0YWlsc1xuZnVuY3Rpb24gdjEob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgdmFyIGkgPSBidWYgJiYgb2Zmc2V0IHx8IDA7XG4gIHZhciBiID0gYnVmIHx8IFtdO1xuXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgbm9kZSA9IG9wdGlvbnMubm9kZSB8fCBfbm9kZUlkO1xuICB2YXIgY2xvY2tzZXEgPSBvcHRpb25zLmNsb2Nrc2VxICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNsb2Nrc2VxIDogX2Nsb2Nrc2VxO1xuXG4gIC8vIG5vZGUgYW5kIGNsb2Nrc2VxIG5lZWQgdG8gYmUgaW5pdGlhbGl6ZWQgdG8gcmFuZG9tIHZhbHVlcyBpZiB0aGV5J3JlIG5vdFxuICAvLyBzcGVjaWZpZWQuICBXZSBkbyB0aGlzIGxhemlseSB0byBtaW5pbWl6ZSBpc3N1ZXMgcmVsYXRlZCB0byBpbnN1ZmZpY2llbnRcbiAgLy8gc3lzdGVtIGVudHJvcHkuICBTZWUgIzE4OVxuICBpZiAobm9kZSA9PSBudWxsIHx8IGNsb2Nrc2VxID09IG51bGwpIHtcbiAgICB2YXIgc2VlZEJ5dGVzID0gcm5nKCk7XG4gICAgaWYgKG5vZGUgPT0gbnVsbCkge1xuICAgICAgLy8gUGVyIDQuNSwgY3JlYXRlIGFuZCA0OC1iaXQgbm9kZSBpZCwgKDQ3IHJhbmRvbSBiaXRzICsgbXVsdGljYXN0IGJpdCA9IDEpXG4gICAgICBub2RlID0gX25vZGVJZCA9IFtcbiAgICAgICAgc2VlZEJ5dGVzWzBdIHwgMHgwMSxcbiAgICAgICAgc2VlZEJ5dGVzWzFdLCBzZWVkQnl0ZXNbMl0sIHNlZWRCeXRlc1szXSwgc2VlZEJ5dGVzWzRdLCBzZWVkQnl0ZXNbNV1cbiAgICAgIF07XG4gICAgfVxuICAgIGlmIChjbG9ja3NlcSA9PSBudWxsKSB7XG4gICAgICAvLyBQZXIgNC4yLjIsIHJhbmRvbWl6ZSAoMTQgYml0KSBjbG9ja3NlcVxuICAgICAgY2xvY2tzZXEgPSBfY2xvY2tzZXEgPSAoc2VlZEJ5dGVzWzZdIDw8IDggfCBzZWVkQnl0ZXNbN10pICYgMHgzZmZmO1xuICAgIH1cbiAgfVxuXG4gIC8vIFVVSUQgdGltZXN0YW1wcyBhcmUgMTAwIG5hbm8tc2Vjb25kIHVuaXRzIHNpbmNlIHRoZSBHcmVnb3JpYW4gZXBvY2gsXG4gIC8vICgxNTgyLTEwLTE1IDAwOjAwKS4gIEpTTnVtYmVycyBhcmVuJ3QgcHJlY2lzZSBlbm91Z2ggZm9yIHRoaXMsIHNvXG4gIC8vIHRpbWUgaXMgaGFuZGxlZCBpbnRlcm5hbGx5IGFzICdtc2VjcycgKGludGVnZXIgbWlsbGlzZWNvbmRzKSBhbmQgJ25zZWNzJ1xuICAvLyAoMTAwLW5hbm9zZWNvbmRzIG9mZnNldCBmcm9tIG1zZWNzKSBzaW5jZSB1bml4IGVwb2NoLCAxOTcwLTAxLTAxIDAwOjAwLlxuICB2YXIgbXNlY3MgPSBvcHRpb25zLm1zZWNzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm1zZWNzIDogbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cbiAgLy8gUGVyIDQuMi4xLjIsIHVzZSBjb3VudCBvZiB1dWlkJ3MgZ2VuZXJhdGVkIGR1cmluZyB0aGUgY3VycmVudCBjbG9ja1xuICAvLyBjeWNsZSB0byBzaW11bGF0ZSBoaWdoZXIgcmVzb2x1dGlvbiBjbG9ja1xuICB2YXIgbnNlY3MgPSBvcHRpb25zLm5zZWNzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm5zZWNzIDogX2xhc3ROU2VjcyArIDE7XG5cbiAgLy8gVGltZSBzaW5jZSBsYXN0IHV1aWQgY3JlYXRpb24gKGluIG1zZWNzKVxuICB2YXIgZHQgPSAobXNlY3MgLSBfbGFzdE1TZWNzKSArIChuc2VjcyAtIF9sYXN0TlNlY3MpLzEwMDAwO1xuXG4gIC8vIFBlciA0LjIuMS4yLCBCdW1wIGNsb2Nrc2VxIG9uIGNsb2NrIHJlZ3Jlc3Npb25cbiAgaWYgKGR0IDwgMCAmJiBvcHRpb25zLmNsb2Nrc2VxID09PSB1bmRlZmluZWQpIHtcbiAgICBjbG9ja3NlcSA9IGNsb2Nrc2VxICsgMSAmIDB4M2ZmZjtcbiAgfVxuXG4gIC8vIFJlc2V0IG5zZWNzIGlmIGNsb2NrIHJlZ3Jlc3NlcyAobmV3IGNsb2Nrc2VxKSBvciB3ZSd2ZSBtb3ZlZCBvbnRvIGEgbmV3XG4gIC8vIHRpbWUgaW50ZXJ2YWxcbiAgaWYgKChkdCA8IDAgfHwgbXNlY3MgPiBfbGFzdE1TZWNzKSAmJiBvcHRpb25zLm5zZWNzID09PSB1bmRlZmluZWQpIHtcbiAgICBuc2VjcyA9IDA7XG4gIH1cblxuICAvLyBQZXIgNC4yLjEuMiBUaHJvdyBlcnJvciBpZiB0b28gbWFueSB1dWlkcyBhcmUgcmVxdWVzdGVkXG4gIGlmIChuc2VjcyA+PSAxMDAwMCkge1xuICAgIHRocm93IG5ldyBFcnJvcigndXVpZC52MSgpOiBDYW5cXCd0IGNyZWF0ZSBtb3JlIHRoYW4gMTBNIHV1aWRzL3NlYycpO1xuICB9XG5cbiAgX2xhc3RNU2VjcyA9IG1zZWNzO1xuICBfbGFzdE5TZWNzID0gbnNlY3M7XG4gIF9jbG9ja3NlcSA9IGNsb2Nrc2VxO1xuXG4gIC8vIFBlciA0LjEuNCAtIENvbnZlcnQgZnJvbSB1bml4IGVwb2NoIHRvIEdyZWdvcmlhbiBlcG9jaFxuICBtc2VjcyArPSAxMjIxOTI5MjgwMDAwMDtcblxuICAvLyBgdGltZV9sb3dgXG4gIHZhciB0bCA9ICgobXNlY3MgJiAweGZmZmZmZmYpICogMTAwMDAgKyBuc2VjcykgJSAweDEwMDAwMDAwMDtcbiAgYltpKytdID0gdGwgPj4+IDI0ICYgMHhmZjtcbiAgYltpKytdID0gdGwgPj4+IDE2ICYgMHhmZjtcbiAgYltpKytdID0gdGwgPj4+IDggJiAweGZmO1xuICBiW2krK10gPSB0bCAmIDB4ZmY7XG5cbiAgLy8gYHRpbWVfbWlkYFxuICB2YXIgdG1oID0gKG1zZWNzIC8gMHgxMDAwMDAwMDAgKiAxMDAwMCkgJiAweGZmZmZmZmY7XG4gIGJbaSsrXSA9IHRtaCA+Pj4gOCAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRtaCAmIDB4ZmY7XG5cbiAgLy8gYHRpbWVfaGlnaF9hbmRfdmVyc2lvbmBcbiAgYltpKytdID0gdG1oID4+PiAyNCAmIDB4ZiB8IDB4MTA7IC8vIGluY2x1ZGUgdmVyc2lvblxuICBiW2krK10gPSB0bWggPj4+IDE2ICYgMHhmZjtcblxuICAvLyBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGAgKFBlciA0LjIuMiAtIGluY2x1ZGUgdmFyaWFudClcbiAgYltpKytdID0gY2xvY2tzZXEgPj4+IDggfCAweDgwO1xuXG4gIC8vIGBjbG9ja19zZXFfbG93YFxuICBiW2krK10gPSBjbG9ja3NlcSAmIDB4ZmY7XG5cbiAgLy8gYG5vZGVgXG4gIGZvciAodmFyIG4gPSAwOyBuIDwgNjsgKytuKSB7XG4gICAgYltpICsgbl0gPSBub2RlW25dO1xuICB9XG5cbiAgcmV0dXJuIGJ1ZiA/IGJ1ZiA6IGJ5dGVzVG9VdWlkKGIpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHYxO1xuIiwidmFyIHJuZyA9IHJlcXVpcmUoJy4vbGliL3JuZycpO1xudmFyIGJ5dGVzVG9VdWlkID0gcmVxdWlyZSgnLi9saWIvYnl0ZXNUb1V1aWQnKTtcblxuZnVuY3Rpb24gdjQob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgdmFyIGkgPSBidWYgJiYgb2Zmc2V0IHx8IDA7XG5cbiAgaWYgKHR5cGVvZihvcHRpb25zKSA9PSAnc3RyaW5nJykge1xuICAgIGJ1ZiA9IG9wdGlvbnMgPT09ICdiaW5hcnknID8gbmV3IEFycmF5KDE2KSA6IG51bGw7XG4gICAgb3B0aW9ucyA9IG51bGw7XG4gIH1cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgdmFyIHJuZHMgPSBvcHRpb25zLnJhbmRvbSB8fCAob3B0aW9ucy5ybmcgfHwgcm5nKSgpO1xuXG4gIC8vIFBlciA0LjQsIHNldCBiaXRzIGZvciB2ZXJzaW9uIGFuZCBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGBcbiAgcm5kc1s2XSA9IChybmRzWzZdICYgMHgwZikgfCAweDQwO1xuICBybmRzWzhdID0gKHJuZHNbOF0gJiAweDNmKSB8IDB4ODA7XG5cbiAgLy8gQ29weSBieXRlcyB0byBidWZmZXIsIGlmIHByb3ZpZGVkXG4gIGlmIChidWYpIHtcbiAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgMTY7ICsraWkpIHtcbiAgICAgIGJ1ZltpICsgaWldID0gcm5kc1tpaV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGJ1ZiB8fCBieXRlc1RvVXVpZChybmRzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB2NDtcbiIsImltcG9ydCB7IEhhc0F0dGFjaG1lbnRzIH0gZnJvbSBcIi4uLy4uL2ludGVyZmFjZXMvaGFzLWF0dGFjaG1lbnRzXCI7XHJcbmltcG9ydCB7IFNoaXBBdHRhY2htZW50IH0gZnJvbSBcIi4vc2hpcC1hdHRhY2htZW50XCI7XHJcbmltcG9ydCB7IEhlbHBlcnMgfSBmcm9tIFwiLi4vLi4vdXRpbGl0aWVzL2hlbHBlcnNcIjtcclxuaW1wb3J0IHsgQXR0YWNobWVudExvY2F0aW9uIH0gZnJvbSBcIi4vYXR0YWNobWVudC1sb2NhdGlvblwiO1xyXG5pbXBvcnQgeyBVcGRhdGFibGUgfSBmcm9tIFwiLi4vLi4vaW50ZXJmYWNlcy91cGRhdGFibGVcIjtcclxuaW1wb3J0IHsgU2hpcFBvZCB9IGZyb20gXCIuLi9zaGlwLXBvZFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEF0dGFjaG1lbnRNYW5hZ2VyIGltcGxlbWVudHMgSGFzQXR0YWNobWVudHMsIFVwZGF0YWJsZSB7XHJcbiAgICBwcml2YXRlIGF0dGFjaG1lbnRzOiBTaGlwQXR0YWNobWVudFtdID0gW107XHJcbiAgICBwcml2YXRlIHNoaXA6IFNoaXBQb2Q7XHJcblxyXG4gICAgYWN0aXZlOiBib29sZWFuO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHBhcmVudDogU2hpcFBvZCkge1xyXG4gICAgICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnNoaXAgPSBwYXJlbnQ7XHJcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPEhlbHBlcnMuZW51bUxlbmd0aChBdHRhY2htZW50TG9jYXRpb24pOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5hdHRhY2htZW50cy5wdXNoKG51bGwpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGk9MDsgaTx0aGlzLmF0dGFjaG1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgYTogU2hpcEF0dGFjaG1lbnQgPSB0aGlzLmF0dGFjaG1lbnRzW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBhLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICByb3RhdGVBdHRhY2htZW50c0Nsb2Nrd2lzZSgpOiB2b2lkIHtcclxuICAgICAgICBsZXQgbGFzdDogU2hpcEF0dGFjaG1lbnQgPSB0aGlzLmF0dGFjaG1lbnRzLnBvcCgpOyAvLyByZW1vdmUgbGFzdCBlbGVtZW50XHJcbiAgICAgICAgdGhpcy5hdHRhY2htZW50cy51bnNoaWZ0KGxhc3QpOyAvLyBwdXNoIGxhc3QgZWxlbWVudCBvbnRvIHN0YXJ0IG9mIGFycmF5XHJcbiAgICAgICAgdGhpcy51cGRhdGVBdHRhY2htZW50UG9zaXRpb25zKCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJvdGF0ZUF0dGFjaG1lbnRzQW50aUNsb2Nrd2lzZSgpOiB2b2lkIHtcclxuICAgICAgICBsZXQgZmlyc3Q6IFNoaXBBdHRhY2htZW50ID0gdGhpcy5hdHRhY2htZW50cy5zaGlmdCgpOyAvLyByZW1vdmUgZmlyc3QgZWxlbWVudFxyXG4gICAgICAgIHRoaXMuYXR0YWNobWVudHMucHVzaChmaXJzdCk7IC8vIHB1c2ggZmlyc3QgZWxlbWVudCBvbnRvIGVuZCBvZiBhcnJheVxyXG4gICAgICAgIHRoaXMudXBkYXRlQXR0YWNobWVudFBvc2l0aW9ucygpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIGFkZHMgdGhlIHBhc3NlZCBpbiB7U2hpcEF0dGFjaG1lbnR9IGluIHtBdHRhY2htZW50TG9jYXRpb24uZnJvbnR9IG9yXHJcbiAgICAgKiB0aGUgZmlyc3Qgb3BlbiB7QXR0YWNobWVudExvY2F0aW9ufSBpbiBhIGNsb2Nrd2lzZSBzZWFyY2guIGlmIG5vIG9wZW5cclxuICAgICAqIHNsb3RzIGV4aXN0IHRoZW4gdGhlIGV4aXN0aW5nIHtTaGlwQXR0YWNobWVudH0gYXQge0F0dGFjaG1lbnRMb2NhdGlvbi5mcm9udH1cclxuICAgICAqIGlzIGRldGFjaGVkIGFuZCByZXBsYWNlZCB3aXRoIHRoZSBwYXNzZWQgaW4ge1NoaXBBdHRhY2htZW50fVxyXG4gICAgICogQHBhcmFtIGF0dGFjaG1lbnQgdGhlIGF0dGFjaG1lbnQgdG8gYmUgYWRkZWRcclxuICAgICAqL1xyXG4gICAgYWRkQXR0YWNobWVudChhdHRhY2htZW50OiBTaGlwQXR0YWNobWVudCk6IHZvaWQge1xyXG4gICAgICAgIGxldCBhdHRhY2hlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgICAgIGZvciAodmFyIGk9MDsgaTxIZWxwZXJzLmVudW1MZW5ndGgoQXR0YWNobWVudExvY2F0aW9uKTsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5hdHRhY2htZW50c1tpXSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hdHRhY2htZW50c1tpXSA9IGF0dGFjaG1lbnQ7XHJcbiAgICAgICAgICAgICAgICBhdHRhY2htZW50LmF0dGFjaCh0aGlzLnNoaXAsIGkpO1xyXG4gICAgICAgICAgICAgICAgYXR0YWNoZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghYXR0YWNoZWQpIHtcclxuICAgICAgICAgICAgLy8gZGV0YWNoIGN1cnJlbnQgZnJvbnQgYXR0YWNobWVudFxyXG4gICAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzW0F0dGFjaG1lbnRMb2NhdGlvbi5mcm9udF0uZGV0YWNoKCk7XHJcbiAgICAgICAgICAgIHRoaXMuYXR0YWNobWVudHNbQXR0YWNobWVudExvY2F0aW9uLmZyb250XSA9IGF0dGFjaG1lbnQ7XHJcbiAgICAgICAgICAgIGF0dGFjaG1lbnQuYXR0YWNoKHRoaXMuc2hpcCwgQXR0YWNobWVudExvY2F0aW9uLmZyb250KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc2hpcC5nZXRHYW1lT2JqZWN0KCkuYWRkKGF0dGFjaG1lbnQuZ2V0R2FtZU9iamVjdCgpKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmVtb3ZlQXR0YWNobWVudChsb2NhdGlvbjogQXR0YWNobWVudExvY2F0aW9uKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuYXR0YWNobWVudHNbbG9jYXRpb25dKSB7XHJcbiAgICAgICAgICAgIGxldCBib2R5OiBQaGFzZXIuUGh5c2ljcy5BcmNhZGUuQm9keSA9IHRoaXMuYXR0YWNobWVudHNbbG9jYXRpb25dLmdldFBoeXNpY3NCb2R5KCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBsZXQgZ286IFBoYXNlci5HYW1lT2JqZWN0cy5HYW1lT2JqZWN0ID0gdGhpcy5hdHRhY2htZW50c1tsb2NhdGlvbl0uZ2V0R2FtZU9iamVjdCgpO1xyXG4gICAgICAgICAgICB0aGlzLnNoaXAuZ2V0R2FtZU9iamVjdCgpLnJlbW92ZShnbywgZmFsc2UpO1xyXG4gICAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzW2xvY2F0aW9uXS5kZXRhY2goKTtcclxuICAgICAgICAgICAgdGhpcy5hdHRhY2htZW50c1tsb2NhdGlvbl0gPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgLy8gbW92ZSBhdHRhY2htZW50IHRvIHNoaXAgbG9jYXRpb24gYW5kIHJvdGF0aW9uIGFuZCBhcHBseSBjdXJyZW50IHZlbG9jaXR5XHJcbiAgICAgICAgICAgIGJvZHkucG9zaXRpb24gPSB0aGlzLnNoaXAuZ2V0UmVhbExvY2F0aW9uKCk7XHJcbiAgICAgICAgICAgIGxldCBzaGlwVmVsb2NpdHlWZWN0b3I6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSB0aGlzLnNoaXAuZ2V0UGh5c2ljc0JvZHkoKS52ZWxvY2l0eTtcclxuICAgICAgICAgICAgYm9keS5zZXRWZWxvY2l0eShzaGlwVmVsb2NpdHlWZWN0b3IueCwgc2hpcFZlbG9jaXR5VmVjdG9yLnkpO1xyXG4gICAgICAgICAgICBib2R5LnJvdGF0aW9uID0gdGhpcy5zaGlwLmdldFJvdGF0aW9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICB0aHJvd0F0dGFjaG1lbnQobG9jYXRpb246IEF0dGFjaG1lbnRMb2NhdGlvbik6IHZvaWQge1xyXG4gICAgICAgIGxldCBhdHRhY2htZW50OiBTaGlwQXR0YWNobWVudCA9IHRoaXMuZ2V0QXR0YWNobWVudChsb2NhdGlvbik7XHJcbiAgICAgICAgaWYgKGF0dGFjaG1lbnQpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaT0wOyBpPHRoaXMuYXR0YWNobWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmF0dGFjaG1lbnRzW2ldICYmIHRoaXMuYXR0YWNobWVudHNbaV0gPT0gYXR0YWNobWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQXR0YWNobWVudChpKTtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBhdHRhY2htZW50LnRocm93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGdldEF0dGFjaG1lbnRzKCk6IFNoaXBBdHRhY2htZW50W10ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmF0dGFjaG1lbnRzO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBnZXRBdHRhY2htZW50KGxvY2F0aW9uOiBBdHRhY2htZW50TG9jYXRpb24pOiBTaGlwQXR0YWNobWVudCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYXR0YWNobWVudHNbbG9jYXRpb25dO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdXBkYXRlQXR0YWNobWVudFBvc2l0aW9ucygpOiB2b2lkIHtcclxuICAgICAgICBmb3IgKHZhciBpPTA7IGk8dGhpcy5hdHRhY2htZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5hdHRhY2htZW50c1tpXSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hdHRhY2htZW50c1tpXS5zZXRBdHRhY2htZW50TG9jYXRpb24oaSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBDYW5UaHJ1c3QgfSBmcm9tIFwiLi4vLi4vLi4vaW50ZXJmYWNlcy9jYW4tdGhydXN0XCI7XHJcbmltcG9ydCB7IFNoaXBQb2QgfSBmcm9tIFwiLi4vLi4vc2hpcC1wb2RcIjtcclxuaW1wb3J0IHsgQ29uc3RhbnRzIH0gZnJvbSBcIi4uLy4uLy4uL3V0aWxpdGllcy9jb25zdGFudHNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBUaHJ1c3RlciBpbXBsZW1lbnRzIENhblRocnVzdCB7XHJcbiAgICBwcml2YXRlIHNoaXA6IFNoaXBQb2Q7XHJcbiAgICBwcml2YXRlIHNjZW5lOiBQaGFzZXIuU2NlbmU7XHJcbiAgICBwcml2YXRlIGZsYXJlUGFydGljbGVzOiBQaGFzZXIuR2FtZU9iamVjdHMuUGFydGljbGVzLlBhcnRpY2xlRW1pdHRlck1hbmFnZXI7XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKHNoaXA6IFNoaXBQb2QsIHNjZW5lOiBQaGFzZXIuU2NlbmUpIHtcclxuICAgICAgICB0aGlzLnNoaXAgPSBzaGlwO1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLmZsYXJlUGFydGljbGVzID0gc2NlbmUuYWRkLnBhcnRpY2xlcygnZmxhcmVzJyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHRocnVzdEZvd2FyZHMoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5hcHBseVRocnVzdChDb25zdGFudHMuVEhSVVNURVJfRk9SQ0UsIENvbnN0YW50cy5GVUVMX1BFUl9USFJVU1QsIENvbnN0YW50cy5IRUFUX1BFUl9USFJVU1QpO1xyXG4gICAgICAgIHRoaXMuZGlzcGxheVRocnVzdGVyRmlyZShDb25zdGFudHMuRmxhcmUueWVsbG93LCAwLjIsIDEpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwcml2YXRlIGxhc3RCb29zdFRpbWU6IG51bWJlciA9IDA7XHJcbiAgICBib29zdEZvcndhcmRzKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLnNjZW5lLmdhbWUuZ2V0VGltZSgpID49IHRoaXMubGFzdEJvb3N0VGltZSArIENvbnN0YW50cy5CT09TVEVSX0NPT0xET1dOX1RJTUUpIHtcclxuICAgICAgICAgICAgdGhpcy5hcHBseVRocnVzdChDb25zdGFudHMuQk9PU1RFUl9GT1JDRSwgQ29uc3RhbnRzLkZVRUxfUEVSX0JPT1NULCBDb25zdGFudHMuSEVBVF9QRVJfQk9PU1QpO1xyXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlUaHJ1c3RlckZpcmUoQ29uc3RhbnRzLkZsYXJlLmJsdWUsIDEsIDEwKTtcclxuICAgICAgICAgICAgdGhpcy5sYXN0Qm9vc3RUaW1lID0gdGhpcy5zY2VuZS5nYW1lLmdldFRpbWUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RyYWZlTGVmdCgpOiB2b2lkIHtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBzdHJhZmVSaWdodCgpOiB2b2lkIHtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICB0aHJ1c3RCYWNrd2FyZHMoKTogdm9pZCB7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhcHBseVRocnVzdChmb3JjZTogbnVtYmVyLCBmdWVsOiBudW1iZXIsIGhlYXQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLnNoaXAuZ2V0UmVtYWluaW5nRnVlbCgpID4gMCkge1xyXG4gICAgICAgICAgICBsZXQgaGVhZGluZzogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuc2hpcC5nZXRIZWFkaW5nKCk7XHJcbiAgICAgICAgICAgIGxldCBkZWx0YVY6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSBoZWFkaW5nLm11bHRpcGx5KG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKGZvcmNlLCBmb3JjZSkpO1xyXG4gICAgICAgICAgICB0aGlzLnNoaXAuZ2V0UGh5c2ljc0JvZHkoKS52ZWxvY2l0eS5hZGQoZGVsdGFWKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMuc2hpcC5yZWR1Y2VGdWVsKGZ1ZWwpO1xyXG4gICAgICAgICAgICB0aGlzLnNoaXAuYXBwbHlIZWF0aW5nKGhlYXQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGRpc3BsYXlUaHJ1c3RlckZpcmUoY29sb3VyOiBDb25zdGFudHMuRmxhcmUsIHN0YXJ0U2NhbGU6IG51bWJlciwgcXVhbnRpdHk6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIC8vIG1ha2UgdGhydXN0ZXIgZmlyZVxyXG4gICAgICAgIGxldCBwb3M6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSB0aGlzLnNoaXAuZ2V0UmVhbExvY2F0aW9uKCk7XHJcbiAgICAgICAgbGV0IG9mZnNldDogUGhhc2VyLk1hdGguVmVjdG9yMiA9IG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKDIwLCAwKS5hZGQocG9zKTtcclxuICAgICAgICBsZXQgaDogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuc2hpcC5nZXRIZWFkaW5nKCkubmVnYXRlKCk7XHJcbiAgICAgICAgbGV0IGxvYzogUGhhc2VyLkdlb20uUG9pbnQgPSBQaGFzZXIuTWF0aC5Sb3RhdGVBcm91bmQob2Zmc2V0LCBwb3MueCwgcG9zLnksIFBoYXNlci5NYXRoLkRlZ1RvUmFkKHRoaXMuc2hpcC5nZXRSb3RhdGlvbigpKSk7XHJcbiAgICAgICAgbGV0IHY6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSB0aGlzLnNoaXAuZ2V0VmVsb2NpdHkoKTtcclxuICAgICAgICB0aGlzLmZsYXJlUGFydGljbGVzLmNyZWF0ZUVtaXR0ZXIoe1xyXG4gICAgICAgICAgICBmcmFtZTogY29sb3VyIGFzIG51bWJlcixcclxuICAgICAgICAgICAgeDogbG9jLngsXHJcbiAgICAgICAgICAgIHk6IGxvYy55LFxyXG4gICAgICAgICAgICBsaWZlc3BhbjogeyBtaW46IDI1MCwgbWF4OiA1MDAgfSxcclxuICAgICAgICAgICAgc3BlZWRYOiB7IG1pbjogaC54KjEwMCwgbWF4OiBoLngqNTAwIH0sXHJcbiAgICAgICAgICAgIHNwZWVkWTogeyBtaW46IGgueSoxMDAsIG1heDogaC55KjUwMCB9LFxyXG4gICAgICAgICAgICBhbmdsZTogMCxcclxuICAgICAgICAgICAgZ3Jhdml0eVg6IDAsXHJcbiAgICAgICAgICAgIGdyYXZpdHlZOiAwLFxyXG4gICAgICAgICAgICBzY2FsZTogeyBzdGFydDogc3RhcnRTY2FsZSwgZW5kOiAwIH0sXHJcbiAgICAgICAgICAgIHF1YW50aXR5OiBxdWFudGl0eSxcclxuICAgICAgICAgICAgYmxlbmRNb2RlOiAnQUREJyxcclxuICAgICAgICAgICAgbWF4UGFydGljbGVzOiAxMFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgU2hpcEF0dGFjaG1lbnQgfSBmcm9tIFwiLi4vc2hpcC1hdHRhY2htZW50XCI7XHJcbmltcG9ydCB7IENhblNob290IH0gZnJvbSBcIi4uLy4uLy4uL2ludGVyZmFjZXMvY2FuLXNob290XCI7XHJcbmltcG9ydCB7IEJ1bGxldCB9IGZyb20gXCIuL2J1bGxldFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENhbm5vbkF0dGFjaG1lbnQgZXh0ZW5kcyBTaGlwQXR0YWNobWVudCBpbXBsZW1lbnRzIENhblNob290IHtcclxuICAgIHByaXZhdGUgbWF4QW1tbzogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSByZW1haW5pbmdBbW1vOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIGxhc3RGaXJlZDogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBmaXJpbmdEZWxheTogbnVtYmVyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lOiBQaGFzZXIuU2NlbmUpIHtcclxuICAgICAgICBzdXBlcihzY2VuZSk7XHJcblxyXG4gICAgICAgIHRoaXMubWF4QW1tbyA9IDUwMDtcclxuICAgICAgICB0aGlzLnJlbWFpbmluZ0FtbW8gPSB0aGlzLm1heEFtbW87XHJcbiAgICAgICAgdGhpcy5sYXN0RmlyZWQgPSAwO1xyXG4gICAgICAgIHRoaXMuZmlyaW5nRGVsYXkgPSAxMDAwOyAvLyBtaWxsaXNlY29uZHNcclxuXHJcbiAgICAgICAgdGhpcy5nYW1lT2JqID0gdGhpcy5zY2VuZS5hZGQuc3ByaXRlKDAsIDAsICdjYW5ub24nKTtcclxuICAgICAgICB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMuZ2FtZU9iaik7XHJcbiAgICB9XHJcblxyXG4gICAgcmVsb2FkKGFtb3VudDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5yZW1haW5pbmdBbW1vICs9IGFtb3VudDtcclxuICAgICAgICBpZiAodGhpcy5yZW1haW5pbmdBbW1vID4gdGhpcy5tYXhBbW1vKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVtYWluaW5nQW1tbyA9IHRoaXMubWF4QW1tbztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UmVtYWluaW5nQW1tbygpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJlbWFpbmluZ0FtbW87XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIHRyaWdnZXIoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZmlyZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmaXJlKGRpcmVjdGlvbj86IFBoYXNlci5NYXRoLlZlY3RvcjIpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5hY3RpdmUpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0UmVtYWluaW5nQW1tbygpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2NlbmUuZ2FtZS5nZXRUaW1lKCkgPiB0aGlzLmxhc3RGaXJlZCArIHRoaXMuZmlyaW5nRGVsYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbG9jOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5nZXRSZWFsTG9jYXRpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICBuZXcgQnVsbGV0KHRoaXMuc2NlbmUsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeDogbG9jLngsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHk6IGxvYy55LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JjZTogMzAwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYW5nbGU6IHRoaXMuZ2V0Um90YXRpb24oKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRpbmdWOiB0aGlzLmdldFZlbG9jaXR5KClcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3RGaXJlZCA9IHRoaXMuc2NlbmUuZ2FtZS5nZXRUaW1lKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBTaGlwUG9kIH0gZnJvbSBcIi4uL3NoaXAtcG9kXCI7XHJcbmltcG9ydCB7IEhhc0dhbWVPYmplY3QgfSBmcm9tIFwiLi4vLi4vaW50ZXJmYWNlcy9oYXMtZ2FtZS1vYmplY3RcIjtcclxuaW1wb3J0IHsgVXBkYXRhYmxlIH0gZnJvbSBcIi4uLy4uL2ludGVyZmFjZXMvdXBkYXRhYmxlXCI7XHJcbmltcG9ydCB7IEhhc0xvY2F0aW9uIH0gZnJvbSBcIi4uLy4uL2ludGVyZmFjZXMvaGFzLWxvY2F0aW9uXCI7XHJcbmltcG9ydCB7IEhhc0ludGVncml0eSB9IGZyb20gXCIuLi8uLi9pbnRlcmZhY2VzL2hhcy1pbnRlZ3JpdHlcIjtcclxuaW1wb3J0IHsgQ29uc3RhbnRzIH0gZnJvbSBcIi4uLy4uL3V0aWxpdGllcy9jb25zdGFudHNcIjtcclxuaW1wb3J0IHsgQXR0YWNobWVudExvY2F0aW9uIH0gZnJvbSBcIi4vYXR0YWNobWVudC1sb2NhdGlvblwiO1xyXG5pbXBvcnQgeyBIZWxwZXJzIH0gZnJvbSBcIi4uLy4uL3V0aWxpdGllcy9oZWxwZXJzXCI7XHJcbmltcG9ydCB7IEhhc1BoeXNpY3NHYW1lT2JqZWN0IH0gZnJvbSBcIi4uLy4uL2ludGVyZmFjZXMvaGFzLXBoeXNpY3MtZ2FtZS1vYmplY3RcIjtcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBTaGlwQXR0YWNobWVudCBpbXBsZW1lbnRzIFVwZGF0YWJsZSwgSGFzR2FtZU9iamVjdDxQaGFzZXIuR2FtZU9iamVjdHMuU3ByaXRlPiwgSGFzUGh5c2ljc0dhbWVPYmplY3QsIEhhc0xvY2F0aW9uLCBIYXNJbnRlZ3JpdHkge1xyXG4gICAgcHJvdGVjdGVkIHNoaXA6IFNoaXBQb2Q7XHJcbiAgICBwcm90ZWN0ZWQgc2NlbmU6IFBoYXNlci5TY2VuZTtcclxuICAgIHByb3RlY3RlZCBnYW1lT2JqOiBQaGFzZXIuR2FtZU9iamVjdHMuU3ByaXRlO1xyXG4gICAgcHJvdGVjdGVkIGludGVncml0eTogbnVtYmVyO1xyXG4gICAgcHJvdGVjdGVkIGF0dGFjaG1lbnRMb2NhdGlvbjogQXR0YWNobWVudExvY2F0aW9uO1xyXG4gICAgcHJvdGVjdGVkIGlzVGhyb3duOiBib29sZWFuO1xyXG5cclxuICAgIGFjdGl2ZTogYm9vbGVhbjtcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3Ioc2NlbmU6IFBoYXNlci5TY2VuZSkge1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5pbnRlZ3JpdHkgPSBDb25zdGFudHMuTUFYX0lOVEVHUklUWTtcclxuICAgICAgICB0aGlzLmlzVGhyb3duID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgYXR0YWNoKHNoaXA6IFNoaXBQb2QsIGxvY2F0aW9uPzogQXR0YWNobWVudExvY2F0aW9uKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCFsb2NhdGlvbikge1xyXG4gICAgICAgICAgICBsb2NhdGlvbiA9IEF0dGFjaG1lbnRMb2NhdGlvbi5mcm9udDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zaGlwID0gc2hpcDtcclxuICAgICAgICB0aGlzLnNldEF0dGFjaG1lbnRMb2NhdGlvbihsb2NhdGlvbik7XHJcbiAgICAgICAgbGV0IGNlbnRyZTogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuc2hpcC5nZXRSZWFsTG9jYXRpb24oKTtcclxuICAgICAgICB0aGlzLmdldFBoeXNpY3NCb2R5KCkucG9zaXRpb24gPSBjZW50cmU7IC8vIGNlbnRyZSBvbiBzaGlwIGxvY2F0aW9uXHJcbiAgICAgICAgdGhpcy5nZXRQaHlzaWNzQm9keSgpLnJvdGF0aW9uID0gdGhpcy5zaGlwLmdldFJvdGF0aW9uKCk7IC8vIHNldCBoZWFkaW5nIHRvIG1hdGNoIHNoaXBcclxuICAgICAgICAvLyBUT0RPOiBvZmZzZXQgYXR0YWNobWVudCBieSBYWCB1bml0cyBpbiB0aGUgZm9yd2FyZCBkaXJlY3Rpb25cclxuICAgIH1cclxuXHJcbiAgICBkZXRhY2goKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5zaGlwID0gbnVsbDtcclxuICAgICAgICB0aGlzLmF0dGFjaG1lbnRMb2NhdGlvbiA9IG51bGw7XHJcbiAgICAgICAgbGV0IGdvOiBQaGFzZXIuR2FtZU9iamVjdHMuR2FtZU9iamVjdCA9IHRoaXMuZ2V0R2FtZU9iamVjdCgpO1xyXG4gICAgICAgIGdvLnNldEFjdGl2ZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnNjZW5lLmFkZC5leGlzdGluZyhnbyk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhyb3coKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5pc1Rocm93biA9IHRydWU7XHJcbiAgICAgICAgbGV0IGRlbHRhViA9IHRoaXMuZ2V0SGVhZGluZygpO1xyXG4gICAgICAgIGRlbHRhVi5tdWx0aXBseShuZXcgUGhhc2VyLk1hdGguVmVjdG9yMihDb25zdGFudHMuVEhST1dfRk9SQ0UsIENvbnN0YW50cy5USFJPV19GT1JDRSkpO1xyXG4gICAgICAgIGlmICh0aGlzLnNoaXApIHtcclxuICAgICAgICAgICAgZGVsdGFWLmFkZCh0aGlzLnNoaXAuZ2V0UGh5c2ljc0JvZHkoKS52ZWxvY2l0eSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGFkZCB0aHJvdyBmb3JjZSB0byBjdXJyZW50IHZlbG9jaXR5XHJcbiAgICAgICAgdGhpcy5nZXRQaHlzaWNzQm9keSgpLnZlbG9jaXR5LmFkZChkZWx0YVYpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBnZXRHYW1lT2JqZWN0KCk6IFBoYXNlci5HYW1lT2JqZWN0cy5TcHJpdGUge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdhbWVPYmo7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UGh5c2ljc0JvZHkoKTogUGhhc2VyLlBoeXNpY3MuQXJjYWRlLkJvZHkge1xyXG4gICAgICAgIGlmICh0aGlzLmdldEdhbWVPYmplY3QoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRHYW1lT2JqZWN0KCkuYm9keSBhcyBQaGFzZXIuUGh5c2ljcy5BcmNhZGUuQm9keTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgYWJzdHJhY3QgdXBkYXRlKCk6IHZvaWQ7XHJcblxyXG4gICAgYWJzdHJhY3QgdHJpZ2dlcigpOiB2b2lkO1xyXG5cclxuICAgIGdldFJvdGF0aW9uKCk6IG51bWJlciB7XHJcbiAgICAgICAgbGV0IHJvdGF0aW9uOiBudW1iZXIgPSB0aGlzLmdldEdhbWVPYmplY3QoKS5hbmdsZTtcclxuICAgICAgICBpZiAodGhpcy5zaGlwKSB7XHJcbiAgICAgICAgICAgIHJvdGF0aW9uICs9IHRoaXMuc2hpcC5nZXRSb3RhdGlvbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcm90YXRpb247XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiByZXR1cm5zIGEgbm9ybWFsaXNlZCB7UGhhc2VyLk1hdGguVmVjdG9yMn0gcmVwcmVzZW50aW5nIFxyXG4gICAgICogdGhlIGRpcmVjdGlvbiB0aGlzIG9iamVjdCB3b3VsZCB0cmF2ZWxcclxuICAgICAqL1xyXG4gICAgZ2V0SGVhZGluZygpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICBsZXQgcm90YXRpb246IG51bWJlciA9IHRoaXMuZ2V0Um90YXRpb24oKTtcclxuICAgICAgICByZXR1cm4gSGVscGVycy5nZXRIZWFkaW5nKHJvdGF0aW9uKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRTcGVlZCgpOiBudW1iZXIge1xyXG4gICAgICAgIGxldCBzcGVlZDogbnVtYmVyID0gdGhpcy5nZXRWZWxvY2l0eSgpLmxlbmd0aCgpO1xyXG4gICAgICAgIGlmICh0aGlzLnNoaXApIHtcclxuICAgICAgICAgICAgc3BlZWQgKz0gdGhpcy5zaGlwLmdldFNwZWVkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzcGVlZDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRWZWxvY2l0eSgpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICBpZiAodGhpcy5nZXRQaHlzaWNzQm9keSgpKSB7XHJcbiAgICAgICAgICAgIGxldCB2ZWxvY2l0eTogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuZ2V0UGh5c2ljc0JvZHkoKS52ZWxvY2l0eS5jbG9uZSgpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zaGlwKSB7XHJcbiAgICAgICAgICAgICAgICB2ZWxvY2l0eS5hZGQodGhpcy5zaGlwLmdldFZlbG9jaXR5KCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB2ZWxvY2l0eTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFBoYXNlci5NYXRoLlZlY3RvcjIuWkVSTztcclxuICAgIH1cclxuXHJcbiAgICBnZXRMb2NhdGlvbigpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICBsZXQgY2FtZXJhUG9zOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5zY2VuZS5jYW1lcmFzLm1haW4uZ2V0V29ybGRQb2ludCgwLCAwKTtcclxuICAgICAgICBsZXQgcmVhbExvYzogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuZ2V0UmVhbExvY2F0aW9uKCk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKHJlYWxMb2MueCAtIGNhbWVyYVBvcy54LCByZWFsTG9jLnkgLSBjYW1lcmFQb3MueSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UmVhbExvY2F0aW9uKCk6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIGlmICh0aGlzLmdldEdhbWVPYmplY3QoKSkge1xyXG4gICAgICAgICAgICBsZXQgcmVhbExvYzogUGhhc2VyLk1hdGguVmVjdG9yMiA9IG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKHRoaXMuZ2V0R2FtZU9iamVjdCgpLngsIHRoaXMuZ2V0R2FtZU9iamVjdCgpLnkpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zaGlwKSB7XHJcbiAgICAgICAgICAgICAgICByZWFsTG9jLmFkZCh0aGlzLnNoaXAuZ2V0UmVhbExvY2F0aW9uKCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiByZWFsTG9jO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUGhhc2VyLk1hdGguVmVjdG9yMi5aRVJPO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEludGVncml0eSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmludGVncml0eTtcclxuICAgIH1cclxuXHJcbiAgICBzdXN0YWluRGFtYWdlKGFtb3VudDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5pbnRlZ3JpdHkgLT0gYW1vdW50O1xyXG4gICAgICAgIGlmICh0aGlzLmludGVncml0eSA8PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW50ZWdyaXR5ID0gMDtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5kZXN0cm95KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlcGFpcihhbW91bnQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuaW50ZWdyaXR5ID0gYW1vdW50O1xyXG4gICAgICAgIGlmICh0aGlzLmludGVncml0eSA+IENvbnN0YW50cy5NQVhfSU5URUdSSVRZKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW50ZWdyaXR5ID0gQ29uc3RhbnRzLk1BWF9JTlRFR1JJVFk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRlc3Ryb3koKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnNoaXAuYXR0YWNobWVudHMucmVtb3ZlQXR0YWNobWVudCh0aGlzLmF0dGFjaG1lbnRMb2NhdGlvbik7XHJcbiAgICAgICAgdGhpcy5nZXRHYW1lT2JqZWN0KCkuZGVzdHJveSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEF0dGFjaG1lbnRMb2NhdGlvbihsb2M6IEF0dGFjaG1lbnRMb2NhdGlvbik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuYXR0YWNobWVudExvY2F0aW9uID0gbG9jO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgSGFzR2FtZU9iamVjdCB9IGZyb20gXCIuLi8uLi8uLi9pbnRlcmZhY2VzL2hhcy1nYW1lLW9iamVjdFwiO1xyXG5pbXBvcnQgeyBCdWxsZXRQYXJhbWV0ZXJzIH0gZnJvbSBcIi4uLy4uLy4uL2ludGVyZmFjZXMvYnVsbGV0LXBhcmFtZXRlcnNcIjtcclxuaW1wb3J0IHsgSGFzTG9jYXRpb24gfSBmcm9tIFwiLi4vLi4vLi4vaW50ZXJmYWNlcy9oYXMtbG9jYXRpb25cIjtcclxuaW1wb3J0IHsgR2xvYmFscyB9IGZyb20gXCIuLi8uLi8uLi91dGlsaXRpZXMvZ2xvYmFsc1wiO1xyXG5pbXBvcnQgeyBIYXNQaHlzaWNzR2FtZU9iamVjdCB9IGZyb20gXCIuLi8uLi8uLi9pbnRlcmZhY2VzL2hhcy1waHlzaWNzLWdhbWUtb2JqZWN0XCI7XHJcbmltcG9ydCB7IEhlbHBlcnMgfSBmcm9tIFwiLi4vLi4vLi4vdXRpbGl0aWVzL2hlbHBlcnNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBCdWxsZXQgaW1wbGVtZW50cyBIYXNHYW1lT2JqZWN0PFBoYXNlci5HYW1lT2JqZWN0cy5TcHJpdGU+LCBIYXNQaHlzaWNzR2FtZU9iamVjdCwgSGFzTG9jYXRpb24ge1xyXG4gICAgc2NlbmU6IFBoYXNlci5TY2VuZTtcclxuICAgIGZvcmNlOiBudW1iZXI7XHJcbiAgICBnYW1lT2JqOiBQaGFzZXIuR2FtZU9iamVjdHMuU3ByaXRlO1xyXG4gICAgYWN0aXZlOiBib29sZWFuO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lOiBQaGFzZXIuU2NlbmUsIHBhcmFtczogQnVsbGV0UGFyYW1ldGVycykge1xyXG4gICAgICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy5mb3JjZSA9IHBhcmFtcy5mb3JjZSB8fCAwO1xyXG4gICAgICAgIHRoaXMuZ2FtZU9iaiA9IHRoaXMuc2NlbmUuYWRkLnNwcml0ZShwYXJhbXMueCB8fCAwLCBwYXJhbXMueSB8fCAwLCAnYnVsbGV0Jyk7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmdhbWVPYmopO1xyXG5cclxuICAgICAgICB0aGlzLmdldEdhbWVPYmplY3QoKS5hbmdsZSA9IHBhcmFtcy5hbmdsZSB8fCAwO1xyXG4gICAgICAgIHRoaXMuZ2V0UGh5c2ljc0JvZHkoKS52ZWxvY2l0eSA9IHBhcmFtcy5zdGFydGluZ1YgfHwgUGhhc2VyLk1hdGguVmVjdG9yMi5aRVJPO1xyXG4gICAgICAgIHRoaXMuYWRkQ29sbGlzaW9uRGV0ZWN0aW9uKCk7XHJcbiAgICAgICAgdGhpcy5zZXRJbk1vdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYWRkQ29sbGlzaW9uRGV0ZWN0aW9uKCk6IHZvaWQge1xyXG4gICAgICAgIGZvciAodmFyIGk9MDsgaTxHbG9iYWxzLmludGVyYWN0YWJsZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLmdhbWVPYmosIEdsb2JhbHMuaW50ZXJhY3RhYmxlc1tpXSwgdGhpcy5vbkltcGFjdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgb25JbXBhY3QoYnVsbGV0OiBQaGFzZXIuR2FtZU9iamVjdHMuR2FtZU9iamVjdCwgdGFyZ2V0OiBQaGFzZXIuR2FtZU9iamVjdHMuR2FtZU9iamVjdCk6IHZvaWQge1xyXG4gICAgICAgIC8vIFRPRE86IGltcGFydCBkYW1hZ2UgdG8gdGFyZ2V0IGFuZCBkZXN0cm95IGJ1bGxldFxyXG4gICAgfVxyXG5cclxuICAgIGdldEdhbWVPYmplY3QoKTogUGhhc2VyLkdhbWVPYmplY3RzLlNwcml0ZSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZU9iajtcclxuICAgIH1cclxuXHJcbiAgICBnZXRQaHlzaWNzQm9keSgpOiBQaGFzZXIuUGh5c2ljcy5BcmNhZGUuQm9keSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0R2FtZU9iamVjdCgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEdhbWVPYmplY3QoKS5ib2R5IGFzIFBoYXNlci5QaHlzaWNzLkFyY2FkZS5Cb2R5O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRSb3RhdGlvbigpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldEdhbWVPYmplY3QoKS5hbmdsZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRIZWFkaW5nKCk6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIHJldHVybiBIZWxwZXJzLmdldEhlYWRpbmcodGhpcy5nZXRSb3RhdGlvbigpKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRTcGVlZCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFZlbG9jaXR5KCkubGVuZ3RoKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VmVsb2NpdHkoKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0UGh5c2ljc0JvZHkoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRQaHlzaWNzQm9keSgpLnZlbG9jaXR5LmNsb25lKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBQaGFzZXIuTWF0aC5WZWN0b3IyLlpFUk87XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0TG9jYXRpb24oKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgbGV0IGNhbWVyYVBvczogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuc2NlbmUuY2FtZXJhcy5tYWluLmdldFdvcmxkUG9pbnQoMCwgMCk7XHJcbiAgICAgICAgbGV0IGxvYzogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuZ2V0UmVhbExvY2F0aW9uKCk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKGxvYy54IC0gY2FtZXJhUG9zLngsIGxvYy55IC0gY2FtZXJhUG9zLnkpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFJlYWxMb2NhdGlvbigpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICBpZiAodGhpcy5nZXRHYW1lT2JqZWN0KCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKHRoaXMuZ2V0R2FtZU9iamVjdCgpLngsIHRoaXMuZ2V0R2FtZU9iamVjdCgpLnkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUGhhc2VyLk1hdGguVmVjdG9yMi5aRVJPO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0SW5Nb3Rpb24oKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IGhlYWRpbmc6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSB0aGlzLmdldEhlYWRpbmcoKTtcclxuICAgICAgICAvLyBhZGQgZm9yY2UgdG8gaGVhZGluZ1xyXG4gICAgICAgIGxldCBkZWx0YVY6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSBoZWFkaW5nLm11bHRpcGx5KEhlbHBlcnMudmVjdG9yMih0aGlzLmZvcmNlKSk7XHJcbiAgICAgICAgLy8gYWRkIGRlbHRhViB0byBjdXJyZW50IFZlbG9jaXR5XHJcbiAgICAgICAgdGhpcy5nZXRQaHlzaWNzQm9keSgpLnZlbG9jaXR5LmFkZChkZWx0YVYpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgSGFzTG9jYXRpb24gfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9oYXMtbG9jYXRpb25cIjtcclxuaW1wb3J0IHsgTW91c2VXaGVlbFNjcm9sbCB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL21vdXNlLXdoZWVsLXNjcm9sbFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1vdXNlIGltcGxlbWVudHMgSGFzTG9jYXRpb24ge1xyXG4gICAgcHJpdmF0ZSBzY2VuZTogUGhhc2VyLlNjZW5lO1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZTogUGhhc2VyLlNjZW5lKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuc2NlbmUuaW5wdXQubW91c2UuY2FwdHVyZSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0QW5nbGUoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zY2VuZS5pbnB1dC5hY3RpdmVQb2ludGVyLmdldEFuZ2xlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Um90YXRpb24oKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRBbmdsZSgpICogKE1hdGguUEkgLyAxODApO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEhlYWRpbmcoKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgbGV0IHJvdGF0aW9uOiBudW1iZXIgPSB0aGlzLmdldEFuZ2xlKCk7XHJcbiAgICAgICAgbGV0IHg6IG51bWJlciA9IE1hdGguY29zKHJvdGF0aW9uKTtcclxuICAgICAgICBsZXQgeTogbnVtYmVyID0gTWF0aC5zaW4ocm90YXRpb24pO1xyXG4gICAgICAgIHJldHVybiBuZXcgUGhhc2VyLk1hdGguVmVjdG9yMih4LCB5KS5ub3JtYWxpemUoKS5uZWdhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRTcGVlZCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFZlbG9jaXR5KCkubGVuZ3RoKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VmVsb2NpdHkoKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NlbmUuaW5wdXQuYWN0aXZlUG9pbnRlci52ZWxvY2l0eS5jbG9uZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmV0dXJucyB0aGUgcG9zaXRpb24gb2YgdGhlIG1vdXNlIHdpdGhpbiB0aGUgYm91bmRzIG9mIHRoZSBjdXJyZW50XHJcbiAgICAgKiBzY3JlZW4uXHJcbiAgICAgKiBAcmV0dXJucyBhIHtQaGFzZXIuTWF0aC5WZWN0b3IyfSBjbG9uZSBvZiB0aGUgcG9zaXRpb25cclxuICAgICAqL1xyXG4gICAgZ2V0TG9jYXRpb24oKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coYG1vdXNlIGxvY2F0aW9uOiAke0pTT04uc3RyaW5naWZ5KHRoaXMubG9jYXRpb24pfWApO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNjZW5lLmlucHV0LmFjdGl2ZVBvaW50ZXIucG9zaXRpb24uY2xvbmUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIG9mZnNldHMgdGhlIHNjcmVlbiBwb3NpdGlvbiBiYXNlZCBvbiBjYW1lcmEgcG9zaXRpb25cclxuICAgICAqL1xyXG4gICAgZ2V0UmVhbExvY2F0aW9uKCk6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGBtb3VzZSBSRUFMIGxvY2F0aW9uOiAke0pTT04uc3RyaW5naWZ5KHdvcmxkKX1gKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5zY2VuZS5pbnB1dC5hY3RpdmVQb2ludGVyLnBvc2l0aW9uVG9DYW1lcmEodGhpcy5zY2VuZS5jYW1lcmFzLm1haW4pIGFzIFBoYXNlci5NYXRoLlZlY3RvcjI7XHJcbiAgICB9XHJcblxyXG4gICAgb25XaGVlbFVwPFQgZXh0ZW5kcyBNb3VzZVdoZWVsU2Nyb2xsPihmdW5jOiBUKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5pbnB1dC5vbihQaGFzZXIuSW5wdXQuRXZlbnRzLlBPSU5URVJfV0hFRUwsIChwb2ludGVyLCBjdXJyZW50bHlPdmVyLCBkeCwgZHksIGR6LCBldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZHkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBmdW5jKGR5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG9uV2hlZWxEb3duPFQgZXh0ZW5kcyBNb3VzZVdoZWVsU2Nyb2xsPihmdW5jOiBUKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5pbnB1dC5vbihQaGFzZXIuSW5wdXQuRXZlbnRzLlBPSU5URVJfV0hFRUwsIChwb2ludGVyLCBjdXJyZW50bHlPdmVyLCBkeCwgZHksIGR6LCBldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZHkgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICBmdW5jKC1keSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEdsb2JhbHMgfSBmcm9tIFwiLi4vdXRpbGl0aWVzL2dsb2JhbHNcIjtcclxuaW1wb3J0IHsgU2hpcFBvZCB9IGZyb20gXCIuLi9zaGlwcy9zaGlwLXBvZFwiO1xyXG5pbXBvcnQgeyBTaGlwQXR0YWNobWVudCB9IGZyb20gXCIuLi9zaGlwcy9hdHRhY2htZW50cy9zaGlwLWF0dGFjaG1lbnRcIjtcclxuaW1wb3J0IHsgQXR0YWNobWVudExvY2F0aW9uIH0gZnJvbSBcIi4uL3NoaXBzL2F0dGFjaG1lbnRzL2F0dGFjaG1lbnQtbG9jYXRpb25cIjtcclxuXHJcbmNvbnN0IHNjZW5lQ29uZmlnOiBQaGFzZXIuVHlwZXMuU2NlbmVzLlNldHRpbmdzQ29uZmlnID0ge1xyXG4gICAgYWN0aXZlOiB0cnVlLFxyXG4gICAgdmlzaWJsZTogdHJ1ZSxcclxuICAgIGtleTogJ092ZXJsYXlTY2VuZSdcclxufTtcclxuXHJcbmV4cG9ydCBjbGFzcyBPdmVybGF5U2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgcHJpdmF0ZSBzaGlwRGVidWc6IFBoYXNlci5HYW1lT2JqZWN0cy5UZXh0O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKHNjZW5lQ29uZmlnKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcHJlbG9hZCgpOiB2b2lkIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNyZWF0ZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnNoaXBEZWJ1ZyA9IHRoaXMuYWRkLnRleHQoMTAsIDEwLCAnJywgeyBmb250OiAnMTZweCBDb3VyaWVyJywgZmlsbDogJyNmZmRkZGQnIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKEdsb2JhbHMuZGVidWcpIHtcclxuICAgICAgICAgICAgdGhpcy5kaXNwbGF5RGVidWdJbmZvKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZGlzcGxheURlYnVnSW5mbygpOiB2b2lkIHtcclxuICAgICAgICBpZiAoR2xvYmFscy5wbGF5ZXIpIHtcclxuICAgICAgICAgICAgbGV0IHA6IFNoaXBQb2QgPSBHbG9iYWxzLnBsYXllcjtcclxuICAgICAgICAgICAgbGV0IGxvYzogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHAuZ2V0UmVhbExvY2F0aW9uKCk7XHJcbiAgICAgICAgICAgIGxldCBpbmZvOiBzdHJpbmdbXSA9IFtcclxuICAgICAgICAgICAgICAgIGBTcGVlZDogJHtwLmdldFNwZWVkKCkudG9GaXhlZCgxKX1gLFxyXG4gICAgICAgICAgICAgICAgYEludGVncml0eTogJHtwLmdldEludGVncml0eSgpLnRvRml4ZWQoMSl9YCxcclxuICAgICAgICAgICAgICAgIGBIZWF0OiAke3AuZ2V0VGVtcGVyYXR1cmUoKS50b0ZpeGVkKDEpfWAsXHJcbiAgICAgICAgICAgICAgICBgRnVlbDogJHtwLmdldFJlbWFpbmluZ0Z1ZWwoKS50b0ZpeGVkKDEpfWAsXHJcbiAgICAgICAgICAgICAgICBgTG9jYXRpb246ICR7bG9jLngudG9GaXhlZCgxKX0sJHtsb2MueS50b0ZpeGVkKDEpfWAsXHJcbiAgICAgICAgICAgICAgICBgQW5nbGU6ICR7cC5nZXRSb3RhdGlvbigpLnRvRml4ZWQoMSl9YFxyXG4gICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICBsZXQgYXR0YWNobWVudHM6IFNoaXBBdHRhY2htZW50W10gPSBwLmF0dGFjaG1lbnRzLmdldEF0dGFjaG1lbnRzKCk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGk9MDsgaTxhdHRhY2htZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGF0dGFjaG1lbnRzW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5mby5wdXNoKGAtLS0tIEF0dGFjaG1lbnRMb2NhdGlvbi4ke0F0dGFjaG1lbnRMb2NhdGlvbltpXX0gLSAke2l9IC0tLS1gKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgYXR0TG9jOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gYXR0YWNobWVudHNbaV0uZ2V0UmVhbExvY2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5mby5wdXNoKGBBdHRhY2htZW50ICR7aX0gTG9jYXRpb246ICR7YXR0TG9jLngudG9GaXhlZCgxKX0sJHthdHRMb2MueS50b0ZpeGVkKDEpfWApO1xyXG4gICAgICAgICAgICAgICAgICAgIGluZm8ucHVzaChgQXR0YWNobWVudCAke2l9IEFuZ2xlOiAke2F0dGFjaG1lbnRzW2ldLmdldFJvdGF0aW9uKCkudG9GaXhlZCgxKX1gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnNoaXBEZWJ1Zy5zZXRUZXh0KGluZm8pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImNvbnN0IHNjZW5lQ29uZmlnOiBQaGFzZXIuVHlwZXMuU2NlbmVzLlNldHRpbmdzQ29uZmlnID0ge1xyXG4gICAgYWN0aXZlOiB0cnVlLFxyXG4gICAgdmlzaWJsZTogdHJ1ZSxcclxuICAgIGtleTogJ0ZhclN0YXJzJ1xyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIEZhclN0YXJzU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoc2NlbmVDb25maWcpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwcmVsb2FkKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZmFyLXN0YXJzJywgJy4vYXNzZXRzL2JhY2tncm91bmRzL3N0YXJmaWVsZC10aWxlLTUxMng1MTIucG5nJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNyZWF0ZSgpOiB2b2lkIHtcclxuICAgICAgICBsZXQgeE9mZnNldDogbnVtYmVyID0gTWF0aC5jZWlsKHRoaXMuZ2FtZS5jYW52YXMud2lkdGggLyAyKTtcclxuICAgICAgICBsZXQgeU9mZnNldDogbnVtYmVyID0gTWF0aC5jZWlsKHRoaXMuZ2FtZS5jYW52YXMuaGVpZ2h0IC8gMik7XHJcbiAgICAgICAgdGhpcy5hZGQudGlsZVNwcml0ZSh4T2Zmc2V0LCB5T2Zmc2V0LCB0aGlzLmdhbWUuY2FudmFzLndpZHRoICsgMTAsIHRoaXMuZ2FtZS5jYW52YXMuaGVpZ2h0ICsgMTAsICdmYXItc3RhcnMnKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgWm9vbWFibGVTY2VuZSB9IGZyb20gXCIuL3pvb21hYmxlLXNjZW5lXCI7XHJcbmltcG9ydCB7IEdsb2JhbHMgfSBmcm9tIFwiLi4vdXRpbGl0aWVzL2dsb2JhbHNcIjtcclxuXHJcbmNvbnN0IHNjZW5lQ29uZmlnOiBQaGFzZXIuVHlwZXMuU2NlbmVzLlNldHRpbmdzQ29uZmlnID0ge1xyXG4gICAgYWN0aXZlOiB0cnVlLFxyXG4gICAgdmlzaWJsZTogdHJ1ZSxcclxuICAgIGtleTogJ1N5c3RlbVNjZW5lJ1xyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIFN5c3RlbVNjZW5lIGV4dGVuZHMgWm9vbWFibGVTY2VuZSB7XHJcbiAgICBzdW46IFBoYXNlci5HYW1lT2JqZWN0cy5TcHJpdGU7XHJcbiAgICBzdGFydFBvc2l0aW9uOiBQaGFzZXIuTWF0aC5WZWN0b3IyO1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigwLjA1LCBzY2VuZUNvbmZpZyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHB1YmxpYyBwcmVsb2FkKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnc3VuJywgJy4vYXNzZXRzL2JhY2tncm91bmRzL3N1bi5wbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLmNyZWF0ZSgpO1xyXG4gICAgICAgIHRoaXMuc3RhcnRQb3NpdGlvbiA9IG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKFxyXG4gICAgICAgICAgICBQaGFzZXIuTWF0aC5STkQuYmV0d2VlbigwLCB0aGlzLmdhbWUuY2FudmFzLndpZHRoKSxcclxuICAgICAgICAgICAgUGhhc2VyLk1hdGguUk5ELmJldHdlZW4oMCwgdGhpcy5nYW1lLmNhbnZhcy5oZWlnaHQpXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLnN1biA9IHRoaXMuYWRkLnNwcml0ZSh0aGlzLnN0YXJ0UG9zaXRpb24ueCwgdGhpcy5zdGFydFBvc2l0aW9uLnksICdzdW4nKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHVibGljIHVwZGF0ZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnN1bi5hbmdsZSArPSAwLjAxO1xyXG4gICAgICAgIGlmICh0aGlzLnN1bi5hbmdsZSA+PSAzNjApIHtcclxuICAgICAgICAgICAgdGhpcy5zdW4uYW5nbGUgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoR2xvYmFscy5wbGF5ZXIpIHtcclxuICAgICAgICAgICAgLy8gbW92ZSB0aGUgc3VuIGluIHRoZSBvcHBvc2l0ZSBkaXJlY3Rpb24gb2YgdHJhdmVsIGF0IGEgcmF0ZSBvZiAxOjUwMFxyXG4gICAgICAgICAgICBsZXQgbG9jOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gR2xvYmFscy5wbGF5ZXIuZ2V0UmVhbExvY2F0aW9uKCk7XHJcbiAgICAgICAgICAgIGxvYy5kaXZpZGUobmV3IFBoYXNlci5NYXRoLlZlY3RvcjIoNTAwLCA1MDApKTtcclxuICAgICAgICAgICAgbG9jLm5lZ2F0ZSgpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zdW4ueCA9IHRoaXMuc3RhcnRQb3NpdGlvbi54ICsgbG9jLng7XHJcbiAgICAgICAgICAgIHRoaXMuc3VuLnkgPSB0aGlzLnN0YXJ0UG9zaXRpb24ueSArIGxvYy55O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJzb3VyY2VSb290IjoiIn0=