!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("phaser")):"function"==typeof define&&define.amd?define(["phaser"],e):"object"==typeof exports?exports.bundle=e(require("phaser")):t.bundle=e(t.phaser)}(window,(function(t){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=5)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.interactables=[]}(e.Globals||(e.Globals={}))},function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var o=new Uint8Array(16);t.exports=function(){return n(o),o}}else{var i=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),i[e]=t>>>((3&e)<<3)&255;return i}}},function(t,e){for(var n=[],o=0;o<256;++o)n[o]=(o+256).toString(16).substr(1);t.exports=function(t,e){var o=e||0,i=n;return[i[t[o++]],i[t[o++]],i[t[o++]],i[t[o++]],"-",i[t[o++]],i[t[o++]],"-",i[t[o++]],i[t[o++]],"-",i[t[o++]],i[t[o++]],"-",i[t[o++]],i[t[o++]],i[t[o++]],i[t[o++]],i[t[o++]],i[t[o++]]].join("")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.MAX_INTEGRITY=100,t.MAX_FUEL=100,t.MAX_SAFE_TEMPERATURE=100,t.MAX_TEMPERATURE=200,t.OVERHEAT_CHECK_INTERVAL=100,t.COOLING_RATE=.3,t.THRUSTER_FORCE=1,t.FUEL_PER_THRUST=.001,t.HEAT_PER_THRUST=.1,t.BOOSTER_FORCE=300,t.FUEL_PER_BOOST=1,t.HEAT_PER_BOOST=25,t.BOOSTER_COOLDOWN_TIME=1e3,function(t){t[t.blue=0]="blue",t[t.green=1]="green",t[t.red=2]="red",t[t.white=3]="white",t[t.yellow=4]="yellow"}(t.Flare||(t.Flare={}))}(e.Constants||(e.Constants={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.front=0]="front",t[t.frontRight=1]="frontRight",t[t.right=2]="right",t[t.backRight=3]="backRight",t[t.backLeft=4]="backLeft",t[t.left=5]="left",t[t.frontLeft=6]="frontLeft"}(e.AttachmentLocation||(e.AttachmentLocation={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(6),i=n(0),a=n(18),r=n(19),s=n(20),c={type:Phaser.AUTO,scale:{width:window.innerWidth,height:window.innerHeight},backgroundColor:"#000000",parent:"space-sim",physics:{default:"arcade",arcade:{gravity:{x:0,y:0}}},scene:[r.FarthestStarsScene,s.NearestStarsScene,o.ShipScene,a.OverlayScene]};e.game=new Phaser.Game(c),window.addEventListener("resize",(function(){e.game.scale.refresh()})),i.Globals.game=e.game},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(7),r=n(0),s=n(14),c=n(15),h={active:!0,visible:!0,key:"ShipScene"},u=function(t){function e(){return t.call(this,h)||this}return i(e,t),e.prototype.preload=function(){this.load.image("ship-pod","./assets/sprites/ship-pod.png"),this.load.image("cannon","./assets/sprites/cannon.png"),this.load.spritesheet("flares","./assets/particles/flares.png",{frameWidth:130,frameHeight:132,startFrame:0,endFrame:4}),this.load.image("explosion","./assets/particles/explosion.png"),this.load.image("bullet","./assets/sprites/bullet.png")},e.prototype.create=function(){var t=this;this.mouse=new s.Mouse(this),this.player=new a.ShipPod(this),r.Globals.player=this.player,this.player.setTarget(this.mouse);var e=new c.CannonAttachment(this);this.player.addAttachment(e),this.setupCamera(this.player),this.input.keyboard.on("keydown-P",(function(){r.Globals.paused=!0})),this.input.keyboard.on("keydown-R",(function(){r.Globals.paused=!1})),this.mouse.onWheelUp((function(e){var n=t.cameras.main.zoom-.5;n<.1&&(n=.1),t.cameras.main.zoomTo(n)})),this.mouse.onWheelDown((function(e){var n=t.cameras.main.zoom+.5;n>1&&(n=1),t.cameras.main.zoomTo(n)}))},e.prototype.update=function(){r.Globals.paused||r.Globals.player.update()},e.prototype.setupCamera=function(t){this.cameras.main.backgroundColor.setFromRGB({r:0,g:0,b:0}),this.cameras.main.setZoom(1),this.cameras.main.centerOn(0,0);var e=this.cameras.main.width,n=this.cameras.main.height,o=Math.floor(e/2),i=Math.floor(n/2),a=Math.floor(o/2),r=Math.floor(i/2);this.cameras.main.startFollow(t.getGameObject(),!0),this.cameras.main.deadzone=new Phaser.Geom.Rectangle(a,r,o,i)},e}(Phaser.Scene);e.ShipScene=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(8);var o=n(9),i=n(0),a=n(3),r=n(13),s=n(4),c=function(){function t(t){this.remainingFuel=100,this.temperature=0,this.active=!0,this.lastOverheatCheck=0,this.lastBoostTime=0,this.id=o.RNG.guid(),this.scene=t,this.gameObj=t.add.container(0,0),this.scene.physics.add.existing(this.gameObj),this.gameObj.body.bounce.setTo(.7,.7),this.thrusterParticles=t.add.particles("flares",a.Constants.Flare.yellow),this.explosionParticles=t.add.particles("explosion");var e=t.add.sprite(0,0,"ship-pod");this.gameObj.add(e),this.integrity=a.Constants.MAX_INTEGRITY,this.attachments=new Array(r.Helpers.enumLength(s.AttachmentLocation)),this.setupInputHandlers()}return t.prototype.update=function(){!i.Globals.paused&&this.active&&(this.lookAtTarget(),this.thrustKey.isDown&&this.thrustFowards(),this.boostKey.isDown&&this.boostForwards(),this.scene.input.activePointer.leftButtonDown()&&this.attachments[0]&&this.attachments[0].trigger(),this.checkOverheatCondition(),this.rotateAttachmentsClockwiseKey.isDown&&this.rotateAttachmentsClockwise(),this.rotateAttachmentsAntiClockwiseKey.isDown&&this.rotateAttachmentsAntiClockwise(),this.detachAttachmentKey.isDown&&this.removeAttachment(s.AttachmentLocation.front),this.updateAttachments())},t.prototype.updateAttachments=function(){for(var t=0;t<this.attachments.length;t++){var e=this.attachments[t];e&&e.update()}},t.prototype.setupInputHandlers=function(){this.thrustKey=this.scene.input.keyboard.addKey("SPACE",!0,!0),this.boostKey=this.scene.input.keyboard.addKey("TAB",!0,!1),this.rotateAttachmentsClockwiseKey=this.scene.input.keyboard.addKey("E",!0,!1),this.rotateAttachmentsAntiClockwiseKey=this.scene.input.keyboard.addKey("Q",!0,!1),this.detachAttachmentKey=this.scene.input.keyboard.addKey("X",!0,!1)},t.prototype.checkOverheatCondition=function(){if(!i.Globals.paused&&this.active&&this.scene.game.getTime()>this.lastOverheatCheck+a.Constants.OVERHEAT_CHECK_INTERVAL){if(this.temperature>a.Constants.MAX_TEMPERATURE&&this.destroy(),this.temperature>a.Constants.MAX_SAFE_TEMPERATURE){var t=(this.temperature-a.Constants.MAX_SAFE_TEMPERATURE)/a.Constants.MAX_SAFE_TEMPERATURE;this.sustainDamage(t)}this.applyCooling(a.Constants.COOLING_RATE),this.lastOverheatCheck=this.scene.game.getTime()}},t.prototype.getRealLocation=function(){return this.gameObj?new Phaser.Math.Vector2(this.gameObj.x,this.gameObj.y):Phaser.Math.Vector2.ZERO},t.prototype.getLocation=function(){if(this.gameObj){var t=this.scene.cameras.main.getWorldPoint(0,0);return new Phaser.Math.Vector2(this.gameObj.x-t.x,this.gameObj.y-t.y)}return Phaser.Math.Vector2.ZERO},t.prototype.getId=function(){return this.id},t.prototype.getGameObject=function(){return this.gameObj},t.prototype.setTarget=function(t){this.target=t},t.prototype.lookAtTarget=function(){if(this.gameObj){var t=this.target.getRealLocation(),e=Phaser.Math.Angle.Between(t.x,t.y,this.gameObj.x,this.gameObj.y);this.gameObj.setRotation(e)}},t.prototype.getAngle=function(){return this.gameObj?this.gameObj.angle:0},t.prototype.getRotation=function(){return this.gameObj?this.gameObj.rotation:0},t.prototype.getHeading=function(){if(this.gameObj){var t=Math.cos(this.gameObj.rotation),e=Math.sin(this.gameObj.rotation);return new Phaser.Math.Vector2(t,e).normalize().negate()}return Phaser.Math.Vector2.ZERO},t.prototype.getVelocity=function(){return this.gameObj?this.gameObj.body.velocity.length():0},t.prototype.thrustFowards=function(){this.applyThrust(a.Constants.THRUSTER_FORCE,a.Constants.FUEL_PER_THRUST,a.Constants.HEAT_PER_THRUST),this.displayThrusterFire(a.Constants.Flare.yellow,.2)},t.prototype.boostForwards=function(){r.Helpers.now()-this.lastBoostTime>=a.Constants.BOOSTER_COOLDOWN_TIME&&(this.applyThrust(a.Constants.BOOSTER_FORCE,a.Constants.FUEL_PER_BOOST,a.Constants.HEAT_PER_BOOST),this.displayThrusterFire(a.Constants.Flare.blue,1),this.lastBoostTime=r.Helpers.now())},t.prototype.applyThrust=function(t,e,n){if(this.getRemainingFuel()>0){var o=this.getHeading().multiply(new Phaser.Math.Vector2(t,t));this.gameObj.body.velocity.add(o),this.reduceFuel(e),this.applyHeating(n)}},t.prototype.displayThrusterFire=function(t,e){var n=this.getRealLocation(),o=new Phaser.Math.Vector2(20,0).add(this.getRealLocation()),i=Phaser.Math.RotateAround(o,n.x,n.y,this.getRotation()),a=this.getHeading().negate();this.thrusterParticles.createEmitter({frame:t,x:i.x,y:i.y,lifespan:{min:200,max:500},speedX:{min:600*a.x,max:1e3*a.x},speedY:{min:600*a.y,max:1e3*a.y},angle:{min:-180,max:179},gravityX:0,gravityY:0,scale:{start:e,end:0},blendMode:"ADD",maxParticles:3})},t.prototype.strafeLeft=function(){},t.prototype.strafeRight=function(){},t.prototype.thrustBackwards=function(){},t.prototype.getTemperature=function(){return this.temperature},t.prototype.applyHeating=function(t){this.temperature+=t},t.prototype.applyCooling=function(t){this.temperature-=t,this.temperature<0&&(this.temperature=0)},t.prototype.reduceFuel=function(t){this.remainingFuel-=t,this.remainingFuel<0&&(this.remainingFuel=0)},t.prototype.addFuel=function(t){this.remainingFuel+=t,this.remainingFuel>a.Constants.MAX_FUEL&&(this.remainingFuel=a.Constants.MAX_FUEL)},t.prototype.getRemainingFuel=function(){return this.remainingFuel},t.prototype.getIntegrity=function(){return this.integrity},t.prototype.sustainDamage=function(t){this.integrity-=t,this.integrity<=0&&(this.integrity=0,this.destroy())},t.prototype.repair=function(t){this.integrity=t,this.integrity>a.Constants.MAX_INTEGRITY&&(this.integrity=a.Constants.MAX_INTEGRITY)},t.prototype.rotateAttachmentsClockwise=function(){var t=this.attachments.pop();this.attachments.unshift(t),this.updateAttachmentPositions()},t.prototype.rotateAttachmentsAntiClockwise=function(){var t=this.attachments.shift();this.attachments.push(t),this.updateAttachmentPositions()},t.prototype.updateAttachmentPositions=function(){for(var t=0;t<this.attachments.length;t++)if(this.attachments[t])switch(t){case s.AttachmentLocation.front:this.attachments[t].setAttachmentLocation(s.AttachmentLocation.front);break;case s.AttachmentLocation.frontRight:this.attachments[t].setAttachmentLocation(s.AttachmentLocation.frontRight);break;case s.AttachmentLocation.right:this.attachments[t].setAttachmentLocation(s.AttachmentLocation.right);break;case s.AttachmentLocation.backRight:this.attachments[t].setAttachmentLocation(s.AttachmentLocation.backRight);break;case s.AttachmentLocation.backLeft:this.attachments[t].setAttachmentLocation(s.AttachmentLocation.backLeft);break;case s.AttachmentLocation.left:this.attachments[t].setAttachmentLocation(s.AttachmentLocation.left);break;case s.AttachmentLocation.frontLeft:this.attachments[t].setAttachmentLocation(s.AttachmentLocation.frontLeft)}},t.prototype.addAttachment=function(t){for(var e=!1,n=0;n<r.Helpers.enumLength(s.AttachmentLocation);n++)if(!this.attachments[n]){var o=void 0;switch(n){case s.AttachmentLocation.front:o=s.AttachmentLocation.front;break;case s.AttachmentLocation.frontRight:o=s.AttachmentLocation.frontRight;break;case s.AttachmentLocation.right:o=s.AttachmentLocation.right;break;case s.AttachmentLocation.backRight:o=s.AttachmentLocation.backRight;break;case s.AttachmentLocation.backLeft:o=s.AttachmentLocation.backLeft;break;case s.AttachmentLocation.left:o=s.AttachmentLocation.left;break;case s.AttachmentLocation.frontLeft:o=s.AttachmentLocation.frontLeft}this.attachments[n]=t,t.attach(this,o),e=!0}e||(this.attachments[s.AttachmentLocation.front].detach(),this.attachments[s.AttachmentLocation.front]=t,t.attach(this,s.AttachmentLocation.front)),this.gameObj.add(t.getGameObject())},t.prototype.removeAttachment=function(t){if(this.attachments[t]){var e=this.attachments[t].getGameObject();this.gameObj.remove(e),this.attachments[t].detach(),this.attachments[t]=null}},t.prototype.getAttachments=function(){return this.attachments},t.prototype.destroy=function(){this.active=!1,this.displayShipExplosion(),this.getGameObject().destroy(),this.gameObj=null},t.prototype.displayShipExplosion=function(){var t=this.getRealLocation();this.explosionParticles.createEmitter({x:t.x,y:t.y,lifespan:{min:500,max:1e3},speedX:{min:-1,max:1},speedY:{min:-1,max:1},angle:{min:-180,max:179},gravityX:0,gravityY:0,scale:{start:1,end:0},blendMode:"ADD",maxParticles:3}),this.thrusterParticles.createEmitter({frame:a.Constants.Flare.red,x:t.x,y:t.y,lifespan:{min:100,max:500},speedX:{min:-600,max:600},speedY:{min:-600,max:600},angle:{min:-180,max:179},gravityX:0,gravityY:0,scale:{start:1,end:0},blendMode:"ADD",maxParticles:10})},t}();e.ShipPod=c},function(e,n){e.exports=t},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(10);!function(t){t.int=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},t.guid=function(){return o.v4()}}(e.RNG||(e.RNG={}))},function(t,e,n){var o=n(11),i=n(12),a=i;a.v1=o,a.v4=i,t.exports=a},function(t,e,n){var o,i,a=n(1),r=n(2),s=0,c=0;t.exports=function(t,e,n){var h=e&&n||0,u=e||[],p=(t=t||{}).node||o,l=void 0!==t.clockseq?t.clockseq:i;if(null==p||null==l){var m=a();null==p&&(p=o=[1|m[0],m[1],m[2],m[3],m[4],m[5]]),null==l&&(l=i=16383&(m[6]<<8|m[7]))}var f=void 0!==t.msecs?t.msecs:(new Date).getTime(),g=void 0!==t.nsecs?t.nsecs:c+1,y=f-s+(g-c)/1e4;if(y<0&&void 0===t.clockseq&&(l=l+1&16383),(y<0||f>s)&&void 0===t.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=f,c=g,i=l;var d=(1e4*(268435455&(f+=122192928e5))+g)%4294967296;u[h++]=d>>>24&255,u[h++]=d>>>16&255,u[h++]=d>>>8&255,u[h++]=255&d;var b=f/4294967296*1e4&268435455;u[h++]=b>>>8&255,u[h++]=255&b,u[h++]=b>>>24&15|16,u[h++]=b>>>16&255,u[h++]=l>>>8|128,u[h++]=255&l;for(var v=0;v<6;++v)u[h+v]=p[v];return e||r(u)}},function(t,e,n){var o=n(1),i=n(2);t.exports=function(t,e,n){var a=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var r=(t=t||{}).random||(t.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e)for(var s=0;s<16;++s)e[a+s]=r[s];return e||i(r)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.enumLength=function(t){var e=0;for(var n in t)isNaN(Number(n))&&e++;return e},t.now=function(){return(new Date).getTime()}}(e.Helpers||(e.Helpers={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.scene=t,this.scene.input.mouse.capture=!0}return t.prototype.getAngle=function(){return this.scene.input.activePointer.getAngle()},t.prototype.getRotation=function(){return this.getAngle()*(Math.PI/180)},t.prototype.getHeading=function(){var t=this.getAngle(),e=Math.cos(t),n=Math.sin(t);return new Phaser.Math.Vector2(e,n).normalize().negate()},t.prototype.getVelocity=function(){return this.scene.input.activePointer.velocity.length()},t.prototype.getLocation=function(){return this.scene.input.activePointer.position.clone()},t.prototype.getRealLocation=function(){return this.scene.input.activePointer.positionToCamera(this.scene.cameras.main)},t.prototype.onWheelUp=function(t){this.scene.input.on(Phaser.Input.Events.POINTER_WHEEL,(function(e,n,o,i,a,r){i>0&&t(i)}))},t.prototype.onWheelDown=function(t){this.scene.input.on(Phaser.Input.Events.POINTER_WHEEL,(function(e,n,o,i,a,r){i<0&&t(-i)}))},t}();e.Mouse=o},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(16),r=n(0),s=n(17),c=function(t){function e(e){var n=t.call(this,e)||this;return n.maxAmmo=500,n.remainingAmmo=n.maxAmmo,n.cooldownTime=0,n.firingDelay=1e3,n.gameObj=n.scene.physics.add.sprite(0,0,"cannon"),n}return i(e,t),e.prototype.reload=function(t){this.remainingAmmo+=t,this.remainingAmmo>this.maxAmmo&&(this.remainingAmmo=this.maxAmmo)},e.prototype.getRemainingAmmo=function(){return this.remainingAmmo},e.prototype.update=function(){},e.prototype.trigger=function(){!r.Globals.paused&&this.active&&this.fire()},e.prototype.fire=function(t){if(!r.Globals.paused&&this.active&&this.getRemainingAmmo()>0&&this.scene.game.getTime()>this.cooldownTime){var e=this.getRealLocation();new s.Bullet(this.scene,{x:e.x,y:e.y,force:3e3,angle:this.getAngle()}),this.cooldownTime=this.scene.game.getTime()+this.firingDelay}},e}(a.ShipAttachment);e.CannonAttachment=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),i=n(4),a=function(){function t(t){this.scene=t,this.active=!0,this.integrity=o.Constants.MAX_INTEGRITY}return t.prototype.attach=function(t,e){e||(e=i.AttachmentLocation.front),this.ship=t,this.setAttachmentLocation(e);var n=this.ship.getRealLocation();this.gameObj.setPosition(n.x,n.y),this.gameObj.setRotation(this.ship.getAngle());var o=this.getHeading();o.multiply(new Phaser.Math.Vector2(0,0));var a=this.getRealLocation();a.add(o),this.gameObj.setPosition(a.x,a.y)},t.prototype.detach=function(){this.ship=null,this.attachmentLocation=null},t.prototype.getGameObject=function(){return this.gameObj},t.prototype.getAngle=function(){var t=this.gameObj.angle;return this.ship&&(t+=this.ship.getAngle()),t},t.prototype.getRotation=function(){var t=this.gameObj.rotation;return this.ship&&(t+=this.ship.getRotation()),t},t.prototype.getHeading=function(){var t=Math.cos(this.getRotation()),e=Math.sin(this.getRotation());return new Phaser.Math.Vector2(t,e).normalize().negate()},t.prototype.getVelocity=function(){var t=this.gameObj.body.velocity.length();return this.ship&&(t+=this.ship.getVelocity()),t},t.prototype.getLocation=function(){var t=this.scene.cameras.main.getWorldPoint(0,0),e=this.getRealLocation();return new Phaser.Math.Vector2(e.x-t.x,e.y-t.y)},t.prototype.getRealLocation=function(){var t=new Phaser.Math.Vector2(this.gameObj.x,this.gameObj.y);return this.ship&&t.add(this.ship.getRealLocation()),t},t.prototype.getIntegrity=function(){return this.integrity},t.prototype.sustainDamage=function(t){this.integrity-=t,this.integrity<=0&&(this.integrity=0,this.active=!1)},t.prototype.repair=function(t){this.integrity=t,this.integrity>o.Constants.MAX_INTEGRITY&&(this.integrity=o.Constants.MAX_INTEGRITY)},t.prototype.destroy=function(){this.active=!1,this.ship.removeAttachment(this.attachmentLocation)},t.prototype.setAttachmentLocation=function(t){this.attachmentLocation=t},t}();e.ShipAttachment=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=function(){function t(t,e){this.scene=t,this.force=e.force||0,this.gameObj=t.physics.add.sprite(e.x||0,e.y||0,"bullet"),this.gameObj.setAngle(e.angle||0),this.active=!0,this.addCollisionDetection(),this.setInMotion()}return t.prototype.addCollisionDetection=function(){for(var t=0;t<o.Globals.interactables.length;t++)this.scene.physics.add.collider(this.gameObj,o.Globals.interactables[t],this.onImpact)},t.prototype.onImpact=function(t,e){},t.prototype.getGameObject=function(){return this.gameObj},t.prototype.getAngle=function(){return this.gameObj.angle},t.prototype.getRotation=function(){return this.gameObj.rotation},t.prototype.getHeading=function(){var t=Math.cos(this.gameObj.rotation),e=Math.sin(this.gameObj.rotation);return new Phaser.Math.Vector2(t,e).normalize().negate()},t.prototype.getVelocity=function(){return this.gameObj.body.velocity.length()},t.prototype.getLocation=function(){var t=this.scene.cameras.main.getWorldPoint(0,0);return new Phaser.Math.Vector2(this.gameObj.x-t.x,this.gameObj.y-t.y)},t.prototype.getRealLocation=function(){return new Phaser.Math.Vector2(this.gameObj.x,this.gameObj.y)},t.prototype.setInMotion=function(){var t=this.getHeading().multiply(new Phaser.Math.Vector2(this.force,this.force));this.gameObj.body.velocity.add(t)},t}();e.Bullet=i},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),r={active:!0,visible:!0,key:"OverlayScene"},s=function(t){function e(){return t.call(this,r)||this}return i(e,t),e.prototype.preload=function(){},e.prototype.create=function(){this.debug=this.add.text(10,10,"",{font:"16px Courier",fill:"#ffdddd"})},e.prototype.update=function(){if(!a.Globals.paused&&a.Globals.player){var t=a.Globals.player,e=t.getRealLocation();this.debug.setText(["Velocity: "+t.getVelocity().toFixed(1),"Integrity: "+t.getIntegrity().toFixed(1),"Heat: "+t.getTemperature().toFixed(1),"Fuel: "+t.getRemainingFuel().toFixed(1),"Location: "+e.x.toFixed(1)+","+e.y.toFixed(1),"Angle: "+t.getAngle().toFixed(1)])}},e}(Phaser.Scene);e.OverlayScene=s},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),r={active:!0,visible:!0,key:"FarthestStars"},s=function(t){function e(){return t.call(this,r)||this}return i(e,t),e.prototype.preload=function(){this.load.image("far-stars","./assets/backgrounds/starfield.png")},e.prototype.create=function(){this.background=this.add.tileSprite(0,0,10*this.cameras.main.width,10*this.cameras.main.height,"far-stars")},e.prototype.update=function(){if(a.Globals.player){var t=a.Globals.player.getRealLocation();t.divide(new Phaser.Math.Vector2(1e3,1e3)),t.negate(),this.cameras.main.setPosition(t.x,t.y)}},e}(Phaser.Scene);e.FarthestStarsScene=s},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),r={active:!0,visible:!0,key:"NearestStars"},s=function(t){function e(){return t.call(this,r)||this}return i(e,t),e.prototype.preload=function(){this.load.image("near-stars","./assets/backgrounds/starfield.png")},e.prototype.create=function(){this.background=this.add.tileSprite(0,0,10*this.cameras.main.width,10*this.cameras.main.height,"near-stars"),this.background.setScale(2),this.background.setAngle(90),this.background.setAlpha(.3)},e.prototype.update=function(){if(a.Globals.player){var t=a.Globals.player.getRealLocation();t.divide(new Phaser.Math.Vector2(500,500)),t.negate(),this.cameras.main.setPosition(t.x,t.y)}},e}(Phaser.Scene);e.NearestStarsScene=s}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idW5kbGUvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL2J1bmRsZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvdXRpbGl0aWVzL2dsb2JhbHMudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vbm9kZV9tb2R1bGVzL3V1aWQvbGliL3JuZy1icm93c2VyLmpzIiwid2VicGFjazovL2J1bmRsZS8uL25vZGVfbW9kdWxlcy91dWlkL2xpYi9ieXRlc1RvVXVpZC5qcyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvdXRpbGl0aWVzL2NvbnN0YW50cy50cyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvc2hpcHMvYXR0YWNobWVudHMvYXR0YWNobWVudC1sb2NhdGlvbi50cyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvZ2FtZS50cyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvc2NlbmVzL3NoaXAtc2NlbmUudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NoaXBzL3NoaXAtcG9kLnRzIiwid2VicGFjazovL2J1bmRsZS9leHRlcm5hbCBcInBoYXNlclwiIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy91dGlsaXRpZXMvcm5nLnRzIiwid2VicGFjazovL2J1bmRsZS8uL25vZGVfbW9kdWxlcy91dWlkL2luZGV4LmpzIiwid2VicGFjazovL2J1bmRsZS8uL25vZGVfbW9kdWxlcy91dWlkL3YxLmpzIiwid2VicGFjazovL2J1bmRsZS8uL25vZGVfbW9kdWxlcy91dWlkL3Y0LmpzIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy91dGlsaXRpZXMvaGVscGVycy50cyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvdXRpbGl0aWVzL21vdXNlLnRzIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy9zaGlwcy9hdHRhY2htZW50cy9vZmZlbmNlL2Nhbm5vbi1hdHRhY2htZW50LnRzIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy9zaGlwcy9hdHRhY2htZW50cy9zaGlwLWF0dGFjaG1lbnQudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NoaXBzL2F0dGFjaG1lbnRzL29mZmVuY2UvYnVsbGV0LnRzIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy9zY2VuZXMvb3ZlcmxheS1zY2VuZS50cyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvc2NlbmVzL2ZhcnRoZXN0LXN0YXJzLXNjZW5lLnRzIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy9zY2VuZXMvbmVhcmVzdC1zdGFycy1zY2VuZS50cyJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJyZXF1aXJlIiwiZGVmaW5lIiwiYW1kIiwid2luZG93IiwiX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fOF9fIiwiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkdsb2JhbHMiLCJpbnRlcmFjdGFibGVzIiwiZ2V0UmFuZG9tVmFsdWVzIiwiY3J5cHRvIiwibXNDcnlwdG8iLCJybmRzOCIsIlVpbnQ4QXJyYXkiLCJybmRzIiwiQXJyYXkiLCJNYXRoIiwicmFuZG9tIiwiYnl0ZVRvSGV4IiwidG9TdHJpbmciLCJzdWJzdHIiLCJidWYiLCJvZmZzZXQiLCJidGgiLCJqb2luIiwiQ29uc3RhbnRzIiwiTUFYX0lOVEVHUklUWSIsIk1BWF9GVUVMIiwiTUFYX1NBRkVfVEVNUEVSQVRVUkUiLCJNQVhfVEVNUEVSQVRVUkUiLCJPVkVSSEVBVF9DSEVDS19JTlRFUlZBTCIsIkNPT0xJTkdfUkFURSIsIlRIUlVTVEVSX0ZPUkNFIiwiRlVFTF9QRVJfVEhSVVNUIiwiSEVBVF9QRVJfVEhSVVNUIiwiQk9PU1RFUl9GT1JDRSIsIkZVRUxfUEVSX0JPT1NUIiwiSEVBVF9QRVJfQk9PU1QiLCJCT09TVEVSX0NPT0xET1dOX1RJTUUiLCJGbGFyZSIsIkF0dGFjaG1lbnRMb2NhdGlvbiIsImdhbWVDb25maWciLCJ0eXBlIiwiUGhhc2VyIiwiQVVUTyIsInNjYWxlIiwid2lkdGgiLCJpbm5lcldpZHRoIiwiaGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJwYXJlbnQiLCJwaHlzaWNzIiwiZGVmYXVsdCIsImFyY2FkZSIsImdyYXZpdHkiLCJ4IiwieSIsInNjZW5lIiwiRmFydGhlc3RTdGFyc1NjZW5lIiwiTmVhcmVzdFN0YXJzU2NlbmUiLCJTaGlwU2NlbmUiLCJPdmVybGF5U2NlbmUiLCJnYW1lIiwiR2FtZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZWZyZXNoIiwic2NlbmVDb25maWciLCJhY3RpdmUiLCJ2aXNpYmxlIiwicHJlbG9hZCIsInRoaXMiLCJsb2FkIiwiaW1hZ2UiLCJzcHJpdGVzaGVldCIsImZyYW1lV2lkdGgiLCJmcmFtZUhlaWdodCIsInN0YXJ0RnJhbWUiLCJlbmRGcmFtZSIsIm1vdXNlIiwiTW91c2UiLCJwbGF5ZXIiLCJTaGlwUG9kIiwic2V0VGFyZ2V0IiwiY2Fub24iLCJDYW5ub25BdHRhY2htZW50IiwiYWRkQXR0YWNobWVudCIsInNldHVwQ2FtZXJhIiwiaW5wdXQiLCJrZXlib2FyZCIsIm9uIiwicGF1c2VkIiwib25XaGVlbFVwIiwic2Nyb2xsQW1vdW50IiwibmV3Wm9vbSIsImNhbWVyYXMiLCJtYWluIiwiem9vbSIsInpvb21UbyIsIm9uV2hlZWxEb3duIiwidXBkYXRlIiwic2V0RnJvbVJHQiIsImciLCJiIiwic2V0Wm9vbSIsImNlbnRlck9uIiwiZHpXaWR0aCIsImZsb29yIiwiZHpIZWlnaHQiLCJkelgiLCJkelkiLCJzdGFydEZvbGxvdyIsImdldEdhbWVPYmplY3QiLCJkZWFkem9uZSIsIkdlb20iLCJSZWN0YW5nbGUiLCJTY2VuZSIsInJlbWFpbmluZ0Z1ZWwiLCJ0ZW1wZXJhdHVyZSIsImxhc3RPdmVyaGVhdENoZWNrIiwibGFzdEJvb3N0VGltZSIsImlkIiwiUk5HIiwiZ3VpZCIsImdhbWVPYmoiLCJhZGQiLCJjb250YWluZXIiLCJleGlzdGluZyIsImJvZHkiLCJib3VuY2UiLCJzZXRUbyIsInRocnVzdGVyUGFydGljbGVzIiwicGFydGljbGVzIiwieWVsbG93IiwiZXhwbG9zaW9uUGFydGljbGVzIiwic2hpcCIsInNwcml0ZSIsImludGVncml0eSIsImF0dGFjaG1lbnRzIiwiSGVscGVycyIsImVudW1MZW5ndGgiLCJzZXR1cElucHV0SGFuZGxlcnMiLCJsb29rQXRUYXJnZXQiLCJ0aHJ1c3RLZXkiLCJpc0Rvd24iLCJ0aHJ1c3RGb3dhcmRzIiwiYm9vc3RLZXkiLCJib29zdEZvcndhcmRzIiwiYWN0aXZlUG9pbnRlciIsImxlZnRCdXR0b25Eb3duIiwidHJpZ2dlciIsImNoZWNrT3ZlcmhlYXRDb25kaXRpb24iLCJyb3RhdGVBdHRhY2htZW50c0Nsb2Nrd2lzZUtleSIsInJvdGF0ZUF0dGFjaG1lbnRzQ2xvY2t3aXNlIiwicm90YXRlQXR0YWNobWVudHNBbnRpQ2xvY2t3aXNlS2V5Iiwicm90YXRlQXR0YWNobWVudHNBbnRpQ2xvY2t3aXNlIiwiZGV0YWNoQXR0YWNobWVudEtleSIsInJlbW92ZUF0dGFjaG1lbnQiLCJmcm9udCIsInVwZGF0ZUF0dGFjaG1lbnRzIiwibGVuZ3RoIiwiYSIsImFkZEtleSIsImdldFRpbWUiLCJkZXN0cm95IiwiZGVsdGEiLCJzdXN0YWluRGFtYWdlIiwiYXBwbHlDb29saW5nIiwiZ2V0UmVhbExvY2F0aW9uIiwiVmVjdG9yMiIsIlpFUk8iLCJnZXRMb2NhdGlvbiIsImNhbWVyYVBvcyIsImdldFdvcmxkUG9pbnQiLCJnZXRJZCIsInRhcmdldCIsInBvcyIsInJhZGlhbnMiLCJBbmdsZSIsIkJldHdlZW4iLCJzZXRSb3RhdGlvbiIsImdldEFuZ2xlIiwiYW5nbGUiLCJnZXRSb3RhdGlvbiIsInJvdGF0aW9uIiwiZ2V0SGVhZGluZyIsImNvcyIsInNpbiIsIm5vcm1hbGl6ZSIsIm5lZ2F0ZSIsImdldFZlbG9jaXR5IiwidmVsb2NpdHkiLCJhcHBseVRocnVzdCIsImRpc3BsYXlUaHJ1c3RlckZpcmUiLCJub3ciLCJibHVlIiwiZm9yY2UiLCJmdWVsIiwiaGVhdCIsImdldFJlbWFpbmluZ0Z1ZWwiLCJkZWx0YVYiLCJtdWx0aXBseSIsInJlZHVjZUZ1ZWwiLCJhcHBseUhlYXRpbmciLCJjb2xvdXIiLCJzdGFydFNjYWxlIiwibG9jIiwiUm90YXRlQXJvdW5kIiwiaCIsImNyZWF0ZUVtaXR0ZXIiLCJmcmFtZSIsImxpZmVzcGFuIiwibWluIiwibWF4Iiwic3BlZWRYIiwic3BlZWRZIiwiZ3Jhdml0eVgiLCJncmF2aXR5WSIsInN0YXJ0IiwiZW5kIiwiYmxlbmRNb2RlIiwibWF4UGFydGljbGVzIiwic3RyYWZlTGVmdCIsInN0cmFmZVJpZ2h0IiwidGhydXN0QmFja3dhcmRzIiwiZ2V0VGVtcGVyYXR1cmUiLCJkZWdyZWVzIiwiYW1vdW50IiwiYWRkRnVlbCIsImdldEludGVncml0eSIsInJlcGFpciIsImxhc3QiLCJwb3AiLCJ1bnNoaWZ0IiwidXBkYXRlQXR0YWNobWVudFBvc2l0aW9ucyIsImZpcnN0Iiwic2hpZnQiLCJwdXNoIiwic2V0QXR0YWNobWVudExvY2F0aW9uIiwiZnJvbnRSaWdodCIsInJpZ2h0IiwiYmFja1JpZ2h0IiwiYmFja0xlZnQiLCJsZWZ0IiwiZnJvbnRMZWZ0IiwiYXR0YWNobWVudCIsImF0dGFjaGVkIiwiYXR0YWNoIiwiZGV0YWNoIiwibG9jYXRpb24iLCJnbyIsInJlbW92ZSIsImdldEF0dGFjaG1lbnRzIiwiZGlzcGxheVNoaXBFeHBsb3Npb24iLCJyZWQiLCJpbnQiLCJ2NCIsInYxIiwidXVpZCIsIl9ub2RlSWQiLCJfY2xvY2tzZXEiLCJybmciLCJieXRlc1RvVXVpZCIsIl9sYXN0TVNlY3MiLCJfbGFzdE5TZWNzIiwib3B0aW9ucyIsIm5vZGUiLCJjbG9ja3NlcSIsInVuZGVmaW5lZCIsInNlZWRCeXRlcyIsIm1zZWNzIiwiRGF0ZSIsIm5zZWNzIiwiZHQiLCJFcnJvciIsInRsIiwidG1oIiwiaWkiLCJlbnVtVHlwZSIsImNvdW50IiwiaXRlbSIsImlzTmFOIiwiTnVtYmVyIiwiY2FwdHVyZSIsIlBJIiwicG9zaXRpb24iLCJjbG9uZSIsInBvc2l0aW9uVG9DYW1lcmEiLCJmdW5jIiwiSW5wdXQiLCJFdmVudHMiLCJQT0lOVEVSX1dIRUVMIiwicG9pbnRlciIsImN1cnJlbnRseU92ZXIiLCJkeCIsImR5IiwiZHoiLCJldmVudCIsIm1heEFtbW8iLCJyZW1haW5pbmdBbW1vIiwiY29vbGRvd25UaW1lIiwiZmlyaW5nRGVsYXkiLCJyZWxvYWQiLCJnZXRSZW1haW5pbmdBbW1vIiwiZmlyZSIsImRpcmVjdGlvbiIsIkJ1bGxldCIsIlNoaXBBdHRhY2htZW50IiwiY2VudHJlIiwic2V0UG9zaXRpb24iLCJoZWFkaW5nIiwiYXR0YWNobWVudExvY2F0aW9uIiwicmVhbExvYyIsInJlYWxMb2NhdGlvbiIsInBhcmFtcyIsInNldEFuZ2xlIiwiYWRkQ29sbGlzaW9uRGV0ZWN0aW9uIiwic2V0SW5Nb3Rpb24iLCJjb2xsaWRlciIsIm9uSW1wYWN0IiwiYnVsbGV0IiwiZGVidWciLCJ0ZXh0IiwiZm9udCIsImZpbGwiLCJzZXRUZXh0IiwidG9GaXhlZCIsImJhY2tncm91bmQiLCJ0aWxlU3ByaXRlIiwiZGl2aWRlIiwic2V0U2NhbGUiLCJzZXRBbHBoYSJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBMkNBLEVBQU1DLEdBQzFCLGlCQUFaQyxTQUEwQyxpQkFBWEMsT0FDeENBLE9BQU9ELFFBQVVELEVBQVFHLFFBQVEsV0FDUixtQkFBWEMsUUFB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Y0FDekd1QixLQUFLZ1EsV0FBV0csU0FBUyxHQUN6Qm5RLEtBQUtnUSxXQUFXWixTQUFTLElBQ3pCcFAsS0FBS2dRLFdBQVdJLFNBQVMsS0FHdEIsWUFBQXZPLE9BQVAsV0FDSSxHQUFJLEVBQUE3RixRQUFRMEUsT0FBUSxDQUNoQixJQUFJNkgsRUFBMkIsRUFBQXZNLFFBQVEwRSxPQUFPdUYsa0JBQzlDc0MsRUFBSTJILE9BQU8sSUFBSTlSLE9BQU8zQixLQUFLeUosUUFBUSxJQUFLLE1BQ3hDcUMsRUFBSWpCLFNBQ0p0SCxLQUFLd0IsUUFBUUMsS0FBS3FOLFlBQVl2RyxFQUFJdEosRUFBR3NKLEVBQUlySixLQUdyRCxFQTFCQSxDQUF1Q2QsT0FBT3lFLE9BQWpDLEVBQUF4RCIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCJwaGFzZXJcIikpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW1wicGhhc2VyXCJdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcImJ1bmRsZVwiXSA9IGZhY3RvcnkocmVxdWlyZShcInBoYXNlclwiKSk7XG5cdGVsc2Vcblx0XHRyb290W1wiYnVuZGxlXCJdID0gZmFjdG9yeShyb290W1wicGhhc2VyXCJdKTtcbn0pKHdpbmRvdywgZnVuY3Rpb24oX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fOF9fKSB7XG5yZXR1cm4gIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDUpO1xuIiwiaW1wb3J0IHsgU2hpcFBvZCB9IGZyb20gXCIuLi9zaGlwcy9zaGlwLXBvZFwiO1xyXG5cclxuZXhwb3J0IG1vZHVsZSBHbG9iYWxzIHtcclxuICAgIGV4cG9ydCB2YXIgcGF1c2VkOiBib29sZWFuO1xyXG4gICAgZXhwb3J0IHZhciBwbGF5ZXI6IFNoaXBQb2Q7XHJcbiAgICBleHBvcnQgdmFyIGdhbWU6IFBoYXNlci5HYW1lO1xyXG4gICAgZXhwb3J0IHZhciBpbnRlcmFjdGFibGVzOiBQaGFzZXIuR2FtZU9iamVjdHMuR2FtZU9iamVjdFtdID0gW107XHJcbn0iLCIvLyBVbmlxdWUgSUQgY3JlYXRpb24gcmVxdWlyZXMgYSBoaWdoIHF1YWxpdHkgcmFuZG9tICMgZ2VuZXJhdG9yLiAgSW4gdGhlXG4vLyBicm93c2VyIHRoaXMgaXMgYSBsaXR0bGUgY29tcGxpY2F0ZWQgZHVlIHRvIHVua25vd24gcXVhbGl0eSBvZiBNYXRoLnJhbmRvbSgpXG4vLyBhbmQgaW5jb25zaXN0ZW50IHN1cHBvcnQgZm9yIHRoZSBgY3J5cHRvYCBBUEkuICBXZSBkbyB0aGUgYmVzdCB3ZSBjYW4gdmlhXG4vLyBmZWF0dXJlLWRldGVjdGlvblxuXG4vLyBnZXRSYW5kb21WYWx1ZXMgbmVlZHMgdG8gYmUgaW52b2tlZCBpbiBhIGNvbnRleHQgd2hlcmUgXCJ0aGlzXCIgaXMgYSBDcnlwdG9cbi8vIGltcGxlbWVudGF0aW9uLiBBbHNvLCBmaW5kIHRoZSBjb21wbGV0ZSBpbXBsZW1lbnRhdGlvbiBvZiBjcnlwdG8gb24gSUUxMS5cbnZhciBnZXRSYW5kb21WYWx1ZXMgPSAodHlwZW9mKGNyeXB0bykgIT0gJ3VuZGVmaW5lZCcgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQoY3J5cHRvKSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAodHlwZW9mKG1zQ3J5cHRvKSAhPSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93Lm1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcyA9PSAnZnVuY3Rpb24nICYmIG1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKG1zQ3J5cHRvKSk7XG5cbmlmIChnZXRSYW5kb21WYWx1ZXMpIHtcbiAgLy8gV0hBVFdHIGNyeXB0byBSTkcgLSBodHRwOi8vd2lraS53aGF0d2cub3JnL3dpa2kvQ3J5cHRvXG4gIHZhciBybmRzOCA9IG5ldyBVaW50OEFycmF5KDE2KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gd2hhdHdnUk5HKCkge1xuICAgIGdldFJhbmRvbVZhbHVlcyhybmRzOCk7XG4gICAgcmV0dXJuIHJuZHM4O1xuICB9O1xufSBlbHNlIHtcbiAgLy8gTWF0aC5yYW5kb20oKS1iYXNlZCAoUk5HKVxuICAvL1xuICAvLyBJZiBhbGwgZWxzZSBmYWlscywgdXNlIE1hdGgucmFuZG9tKCkuICBJdCdzIGZhc3QsIGJ1dCBpcyBvZiB1bnNwZWNpZmllZFxuICAvLyBxdWFsaXR5LlxuICB2YXIgcm5kcyA9IG5ldyBBcnJheSgxNik7XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBtYXRoUk5HKCkge1xuICAgIGZvciAodmFyIGkgPSAwLCByOyBpIDwgMTY7IGkrKykge1xuICAgICAgaWYgKChpICYgMHgwMykgPT09IDApIHIgPSBNYXRoLnJhbmRvbSgpICogMHgxMDAwMDAwMDA7XG4gICAgICBybmRzW2ldID0gciA+Pj4gKChpICYgMHgwMykgPDwgMykgJiAweGZmO1xuICAgIH1cblxuICAgIHJldHVybiBybmRzO1xuICB9O1xufVxuIiwiLyoqXG4gKiBDb252ZXJ0IGFycmF5IG9mIDE2IGJ5dGUgdmFsdWVzIHRvIFVVSUQgc3RyaW5nIGZvcm1hdCBvZiB0aGUgZm9ybTpcbiAqIFhYWFhYWFhYLVhYWFgtWFhYWC1YWFhYLVhYWFhYWFhYWFhYWFxuICovXG52YXIgYnl0ZVRvSGV4ID0gW107XG5mb3IgKHZhciBpID0gMDsgaSA8IDI1NjsgKytpKSB7XG4gIGJ5dGVUb0hleFtpXSA9IChpICsgMHgxMDApLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSk7XG59XG5cbmZ1bmN0aW9uIGJ5dGVzVG9VdWlkKGJ1Ziwgb2Zmc2V0KSB7XG4gIHZhciBpID0gb2Zmc2V0IHx8IDA7XG4gIHZhciBidGggPSBieXRlVG9IZXg7XG4gIC8vIGpvaW4gdXNlZCB0byBmaXggbWVtb3J5IGlzc3VlIGNhdXNlZCBieSBjb25jYXRlbmF0aW9uOiBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMTc1I2M0XG4gIHJldHVybiAoW1xuICAgIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgJy0nLFxuICAgIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sICctJyxcbiAgICBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLCAnLScsXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgJy0nLFxuICAgIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSxcbiAgICBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dXG4gIF0pLmpvaW4oJycpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJ5dGVzVG9VdWlkO1xuIiwiZXhwb3J0IG1vZHVsZSBDb25zdGFudHMge1xyXG4gICAgZXhwb3J0IGNvbnN0IE1BWF9JTlRFR1JJVFk6IG51bWJlciA9IDEwMDtcclxuICAgIGV4cG9ydCBjb25zdCBNQVhfRlVFTDogbnVtYmVyID0gMTAwO1xyXG4gICAgZXhwb3J0IGNvbnN0IE1BWF9TQUZFX1RFTVBFUkFUVVJFOiBudW1iZXIgPSAxMDA7XHJcbiAgICBleHBvcnQgY29uc3QgTUFYX1RFTVBFUkFUVVJFOiBudW1iZXIgPSAyMDA7XHJcbiAgICBleHBvcnQgY29uc3QgT1ZFUkhFQVRfQ0hFQ0tfSU5URVJWQUw6IG51bWJlciA9IDEwMDsgLy8gbWlsbGlzZWNvbmRzXHJcbiAgICBleHBvcnQgY29uc3QgQ09PTElOR19SQVRFOiBudW1iZXIgPSAwLjM7IC8vIGRlZ3JlZXMgcGVyIHNlY29uZFxyXG4gICAgZXhwb3J0IGNvbnN0IFRIUlVTVEVSX0ZPUkNFOiBudW1iZXIgPSAxO1xyXG4gICAgZXhwb3J0IGNvbnN0IEZVRUxfUEVSX1RIUlVTVDogbnVtYmVyID0gMC4wMDE7IC8vIHVuaXRzXHJcbiAgICBleHBvcnQgY29uc3QgSEVBVF9QRVJfVEhSVVNUOiBudW1iZXIgPSAwLjEgLy8gZGVncmVlc1xyXG4gICAgZXhwb3J0IGNvbnN0IEJPT1NURVJfRk9SQ0U6IG51bWJlciA9IDMwMDtcclxuICAgIGV4cG9ydCBjb25zdCBGVUVMX1BFUl9CT09TVDogbnVtYmVyID0gMTsgLy8gdW5pdHNcclxuICAgIGV4cG9ydCBjb25zdCBIRUFUX1BFUl9CT09TVDogbnVtYmVyID0gMjU7IC8vIGRlZ3JlZXNcclxuICAgIGV4cG9ydCBjb25zdCBCT09TVEVSX0NPT0xET1dOX1RJTUU6IG51bWJlciA9IDEwMDA7IC8vIG1pbGxpc2Vjb25kc1xyXG4gICAgZXhwb3J0IGVudW0gRmxhcmUge1xyXG4gICAgICAgIGJsdWUgPSAwLFxyXG4gICAgICAgIGdyZWVuID0gMSxcclxuICAgICAgICByZWQgPSAyLFxyXG4gICAgICAgIHdoaXRlID0gMyxcclxuICAgICAgICB5ZWxsb3cgPSA0XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZW51bSBBdHRhY2htZW50TG9jYXRpb24ge1xyXG4gICAgZnJvbnQsXHJcbiAgICBmcm9udFJpZ2h0LFxyXG4gICAgcmlnaHQsXHJcbiAgICBiYWNrUmlnaHQsXHJcbiAgICAvLyBOT1RFOiB0aGVyZSBpcyBubyAnYmFjaycgYXR0YWNobWVudCBwb2ludCBkdWUgdG8gbG9jYXRpb24gb2YgdGhydXN0ZXJcclxuICAgIGJhY2tMZWZ0LFxyXG4gICAgbGVmdCxcclxuICAgIGZyb250TGVmdFxyXG59IiwiaW1wb3J0IHsgU2hpcFNjZW5lIH0gZnJvbSBcIi4vc2NlbmVzL3NoaXAtc2NlbmVcIjtcclxuaW1wb3J0IHsgR2xvYmFscyB9IGZyb20gXCIuL3V0aWxpdGllcy9nbG9iYWxzXCI7XHJcbmltcG9ydCB7IE92ZXJsYXlTY2VuZSB9IGZyb20gXCIuL3NjZW5lcy9vdmVybGF5LXNjZW5lXCI7XHJcbmltcG9ydCB7IEZhcnRoZXN0U3RhcnNTY2VuZSB9IGZyb20gXCIuL3NjZW5lcy9mYXJ0aGVzdC1zdGFycy1zY2VuZVwiO1xyXG5pbXBvcnQgeyBOZWFyZXN0U3RhcnNTY2VuZSB9IGZyb20gXCIuL3NjZW5lcy9uZWFyZXN0LXN0YXJzLXNjZW5lXCI7XHJcblxyXG5jb25zdCBnYW1lQ29uZmlnOiBQaGFzZXIuVHlwZXMuQ29yZS5HYW1lQ29uZmlnID0ge1xyXG4gICAgdHlwZTogUGhhc2VyLkFVVE8sXHJcbiAgICBzY2FsZToge1xyXG4gICAgICAgIHdpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aCxcclxuICAgICAgICBoZWlnaHQ6IHdpbmRvdy5pbm5lckhlaWdodFxyXG4gICAgfSxcclxuICAgIGJhY2tncm91bmRDb2xvcjogJyMwMDAwMDAnLFxyXG4gICAgcGFyZW50OiAnc3BhY2Utc2ltJyxcclxuICAgIHBoeXNpY3M6IHtcclxuICAgICAgICBkZWZhdWx0OiAnYXJjYWRlJyxcclxuICAgICAgICBhcmNhZGU6IHtcclxuICAgICAgICAgICAgZ3Jhdml0eTogeyB4OiAwLCB5OiAwIH0sXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHNjZW5lOiBbRmFydGhlc3RTdGFyc1NjZW5lLCBOZWFyZXN0U3RhcnNTY2VuZSwgU2hpcFNjZW5lLCBPdmVybGF5U2NlbmVdXHJcbn07XHJcbmV4cG9ydCBjb25zdCBnYW1lOiBQaGFzZXIuR2FtZSA9IG5ldyBQaGFzZXIuR2FtZShnYW1lQ29uZmlnKTtcclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7XHJcbiAgICBnYW1lLnNjYWxlLnJlZnJlc2goKTtcclxufSk7XHJcblxyXG5HbG9iYWxzLmdhbWUgPSBnYW1lOyIsImltcG9ydCB7IFNoaXBQb2QgfSBmcm9tIFwiLi4vc2hpcHMvc2hpcC1wb2RcIjtcclxuaW1wb3J0IHsgR2xvYmFscyB9IGZyb20gXCIuLi91dGlsaXRpZXMvZ2xvYmFsc1wiO1xyXG5pbXBvcnQgeyBNb3VzZSB9IGZyb20gXCIuLi91dGlsaXRpZXMvbW91c2VcIjtcclxuaW1wb3J0IHsgQ2Fubm9uQXR0YWNobWVudCB9IGZyb20gXCIuLi9zaGlwcy9hdHRhY2htZW50cy9vZmZlbmNlL2Nhbm5vbi1hdHRhY2htZW50XCI7XHJcblxyXG5jb25zdCBzY2VuZUNvbmZpZzogUGhhc2VyLlR5cGVzLlNjZW5lcy5TZXR0aW5nc0NvbmZpZyA9IHtcclxuICAgIGFjdGl2ZTogdHJ1ZSxcclxuICAgIHZpc2libGU6IHRydWUsXHJcbiAgICBrZXk6ICdTaGlwU2NlbmUnXHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgU2hpcFNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIHByaXZhdGUgbW91c2U6IE1vdXNlO1xyXG4gICAgcHJpdmF0ZSBwbGF5ZXI6IFNoaXBQb2Q7XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKHNjZW5lQ29uZmlnKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcHJlbG9hZCgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3NoaXAtcG9kJywgJy4vYXNzZXRzL3Nwcml0ZXMvc2hpcC1wb2QucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdjYW5ub24nLCAnLi9hc3NldHMvc3ByaXRlcy9jYW5ub24ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCdmbGFyZXMnLCAnLi9hc3NldHMvcGFydGljbGVzL2ZsYXJlcy5wbmcnLCB7XHJcbiAgICAgICAgICAgIGZyYW1lV2lkdGg6IDEzMCxcclxuICAgICAgICAgICAgZnJhbWVIZWlnaHQ6IDEzMixcclxuICAgICAgICAgICAgc3RhcnRGcmFtZTogMCxcclxuICAgICAgICAgICAgZW5kRnJhbWU6IDRcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2V4cGxvc2lvbicsICcuL2Fzc2V0cy9wYXJ0aWNsZXMvZXhwbG9zaW9uLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYnVsbGV0JywgJy4vYXNzZXRzL3Nwcml0ZXMvYnVsbGV0LnBuZycpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjcmVhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5tb3VzZSA9IG5ldyBNb3VzZSh0aGlzKTtcclxuICAgICAgICB0aGlzLnBsYXllciA9IG5ldyBTaGlwUG9kKHRoaXMpO1xyXG4gICAgICAgIEdsb2JhbHMucGxheWVyID0gdGhpcy5wbGF5ZXI7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIuc2V0VGFyZ2V0KHRoaXMubW91c2UpO1xyXG5cclxuICAgICAgICAvLyBUTVBcclxuICAgICAgICBsZXQgY2Fub246IENhbm5vbkF0dGFjaG1lbnQgPSBuZXcgQ2Fubm9uQXR0YWNobWVudCh0aGlzKTtcclxuICAgICAgICB0aGlzLnBsYXllci5hZGRBdHRhY2htZW50KGNhbm9uKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXR1cENhbWVyYSh0aGlzLnBsYXllcik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5pbnB1dC5rZXlib2FyZC5vbigna2V5ZG93bi1QJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBHbG9iYWxzLnBhdXNlZCA9IHRydWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5pbnB1dC5rZXlib2FyZC5vbigna2V5ZG93bi1SJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBHbG9iYWxzLnBhdXNlZCA9IGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubW91c2Uub25XaGVlbFVwKChzY3JvbGxBbW91bnQ6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICBsZXQgY3VycmVudFpvb206IG51bWJlciA9IHRoaXMuY2FtZXJhcy5tYWluLnpvb207XHJcbiAgICAgICAgICAgIC8vIHpvb20gb3V0XHJcbiAgICAgICAgICAgIGxldCBuZXdab29tOiBudW1iZXIgPSBjdXJyZW50Wm9vbSAtIDAuNTtcclxuICAgICAgICAgICAgaWYgKG5ld1pvb20gPCAwLjEpIHtcclxuICAgICAgICAgICAgICAgIG5ld1pvb20gPSAwLjE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYHpvb21pbmcgZnJvbSAke2N1cnJlbnRab29tfSB0byAke25ld1pvb219YCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnpvb21UbyhuZXdab29tKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLm1vdXNlLm9uV2hlZWxEb3duKChzY3JvbGxBbW91bnQ6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICBsZXQgY3VycmVudFpvb206IG51bWJlciA9IHRoaXMuY2FtZXJhcy5tYWluLnpvb207XHJcbiAgICAgICAgICAgIC8vIHpvb20gaW5cclxuICAgICAgICAgICAgbGV0IG5ld1pvb206IG51bWJlciA9IGN1cnJlbnRab29tICsgMC41O1xyXG4gICAgICAgICAgICBpZiAobmV3Wm9vbSA+IDEpIHtcclxuICAgICAgICAgICAgICAgIG5ld1pvb20gPSAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGB6b29taW5nIGZyb20gJHtjdXJyZW50Wm9vbX0gdG8gJHtuZXdab29tfWApO1xyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi56b29tVG8obmV3Wm9vbSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZSgpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIUdsb2JhbHMucGF1c2VkKSB7XHJcbiAgICAgICAgICAgIEdsb2JhbHMucGxheWVyLnVwZGF0ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldHVwQ2FtZXJhKHBsYXllcjogU2hpcFBvZCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLmJhY2tncm91bmRDb2xvci5zZXRGcm9tUkdCKHtyOiAwLCBnOiAwLCBiOiAwfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0Wm9vbSgxKTtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5jZW50ZXJPbigwLCAwKTtcclxuXHJcbiAgICAgICAgbGV0IHdpZHRoOiBudW1iZXIgPSB0aGlzLmNhbWVyYXMubWFpbi53aWR0aDtcclxuICAgICAgICBsZXQgaGVpZ2h0OiBudW1iZXIgPSB0aGlzLmNhbWVyYXMubWFpbi5oZWlnaHQ7XHJcbiAgICAgICAgbGV0IGR6V2lkdGg6IG51bWJlciA9IE1hdGguZmxvb3Iod2lkdGggLyAyKTtcclxuICAgICAgICBsZXQgZHpIZWlnaHQ6IG51bWJlciA9IE1hdGguZmxvb3IoaGVpZ2h0IC8gMik7XHJcbiAgICAgICAgbGV0IGR6WDogbnVtYmVyID0gTWF0aC5mbG9vcihkeldpZHRoIC8gMik7XHJcbiAgICAgICAgbGV0IGR6WTogbnVtYmVyID0gTWF0aC5mbG9vcihkekhlaWdodCAvIDIpO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnN0YXJ0Rm9sbG93KHBsYXllci5nZXRHYW1lT2JqZWN0KCksIHRydWUpO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLmRlYWR6b25lID0gbmV3IFBoYXNlci5HZW9tLlJlY3RhbmdsZShkelgsIGR6WSwgZHpXaWR0aCwgZHpIZWlnaHQpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFwicGhhc2VyXCI7XHJcbmltcG9ydCB7IFJORyB9IGZyb20gXCIuLi91dGlsaXRpZXMvcm5nXCI7XHJcbmltcG9ydCB7IFVwZGF0YWJsZSB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL3VwZGF0YWJsZVwiO1xyXG5pbXBvcnQgeyBDYW5UYXJnZXQgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9jYW4tdGFyZ2V0XCI7XHJcbmltcG9ydCB7IENhblRocnVzdCB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2Nhbi10aHJ1c3RcIjtcclxuaW1wb3J0IHsgSGFzTG9jYXRpb24gfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9oYXMtbG9jYXRpb25cIjtcclxuaW1wb3J0IHsgSGFzR2FtZU9iamVjdCB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2hhcy1nYW1lLW9iamVjdFwiO1xyXG5pbXBvcnQgeyBHbG9iYWxzIH0gZnJvbSBcIi4uL3V0aWxpdGllcy9nbG9iYWxzXCI7XHJcbmltcG9ydCB7IEhhc0ludGVncml0eSB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2hhcy1pbnRlZ3JpdHlcIjtcclxuaW1wb3J0IHsgQ29uc3RhbnRzIH0gZnJvbSBcIi4uL3V0aWxpdGllcy9jb25zdGFudHNcIjtcclxuaW1wb3J0IHsgU2hpcEF0dGFjaG1lbnQgfSBmcm9tIFwiLi9hdHRhY2htZW50cy9zaGlwLWF0dGFjaG1lbnRcIjtcclxuaW1wb3J0IHsgSGFzQXR0YWNobWVudHMgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9oYXMtYXR0YWNobWVudHNcIjtcclxuaW1wb3J0IHsgSGVscGVycyB9IGZyb20gXCIuLi91dGlsaXRpZXMvaGVscGVyc1wiO1xyXG5pbXBvcnQgeyBBdHRhY2htZW50TG9jYXRpb24gfSBmcm9tIFwiLi9hdHRhY2htZW50cy9hdHRhY2htZW50LWxvY2F0aW9uXCI7XHJcbmltcG9ydCB7IEhhc1RlbXBlcmF0dXJlIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvaGFzLXRlbXBlcmF0dXJlXCI7XHJcbmltcG9ydCB7IEhhc0Z1ZWwgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9oYXMtZnVlbFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNoaXBQb2QgaW1wbGVtZW50cyBVcGRhdGFibGUsIENhblRhcmdldCwgQ2FuVGhydXN0LCBIYXNMb2NhdGlvbiwgSGFzR2FtZU9iamVjdCwgSGFzSW50ZWdyaXR5LCBIYXNBdHRhY2htZW50cywgSGFzVGVtcGVyYXR1cmUsIEhhc0Z1ZWwge1xyXG4gICAgcHJpdmF0ZSBpZDogc3RyaW5nOyAvLyBVVUlEXHJcbiAgICBwcml2YXRlIHNjZW5lOiBQaGFzZXIuU2NlbmU7XHJcbiAgICBwcml2YXRlIGdhbWVPYmo6IFBoYXNlci5HYW1lT2JqZWN0cy5Db250YWluZXI7XHJcbiAgICBwcml2YXRlIHRhcmdldDogSGFzTG9jYXRpb247XHJcbiAgICBwcml2YXRlIGludGVncml0eTogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBhdHRhY2htZW50czogU2hpcEF0dGFjaG1lbnRbXTtcclxuICAgIHByaXZhdGUgdGhydXN0S2V5OiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5O1xyXG4gICAgcHJpdmF0ZSBib29zdEtleTogUGhhc2VyLklucHV0LktleWJvYXJkLktleTtcclxuICAgIHByaXZhdGUgcm90YXRlQXR0YWNobWVudHNDbG9ja3dpc2VLZXk6IFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXk7XHJcbiAgICBwcml2YXRlIHJvdGF0ZUF0dGFjaG1lbnRzQW50aUNsb2Nrd2lzZUtleTogUGhhc2VyLklucHV0LktleWJvYXJkLktleTtcclxuICAgIHByaXZhdGUgZGV0YWNoQXR0YWNobWVudEtleTogUGhhc2VyLklucHV0LktleWJvYXJkLktleTtcclxuICAgIHByaXZhdGUgcmVtYWluaW5nRnVlbDogbnVtYmVyID0gMTAwO1xyXG4gICAgcHJpdmF0ZSB0ZW1wZXJhdHVyZTogbnVtYmVyID0gMDsgLy8gaW4gQ2VsY2l1c1xyXG4gICAgcHJpdmF0ZSB0aHJ1c3RlclBhcnRpY2xlczogUGhhc2VyLkdhbWVPYmplY3RzLlBhcnRpY2xlcy5QYXJ0aWNsZUVtaXR0ZXJNYW5hZ2VyO1xyXG4gICAgcHJpdmF0ZSBleHBsb3Npb25QYXJ0aWNsZXM6IFBoYXNlci5HYW1lT2JqZWN0cy5QYXJ0aWNsZXMuUGFydGljbGVFbWl0dGVyTWFuYWdlcjtcclxuXHJcbiAgICBhY3RpdmU6IGJvb2xlYW4gPSB0cnVlO1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZTogUGhhc2VyLlNjZW5lKSB7XHJcbiAgICAgICAgdGhpcy5pZCA9IFJORy5ndWlkKCk7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuZ2FtZU9iaiA9IHNjZW5lLmFkZC5jb250YWluZXIoMCwgMCk7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmdhbWVPYmopO1xyXG4gICAgICAgICh0aGlzLmdhbWVPYmouYm9keSBhcyBQaGFzZXIuUGh5c2ljcy5BcmNhZGUuQm9keSkuYm91bmNlLnNldFRvKDAuNywgMC43KTtcclxuICAgICAgICB0aGlzLnRocnVzdGVyUGFydGljbGVzID0gc2NlbmUuYWRkLnBhcnRpY2xlcygnZmxhcmVzJywgQ29uc3RhbnRzLkZsYXJlLnllbGxvdyk7XHJcbiAgICAgICAgdGhpcy5leHBsb3Npb25QYXJ0aWNsZXMgPSBzY2VuZS5hZGQucGFydGljbGVzKCdleHBsb3Npb24nKTtcclxuICAgICAgICBsZXQgc2hpcDogUGhhc2VyLkdhbWVPYmplY3RzLlNwcml0ZSA9IHNjZW5lLmFkZC5zcHJpdGUoMCwgMCwgJ3NoaXAtcG9kJyk7XHJcbiAgICAgICAgdGhpcy5nYW1lT2JqLmFkZChzaGlwKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmludGVncml0eSA9IENvbnN0YW50cy5NQVhfSU5URUdSSVRZO1xyXG4gICAgICAgIHRoaXMuYXR0YWNobWVudHMgPSBuZXcgQXJyYXk8U2hpcEF0dGFjaG1lbnQ+KEhlbHBlcnMuZW51bUxlbmd0aChBdHRhY2htZW50TG9jYXRpb24pKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXR1cElucHV0SGFuZGxlcnMoKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCFHbG9iYWxzLnBhdXNlZCAmJiB0aGlzLmFjdGl2ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmxvb2tBdFRhcmdldCgpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy50aHJ1c3RLZXkuaXNEb3duKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRocnVzdEZvd2FyZHMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5ib29zdEtleS5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYm9vc3RGb3J3YXJkcygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNjZW5lLmlucHV0LmFjdGl2ZVBvaW50ZXIubGVmdEJ1dHRvbkRvd24oKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYXR0YWNobWVudHNbMF0pIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzWzBdLnRyaWdnZXIoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmNoZWNrT3ZlcmhlYXRDb25kaXRpb24oKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMucm90YXRlQXR0YWNobWVudHNDbG9ja3dpc2VLZXkuaXNEb3duKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJvdGF0ZUF0dGFjaG1lbnRzQ2xvY2t3aXNlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMucm90YXRlQXR0YWNobWVudHNBbnRpQ2xvY2t3aXNlS2V5LmlzRG93bikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yb3RhdGVBdHRhY2htZW50c0FudGlDbG9ja3dpc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5kZXRhY2hBdHRhY2htZW50S2V5LmlzRG93bikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVBdHRhY2htZW50KEF0dGFjaG1lbnRMb2NhdGlvbi5mcm9udCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy51cGRhdGVBdHRhY2htZW50cygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHVwZGF0ZUF0dGFjaG1lbnRzKCk6IHZvaWQge1xyXG4gICAgICAgIGZvciAodmFyIGk9MDsgaTx0aGlzLmF0dGFjaG1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBhOiBTaGlwQXR0YWNobWVudCA9IHRoaXMuYXR0YWNobWVudHNbaV07XHJcbiAgICAgICAgICAgIGlmIChhKSB7XHJcbiAgICAgICAgICAgICAgICBhLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0dXBJbnB1dEhhbmRsZXJzKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMudGhydXN0S2V5ID0gdGhpcy5zY2VuZS5pbnB1dC5rZXlib2FyZC5hZGRLZXkoJ1NQQUNFJywgdHJ1ZSwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5ib29zdEtleSA9IHRoaXMuc2NlbmUuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KCdUQUInLCB0cnVlLCBmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5yb3RhdGVBdHRhY2htZW50c0Nsb2Nrd2lzZUtleSA9IHRoaXMuc2NlbmUuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KCdFJywgdHJ1ZSwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMucm90YXRlQXR0YWNobWVudHNBbnRpQ2xvY2t3aXNlS2V5ID0gdGhpcy5zY2VuZS5pbnB1dC5rZXlib2FyZC5hZGRLZXkoJ1EnLCB0cnVlLCBmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5kZXRhY2hBdHRhY2htZW50S2V5ID0gdGhpcy5zY2VuZS5pbnB1dC5rZXlib2FyZC5hZGRLZXkoJ1gnLCB0cnVlLCBmYWxzZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBjaGVja3MgZm9yIGFuZCBhcHBsaWVzIGRhbWFnZSBiYXNlZCBvbiBkZWdyZWVzIG92ZXIgc2FmZSB0ZW1wZXJhdHVyZSBhdCBhIHJhdGVcclxuICAgICAqIGRlZmluZWQgYnkge0NvbnN0YW50cy5PVkVSSEVBVF9DSEVDS19JTlRFUlZBTH0gbWlsbGlzZWNvbmRzIGJldHdlZW4gZWFjaCBjaGVjay5cclxuICAgICAqIGFsc28gYXBwbGllcyBjb29saW5nIGF0IGEgcmF0ZSBvZiB7Q29uc3RhbnRzLkNPT0xJTkdfUkFURX1cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBjaGVja092ZXJoZWF0Q29uZGl0aW9uKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICghR2xvYmFscy5wYXVzZWQgJiYgdGhpcy5hY3RpdmUpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc2NlbmUuZ2FtZS5nZXRUaW1lKCkgPiB0aGlzLmxhc3RPdmVyaGVhdENoZWNrICsgQ29uc3RhbnRzLk9WRVJIRUFUX0NIRUNLX0lOVEVSVkFMKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50ZW1wZXJhdHVyZSA+IENvbnN0YW50cy5NQVhfVEVNUEVSQVRVUkUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3koKTsgLy8gd2UgYXJlIGRlYWRcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRlbXBlcmF0dXJlID4gQ29uc3RhbnRzLk1BWF9TQUZFX1RFTVBFUkFUVVJFKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVkdWNlIGludGVncml0eSBiYXNlZCBvbiBkZWdyZWVzIG92ZXIgc2FmZSBvcGVyYXRpbmcgdGVtcFxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBkZWx0YTogbnVtYmVyID0gKHRoaXMudGVtcGVyYXR1cmUgLSBDb25zdGFudHMuTUFYX1NBRkVfVEVNUEVSQVRVUkUpIC8gQ29uc3RhbnRzLk1BWF9TQUZFX1RFTVBFUkFUVVJFO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3VzdGFpbkRhbWFnZShkZWx0YSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGx5Q29vbGluZyhDb25zdGFudHMuQ09PTElOR19SQVRFKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubGFzdE92ZXJoZWF0Q2hlY2sgPSB0aGlzLnNjZW5lLmdhbWUuZ2V0VGltZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBsYXN0T3ZlcmhlYXRDaGVjazogbnVtYmVyID0gMDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRPRE86IG5lZWRlZCBzbyB3ZSBjYW4gdXNlIEZsb2F0aW5nIE9yaWdpblxyXG4gICAgICovXHJcbiAgICBnZXRSZWFsTG9jYXRpb24oKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2FtZU9iaikge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFBoYXNlci5NYXRoLlZlY3RvcjIodGhpcy5nYW1lT2JqLngsIHRoaXMuZ2FtZU9iai55KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFBoYXNlci5NYXRoLlZlY3RvcjIuWkVSTztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHRoZSBsb2NhdGlvbiB3aXRoaW4gdGhlIHZpZXdhYmxlIGFyZWFcclxuICAgICAqIEByZXR1cm5zIGEge1BoYXNlci5NYXRoLlZlY3RvcjJ9IG9mZnNldCBmb3IgbG9jYXRpb24gd2l0aGluIGN1cnJlbnQgXHJcbiAgICAgKiB2aWV3YWJsZSBhcmVhXHJcbiAgICAgKi9cclxuICAgIGdldExvY2F0aW9uKCk6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIGlmICh0aGlzLmdhbWVPYmopIHtcclxuICAgICAgICAgICAgbGV0IGNhbWVyYVBvczogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuc2NlbmUuY2FtZXJhcy5tYWluLmdldFdvcmxkUG9pbnQoMCwgMCk7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUGhhc2VyLk1hdGguVmVjdG9yMih0aGlzLmdhbWVPYmoueCAtIGNhbWVyYVBvcy54LCB0aGlzLmdhbWVPYmoueSAtIGNhbWVyYVBvcy55KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFBoYXNlci5NYXRoLlZlY3RvcjIuWkVSTztcclxuICAgIH1cclxuXHJcbiAgICBnZXRJZCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlkO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEdhbWVPYmplY3QoKTogUGhhc2VyLkdhbWVPYmplY3RzLkdhbWVPYmplY3Qge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdhbWVPYmo7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VGFyZ2V0KHRhcmdldDogSGFzTG9jYXRpb24pIHtcclxuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcclxuICAgIH1cclxuXHJcbiAgICBsb29rQXRUYXJnZXQoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2FtZU9iaikge1xyXG4gICAgICAgICAgICBsZXQgcG9zID0gdGhpcy50YXJnZXQuZ2V0UmVhbExvY2F0aW9uKCk7XHJcbiAgICAgICAgICAgIGxldCByYWRpYW5zOiBudW1iZXIgPSBQaGFzZXIuTWF0aC5BbmdsZS5CZXR3ZWVuKHBvcy54LCBwb3MueSwgdGhpcy5nYW1lT2JqLngsIHRoaXMuZ2FtZU9iai55KTtcclxuICAgICAgICAgICAgdGhpcy5nYW1lT2JqLnNldFJvdGF0aW9uKHJhZGlhbnMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRBbmdsZSgpOiBudW1iZXIge1xyXG4gICAgICAgIGlmICh0aGlzLmdhbWVPYmopIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZU9iai5hbmdsZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Um90YXRpb24oKTogbnVtYmVyIHtcclxuICAgICAgICBpZiAodGhpcy5nYW1lT2JqKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdhbWVPYmoucm90YXRpb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEhlYWRpbmcoKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2FtZU9iaikge1xyXG4gICAgICAgICAgICBsZXQgeDogbnVtYmVyID0gTWF0aC5jb3ModGhpcy5nYW1lT2JqLnJvdGF0aW9uKTtcclxuICAgICAgICAgICAgbGV0IHk6IG51bWJlciA9IE1hdGguc2luKHRoaXMuZ2FtZU9iai5yb3RhdGlvbik7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUGhhc2VyLk1hdGguVmVjdG9yMih4LCB5KS5ub3JtYWxpemUoKS5uZWdhdGUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFBoYXNlci5NYXRoLlZlY3RvcjIuWkVSTztcclxuICAgIH1cclxuXHJcbiAgICBnZXRWZWxvY2l0eSgpOiBudW1iZXIge1xyXG4gICAgICAgIGlmICh0aGlzLmdhbWVPYmopIHtcclxuICAgICAgICAgICAgcmV0dXJuICh0aGlzLmdhbWVPYmouYm9keSBhcyBQaGFzZXIuUGh5c2ljcy5BcmNhZGUuQm9keSkudmVsb2NpdHkubGVuZ3RoKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG5cclxuICAgIHRocnVzdEZvd2FyZHMoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5hcHBseVRocnVzdChDb25zdGFudHMuVEhSVVNURVJfRk9SQ0UsIENvbnN0YW50cy5GVUVMX1BFUl9USFJVU1QsIENvbnN0YW50cy5IRUFUX1BFUl9USFJVU1QpO1xyXG4gICAgICAgIHRoaXMuZGlzcGxheVRocnVzdGVyRmlyZShDb25zdGFudHMuRmxhcmUueWVsbG93LCAwLjIpO1xyXG4gICAgfVxyXG5cclxuICAgIGJvb3N0Rm9yd2FyZHMoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKEhlbHBlcnMubm93KCkgLSB0aGlzLmxhc3RCb29zdFRpbWUgPj0gQ29uc3RhbnRzLkJPT1NURVJfQ09PTERPV05fVElNRSkge1xyXG4gICAgICAgICAgICB0aGlzLmFwcGx5VGhydXN0KENvbnN0YW50cy5CT09TVEVSX0ZPUkNFLCBDb25zdGFudHMuRlVFTF9QRVJfQk9PU1QsIENvbnN0YW50cy5IRUFUX1BFUl9CT09TVCk7XHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheVRocnVzdGVyRmlyZShDb25zdGFudHMuRmxhcmUuYmx1ZSwgMSk7XHJcbiAgICAgICAgICAgIHRoaXMubGFzdEJvb3N0VGltZSA9IEhlbHBlcnMubm93KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBsYXN0Qm9vc3RUaW1lOiBudW1iZXIgPSAwO1xyXG5cclxuICAgIHByaXZhdGUgYXBwbHlUaHJ1c3QoZm9yY2U6IG51bWJlciwgZnVlbDogbnVtYmVyLCBoZWF0OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5nZXRSZW1haW5pbmdGdWVsKCkgPiAwKSB7XHJcbiAgICAgICAgICAgIGxldCBoZWFkaW5nOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5nZXRIZWFkaW5nKCk7XHJcbiAgICAgICAgICAgIGxldCBkZWx0YVY6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSBoZWFkaW5nLm11bHRpcGx5KG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKGZvcmNlLCBmb3JjZSkpO1xyXG4gICAgICAgICAgICAodGhpcy5nYW1lT2JqLmJvZHkgYXMgUGhhc2VyLlBoeXNpY3MuQXJjYWRlLkJvZHkpLnZlbG9jaXR5LmFkZChkZWx0YVYpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5yZWR1Y2VGdWVsKGZ1ZWwpO1xyXG4gICAgICAgICAgICB0aGlzLmFwcGx5SGVhdGluZyhoZWF0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBkaXNwbGF5VGhydXN0ZXJGaXJlKGNvbG91cjogQ29uc3RhbnRzLkZsYXJlLCBzdGFydFNjYWxlOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICAvLyBtYWtlIHRocnVzdGVyIGZpcmVcclxuICAgICAgICBsZXQgcG9zOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5nZXRSZWFsTG9jYXRpb24oKTtcclxuICAgICAgICBsZXQgb2Zmc2V0OiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gbmV3IFBoYXNlci5NYXRoLlZlY3RvcjIoMjAsIDApLmFkZCh0aGlzLmdldFJlYWxMb2NhdGlvbigpKTtcclxuICAgICAgICBsZXQgbG9jOiBQaGFzZXIuR2VvbS5Qb2ludCA9IFBoYXNlci5NYXRoLlJvdGF0ZUFyb3VuZChvZmZzZXQsIHBvcy54LCBwb3MueSwgdGhpcy5nZXRSb3RhdGlvbigpKTtcclxuICAgICAgICBsZXQgaDogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuZ2V0SGVhZGluZygpLm5lZ2F0ZSgpO1xyXG4gICAgICAgIHRoaXMudGhydXN0ZXJQYXJ0aWNsZXMuY3JlYXRlRW1pdHRlcih7XHJcbiAgICAgICAgICAgIGZyYW1lOiBjb2xvdXIgYXMgbnVtYmVyLFxyXG4gICAgICAgICAgICB4OiBsb2MueCxcclxuICAgICAgICAgICAgeTogbG9jLnksXHJcbiAgICAgICAgICAgIGxpZmVzcGFuOiB7IG1pbjogMjAwLCBtYXg6IDUwMCB9LFxyXG4gICAgICAgICAgICBzcGVlZFg6IHsgbWluOiBoLngqNjAwLCBtYXg6IGgueCoxMDAwIH0sXHJcbiAgICAgICAgICAgIHNwZWVkWTogeyBtaW46IGgueSo2MDAsIG1heDogaC55KjEwMDAgfSxcclxuICAgICAgICAgICAgYW5nbGU6IHsgbWluOiAtMTgwLCBtYXg6IDE3OSB9LFxyXG4gICAgICAgICAgICBncmF2aXR5WDogMCxcclxuICAgICAgICAgICAgZ3Jhdml0eVk6IDAsXHJcbiAgICAgICAgICAgIHNjYWxlOiB7IHN0YXJ0OiBzdGFydFNjYWxlLCBlbmQ6IDAgfSxcclxuICAgICAgICAgICAgLy9xdWFudGl0eTogNCxcclxuICAgICAgICAgICAgYmxlbmRNb2RlOiAnQUREJyxcclxuICAgICAgICAgICAgbWF4UGFydGljbGVzOiAzXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RyYWZlTGVmdCgpOiB2b2lkIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgc3RyYWZlUmlnaHQoKTogdm9pZCB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHRocnVzdEJhY2t3YXJkcygpOiB2b2lkIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VGVtcGVyYXR1cmUoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50ZW1wZXJhdHVyZTtcclxuICAgIH1cclxuXHJcbiAgICBhcHBseUhlYXRpbmcoZGVncmVlczogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy50ZW1wZXJhdHVyZSArPSBkZWdyZWVzO1xyXG4gICAgfVxyXG5cclxuICAgIGFwcGx5Q29vbGluZyhkZWdyZWVzOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnRlbXBlcmF0dXJlIC09IGRlZ3JlZXM7XHJcbiAgICAgICAgaWYgKHRoaXMudGVtcGVyYXR1cmUgPCAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGVtcGVyYXR1cmUgPSAwO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZWR1Y2VGdWVsKGFtb3VudDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5yZW1haW5pbmdGdWVsIC09IGFtb3VudDtcclxuICAgICAgICBpZiAodGhpcy5yZW1haW5pbmdGdWVsIDwgMCkge1xyXG4gICAgICAgICAgICB0aGlzLnJlbWFpbmluZ0Z1ZWwgPSAwO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhZGRGdWVsKGFtb3VudDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5yZW1haW5pbmdGdWVsICs9IGFtb3VudDtcclxuICAgICAgICBpZiAodGhpcy5yZW1haW5pbmdGdWVsID4gQ29uc3RhbnRzLk1BWF9GVUVMKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVtYWluaW5nRnVlbCA9IENvbnN0YW50cy5NQVhfRlVFTDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UmVtYWluaW5nRnVlbCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJlbWFpbmluZ0Z1ZWw7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0SW50ZWdyaXR5KCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW50ZWdyaXR5O1xyXG4gICAgfVxyXG5cclxuICAgIHN1c3RhaW5EYW1hZ2UoYW1vdW50OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmludGVncml0eSAtPSBhbW91bnQ7XHJcbiAgICAgICAgaWYgKHRoaXMuaW50ZWdyaXR5IDw9IDApIHtcclxuICAgICAgICAgICAgdGhpcy5pbnRlZ3JpdHkgPSAwO1xyXG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3koKTsgLy8gd2UgYXJlIGRlYWRcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVwYWlyKGFtb3VudDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5pbnRlZ3JpdHkgPSBhbW91bnQ7XHJcbiAgICAgICAgaWYgKHRoaXMuaW50ZWdyaXR5ID4gQ29uc3RhbnRzLk1BWF9JTlRFR1JJVFkpIHtcclxuICAgICAgICAgICAgdGhpcy5pbnRlZ3JpdHkgPSBDb25zdGFudHMuTUFYX0lOVEVHUklUWTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcm90YXRlQXR0YWNobWVudHNDbG9ja3dpc2UoKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IGxhc3Q6IFNoaXBBdHRhY2htZW50ID0gdGhpcy5hdHRhY2htZW50cy5wb3AoKTsgLy8gcmVtb3ZlIGxhc3QgZWxlbWVudFxyXG4gICAgICAgIHRoaXMuYXR0YWNobWVudHMudW5zaGlmdChsYXN0KTsgLy8gcHVzaCBsYXN0IGVsZW1lbnQgb250byBzdGFydCBvZiBhcnJheVxyXG4gICAgICAgIHRoaXMudXBkYXRlQXR0YWNobWVudFBvc2l0aW9ucygpO1xyXG4gICAgfVxyXG5cclxuICAgIHJvdGF0ZUF0dGFjaG1lbnRzQW50aUNsb2Nrd2lzZSgpOiB2b2lkIHtcclxuICAgICAgICBsZXQgZmlyc3Q6IFNoaXBBdHRhY2htZW50ID0gdGhpcy5hdHRhY2htZW50cy5zaGlmdCgpOyAvLyByZW1vdmUgZmlyc3QgZWxlbWVudFxyXG4gICAgICAgIHRoaXMuYXR0YWNobWVudHMucHVzaChmaXJzdCk7IC8vIHB1c2ggZmlyc3QgZWxlbWVudCBvbnRvIGVuZCBvZiBhcnJheVxyXG4gICAgICAgIHRoaXMudXBkYXRlQXR0YWNobWVudFBvc2l0aW9ucygpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdXBkYXRlQXR0YWNobWVudFBvc2l0aW9ucygpOiB2b2lkIHtcclxuICAgICAgICBmb3IgKHZhciBpPTA7IGk8dGhpcy5hdHRhY2htZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5hdHRhY2htZW50c1tpXSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBBdHRhY2htZW50TG9jYXRpb24uZnJvbnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNobWVudHNbaV0uc2V0QXR0YWNobWVudExvY2F0aW9uKEF0dGFjaG1lbnRMb2NhdGlvbi5mcm9udCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQXR0YWNobWVudExvY2F0aW9uLmZyb250UmlnaHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNobWVudHNbaV0uc2V0QXR0YWNobWVudExvY2F0aW9uKEF0dGFjaG1lbnRMb2NhdGlvbi5mcm9udFJpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBBdHRhY2htZW50TG9jYXRpb24ucmlnaHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNobWVudHNbaV0uc2V0QXR0YWNobWVudExvY2F0aW9uKEF0dGFjaG1lbnRMb2NhdGlvbi5yaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQXR0YWNobWVudExvY2F0aW9uLmJhY2tSaWdodDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hdHRhY2htZW50c1tpXS5zZXRBdHRhY2htZW50TG9jYXRpb24oQXR0YWNobWVudExvY2F0aW9uLmJhY2tSaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQXR0YWNobWVudExvY2F0aW9uLmJhY2tMZWZ0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzW2ldLnNldEF0dGFjaG1lbnRMb2NhdGlvbihBdHRhY2htZW50TG9jYXRpb24uYmFja0xlZnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIEF0dGFjaG1lbnRMb2NhdGlvbi5sZWZ0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzW2ldLnNldEF0dGFjaG1lbnRMb2NhdGlvbihBdHRhY2htZW50TG9jYXRpb24ubGVmdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQXR0YWNobWVudExvY2F0aW9uLmZyb250TGVmdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hdHRhY2htZW50c1tpXS5zZXRBdHRhY2htZW50TG9jYXRpb24oQXR0YWNobWVudExvY2F0aW9uLmZyb250TGVmdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogYWRkcyB0aGUgcGFzc2VkIGluIHtTaGlwQXR0YWNobWVudH0gaW4ge0F0dGFjaG1lbnRMb2NhdGlvbi5mcm9udH0gb3JcclxuICAgICAqIHRoZSBmaXJzdCBvcGVuIHtBdHRhY2htZW50TG9jYXRpb259IGluIGEgY2xvY2t3aXNlIHNlYXJjaC4gaWYgbm8gb3BlblxyXG4gICAgICogc2xvdHMgZXhpc3QgdGhlbiB0aGUgZXhpc3Rpbmcge1NoaXBBdHRhY2htZW50fSBhdCB7QXR0YWNobWVudExvY2F0aW9uLmZyb250fVxyXG4gICAgICogaXMgZGV0YWNoZWQgYW5kIHJlcGxhY2VkIHdpdGggdGhlIHBhc3NlZCBpbiB7U2hpcEF0dGFjaG1lbnR9XHJcbiAgICAgKiBAcGFyYW0gYXR0YWNobWVudCB0aGUgYXR0YWNobWVudCB0byBiZSBhZGRlZFxyXG4gICAgICovXHJcbiAgICBhZGRBdHRhY2htZW50KGF0dGFjaG1lbnQ6IFNoaXBBdHRhY2htZW50KTogdm9pZCB7XHJcbiAgICAgICAgbGV0IGF0dGFjaGVkOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPEhlbHBlcnMuZW51bUxlbmd0aChBdHRhY2htZW50TG9jYXRpb24pOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmF0dGFjaG1lbnRzW2ldKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbG9jOiBBdHRhY2htZW50TG9jYXRpb247XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIEF0dGFjaG1lbnRMb2NhdGlvbi5mcm9udDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jID0gQXR0YWNobWVudExvY2F0aW9uLmZyb250O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIEF0dGFjaG1lbnRMb2NhdGlvbi5mcm9udFJpZ2h0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2MgPSBBdHRhY2htZW50TG9jYXRpb24uZnJvbnRSaWdodDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBBdHRhY2htZW50TG9jYXRpb24ucmlnaHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYyA9IEF0dGFjaG1lbnRMb2NhdGlvbi5yaWdodDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBBdHRhY2htZW50TG9jYXRpb24uYmFja1JpZ2h0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2MgPSBBdHRhY2htZW50TG9jYXRpb24uYmFja1JpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIEF0dGFjaG1lbnRMb2NhdGlvbi5iYWNrTGVmdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jID0gQXR0YWNobWVudExvY2F0aW9uLmJhY2tMZWZ0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIEF0dGFjaG1lbnRMb2NhdGlvbi5sZWZ0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2MgPSBBdHRhY2htZW50TG9jYXRpb24ubGVmdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBBdHRhY2htZW50TG9jYXRpb24uZnJvbnRMZWZ0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2MgPSBBdHRhY2htZW50TG9jYXRpb24uZnJvbnRMZWZ0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNobWVudHNbaV0gPSBhdHRhY2htZW50O1xyXG4gICAgICAgICAgICAgICAgYXR0YWNobWVudC5hdHRhY2godGhpcywgbG9jKTtcclxuICAgICAgICAgICAgICAgIGF0dGFjaGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFhdHRhY2hlZCkge1xyXG4gICAgICAgICAgICAvLyBkZXRhY2ggY3VycmVudCBmcm9udCBhdHRhY2htZW50XHJcbiAgICAgICAgICAgIHRoaXMuYXR0YWNobWVudHNbQXR0YWNobWVudExvY2F0aW9uLmZyb250XS5kZXRhY2goKTtcclxuICAgICAgICAgICAgdGhpcy5hdHRhY2htZW50c1tBdHRhY2htZW50TG9jYXRpb24uZnJvbnRdID0gYXR0YWNobWVudDtcclxuICAgICAgICAgICAgYXR0YWNobWVudC5hdHRhY2godGhpcywgQXR0YWNobWVudExvY2F0aW9uLmZyb250KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZ2FtZU9iai5hZGQoYXR0YWNobWVudC5nZXRHYW1lT2JqZWN0KCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZUF0dGFjaG1lbnQobG9jYXRpb246IEF0dGFjaG1lbnRMb2NhdGlvbik6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmF0dGFjaG1lbnRzW2xvY2F0aW9uXSkge1xyXG4gICAgICAgICAgICBsZXQgZ286IFBoYXNlci5HYW1lT2JqZWN0cy5HYW1lT2JqZWN0ID0gdGhpcy5hdHRhY2htZW50c1tsb2NhdGlvbl0uZ2V0R2FtZU9iamVjdCgpO1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVPYmoucmVtb3ZlKGdvKTtcclxuICAgICAgICAgICAgdGhpcy5hdHRhY2htZW50c1tsb2NhdGlvbl0uZGV0YWNoKCk7XHJcbiAgICAgICAgICAgIHRoaXMuYXR0YWNobWVudHNbbG9jYXRpb25dID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0QXR0YWNobWVudHMoKTogU2hpcEF0dGFjaG1lbnRbXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYXR0YWNobWVudHM7XHJcbiAgICB9XHJcblxyXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZGlzcGxheVNoaXBFeHBsb3Npb24oKTtcclxuICAgICAgICB0aGlzLmdldEdhbWVPYmplY3QoKS5kZXN0cm95KCk7XHJcbiAgICAgICAgdGhpcy5nYW1lT2JqID0gbnVsbDtcclxuICAgICAgICAvLyBUT0RPOiBzaWduYWwgZW5kIG9mIGdhbWUgYW5kIGRpc3BsYXkgbWVudVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZGlzcGxheVNoaXBFeHBsb3Npb24oKTogdm9pZCB7XHJcbiAgICAgICAgLy8gbWFrZSB0aHJ1c3RlciBmaXJlXHJcbiAgICAgICAgbGV0IHBvczogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuZ2V0UmVhbExvY2F0aW9uKCk7XHJcbiAgICAgICAgdGhpcy5leHBsb3Npb25QYXJ0aWNsZXMuY3JlYXRlRW1pdHRlcih7XHJcbiAgICAgICAgICAgIHg6IHBvcy54LFxyXG4gICAgICAgICAgICB5OiBwb3MueSxcclxuICAgICAgICAgICAgbGlmZXNwYW46IHsgbWluOiA1MDAsIG1heDogMTAwMCB9LFxyXG4gICAgICAgICAgICBzcGVlZFg6IHsgbWluOiAtMSwgbWF4OiAxIH0sXHJcbiAgICAgICAgICAgIHNwZWVkWTogeyBtaW46IC0xLCBtYXg6IDEgfSxcclxuICAgICAgICAgICAgYW5nbGU6IHsgbWluOiAtMTgwLCBtYXg6IDE3OSB9LFxyXG4gICAgICAgICAgICBncmF2aXR5WDogMCxcclxuICAgICAgICAgICAgZ3Jhdml0eVk6IDAsXHJcbiAgICAgICAgICAgIHNjYWxlOiB7IHN0YXJ0OiAxLCBlbmQ6IDAgfSxcclxuICAgICAgICAgICAgYmxlbmRNb2RlOiAnQUREJyxcclxuICAgICAgICAgICAgbWF4UGFydGljbGVzOiAzXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy50aHJ1c3RlclBhcnRpY2xlcy5jcmVhdGVFbWl0dGVyKHtcclxuICAgICAgICAgICAgZnJhbWU6IENvbnN0YW50cy5GbGFyZS5yZWQgYXMgbnVtYmVyLFxyXG4gICAgICAgICAgICB4OiBwb3MueCxcclxuICAgICAgICAgICAgeTogcG9zLnksXHJcbiAgICAgICAgICAgIGxpZmVzcGFuOiB7IG1pbjogMTAwLCBtYXg6IDUwMCB9LFxyXG4gICAgICAgICAgICBzcGVlZFg6IHsgbWluOiAtNjAwLCBtYXg6IDYwMCB9LFxyXG4gICAgICAgICAgICBzcGVlZFk6IHsgbWluOiAtNjAwLCBtYXg6IDYwMCB9LFxyXG4gICAgICAgICAgICBhbmdsZTogeyBtaW46IC0xODAsIG1heDogMTc5IH0sXHJcbiAgICAgICAgICAgIGdyYXZpdHlYOiAwLFxyXG4gICAgICAgICAgICBncmF2aXR5WTogMCxcclxuICAgICAgICAgICAgc2NhbGU6IHsgc3RhcnQ6IDEsIGVuZDogMCB9LFxyXG4gICAgICAgICAgICBibGVuZE1vZGU6ICdBREQnLFxyXG4gICAgICAgICAgICBtYXhQYXJ0aWNsZXM6IDEwXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzhfXzsiLCJpbXBvcnQgeyB2NCB9IGZyb20gXCJ1dWlkXCI7XHJcblxyXG5leHBvcnQgbW9kdWxlIFJORyB7XHJcbiAgICBleHBvcnQgZnVuY3Rpb24gaW50KG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW47XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGd1aWQoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdjQoKTtcclxuICAgIH1cclxufSIsInZhciB2MSA9IHJlcXVpcmUoJy4vdjEnKTtcbnZhciB2NCA9IHJlcXVpcmUoJy4vdjQnKTtcblxudmFyIHV1aWQgPSB2NDtcbnV1aWQudjEgPSB2MTtcbnV1aWQudjQgPSB2NDtcblxubW9kdWxlLmV4cG9ydHMgPSB1dWlkO1xuIiwidmFyIHJuZyA9IHJlcXVpcmUoJy4vbGliL3JuZycpO1xudmFyIGJ5dGVzVG9VdWlkID0gcmVxdWlyZSgnLi9saWIvYnl0ZXNUb1V1aWQnKTtcblxuLy8gKipgdjEoKWAgLSBHZW5lcmF0ZSB0aW1lLWJhc2VkIFVVSUQqKlxuLy9cbi8vIEluc3BpcmVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS9MaW9zSy9VVUlELmpzXG4vLyBhbmQgaHR0cDovL2RvY3MucHl0aG9uLm9yZy9saWJyYXJ5L3V1aWQuaHRtbFxuXG52YXIgX25vZGVJZDtcbnZhciBfY2xvY2tzZXE7XG5cbi8vIFByZXZpb3VzIHV1aWQgY3JlYXRpb24gdGltZVxudmFyIF9sYXN0TVNlY3MgPSAwO1xudmFyIF9sYXN0TlNlY3MgPSAwO1xuXG4vLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkIGZvciBBUEkgZGV0YWlsc1xuZnVuY3Rpb24gdjEob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgdmFyIGkgPSBidWYgJiYgb2Zmc2V0IHx8IDA7XG4gIHZhciBiID0gYnVmIHx8IFtdO1xuXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgbm9kZSA9IG9wdGlvbnMubm9kZSB8fCBfbm9kZUlkO1xuICB2YXIgY2xvY2tzZXEgPSBvcHRpb25zLmNsb2Nrc2VxICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNsb2Nrc2VxIDogX2Nsb2Nrc2VxO1xuXG4gIC8vIG5vZGUgYW5kIGNsb2Nrc2VxIG5lZWQgdG8gYmUgaW5pdGlhbGl6ZWQgdG8gcmFuZG9tIHZhbHVlcyBpZiB0aGV5J3JlIG5vdFxuICAvLyBzcGVjaWZpZWQuICBXZSBkbyB0aGlzIGxhemlseSB0byBtaW5pbWl6ZSBpc3N1ZXMgcmVsYXRlZCB0byBpbnN1ZmZpY2llbnRcbiAgLy8gc3lzdGVtIGVudHJvcHkuICBTZWUgIzE4OVxuICBpZiAobm9kZSA9PSBudWxsIHx8IGNsb2Nrc2VxID09IG51bGwpIHtcbiAgICB2YXIgc2VlZEJ5dGVzID0gcm5nKCk7XG4gICAgaWYgKG5vZGUgPT0gbnVsbCkge1xuICAgICAgLy8gUGVyIDQuNSwgY3JlYXRlIGFuZCA0OC1iaXQgbm9kZSBpZCwgKDQ3IHJhbmRvbSBiaXRzICsgbXVsdGljYXN0IGJpdCA9IDEpXG4gICAgICBub2RlID0gX25vZGVJZCA9IFtcbiAgICAgICAgc2VlZEJ5dGVzWzBdIHwgMHgwMSxcbiAgICAgICAgc2VlZEJ5dGVzWzFdLCBzZWVkQnl0ZXNbMl0sIHNlZWRCeXRlc1szXSwgc2VlZEJ5dGVzWzRdLCBzZWVkQnl0ZXNbNV1cbiAgICAgIF07XG4gICAgfVxuICAgIGlmIChjbG9ja3NlcSA9PSBudWxsKSB7XG4gICAgICAvLyBQZXIgNC4yLjIsIHJhbmRvbWl6ZSAoMTQgYml0KSBjbG9ja3NlcVxuICAgICAgY2xvY2tzZXEgPSBfY2xvY2tzZXEgPSAoc2VlZEJ5dGVzWzZdIDw8IDggfCBzZWVkQnl0ZXNbN10pICYgMHgzZmZmO1xuICAgIH1cbiAgfVxuXG4gIC8vIFVVSUQgdGltZXN0YW1wcyBhcmUgMTAwIG5hbm8tc2Vjb25kIHVuaXRzIHNpbmNlIHRoZSBHcmVnb3JpYW4gZXBvY2gsXG4gIC8vICgxNTgyLTEwLTE1IDAwOjAwKS4gIEpTTnVtYmVycyBhcmVuJ3QgcHJlY2lzZSBlbm91Z2ggZm9yIHRoaXMsIHNvXG4gIC8vIHRpbWUgaXMgaGFuZGxlZCBpbnRlcm5hbGx5IGFzICdtc2VjcycgKGludGVnZXIgbWlsbGlzZWNvbmRzKSBhbmQgJ25zZWNzJ1xuICAvLyAoMTAwLW5hbm9zZWNvbmRzIG9mZnNldCBmcm9tIG1zZWNzKSBzaW5jZSB1bml4IGVwb2NoLCAxOTcwLTAxLTAxIDAwOjAwLlxuICB2YXIgbXNlY3MgPSBvcHRpb25zLm1zZWNzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm1zZWNzIDogbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cbiAgLy8gUGVyIDQuMi4xLjIsIHVzZSBjb3VudCBvZiB1dWlkJ3MgZ2VuZXJhdGVkIGR1cmluZyB0aGUgY3VycmVudCBjbG9ja1xuICAvLyBjeWNsZSB0byBzaW11bGF0ZSBoaWdoZXIgcmVzb2x1dGlvbiBjbG9ja1xuICB2YXIgbnNlY3MgPSBvcHRpb25zLm5zZWNzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm5zZWNzIDogX2xhc3ROU2VjcyArIDE7XG5cbiAgLy8gVGltZSBzaW5jZSBsYXN0IHV1aWQgY3JlYXRpb24gKGluIG1zZWNzKVxuICB2YXIgZHQgPSAobXNlY3MgLSBfbGFzdE1TZWNzKSArIChuc2VjcyAtIF9sYXN0TlNlY3MpLzEwMDAwO1xuXG4gIC8vIFBlciA0LjIuMS4yLCBCdW1wIGNsb2Nrc2VxIG9uIGNsb2NrIHJlZ3Jlc3Npb25cbiAgaWYgKGR0IDwgMCAmJiBvcHRpb25zLmNsb2Nrc2VxID09PSB1bmRlZmluZWQpIHtcbiAgICBjbG9ja3NlcSA9IGNsb2Nrc2VxICsgMSAmIDB4M2ZmZjtcbiAgfVxuXG4gIC8vIFJlc2V0IG5zZWNzIGlmIGNsb2NrIHJlZ3Jlc3NlcyAobmV3IGNsb2Nrc2VxKSBvciB3ZSd2ZSBtb3ZlZCBvbnRvIGEgbmV3XG4gIC8vIHRpbWUgaW50ZXJ2YWxcbiAgaWYgKChkdCA8IDAgfHwgbXNlY3MgPiBfbGFzdE1TZWNzKSAmJiBvcHRpb25zLm5zZWNzID09PSB1bmRlZmluZWQpIHtcbiAgICBuc2VjcyA9IDA7XG4gIH1cblxuICAvLyBQZXIgNC4yLjEuMiBUaHJvdyBlcnJvciBpZiB0b28gbWFueSB1dWlkcyBhcmUgcmVxdWVzdGVkXG4gIGlmIChuc2VjcyA+PSAxMDAwMCkge1xuICAgIHRocm93IG5ldyBFcnJvcigndXVpZC52MSgpOiBDYW5cXCd0IGNyZWF0ZSBtb3JlIHRoYW4gMTBNIHV1aWRzL3NlYycpO1xuICB9XG5cbiAgX2xhc3RNU2VjcyA9IG1zZWNzO1xuICBfbGFzdE5TZWNzID0gbnNlY3M7XG4gIF9jbG9ja3NlcSA9IGNsb2Nrc2VxO1xuXG4gIC8vIFBlciA0LjEuNCAtIENvbnZlcnQgZnJvbSB1bml4IGVwb2NoIHRvIEdyZWdvcmlhbiBlcG9jaFxuICBtc2VjcyArPSAxMjIxOTI5MjgwMDAwMDtcblxuICAvLyBgdGltZV9sb3dgXG4gIHZhciB0bCA9ICgobXNlY3MgJiAweGZmZmZmZmYpICogMTAwMDAgKyBuc2VjcykgJSAweDEwMDAwMDAwMDtcbiAgYltpKytdID0gdGwgPj4+IDI0ICYgMHhmZjtcbiAgYltpKytdID0gdGwgPj4+IDE2ICYgMHhmZjtcbiAgYltpKytdID0gdGwgPj4+IDggJiAweGZmO1xuICBiW2krK10gPSB0bCAmIDB4ZmY7XG5cbiAgLy8gYHRpbWVfbWlkYFxuICB2YXIgdG1oID0gKG1zZWNzIC8gMHgxMDAwMDAwMDAgKiAxMDAwMCkgJiAweGZmZmZmZmY7XG4gIGJbaSsrXSA9IHRtaCA+Pj4gOCAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRtaCAmIDB4ZmY7XG5cbiAgLy8gYHRpbWVfaGlnaF9hbmRfdmVyc2lvbmBcbiAgYltpKytdID0gdG1oID4+PiAyNCAmIDB4ZiB8IDB4MTA7IC8vIGluY2x1ZGUgdmVyc2lvblxuICBiW2krK10gPSB0bWggPj4+IDE2ICYgMHhmZjtcblxuICAvLyBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGAgKFBlciA0LjIuMiAtIGluY2x1ZGUgdmFyaWFudClcbiAgYltpKytdID0gY2xvY2tzZXEgPj4+IDggfCAweDgwO1xuXG4gIC8vIGBjbG9ja19zZXFfbG93YFxuICBiW2krK10gPSBjbG9ja3NlcSAmIDB4ZmY7XG5cbiAgLy8gYG5vZGVgXG4gIGZvciAodmFyIG4gPSAwOyBuIDwgNjsgKytuKSB7XG4gICAgYltpICsgbl0gPSBub2RlW25dO1xuICB9XG5cbiAgcmV0dXJuIGJ1ZiA/IGJ1ZiA6IGJ5dGVzVG9VdWlkKGIpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHYxO1xuIiwidmFyIHJuZyA9IHJlcXVpcmUoJy4vbGliL3JuZycpO1xudmFyIGJ5dGVzVG9VdWlkID0gcmVxdWlyZSgnLi9saWIvYnl0ZXNUb1V1aWQnKTtcblxuZnVuY3Rpb24gdjQob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgdmFyIGkgPSBidWYgJiYgb2Zmc2V0IHx8IDA7XG5cbiAgaWYgKHR5cGVvZihvcHRpb25zKSA9PSAnc3RyaW5nJykge1xuICAgIGJ1ZiA9IG9wdGlvbnMgPT09ICdiaW5hcnknID8gbmV3IEFycmF5KDE2KSA6IG51bGw7XG4gICAgb3B0aW9ucyA9IG51bGw7XG4gIH1cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgdmFyIHJuZHMgPSBvcHRpb25zLnJhbmRvbSB8fCAob3B0aW9ucy5ybmcgfHwgcm5nKSgpO1xuXG4gIC8vIFBlciA0LjQsIHNldCBiaXRzIGZvciB2ZXJzaW9uIGFuZCBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGBcbiAgcm5kc1s2XSA9IChybmRzWzZdICYgMHgwZikgfCAweDQwO1xuICBybmRzWzhdID0gKHJuZHNbOF0gJiAweDNmKSB8IDB4ODA7XG5cbiAgLy8gQ29weSBieXRlcyB0byBidWZmZXIsIGlmIHByb3ZpZGVkXG4gIGlmIChidWYpIHtcbiAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgMTY7ICsraWkpIHtcbiAgICAgIGJ1ZltpICsgaWldID0gcm5kc1tpaV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGJ1ZiB8fCBieXRlc1RvVXVpZChybmRzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB2NDtcbiIsImV4cG9ydCBtb2R1bGUgSGVscGVycyB7XHJcbiAgICAvKipcclxuICAgICAqIGdldCB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIGluIGFuIGVudW0uXHJcbiAgICAgKiA8cD5cclxuICAgICAqIGV4OiA8aT5lbnVtIEZvbyB7IGJhciA9IDAsIGJheiA9IDEsIGJveiA9IDIgfTwvaT48YnIgLz5cclxuICAgICAqIHJldHVybnM6IDxiPjM8L2I+XHJcbiAgICAgKiA8L3A+XHJcbiAgICAgKiBAcGFyYW0gZW51bVR5cGUgdGhlIHR5cGUgbmFtZSBvZiBhbiBlbnVtXHJcbiAgICAgKiBAcmV0dXJucyB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIGluIHRoZSBlbnVtXHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBlbnVtTGVuZ3RoKGVudW1UeXBlOiBhbnkpOiBudW1iZXIge1xyXG4gICAgICAgIGxldCBjb3VudCA9IDA7XHJcbiAgICAgICAgZm9yKGxldCBpdGVtIGluIGVudW1UeXBlKSB7XHJcbiAgICAgICAgICAgIGlmKGlzTmFOKE51bWJlcihpdGVtKSkpIHtcclxuICAgICAgICAgICAgICAgIGNvdW50Kys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNvdW50O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgdGltZSBpbiBtaWxsaXNlY29uZHMgc2luY2UgdGhlIGVwb2NoXHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBub3coKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBIYXNMb2NhdGlvbiB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2hhcy1sb2NhdGlvblwiO1xyXG5pbXBvcnQgeyBNb3VzZVdoZWVsU2Nyb2xsIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvbW91c2Utd2hlZWwtc2Nyb2xsXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTW91c2UgaW1wbGVtZW50cyBIYXNMb2NhdGlvbiB7XHJcbiAgICBwcml2YXRlIHNjZW5lOiBQaGFzZXIuU2NlbmU7XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lOiBQaGFzZXIuU2NlbmUpIHtcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5pbnB1dC5tb3VzZS5jYXB0dXJlID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRBbmdsZSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNjZW5lLmlucHV0LmFjdGl2ZVBvaW50ZXIuZ2V0QW5nbGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRSb3RhdGlvbigpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldEFuZ2xlKCkgKiAoTWF0aC5QSSAvIDE4MCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0SGVhZGluZygpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICBsZXQgcm90YXRpb246IG51bWJlciA9IHRoaXMuZ2V0QW5nbGUoKTtcclxuICAgICAgICBsZXQgeDogbnVtYmVyID0gTWF0aC5jb3Mocm90YXRpb24pO1xyXG4gICAgICAgIGxldCB5OiBudW1iZXIgPSBNYXRoLnNpbihyb3RhdGlvbik7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKHgsIHkpLm5vcm1hbGl6ZSgpLm5lZ2F0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFZlbG9jaXR5KCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NlbmUuaW5wdXQuYWN0aXZlUG9pbnRlci52ZWxvY2l0eS5sZW5ndGgoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgdGhlIHBvc2l0aW9uIG9mIHRoZSBtb3VzZSB3aXRoaW4gdGhlIGJvdW5kcyBvZiB0aGUgY3VycmVudFxyXG4gICAgICogc2NyZWVuLlxyXG4gICAgICogQHJldHVybnMgYSB7UGhhc2VyLk1hdGguVmVjdG9yMn0gY2xvbmUgb2YgdGhlIHBvc2l0aW9uXHJcbiAgICAgKi9cclxuICAgIGdldExvY2F0aW9uKCk6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGBtb3VzZSBsb2NhdGlvbjogJHtKU09OLnN0cmluZ2lmeSh0aGlzLmxvY2F0aW9uKX1gKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5zY2VuZS5pbnB1dC5hY3RpdmVQb2ludGVyLnBvc2l0aW9uLmNsb25lKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBvZmZzZXRzIHRoZSBzY3JlZW4gcG9zaXRpb24gYmFzZWQgb24gY2FtZXJhIHBvc2l0aW9uXHJcbiAgICAgKi9cclxuICAgIGdldFJlYWxMb2NhdGlvbigpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhgbW91c2UgUkVBTCBsb2NhdGlvbjogJHtKU09OLnN0cmluZ2lmeSh3b3JsZCl9YCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NlbmUuaW5wdXQuYWN0aXZlUG9pbnRlci5wb3NpdGlvblRvQ2FtZXJhKHRoaXMuc2NlbmUuY2FtZXJhcy5tYWluKSBhcyBQaGFzZXIuTWF0aC5WZWN0b3IyO1xyXG4gICAgfVxyXG5cclxuICAgIG9uV2hlZWxVcDxUIGV4dGVuZHMgTW91c2VXaGVlbFNjcm9sbD4oZnVuYzogVCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc2NlbmUuaW5wdXQub24oUGhhc2VyLklucHV0LkV2ZW50cy5QT0lOVEVSX1dIRUVMLCAocG9pbnRlciwgY3VycmVudGx5T3ZlciwgZHgsIGR5LCBkeiwgZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGR5ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgZnVuYyhkeSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBvbldoZWVsRG93bjxUIGV4dGVuZHMgTW91c2VXaGVlbFNjcm9sbD4oZnVuYzogVCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc2NlbmUuaW5wdXQub24oUGhhc2VyLklucHV0LkV2ZW50cy5QT0lOVEVSX1dIRUVMLCAocG9pbnRlciwgY3VycmVudGx5T3ZlciwgZHgsIGR5LCBkeiwgZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGR5IDwgMCkge1xyXG4gICAgICAgICAgICAgICAgZnVuYygtZHkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBTaGlwQXR0YWNobWVudCB9IGZyb20gXCIuLi9zaGlwLWF0dGFjaG1lbnRcIjtcclxuaW1wb3J0IHsgQ2FuU2hvb3QgfSBmcm9tIFwiLi4vLi4vLi4vaW50ZXJmYWNlcy9jYW4tc2hvb3RcIjtcclxuaW1wb3J0IHsgR2xvYmFscyB9IGZyb20gXCIuLi8uLi8uLi91dGlsaXRpZXMvZ2xvYmFsc1wiO1xyXG5pbXBvcnQgeyBCdWxsZXQgfSBmcm9tIFwiLi9idWxsZXRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDYW5ub25BdHRhY2htZW50IGV4dGVuZHMgU2hpcEF0dGFjaG1lbnQgaW1wbGVtZW50cyBDYW5TaG9vdCB7XHJcbiAgICBwcml2YXRlIG1heEFtbW86IG51bWJlcjtcclxuICAgIHByaXZhdGUgcmVtYWluaW5nQW1tbzogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBjb29sZG93blRpbWU6IG51bWJlcjtcclxuICAgIHByaXZhdGUgZmlyaW5nRGVsYXk6IG51bWJlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZTogUGhhc2VyLlNjZW5lKSB7XHJcbiAgICAgICAgc3VwZXIoc2NlbmUpO1xyXG5cclxuICAgICAgICB0aGlzLm1heEFtbW8gPSA1MDA7XHJcbiAgICAgICAgdGhpcy5yZW1haW5pbmdBbW1vID0gdGhpcy5tYXhBbW1vO1xyXG4gICAgICAgIHRoaXMuY29vbGRvd25UaW1lID0gMDtcclxuICAgICAgICB0aGlzLmZpcmluZ0RlbGF5ID0gMTAwMDsgLy8gbWlsbGlzZWNvbmRzXHJcblxyXG4gICAgICAgIHRoaXMuZ2FtZU9iaiA9IHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKDAsIDAsICdjYW5ub24nKTtcclxuICAgIH1cclxuXHJcbiAgICByZWxvYWQoYW1vdW50OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnJlbWFpbmluZ0FtbW8gKz0gYW1vdW50O1xyXG4gICAgICAgIGlmICh0aGlzLnJlbWFpbmluZ0FtbW8gPiB0aGlzLm1heEFtbW8pIHtcclxuICAgICAgICAgICAgdGhpcy5yZW1haW5pbmdBbW1vID0gdGhpcy5tYXhBbW1vO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRSZW1haW5pbmdBbW1vKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVtYWluaW5nQW1tbztcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgdHJpZ2dlcigpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIUdsb2JhbHMucGF1c2VkICYmIHRoaXMuYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZmlyZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmaXJlKGRpcmVjdGlvbj86IFBoYXNlci5NYXRoLlZlY3RvcjIpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIUdsb2JhbHMucGF1c2VkICYmIHRoaXMuYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdldFJlbWFpbmluZ0FtbW8oKSA+IDApIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNjZW5lLmdhbWUuZ2V0VGltZSgpID4gdGhpcy5jb29sZG93blRpbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbG9jOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5nZXRSZWFsTG9jYXRpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICBuZXcgQnVsbGV0KHRoaXMuc2NlbmUsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeDogbG9jLngsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHk6IGxvYy55LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JjZTogMzAwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYW5nbGU6IHRoaXMuZ2V0QW5nbGUoKVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29vbGRvd25UaW1lID0gdGhpcy5zY2VuZS5nYW1lLmdldFRpbWUoKSArIHRoaXMuZmlyaW5nRGVsYXk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBTaGlwUG9kIH0gZnJvbSBcIi4uL3NoaXAtcG9kXCI7XHJcbmltcG9ydCB7IEhhc0dhbWVPYmplY3QgfSBmcm9tIFwiLi4vLi4vaW50ZXJmYWNlcy9oYXMtZ2FtZS1vYmplY3RcIjtcclxuaW1wb3J0IHsgVXBkYXRhYmxlIH0gZnJvbSBcIi4uLy4uL2ludGVyZmFjZXMvdXBkYXRhYmxlXCI7XHJcbmltcG9ydCB7IEhhc0xvY2F0aW9uIH0gZnJvbSBcIi4uLy4uL2ludGVyZmFjZXMvaGFzLWxvY2F0aW9uXCI7XHJcbmltcG9ydCB7IEhhc0ludGVncml0eSB9IGZyb20gXCIuLi8uLi9pbnRlcmZhY2VzL2hhcy1pbnRlZ3JpdHlcIjtcclxuaW1wb3J0IHsgQ29uc3RhbnRzIH0gZnJvbSBcIi4uLy4uL3V0aWxpdGllcy9jb25zdGFudHNcIjtcclxuaW1wb3J0IHsgQXR0YWNobWVudExvY2F0aW9uIH0gZnJvbSBcIi4vYXR0YWNobWVudC1sb2NhdGlvblwiO1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFNoaXBBdHRhY2htZW50IGltcGxlbWVudHMgVXBkYXRhYmxlLCBIYXNHYW1lT2JqZWN0LCBIYXNMb2NhdGlvbiwgSGFzSW50ZWdyaXR5IHtcclxuICAgIHByb3RlY3RlZCBzaGlwOiBTaGlwUG9kO1xyXG4gICAgcHJvdGVjdGVkIHNjZW5lOiBQaGFzZXIuU2NlbmU7XHJcbiAgICBwcm90ZWN0ZWQgZ2FtZU9iajogUGhhc2VyLlBoeXNpY3MuQXJjYWRlLlNwcml0ZTtcclxuICAgIHByb3RlY3RlZCBpbnRlZ3JpdHk6IG51bWJlcjtcclxuICAgIHByb3RlY3RlZCBhdHRhY2htZW50TG9jYXRpb246IEF0dGFjaG1lbnRMb2NhdGlvbjtcclxuXHJcbiAgICBhY3RpdmU6IGJvb2xlYW47XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lOiBQaGFzZXIuU2NlbmUpIHtcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuaW50ZWdyaXR5ID0gQ29uc3RhbnRzLk1BWF9JTlRFR1JJVFk7XHJcbiAgICB9XHJcblxyXG4gICAgYXR0YWNoKHNoaXA6IFNoaXBQb2QsIGxvY2F0aW9uPzogQXR0YWNobWVudExvY2F0aW9uKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCFsb2NhdGlvbikge1xyXG4gICAgICAgICAgICBsb2NhdGlvbiA9IEF0dGFjaG1lbnRMb2NhdGlvbi5mcm9udDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zaGlwID0gc2hpcDtcclxuICAgICAgICB0aGlzLnNldEF0dGFjaG1lbnRMb2NhdGlvbihsb2NhdGlvbik7XHJcbiAgICAgICAgbGV0IGNlbnRyZTogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuc2hpcC5nZXRSZWFsTG9jYXRpb24oKTtcclxuICAgICAgICB0aGlzLmdhbWVPYmouc2V0UG9zaXRpb24oY2VudHJlLngsIGNlbnRyZS55KTsgLy8gY2VudHJlIG9uIHNoaXAgbG9jYXRpb25cclxuICAgICAgICB0aGlzLmdhbWVPYmouc2V0Um90YXRpb24odGhpcy5zaGlwLmdldEFuZ2xlKCkpOyAvLyBzZXQgaGVhZGluZyB0byBtYXRjaCBzaGlwXHJcbiAgICAgICAgbGV0IGhlYWRpbmc6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSB0aGlzLmdldEhlYWRpbmcoKTtcclxuICAgICAgICBoZWFkaW5nLm11bHRpcGx5KG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKDAsIDApKTtcclxuICAgICAgICBsZXQgbG9jOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5nZXRSZWFsTG9jYXRpb24oKTtcclxuICAgICAgICBsb2MuYWRkKGhlYWRpbmcpO1xyXG4gICAgICAgIHRoaXMuZ2FtZU9iai5zZXRQb3NpdGlvbihsb2MueCwgbG9jLnkpO1xyXG4gICAgfVxyXG5cclxuICAgIGRldGFjaCgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnNoaXAgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuYXR0YWNobWVudExvY2F0aW9uID0gbnVsbDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgZ2V0R2FtZU9iamVjdCgpOiBQaGFzZXIuR2FtZU9iamVjdHMuR2FtZU9iamVjdCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZU9iajtcclxuICAgIH1cclxuXHJcbiAgICBhYnN0cmFjdCB1cGRhdGUoKTogdm9pZDtcclxuXHJcbiAgICBhYnN0cmFjdCB0cmlnZ2VyKCk6IHZvaWQ7XHJcblxyXG4gICAgZ2V0QW5nbGUoKTogbnVtYmVyIHtcclxuICAgICAgICBsZXQgYW5nbGU6IG51bWJlciA9IHRoaXMuZ2FtZU9iai5hbmdsZTtcclxuICAgICAgICBpZiAodGhpcy5zaGlwKSB7XHJcbiAgICAgICAgICAgIGFuZ2xlICs9IHRoaXMuc2hpcC5nZXRBbmdsZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYW5nbGU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Um90YXRpb24oKTogbnVtYmVyIHtcclxuICAgICAgICBsZXQgcm90YXRpb246IG51bWJlciA9IHRoaXMuZ2FtZU9iai5yb3RhdGlvbjtcclxuICAgICAgICBpZiAodGhpcy5zaGlwKSB7XHJcbiAgICAgICAgICAgIHJvdGF0aW9uICs9IHRoaXMuc2hpcC5nZXRSb3RhdGlvbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcm90YXRpb247XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiByZXR1cm5zIGEgbm9ybWFsaXNlZCB7UGhhc2VyLk1hdGguVmVjdG9yMn0gcmVwcmVzZW50aW5nIFxyXG4gICAgICogdGhlIGRpcmVjdGlvbiB0aGlzIG9iamVjdCB3b3VsZCB0cmF2ZWxcclxuICAgICAqL1xyXG4gICAgZ2V0SGVhZGluZygpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICBsZXQgeDogbnVtYmVyID0gTWF0aC5jb3ModGhpcy5nZXRSb3RhdGlvbigpKTtcclxuICAgICAgICBsZXQgeTogbnVtYmVyID0gTWF0aC5zaW4odGhpcy5nZXRSb3RhdGlvbigpKTtcclxuICAgICAgICByZXR1cm4gbmV3IFBoYXNlci5NYXRoLlZlY3RvcjIoeCwgeSkubm9ybWFsaXplKCkubmVnYXRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VmVsb2NpdHkoKTogbnVtYmVyIHtcclxuICAgICAgICBsZXQgdmVsb2NpdHk6IG51bWJlciA9IHRoaXMuZ2FtZU9iai5ib2R5LnZlbG9jaXR5Lmxlbmd0aCgpO1xyXG4gICAgICAgIGlmICh0aGlzLnNoaXApIHtcclxuICAgICAgICAgICAgdmVsb2NpdHkgKz0gdGhpcy5zaGlwLmdldFZlbG9jaXR5KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB2ZWxvY2l0eTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRMb2NhdGlvbigpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICBsZXQgY2FtZXJhUG9zOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5zY2VuZS5jYW1lcmFzLm1haW4uZ2V0V29ybGRQb2ludCgwLCAwKTtcclxuICAgICAgICBsZXQgcmVhbExvYzogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuZ2V0UmVhbExvY2F0aW9uKCk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKHJlYWxMb2MueCAtIGNhbWVyYVBvcy54LCByZWFsTG9jLnkgLSBjYW1lcmFQb3MueSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UmVhbExvY2F0aW9uKCk6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIGxldCByZWFsTG9jYXRpb246IFBoYXNlci5NYXRoLlZlY3RvcjIgPSBuZXcgUGhhc2VyLk1hdGguVmVjdG9yMih0aGlzLmdhbWVPYmoueCwgdGhpcy5nYW1lT2JqLnkpO1xyXG4gICAgICAgIGlmICh0aGlzLnNoaXApIHtcclxuICAgICAgICAgICAgcmVhbExvY2F0aW9uLmFkZCh0aGlzLnNoaXAuZ2V0UmVhbExvY2F0aW9uKCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVhbExvY2F0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEludGVncml0eSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmludGVncml0eTtcclxuICAgIH1cclxuXHJcbiAgICBzdXN0YWluRGFtYWdlKGFtb3VudDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5pbnRlZ3JpdHkgLT0gYW1vdW50O1xyXG4gICAgICAgIGlmICh0aGlzLmludGVncml0eSA8PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW50ZWdyaXR5ID0gMDtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgLy8gVE9ETzogZGVzdHJveSBhdHRhY2htZW50XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlcGFpcihhbW91bnQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuaW50ZWdyaXR5ID0gYW1vdW50O1xyXG4gICAgICAgIGlmICh0aGlzLmludGVncml0eSA+IENvbnN0YW50cy5NQVhfSU5URUdSSVRZKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW50ZWdyaXR5ID0gQ29uc3RhbnRzLk1BWF9JTlRFR1JJVFk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRlc3Ryb3koKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnNoaXAucmVtb3ZlQXR0YWNobWVudCh0aGlzLmF0dGFjaG1lbnRMb2NhdGlvbik7XHJcbiAgICAgICAgLy8gVE9ETzogZGVzdHJveSBhdHRhY2htZW50XHJcbiAgICB9XHJcblxyXG4gICAgc2V0QXR0YWNobWVudExvY2F0aW9uKGxvYzogQXR0YWNobWVudExvY2F0aW9uKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5hdHRhY2htZW50TG9jYXRpb24gPSBsb2M7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBIYXNHYW1lT2JqZWN0IH0gZnJvbSBcIi4uLy4uLy4uL2ludGVyZmFjZXMvaGFzLWdhbWUtb2JqZWN0XCI7XHJcbmltcG9ydCB7IEJ1bGxldFBhcmFtZXRlcnMgfSBmcm9tIFwiLi4vLi4vLi4vaW50ZXJmYWNlcy9idWxsZXQtcGFyYW1ldGVyc1wiO1xyXG5pbXBvcnQgeyBIYXNMb2NhdGlvbiB9IGZyb20gXCIuLi8uLi8uLi9pbnRlcmZhY2VzL2hhcy1sb2NhdGlvblwiO1xyXG5pbXBvcnQgeyBHbG9iYWxzIH0gZnJvbSBcIi4uLy4uLy4uL3V0aWxpdGllcy9nbG9iYWxzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQnVsbGV0IGltcGxlbWVudHMgSGFzR2FtZU9iamVjdCwgSGFzTG9jYXRpb24ge1xyXG4gICAgc2NlbmU6IFBoYXNlci5TY2VuZTtcclxuICAgIGZvcmNlOiBudW1iZXI7XHJcbiAgICBnYW1lT2JqOiBQaGFzZXIuUGh5c2ljcy5BcmNhZGUuU3ByaXRlO1xyXG4gICAgYWN0aXZlOiBib29sZWFuO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lOiBQaGFzZXIuU2NlbmUsIHBhcmFtczogQnVsbGV0UGFyYW1ldGVycykge1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLmZvcmNlID0gcGFyYW1zLmZvcmNlIHx8IDA7XHJcbiAgICAgICAgdGhpcy5nYW1lT2JqID0gc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHBhcmFtcy54IHx8IDAsIHBhcmFtcy55IHx8IDAsICdidWxsZXQnKTtcclxuICAgICAgICB0aGlzLmdhbWVPYmouc2V0QW5nbGUocGFyYW1zLmFuZ2xlIHx8IDApO1xyXG4gICAgICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmFkZENvbGxpc2lvbkRldGVjdGlvbigpO1xyXG4gICAgICAgIHRoaXMuc2V0SW5Nb3Rpb24oKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFkZENvbGxpc2lvbkRldGVjdGlvbigpOiB2b2lkIHtcclxuICAgICAgICBmb3IgKHZhciBpPTA7IGk8R2xvYmFscy5pbnRlcmFjdGFibGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5nYW1lT2JqLCBHbG9iYWxzLmludGVyYWN0YWJsZXNbaV0sIHRoaXMub25JbXBhY3QpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG9uSW1wYWN0KGJ1bGxldDogUGhhc2VyLkdhbWVPYmplY3RzLkdhbWVPYmplY3QsIHRhcmdldDogUGhhc2VyLkdhbWVPYmplY3RzLkdhbWVPYmplY3QpOiB2b2lkIHtcclxuICAgICAgICAvLyBUT0RPOiBpbXBhcnQgZGFtYWdlIHRvIHRhcmdldCBhbmQgZGVzdHJveSBidWxsZXRcclxuICAgIH1cclxuXHJcbiAgICBnZXRHYW1lT2JqZWN0KCk6IFBoYXNlci5HYW1lT2JqZWN0cy5HYW1lT2JqZWN0IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nYW1lT2JqO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEFuZ2xlKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZU9iai5hbmdsZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRSb3RhdGlvbigpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdhbWVPYmoucm90YXRpb247XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0SGVhZGluZygpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICBsZXQgeDogbnVtYmVyID0gTWF0aC5jb3ModGhpcy5nYW1lT2JqLnJvdGF0aW9uKTtcclxuICAgICAgICBsZXQgeTogbnVtYmVyID0gTWF0aC5zaW4odGhpcy5nYW1lT2JqLnJvdGF0aW9uKTtcclxuICAgICAgICByZXR1cm4gbmV3IFBoYXNlci5NYXRoLlZlY3RvcjIoeCwgeSkubm9ybWFsaXplKCkubmVnYXRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VmVsb2NpdHkoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nYW1lT2JqLmJvZHkudmVsb2NpdHkubGVuZ3RoKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0TG9jYXRpb24oKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgbGV0IGNhbWVyYVBvczogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuc2NlbmUuY2FtZXJhcy5tYWluLmdldFdvcmxkUG9pbnQoMCwgMCk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKHRoaXMuZ2FtZU9iai54IC0gY2FtZXJhUG9zLngsIHRoaXMuZ2FtZU9iai55IC0gY2FtZXJhUG9zLnkpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFJlYWxMb2NhdGlvbigpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICByZXR1cm4gbmV3IFBoYXNlci5NYXRoLlZlY3RvcjIodGhpcy5nYW1lT2JqLngsIHRoaXMuZ2FtZU9iai55KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldEluTW90aW9uKCk6IHZvaWQge1xyXG4gICAgICAgIGxldCBoZWFkaW5nOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5nZXRIZWFkaW5nKCk7XHJcbiAgICAgICAgbGV0IGRlbHRhVjogUGhhc2VyLk1hdGguVmVjdG9yMiA9IGhlYWRpbmcubXVsdGlwbHkobmV3IFBoYXNlci5NYXRoLlZlY3RvcjIodGhpcy5mb3JjZSwgdGhpcy5mb3JjZSkpO1xyXG4gICAgICAgIHRoaXMuZ2FtZU9iai5ib2R5LnZlbG9jaXR5LmFkZChkZWx0YVYpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgR2xvYmFscyB9IGZyb20gXCIuLi91dGlsaXRpZXMvZ2xvYmFsc1wiO1xyXG5pbXBvcnQgeyBTaGlwUG9kIH0gZnJvbSBcIi4uL3NoaXBzL3NoaXAtcG9kXCI7XHJcblxyXG5jb25zdCBzY2VuZUNvbmZpZzogUGhhc2VyLlR5cGVzLlNjZW5lcy5TZXR0aW5nc0NvbmZpZyA9IHtcclxuICAgIGFjdGl2ZTogdHJ1ZSxcclxuICAgIHZpc2libGU6IHRydWUsXHJcbiAgICBrZXk6ICdPdmVybGF5U2NlbmUnXHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgT3ZlcmxheVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIHByaXZhdGUgZGVidWc6IFBoYXNlci5HYW1lT2JqZWN0cy5UZXh0O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKHNjZW5lQ29uZmlnKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcHJlbG9hZCgpOiB2b2lkIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNyZWF0ZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmRlYnVnID0gdGhpcy5hZGQudGV4dCgxMCwgMTAsICcnLCB7IGZvbnQ6ICcxNnB4IENvdXJpZXInLCBmaWxsOiAnI2ZmZGRkZCcgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZSgpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIUdsb2JhbHMucGF1c2VkKSB7XHJcbiAgICAgICAgICAgIGlmIChHbG9iYWxzLnBsYXllcikge1xyXG4gICAgICAgICAgICAgICAgbGV0IHA6IFNoaXBQb2QgPSBHbG9iYWxzLnBsYXllcjtcclxuICAgICAgICAgICAgICAgIGxldCBsb2M6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSBwLmdldFJlYWxMb2NhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZWJ1Zy5zZXRUZXh0KFtcclxuICAgICAgICAgICAgICAgICAgICBgVmVsb2NpdHk6ICR7cC5nZXRWZWxvY2l0eSgpLnRvRml4ZWQoMSl9YCxcclxuICAgICAgICAgICAgICAgICAgICBgSW50ZWdyaXR5OiAke3AuZ2V0SW50ZWdyaXR5KCkudG9GaXhlZCgxKX1gLFxyXG4gICAgICAgICAgICAgICAgICAgIGBIZWF0OiAke3AuZ2V0VGVtcGVyYXR1cmUoKS50b0ZpeGVkKDEpfWAsXHJcbiAgICAgICAgICAgICAgICAgICAgYEZ1ZWw6ICR7cC5nZXRSZW1haW5pbmdGdWVsKCkudG9GaXhlZCgxKX1gLFxyXG4gICAgICAgICAgICAgICAgICAgIGBMb2NhdGlvbjogJHtsb2MueC50b0ZpeGVkKDEpfSwke2xvYy55LnRvRml4ZWQoMSl9YCxcclxuICAgICAgICAgICAgICAgICAgICBgQW5nbGU6ICR7cC5nZXRBbmdsZSgpLnRvRml4ZWQoMSl9YFxyXG4gICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBHbG9iYWxzIH0gZnJvbSBcIi4uL3V0aWxpdGllcy9nbG9iYWxzXCI7XHJcblxyXG5jb25zdCBzY2VuZUNvbmZpZzogUGhhc2VyLlR5cGVzLlNjZW5lcy5TZXR0aW5nc0NvbmZpZyA9IHtcclxuICAgIGFjdGl2ZTogdHJ1ZSxcclxuICAgIHZpc2libGU6IHRydWUsXHJcbiAgICBrZXk6ICdGYXJ0aGVzdFN0YXJzJ1xyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIEZhcnRoZXN0U3RhcnNTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBwcml2YXRlIGJhY2tncm91bmQ6IFBoYXNlci5HYW1lT2JqZWN0cy5UaWxlU3ByaXRlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKHNjZW5lQ29uZmlnKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcHJlbG9hZCgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2Zhci1zdGFycycsICcuL2Fzc2V0cy9iYWNrZ3JvdW5kcy9zdGFyZmllbGQucG5nJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNyZWF0ZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmJhY2tncm91bmQgPSB0aGlzLmFkZC50aWxlU3ByaXRlKDAsIDAsIHRoaXMuY2FtZXJhcy5tYWluLndpZHRoICogMTAsIHRoaXMuY2FtZXJhcy5tYWluLmhlaWdodCAqIDEwLCAnZmFyLXN0YXJzJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZSgpOiB2b2lkIHtcclxuICAgICAgICBpZiAoR2xvYmFscy5wbGF5ZXIpIHtcclxuICAgICAgICAgICAgbGV0IGxvYzogUGhhc2VyLk1hdGguVmVjdG9yMiA9IEdsb2JhbHMucGxheWVyLmdldFJlYWxMb2NhdGlvbigpO1xyXG4gICAgICAgICAgICBsb2MuZGl2aWRlKG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKDEwMDAsIDEwMDApKTtcclxuICAgICAgICAgICAgbG9jLm5lZ2F0ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRQb3NpdGlvbihsb2MueCwgbG9jLnkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IEdsb2JhbHMgfSBmcm9tIFwiLi4vdXRpbGl0aWVzL2dsb2JhbHNcIjtcclxuXHJcbmNvbnN0IHNjZW5lQ29uZmlnOiBQaGFzZXIuVHlwZXMuU2NlbmVzLlNldHRpbmdzQ29uZmlnID0ge1xyXG4gICAgYWN0aXZlOiB0cnVlLFxyXG4gICAgdmlzaWJsZTogdHJ1ZSxcclxuICAgIGtleTogJ05lYXJlc3RTdGFycydcclxufTtcclxuXHJcbmV4cG9ydCBjbGFzcyBOZWFyZXN0U3RhcnNTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBwcml2YXRlIGJhY2tncm91bmQ6IFBoYXNlci5HYW1lT2JqZWN0cy5UaWxlU3ByaXRlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKHNjZW5lQ29uZmlnKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcHJlbG9hZCgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ25lYXItc3RhcnMnLCAnLi9hc3NldHMvYmFja2dyb3VuZHMvc3RhcmZpZWxkLnBuZycpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjcmVhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kID0gdGhpcy5hZGQudGlsZVNwcml0ZSgwLCAwLCB0aGlzLmNhbWVyYXMubWFpbi53aWR0aCAqIDEwLCB0aGlzLmNhbWVyYXMubWFpbi5oZWlnaHQgKiAxMCwgJ25lYXItc3RhcnMnKTtcclxuICAgICAgICB0aGlzLmJhY2tncm91bmQuc2V0U2NhbGUoMik7XHJcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kLnNldEFuZ2xlKDkwKTtcclxuICAgICAgICB0aGlzLmJhY2tncm91bmQuc2V0QWxwaGEoMC4zKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIGlmIChHbG9iYWxzLnBsYXllcikge1xyXG4gICAgICAgICAgICBsZXQgbG9jOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gR2xvYmFscy5wbGF5ZXIuZ2V0UmVhbExvY2F0aW9uKCk7XHJcbiAgICAgICAgICAgIGxvYy5kaXZpZGUobmV3IFBoYXNlci5NYXRoLlZlY3RvcjIoNTAwLCA1MDApKTtcclxuICAgICAgICAgICAgbG9jLm5lZ2F0ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRQb3NpdGlvbihsb2MueCwgbG9jLnkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJzb3VyY2VSb290IjoiIn0=