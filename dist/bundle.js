!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("phaser")):"function"==typeof define&&define.amd?define(["phaser"],e):"object"==typeof exports?exports.bundle=e(require("phaser")):t.bundle=e(t.phaser)}(window,(function(t){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=10)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.enumLength=function(t){var e=0;for(var n in t)isNaN(Number(n))&&e++;return e},t.getHeading=function(t){var e=Math.cos(Phaser.Math.DegToRad(t)),n=Math.sin(Phaser.Math.DegToRad(t));return new Phaser.Math.Vector2(e,n).normalize().negate()},t.vector2=function(t,e){return e||(e=t),new Phaser.Math.Vector2(t,e)}}(e.Helpers||(e.Helpers={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.front=0]="front",t[t.frontRight=1]="frontRight",t[t.right=2]="right",t[t.backRight=3]="backRight",t[t.back=4]="back",t[t.backLeft=5]="backLeft",t[t.left=6]="left",t[t.frontLeft=7]="frontLeft"}(e.AttachmentLocation||(e.AttachmentLocation={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.interactables=[],t.debug=!1}(e.Globals||(e.Globals={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.MAX_INTEGRITY=100,t.MAX_FUEL=100,t.MAX_SAFE_TEMPERATURE=100,t.MAX_TEMPERATURE=200,t.MAX_VELOCITY=500,t.OVERHEAT_CHECK_INTERVAL=100,t.COOLING_RATE=.3,t.THRUSTER_FORCE=1,t.FUEL_PER_THRUST=.001,t.HEAT_PER_THRUST=.1,t.BOOSTER_FORCE=300,t.FUEL_PER_BOOST=1,t.HEAT_PER_BOOST=25,t.BOOSTER_COOLDOWN_TIME=1e3,t.THROW_FORCE=100,function(t){t[t.blue=0]="blue",t[t.green=1]="green",t[t.red=2]="red",t[t.white=3]="white",t[t.yellow=4]="yellow"}(t.Flare||(t.Flare={}))}(e.Constants||(e.Constants={}))},function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var i=new Uint8Array(16);t.exports=function(){return n(i),i}}else{var o=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}},function(t,e){for(var n=[],i=0;i<256;++i)n[i]=(i+256).toString(16).substr(1);t.exports=function(t,e){var i=e||0,o=n;return[o[t[i++]],o[t[i++]],o[t[i++]],o[t[i++]],"-",o[t[i++]],o[t[i++]],"-",o[t[i++]],o[t[i++]],"-",o[t[i++]],o[t[i++]],"-",o[t[i++]],o[t[i++]],o[t[i++]],o[t[i++]],o[t[i++]],o[t[i++]]].join("")}},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(3),s=function(t){function e(e){var n=t.call(this,e)||this;return n.lastBoostTime=0,n.scene=e,n.flareParticles=e.add.particles("flares"),n.gameObj=n.scene.add.sprite(0,0,"thruster"),n.scene.physics.add.existing(n.gameObj),n}return o(e,t),e.prototype.update=function(){},e.prototype.trigger=function(){this.active&&this.thrustFowards()},e.prototype.thrustFowards=function(){this.applyThrust(a.Constants.THRUSTER_FORCE,a.Constants.FUEL_PER_THRUST,a.Constants.HEAT_PER_THRUST),this.displayThrusterFire(a.Constants.Flare.yellow,.2,1)},e.prototype.boostForwards=function(){this.scene.game.getTime()>=this.lastBoostTime+a.Constants.BOOSTER_COOLDOWN_TIME&&(this.applyThrust(a.Constants.BOOSTER_FORCE,a.Constants.FUEL_PER_BOOST,a.Constants.HEAT_PER_BOOST),this.displayThrusterFire(a.Constants.Flare.blue,1,10),this.lastBoostTime=this.scene.game.getTime())},e.prototype.strafeLeft=function(){},e.prototype.strafeRight=function(){},e.prototype.thrustBackwards=function(){},e.prototype.applyThrust=function(t,e,n){if(this.ship.getRemainingFuel()>0){var i=this.ship.getHeading().multiply(new Phaser.Math.Vector2(t,t));this.ship.getPhysicsBody().velocity.add(i),this.ship.reduceFuel(e),this.ship.applyHeating(n)}},e.prototype.displayThrusterFire=function(t,e,n){var i=this.ship.getRealLocation(),o=new Phaser.Math.Vector2(20,0).add(i),a=this.ship.getHeading().negate(),s=Phaser.Math.RotateAround(o,i.x,i.y,Phaser.Math.DegToRad(this.ship.getRotation())),r=this.ship.getVelocity();this.flareParticles.createEmitter({frame:t,x:s.x,y:s.y,lifespan:{min:250,max:500},speedX:{min:100*a.x+r.x,max:500*a.x+r.x},speedY:{min:100*a.y+r.y,max:500*a.y+r.y},angle:0,gravityX:0,gravityY:0,scale:{start:e,end:0},quantity:n,blendMode:"ADD",maxParticles:1})},e}(n(7).ShipAttachment);e.ThrusterAttachment=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),o=n(1),a=n(0),s=function(){function t(t){this.scene=t,this.active=!0,this.integrity=i.Constants.MAX_INTEGRITY,this.isThrown=!1}return t.prototype.attach=function(t,e){void 0===e&&(e=o.AttachmentLocation.front),this.ship=t,this.setAttachmentLocation(e);var n=this.ship.getRealLocation();this.getPhysicsBody().position=n,this.getPhysicsBody().rotation=this.ship.getRotation()},t.prototype.detach=function(){this.ship=null,this.attachmentLocation=null;var t=this.getGameObject();t.setActive(!0),this.scene.add.existing(t)},t.prototype.getGameObject=function(){return this.gameObj},t.prototype.getPhysicsBody=function(){var t=this.getGameObject();return t?t.body:null},t.prototype.getRotation=function(){var t=this.getGameObject().angle;return this.ship&&(t+=this.ship.getRotation()),t},t.prototype.getHeading=function(){var t=this.getRotation();return a.Helpers.getHeading(t)},t.prototype.getSpeed=function(){var t=this.getVelocity().length();return this.ship&&(t+=this.ship.getSpeed()),t},t.prototype.getVelocity=function(){if(this.getPhysicsBody()){var t=this.getPhysicsBody().velocity.clone();return this.ship&&t.add(this.ship.getVelocity()),t}return Phaser.Math.Vector2.ZERO},t.prototype.getLocation=function(){var t=this.scene.cameras.main.getWorldPoint(0,0),e=this.getRealLocation();return new Phaser.Math.Vector2(e.x-t.x,e.y-t.y)},t.prototype.getRealLocation=function(){var t=this.getGameObject();if(t){var e=new Phaser.Math.Vector2(t.x,t.y);return this.ship&&e.add(this.ship.getRealLocation()),e}return Phaser.Math.Vector2.ZERO},t.prototype.getIntegrity=function(){return this.integrity},t.prototype.sustainDamage=function(t){this.integrity-=t,this.integrity<=0&&(this.integrity=0,this.active=!1,this.destroy())},t.prototype.repair=function(t){this.integrity=t,this.integrity>i.Constants.MAX_INTEGRITY&&(this.integrity=i.Constants.MAX_INTEGRITY)},t.prototype.destroy=function(){this.active=!1,this.ship.attachments.removeAttachment(this.attachmentLocation),this.getGameObject().destroy()},t.prototype.setAttachmentLocation=function(t){this.attachmentLocation=t},t}();e.ShipAttachment=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.reload=function(t){this.remainingAmmo+=t,this.remainingAmmo>this.maxAmmo&&(this.remainingAmmo=this.maxAmmo)},e.prototype.getRemainingAmmo=function(){return this.remainingAmmo},e.prototype.trigger=function(){this.active&&this.fire()},e}(n(7).ShipAttachment);e.OffenceAttachment=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(21),s=function(t){function e(e,n){var i=t.call(this,n)||this;return i.increment=e,i.minZoom=1-2*e,i.maxZoom=1,i}return o(e,t),e.prototype.create=function(){var t=this;this.mouse=new a.Mouse(this),this.mouse.onWheelUp((function(e){var n=t.cameras.main.zoom-t.increment;n<t.minZoom&&(n=t.minZoom),t.cameras.main.zoomTo(n)})),this.mouse.onWheelDown((function(e){var n=t.cameras.main.zoom+t.increment;n>t.maxZoom&&(n=t.maxZoom),t.cameras.main.zoomTo(n)}))},e}(Phaser.Scene);e.ZoomableScene=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(11),o=n(2),a=n(22),s=n(23),r=n(24),c={type:Phaser.AUTO,scale:{width:window.innerWidth,height:window.innerHeight},backgroundColor:"#000000",parent:"space-sim",physics:{default:"arcade",arcade:{gravity:{x:0,y:0}}},scene:[s.FarStarsScene,r.SystemScene,i.ShipScene,a.OverlayScene]};e.game=new Phaser.Game(c),window.addEventListener("resize",(function(){e.game.scale.refresh()})),o.Globals.game=e.game,o.Globals.debug=!0},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(12),s=n(2),r=n(19),c=n(9),h=n(1),u=n(6),p=n(0),l=n(8),y={active:!0,visible:!0,key:"ShipScene"},m=function(t){function e(){return t.call(this,.4,y)||this}return o(e,t),e.prototype.preload=function(){this.load.image("ship-pod","./assets/sprites/ship-pod.png"),this.load.image("thruster","./assets/sprites/thruster.png"),this.load.image("cannon","./assets/sprites/cannon.png"),this.load.spritesheet("flares","./assets/particles/flares.png",{frameWidth:130,frameHeight:132,startFrame:0,endFrame:4}),this.load.image("explosion","./assets/particles/explosion.png"),this.load.image("bullet","./assets/sprites/bullet.png")},e.prototype.create=function(){t.prototype.create.call(this),this.player=new a.ShipPod(this,{x:0,y:0}),s.Globals.player=this.player,this.player.setTarget(this.mouse);var e=new u.ThrusterAttachment(this);this.player.attachments.addAttachment(e);var n=new r.CannonAttachment(this);this.player.attachments.addAttachment(n),this.setupCamera(this.player),this.setupInputHandling()},e.prototype.update=function(){var t;this.thrustKey.isDown&&((t=this.player.getThruster())&&t.thrustFowards());this.boostKey.isDown&&((t=this.player.getThruster())&&t.boostForwards());if(this.input.activePointer.leftButtonDown())for(var e=0;e<p.Helpers.enumLength(h.AttachmentLocation);e++){var n;if(this.player.attachments.getAttachment(e)instanceof l.OffenceAttachment)(n=this.player.attachments.getAttachment(e)).trigger()}this.input.activePointer.rightButtonDown()&&((n=this.player.attachments.getAttachment(h.AttachmentLocation.front))&&n.trigger());this.rotateAttachmentsClockwiseKey.isDown&&this.player.attachments.rotateAttachmentsClockwise(),this.rotateAttachmentsAntiClockwiseKey.isDown&&this.player.attachments.rotateAttachmentsAntiClockwise(),this.detachAttachmentKey.isDown&&this.player.attachments.removeAttachment(h.AttachmentLocation.front),this.throwAttachmentKey.isDown&&this.player.attachments.throwAttachment(h.AttachmentLocation.front),this.grabAttachmentKey.isDown,this.player.update()},e.prototype.setupInputHandling=function(){this.thrustKey=this.input.keyboard.addKey("SPACE",!0,!0),this.boostKey=this.input.keyboard.addKey("TAB",!0,!1),this.rotateAttachmentsClockwiseKey=this.input.keyboard.addKey("E",!0,!1),this.rotateAttachmentsAntiClockwiseKey=this.input.keyboard.addKey("Q",!0,!1),this.detachAttachmentKey=this.input.keyboard.addKey("X",!0,!1),this.throwAttachmentKey=this.input.keyboard.addKey("T",!0,!1),this.grabAttachmentKey=this.input.keyboard.addKey("G",!0,!1),this.game.canvas.oncontextmenu=function(t){t.preventDefault()}},e.prototype.setupCamera=function(t){this.cameras.main.backgroundColor.setFromRGB({r:0,g:0,b:0}),this.cameras.main.setZoom(1);var e=t.getRealLocation();this.cameras.main.centerOn(e.x,e.y),this.cameras.main.startFollow(t.getGameObject(),!0,1,1)},e}(c.ZoomableScene);e.ShipScene=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(13);var i=n(14),o=n(3),a=n(0),s=n(18),r=n(1),c=function(){function t(t,e){this.remainingFuel=100,this.temperature=0,this.active=!0,this.lastOverheatCheck=0,e||(e={x:0,y:0}),this.id=i.RNG.guid(),this.scene=t,this.containerGameObj=t.add.container(e.x,e.y),this.flareParticles=t.add.particles("flares"),this.explosionParticles=t.add.particles("explosion");var n=t.add.sprite(0,0,"ship-pod");this.getGameObject().add(n),this.scene.physics.add.existing(this.containerGameObj),this.getPhysicsBody().bounce.setTo(.7,.7),this.getPhysicsBody().setMaxVelocity(o.Constants.MAX_VELOCITY,o.Constants.MAX_VELOCITY),this.integrity=o.Constants.MAX_INTEGRITY,this.attachments=new s.AttachmentManager(this,this.scene)}return t.prototype.getThruster=function(){return this.attachments.getAttachment(r.AttachmentLocation.back)},t.prototype.update=function(){this.active&&(this.lookAtTarget(),this.checkOverheatCondition(),this.attachments.update())},t.prototype.checkOverheatCondition=function(){if(this.active&&this.scene.game.getTime()>this.lastOverheatCheck+o.Constants.OVERHEAT_CHECK_INTERVAL){if(this.temperature>o.Constants.MAX_TEMPERATURE&&this.destroy(),this.temperature>o.Constants.MAX_SAFE_TEMPERATURE){var t=(this.temperature-o.Constants.MAX_SAFE_TEMPERATURE)/o.Constants.MAX_SAFE_TEMPERATURE;this.sustainDamage(t)}this.applyCooling(o.Constants.COOLING_RATE),this.lastOverheatCheck=this.scene.game.getTime()}},t.prototype.getRealLocation=function(){var t=this.getGameObject();return t?new Phaser.Math.Vector2(t.x,t.y):Phaser.Math.Vector2.ZERO},t.prototype.getLocation=function(){var t=this.scene.cameras.main.getWorldPoint(0,0),e=this.getRealLocation();return new Phaser.Math.Vector2(e.x-t.x,e.y-t.y)},t.prototype.getId=function(){return this.id},t.prototype.getGameObject=function(){return this.containerGameObj},t.prototype.getPhysicsBody=function(){var t=this.getGameObject();return t?t.body:null},t.prototype.setTarget=function(t){this.target=t},t.prototype.getTarget=function(){return this.target},t.prototype.lookAtTarget=function(){if(this.getPhysicsBody()&&this.getTarget()){var t=this.getTarget().getRealLocation(),e=this.getRealLocation(),n=Phaser.Math.Angle.Between(t.x,t.y,e.x,e.y),i=Phaser.Math.RadToDeg(n);this.getPhysicsBody().rotation=i}},t.prototype.getRotation=function(){return this.getGameObject()?this.getGameObject().angle:0},t.prototype.getHeading=function(){return a.Helpers.getHeading(this.getRotation())},t.prototype.getSpeed=function(){return this.getVelocity().length()},t.prototype.getVelocity=function(){return this.getPhysicsBody()?this.getPhysicsBody().velocity.clone():Phaser.Math.Vector2.ZERO},t.prototype.getTemperature=function(){return this.temperature},t.prototype.applyHeating=function(t){this.temperature+=t},t.prototype.applyCooling=function(t){this.temperature-=t,this.temperature<0&&(this.temperature=0)},t.prototype.reduceFuel=function(t){this.remainingFuel-=t,this.remainingFuel<0&&(this.remainingFuel=0)},t.prototype.addFuel=function(t){this.remainingFuel+=t,this.remainingFuel>o.Constants.MAX_FUEL&&(this.remainingFuel=o.Constants.MAX_FUEL)},t.prototype.getRemainingFuel=function(){return this.remainingFuel},t.prototype.getIntegrity=function(){return this.integrity},t.prototype.sustainDamage=function(t){this.integrity-=t,this.integrity<=0&&(this.integrity=0,this.destroy())},t.prototype.repair=function(t){this.integrity=t,this.integrity>o.Constants.MAX_INTEGRITY&&(this.integrity=o.Constants.MAX_INTEGRITY)},t.prototype.destroy=function(){this.active=!1,this.displayShipExplosion(),this.getGameObject().destroy(),this.containerGameObj=null},t.prototype.displayShipExplosion=function(){var t=this.getRealLocation();this.explosionParticles.createEmitter({x:t.x,y:t.y,lifespan:{min:500,max:1e3},speedX:{min:-1,max:1},speedY:{min:-1,max:1},angle:{min:-180,max:179},gravityX:0,gravityY:0,scale:{start:1,end:0},blendMode:"ADD",maxParticles:3}),this.flareParticles.createEmitter({frame:o.Constants.Flare.red,x:t.x,y:t.y,lifespan:{min:100,max:500},speedX:{min:-600,max:600},speedY:{min:-600,max:600},angle:{min:-180,max:179},gravityX:0,gravityY:0,scale:{start:1,end:0},blendMode:"ADD",maxParticles:10})},t}();e.ShipPod=c},function(e,n){e.exports=t},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(15);!function(t){t.int=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},t.guid=function(){return i.v4()}}(e.RNG||(e.RNG={}))},function(t,e,n){var i=n(16),o=n(17),a=o;a.v1=i,a.v4=o,t.exports=a},function(t,e,n){var i,o,a=n(4),s=n(5),r=0,c=0;t.exports=function(t,e,n){var h=e&&n||0,u=e||[],p=(t=t||{}).node||i,l=void 0!==t.clockseq?t.clockseq:o;if(null==p||null==l){var y=a();null==p&&(p=i=[1|y[0],y[1],y[2],y[3],y[4],y[5]]),null==l&&(l=o=16383&(y[6]<<8|y[7]))}var m=void 0!==t.msecs?t.msecs:(new Date).getTime(),f=void 0!==t.nsecs?t.nsecs:c+1,g=m-r+(f-c)/1e4;if(g<0&&void 0===t.clockseq&&(l=l+1&16383),(g<0||m>r)&&void 0===t.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");r=m,c=f,o=l;var d=(1e4*(268435455&(m+=122192928e5))+f)%4294967296;u[h++]=d>>>24&255,u[h++]=d>>>16&255,u[h++]=d>>>8&255,u[h++]=255&d;var v=m/4294967296*1e4&268435455;u[h++]=v>>>8&255,u[h++]=255&v,u[h++]=v>>>24&15|16,u[h++]=v>>>16&255,u[h++]=l>>>8|128,u[h++]=255&l;for(var b=0;b<6;++b)u[h+b]=p[b];return e||s(u)}},function(t,e,n){var i=n(4),o=n(5);t.exports=function(t,e,n){var a=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var s=(t=t||{}).random||(t.rng||i)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e)for(var r=0;r<16;++r)e[a+r]=s[r];return e||o(s)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(1),a=n(6),s=n(3),r=function(){function t(t,e){this.attachments=[],this.active=!0,this.ship=t,this.scene=e,this.lastRotatedTime=0,this.rotationDelay=100;for(var n=0;n<i.Helpers.enumLength(o.AttachmentLocation);n++)this.attachments.push(null)}return t.prototype.update=function(){if(this.active)for(var t=0;t<this.attachments.length;t++){var e=this.attachments[t];e&&e.update()}},t.prototype.rotateAttachmentsClockwise=function(){if(this.scene.game.getTime()>this.lastRotatedTime+this.rotationDelay){for(var t=this.getAttachment(i.Helpers.enumLength(o.AttachmentLocation)-1),e=i.Helpers.enumLength(o.AttachmentLocation)-1;e>=0;e--)e!=o.AttachmentLocation.back&&(e!=o.AttachmentLocation.backLeft?this.attachments[e]=this.attachments[e-1]:this.attachments[e]=this.attachments[e-2]);this.attachments[0]=t,this.updateAttachmentAngles(),this.lastRotatedTime=this.scene.game.getTime()}},t.prototype.rotateAttachmentsAntiClockwise=function(){if(this.scene.game.getTime()>this.lastRotatedTime+this.rotationDelay){for(var t=this.getAttachment(0),e=0;e<i.Helpers.enumLength(o.AttachmentLocation);e++)e!=o.AttachmentLocation.back&&(e!=o.AttachmentLocation.backRight?this.attachments[e]=this.attachments[e+1]:this.attachments[e]=this.attachments[e+2]);this.attachments[i.Helpers.enumLength(o.AttachmentLocation)-1]=t,this.updateAttachmentAngles(),this.lastRotatedTime=this.scene.game.getTime()}},t.prototype.addAttachment=function(t){if(t instanceof a.ThrusterAttachment)this.removeAttachment(o.AttachmentLocation.back),this.attachments[o.AttachmentLocation.back]=t,t.attach(this.ship,o.AttachmentLocation.back);else{for(var e=!1,n=0;n<i.Helpers.enumLength(o.AttachmentLocation);n++)if(!this.attachments[n]){this.attachments[n]=t,t.attach(this.ship,n),e=!0;break}e||(this.removeAttachment(o.AttachmentLocation.front),this.attachments[o.AttachmentLocation.front]=t,t.attach(this.ship,o.AttachmentLocation.front))}this.ship.getGameObject().add(t.getGameObject()),this.updateAttachmentAngles()},t.prototype.removeAttachment=function(t){if(this.attachments[t]){var e=this.attachments[t];this.attachments[t]=null,this.ship.getGameObject().remove(e.getGameObject(),!1),e.detach();var n=this.ship.getRealLocation();e.getGameObject().setPosition(n.x,n.y);var i=this.ship.getVelocity();e.getPhysicsBody().velocity=i,e.getPhysicsBody().rotation+=this.ship.getRotation()}},t.prototype.throwAttachment=function(t){var e=this.getAttachment(t);if(e){this.removeAttachment(t),e.isThrown=!0;var n=e.getHeading().multiply(new Phaser.Math.Vector2(s.Constants.THROW_FORCE,s.Constants.THROW_FORCE));e.getPhysicsBody().velocity.add(n)}},t.prototype.getAttachments=function(){return this.attachments},t.prototype.getAttachment=function(t){return this.attachments[t]},t.prototype.updateAttachmentAngles=function(){for(var t=0;t<this.attachments.length;t++){var e=this.attachments[t];if(e){var n=0;switch(t){case o.AttachmentLocation.frontRight:n=45;break;case o.AttachmentLocation.right:n=90;break;case o.AttachmentLocation.backRight:n=135;break;case o.AttachmentLocation.back:n=180;break;case o.AttachmentLocation.backLeft:n=225;break;case o.AttachmentLocation.left:n=270;break;case o.AttachmentLocation.frontLeft:n=315;break;default:n=0}e.getGameObject().angle=n}}},t}();e.AttachmentManager=r},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(20),s=function(t){function e(e){var n=t.call(this,e)||this;return n.maxAmmo=500,n.remainingAmmo=n.maxAmmo,n.lastFired=0,n.firingDelay=1e3,n.gameObj=n.scene.add.sprite(0,0,"cannon"),n.scene.physics.add.existing(n.gameObj),n}return o(e,t),e.prototype.update=function(){},e.prototype.fire=function(t){if(this.active&&this.getRemainingAmmo()>0&&this.scene.game.getTime()>this.lastFired+this.firingDelay){var e=new Phaser.Math.Vector2(-20,0).add(this.getRealLocation()),n=this.ship.getRealLocation(),i=Phaser.Math.RotateAround(e,n.x,n.y,Phaser.Math.DegToRad(this.getRotation()));new a.Bullet(this.scene,{x:i.x,y:i.y,force:3e3,angle:this.getRotation(),startingV:this.getVelocity()}),this.lastFired=this.scene.game.getTime()}},e}(n(8).OffenceAttachment);e.CannonAttachment=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(0),a=function(){function t(t,e){this.active=!0,this.scene=t,this.force=e.force||0,this.gameObj=this.scene.add.sprite(e.x||0,e.y||0,"bullet"),this.scene.physics.add.existing(this.gameObj),this.getGameObject().angle=e.angle||0,this.getPhysicsBody().velocity=e.startingV||Phaser.Math.Vector2.ZERO,this.addCollisionDetection(),this.setInMotion()}return t.prototype.addCollisionDetection=function(){for(var t=0;t<i.Globals.interactables.length;t++)this.scene.physics.add.collider(this.gameObj,i.Globals.interactables[t],this.onImpact)},t.prototype.onImpact=function(t,e){},t.prototype.getGameObject=function(){return this.gameObj},t.prototype.getPhysicsBody=function(){if(this.getGameObject())return this.getGameObject().body},t.prototype.getRotation=function(){return this.getGameObject().angle},t.prototype.getHeading=function(){return o.Helpers.getHeading(this.getRotation())},t.prototype.getSpeed=function(){return this.getVelocity().length()},t.prototype.getVelocity=function(){return this.getPhysicsBody()?this.getPhysicsBody().velocity.clone():Phaser.Math.Vector2.ZERO},t.prototype.getLocation=function(){var t=this.scene.cameras.main.getWorldPoint(0,0),e=this.getRealLocation();return new Phaser.Math.Vector2(e.x-t.x,e.y-t.y)},t.prototype.getRealLocation=function(){return this.getGameObject()?new Phaser.Math.Vector2(this.getGameObject().x,this.getGameObject().y):Phaser.Math.Vector2.ZERO},t.prototype.setInMotion=function(){var t=this.getHeading().multiply(o.Helpers.vector2(this.force));this.getPhysicsBody().velocity.add(t)},t}();e.Bullet=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.scene=t,this.scene.input.mouse.capture=!0}return t.prototype.getAngle=function(){return this.scene.input.activePointer.getAngle()},t.prototype.getRotation=function(){return this.getAngle()*(Math.PI/180)},t.prototype.getHeading=function(){var t=this.getAngle(),e=Math.cos(t),n=Math.sin(t);return new Phaser.Math.Vector2(e,n).normalize().negate()},t.prototype.getSpeed=function(){return this.getVelocity().length()},t.prototype.getVelocity=function(){return this.scene.input.activePointer.velocity.clone()},t.prototype.getLocation=function(){return this.scene.input.activePointer.position.clone()},t.prototype.getRealLocation=function(){return this.scene.input.activePointer.positionToCamera(this.scene.cameras.main)},t.prototype.onWheelUp=function(t){this.scene.input.on(Phaser.Input.Events.POINTER_WHEEL,(function(e,n,i,o,a,s){o>0&&t(o)}))},t.prototype.onWheelDown=function(t){this.scene.input.on(Phaser.Input.Events.POINTER_WHEEL,(function(e,n,i,o,a,s){o<0&&t(-o)}))},t}();e.Mouse=i},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(2),s=n(1),r={active:!0,visible:!0,key:"OverlayScene"},c=function(t){function e(){return t.call(this,r)||this}return o(e,t),e.prototype.preload=function(){},e.prototype.create=function(){this.shipDebug=this.add.text(10,10,"",{font:"16px Courier",fill:"#ffdddd"})},e.prototype.update=function(){a.Globals.debug&&this.displayDebugInfo()},e.prototype.displayDebugInfo=function(){if(a.Globals.player){for(var t=a.Globals.player,e=t.getRealLocation(),n=t.getVelocity(),i=["Speed: "+t.getSpeed().toFixed(1),"Integrity: "+t.getIntegrity().toFixed(1),"Heat: "+t.getTemperature().toFixed(1),"Fuel: "+t.getRemainingFuel().toFixed(1),"Location: "+e.x.toFixed(1)+","+e.y.toFixed(1),"Angle: "+t.getRotation().toFixed(1),"Velocity: "+n.x.toFixed(1)+","+n.y.toFixed(1)],o=t.attachments.getAttachments(),r=0;r<o.length;r++)if(o[r]){i.push("AttachmentLocation."+s.AttachmentLocation[r]+" - "+r);var c=o[r].getRealLocation();i.push("-- Location: "+c.x.toFixed(1)+","+c.y.toFixed(1)),i.push("-- Angle: "+o[r].getRotation().toFixed(1))}this.shipDebug.setText(i)}},e}(Phaser.Scene);e.OverlayScene=c},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a={active:!0,visible:!0,key:"FarStars"},s=function(t){function e(){return t.call(this,a)||this}return o(e,t),e.prototype.preload=function(){this.load.image("far-stars","./assets/backgrounds/starfield-tile-512x512.png")},e.prototype.create=function(){var t=Math.ceil(this.game.canvas.width/2),e=Math.ceil(this.game.canvas.height/2);this.add.tileSprite(t,e,this.game.canvas.width+10,this.game.canvas.height+10,"far-stars")},e.prototype.update=function(){},e}(Phaser.Scene);e.FarStarsScene=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(9),s=n(2),r={active:!0,visible:!0,key:"SystemScene"},c=function(t){function e(){return t.call(this,.05,r)||this}return o(e,t),e.prototype.preload=function(){this.load.image("sun","./assets/backgrounds/sun.png")},e.prototype.create=function(){t.prototype.create.call(this),this.startPosition=new Phaser.Math.Vector2(Phaser.Math.RND.between(0,this.game.canvas.width),Phaser.Math.RND.between(0,this.game.canvas.height)),this.sun=this.add.sprite(this.startPosition.x,this.startPosition.y,"sun")},e.prototype.update=function(){if(this.sun.angle+=.01,this.sun.angle>=360&&(this.sun.angle=0),s.Globals.player){var t=s.Globals.player.getRealLocation();t.divide(new Phaser.Math.Vector2(500,500)),t.negate(),this.sun.x=this.startPosition.x+t.x,this.sun.y=this.startPosition.y+t.y}},e}(a.ZoomableScene);e.SystemScene=c}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idW5kbGUvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL2J1bmRsZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvdXRpbGl0aWVzL2hlbHBlcnMudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NoaXBzL2F0dGFjaG1lbnRzL2F0dGFjaG1lbnQtbG9jYXRpb24udHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3V0aWxpdGllcy9nbG9iYWxzLnRzIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy91dGlsaXRpZXMvY29uc3RhbnRzLnRzIiwid2VicGFjazovL2J1bmRsZS8uL25vZGVfbW9kdWxlcy91dWlkL2xpYi9ybmctYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly9idW5kbGUvLi9ub2RlX21vZHVsZXMvdXVpZC9saWIvYnl0ZXNUb1V1aWQuanMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NoaXBzL2F0dGFjaG1lbnRzL3V0aWxpdHkvdGhydXN0ZXItYXR0YWNobWVudC50cyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvc2hpcHMvYXR0YWNobWVudHMvc2hpcC1hdHRhY2htZW50LnRzIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy9zaGlwcy9hdHRhY2htZW50cy9vZmZlbmNlL29mZmVuY2UtYXR0YWNobWVudC50cyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvc2NlbmVzL3pvb21hYmxlLXNjZW5lLnRzIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy9nYW1lLnRzIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy9zY2VuZXMvc2hpcC1zY2VuZS50cyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvc2hpcHMvc2hpcC1wb2QudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlL2V4dGVybmFsIFwicGhhc2VyXCIiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3V0aWxpdGllcy9ybmcudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vbm9kZV9tb2R1bGVzL3V1aWQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vbm9kZV9tb2R1bGVzL3V1aWQvdjEuanMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vbm9kZV9tb2R1bGVzL3V1aWQvdjQuanMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NoaXBzL2F0dGFjaG1lbnRzL2F0dGFjaG1lbnQtbWFuYWdlci50cyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvc2hpcHMvYXR0YWNobWVudHMvb2ZmZW5jZS9jYW5ub24tYXR0YWNobWVudC50cyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvc2hpcHMvYXR0YWNobWVudHMvb2ZmZW5jZS9idWxsZXQudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3V0aWxpdGllcy9tb3VzZS50cyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvc2NlbmVzL292ZXJsYXktc2NlbmUudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NjZW5lcy9mYXItc3RhcnMtc2NlbmUudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NjZW5lcy9zeXN0ZW0tc2NlbmUudHMiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwicmVxdWlyZSIsImRlZmluZSIsImFtZCIsIndpbmRvdyIsIl9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzEzX18iLCJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiSGVscGVycyIsImVudW1MZW5ndGgiLCJlbnVtVHlwZSIsImNvdW50IiwiaXRlbSIsImlzTmFOIiwiTnVtYmVyIiwiZ2V0SGVhZGluZyIsInJvdGF0aW9uIiwieCIsIk1hdGgiLCJjb3MiLCJQaGFzZXIiLCJEZWdUb1JhZCIsInkiLCJzaW4iLCJWZWN0b3IyIiwibm9ybWFsaXplIiwibmVnYXRlIiwidmVjdG9yMiIsIkF0dGFjaG1lbnRMb2NhdGlvbiIsIkdsb2JhbHMiLCJpbnRlcmFjdGFibGVzIiwiZGVidWciLCJDb25zdGFudHMiLCJNQVhfSU5URUdSSVRZIiwiTUFYX0ZVRUwiLCJNQVhfU0FGRV9URU1QRVJBVFVSRSIsIk1BWF9URU1QRVJBVFVSRSIsIk1BWF9WRUxPQ0lUWSIsIk9WRVJIRUFUX0NIRUNLX0lOVEVSVkFMIiwiQ09PTElOR19SQVRFIiwiVEhSVVNURVJfRk9SQ0UiLCJGVUVMX1BFUl9USFJVU1QiLCJIRUFUX1BFUl9USFJVU1QiLCJCT09TVEVSX0ZPUkNFIiwiRlVFTF9QRVJfQk9PU1QiLCJIRUFUX1BFUl9CT09TVCIsIkJPT1NURVJfQ09PTERPV05fVElNRSIsIlRIUk9XX0ZPUkNFIiwiRmxhcmUiLCJnZXRSYW5kb21WYWx1ZXMiLCJjcnlwdG8iLCJtc0NyeXB0byIsInJuZHM4IiwiVWludDhBcnJheSIsInJuZHMiLCJBcnJheSIsInJhbmRvbSIsImJ5dGVUb0hleCIsInRvU3RyaW5nIiwic3Vic3RyIiwiYnVmIiwib2Zmc2V0IiwiYnRoIiwiam9pbiIsInNjZW5lIiwibGFzdEJvb3N0VGltZSIsImZsYXJlUGFydGljbGVzIiwiYWRkIiwicGFydGljbGVzIiwiZ2FtZU9iaiIsInNwcml0ZSIsInBoeXNpY3MiLCJleGlzdGluZyIsInVwZGF0ZSIsInRyaWdnZXIiLCJ0aGlzIiwiYWN0aXZlIiwidGhydXN0Rm93YXJkcyIsImFwcGx5VGhydXN0IiwiZGlzcGxheVRocnVzdGVyRmlyZSIsInllbGxvdyIsImJvb3N0Rm9yd2FyZHMiLCJnYW1lIiwiZ2V0VGltZSIsImJsdWUiLCJzdHJhZmVMZWZ0Iiwic3RyYWZlUmlnaHQiLCJ0aHJ1c3RCYWNrd2FyZHMiLCJmb3JjZSIsImZ1ZWwiLCJoZWF0Iiwic2hpcCIsImdldFJlbWFpbmluZ0Z1ZWwiLCJkZWx0YVYiLCJtdWx0aXBseSIsImdldFBoeXNpY3NCb2R5IiwidmVsb2NpdHkiLCJyZWR1Y2VGdWVsIiwiYXBwbHlIZWF0aW5nIiwiY29sb3VyIiwic3RhcnRTY2FsZSIsInF1YW50aXR5Iiwic2hpcFBvc2l0aW9uIiwiZ2V0UmVhbExvY2F0aW9uIiwiZW1pc3Npb25Qb3NpdGlvbiIsIm5lZ2F0ZWRTaGlwSGVhZGluZyIsImFkanVzdGVkRW1pc3Npb25Qb3NpdGlvbiIsIlJvdGF0ZUFyb3VuZCIsImdldFJvdGF0aW9uIiwic2hpcFZlbG9jaXR5IiwiZ2V0VmVsb2NpdHkiLCJjcmVhdGVFbWl0dGVyIiwiZnJhbWUiLCJsaWZlc3BhbiIsIm1pbiIsIm1heCIsInNwZWVkWCIsInNwZWVkWSIsImFuZ2xlIiwiZ3Jhdml0eVgiLCJncmF2aXR5WSIsInNjYWxlIiwic3RhcnQiLCJlbmQiLCJibGVuZE1vZGUiLCJtYXhQYXJ0aWNsZXMiLCJTaGlwQXR0YWNobWVudCIsIlRocnVzdGVyQXR0YWNobWVudCIsImludGVncml0eSIsImlzVGhyb3duIiwiYXR0YWNoIiwibG9jYXRpb24iLCJmcm9udCIsInNldEF0dGFjaG1lbnRMb2NhdGlvbiIsImNlbnRyZSIsInBvc2l0aW9uIiwiZGV0YWNoIiwiYXR0YWNobWVudExvY2F0aW9uIiwiZ28iLCJnZXRHYW1lT2JqZWN0Iiwic2V0QWN0aXZlIiwiYm9keSIsImdldFNwZWVkIiwic3BlZWQiLCJsZW5ndGgiLCJjbG9uZSIsIlpFUk8iLCJnZXRMb2NhdGlvbiIsImNhbWVyYVBvcyIsImNhbWVyYXMiLCJtYWluIiwiZ2V0V29ybGRQb2ludCIsInJlYWxMb2MiLCJnZXRJbnRlZ3JpdHkiLCJzdXN0YWluRGFtYWdlIiwiYW1vdW50IiwiZGVzdHJveSIsInJlcGFpciIsImF0dGFjaG1lbnRzIiwicmVtb3ZlQXR0YWNobWVudCIsImxvYyIsInJlbG9hZCIsInJlbWFpbmluZ0FtbW8iLCJtYXhBbW1vIiwiZ2V0UmVtYWluaW5nQW1tbyIsImZpcmUiLCJPZmZlbmNlQXR0YWNobWVudCIsImluY3JlbWVudCIsImNvbmZpZyIsIm1pblpvb20iLCJtYXhab29tIiwibW91c2UiLCJNb3VzZSIsIm9uV2hlZWxVcCIsInNjcm9sbEFtb3VudCIsIm5ld1pvb20iLCJ6b29tIiwiem9vbVRvIiwib25XaGVlbERvd24iLCJTY2VuZSIsIlpvb21hYmxlU2NlbmUiLCJnYW1lQ29uZmlnIiwidHlwZSIsIkFVVE8iLCJ3aWR0aCIsImlubmVyV2lkdGgiLCJoZWlnaHQiLCJpbm5lckhlaWdodCIsImJhY2tncm91bmRDb2xvciIsInBhcmVudCIsImRlZmF1bHQiLCJhcmNhZGUiLCJncmF2aXR5IiwiRmFyU3RhcnNTY2VuZSIsIlN5c3RlbVNjZW5lIiwiU2hpcFNjZW5lIiwiT3ZlcmxheVNjZW5lIiwiR2FtZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZWZyZXNoIiwic2NlbmVDb25maWciLCJ2aXNpYmxlIiwicHJlbG9hZCIsImxvYWQiLCJpbWFnZSIsInNwcml0ZXNoZWV0IiwiZnJhbWVXaWR0aCIsImZyYW1lSGVpZ2h0Iiwic3RhcnRGcmFtZSIsImVuZEZyYW1lIiwicGxheWVyIiwiU2hpcFBvZCIsInNldFRhcmdldCIsInRocnVzdGVyIiwiYWRkQXR0YWNobWVudCIsImNhbm9uIiwiQ2Fubm9uQXR0YWNobWVudCIsInNldHVwQ2FtZXJhIiwic2V0dXBJbnB1dEhhbmRsaW5nIiwidGhydXN0S2V5IiwiaXNEb3duIiwiZ2V0VGhydXN0ZXIiLCJib29zdEtleSIsImlucHV0IiwiYWN0aXZlUG9pbnRlciIsImxlZnRCdXR0b25Eb3duIiwiYSIsImdldEF0dGFjaG1lbnQiLCJyaWdodEJ1dHRvbkRvd24iLCJyb3RhdGVBdHRhY2htZW50c0Nsb2Nrd2lzZUtleSIsInJvdGF0ZUF0dGFjaG1lbnRzQ2xvY2t3aXNlIiwicm90YXRlQXR0YWNobWVudHNBbnRpQ2xvY2t3aXNlS2V5Iiwicm90YXRlQXR0YWNobWVudHNBbnRpQ2xvY2t3aXNlIiwiZGV0YWNoQXR0YWNobWVudEtleSIsInRocm93QXR0YWNobWVudEtleSIsInRocm93QXR0YWNobWVudCIsImdyYWJBdHRhY2htZW50S2V5Iiwia2V5Ym9hcmQiLCJhZGRLZXkiLCJjYW52YXMiLCJvbmNvbnRleHRtZW51IiwiZSIsInByZXZlbnREZWZhdWx0Iiwic2V0RnJvbVJHQiIsImciLCJiIiwic2V0Wm9vbSIsInBsYXllckxvYyIsImNlbnRlck9uIiwic3RhcnRGb2xsb3ciLCJyZW1haW5pbmdGdWVsIiwidGVtcGVyYXR1cmUiLCJsYXN0T3ZlcmhlYXRDaGVjayIsImlkIiwiUk5HIiwiZ3VpZCIsImNvbnRhaW5lckdhbWVPYmoiLCJjb250YWluZXIiLCJleHBsb3Npb25QYXJ0aWNsZXMiLCJib3VuY2UiLCJzZXRUbyIsInNldE1heFZlbG9jaXR5IiwiQXR0YWNobWVudE1hbmFnZXIiLCJiYWNrIiwibG9va0F0VGFyZ2V0IiwiY2hlY2tPdmVyaGVhdENvbmRpdGlvbiIsImRlbHRhIiwiYXBwbHlDb29saW5nIiwiZ2V0SWQiLCJ0YXJnZXQiLCJnZXRUYXJnZXQiLCJ0YXJnZXRQb3MiLCJzaGlwUG9zIiwicmFkaWFucyIsIkFuZ2xlIiwiQmV0d2VlbiIsImRlZ3JlZXMiLCJSYWRUb0RlZyIsImdldFRlbXBlcmF0dXJlIiwiYWRkRnVlbCIsImRpc3BsYXlTaGlwRXhwbG9zaW9uIiwicG9zIiwicmVkIiwiaW50IiwiZmxvb3IiLCJ2NCIsInYxIiwidXVpZCIsIl9ub2RlSWQiLCJfY2xvY2tzZXEiLCJybmciLCJieXRlc1RvVXVpZCIsIl9sYXN0TVNlY3MiLCJfbGFzdE5TZWNzIiwib3B0aW9ucyIsIm5vZGUiLCJjbG9ja3NlcSIsInVuZGVmaW5lZCIsInNlZWRCeXRlcyIsIm1zZWNzIiwiRGF0ZSIsIm5zZWNzIiwiZHQiLCJFcnJvciIsInRsIiwidG1oIiwiaWkiLCJsYXN0Um90YXRlZFRpbWUiLCJyb3RhdGlvbkRlbGF5IiwicHVzaCIsInRtcCIsImJhY2tMZWZ0IiwidXBkYXRlQXR0YWNobWVudEFuZ2xlcyIsImJhY2tSaWdodCIsImF0dGFjaG1lbnQiLCJhdHRhY2hlZCIsInJlbW92ZSIsIm5ld0xvY2F0aW9uIiwic2V0UG9zaXRpb24iLCJzaGlwVmVsb2NpdHlWZWN0b3IiLCJnZXRBdHRhY2htZW50cyIsImF0dCIsInJvdCIsImZyb250UmlnaHQiLCJyaWdodCIsImxlZnQiLCJmcm9udExlZnQiLCJsYXN0RmlyZWQiLCJmaXJpbmdEZWxheSIsImRpcmVjdGlvbiIsImJ1bGxldE9mZnNldCIsInNoaXBSZWFsTG9jYXRpb24iLCJhZGp1c3RlZExvY2F0aW9uIiwiQnVsbGV0Iiwic3RhcnRpbmdWIiwicGFyYW1zIiwiYWRkQ29sbGlzaW9uRGV0ZWN0aW9uIiwic2V0SW5Nb3Rpb24iLCJjb2xsaWRlciIsIm9uSW1wYWN0IiwiYnVsbGV0IiwiY2FwdHVyZSIsImdldEFuZ2xlIiwiUEkiLCJwb3NpdGlvblRvQ2FtZXJhIiwiZnVuYyIsIm9uIiwiSW5wdXQiLCJFdmVudHMiLCJQT0lOVEVSX1dIRUVMIiwicG9pbnRlciIsImN1cnJlbnRseU92ZXIiLCJkeCIsImR5IiwiZHoiLCJldmVudCIsInNoaXBEZWJ1ZyIsInRleHQiLCJmb250IiwiZmlsbCIsImRpc3BsYXlEZWJ1Z0luZm8iLCJ2IiwiaW5mbyIsInRvRml4ZWQiLCJhdHRMb2MiLCJzZXRUZXh0IiwieE9mZnNldCIsImNlaWwiLCJ5T2Zmc2V0IiwidGlsZVNwcml0ZSIsInN0YXJ0UG9zaXRpb24iLCJSTkQiLCJiZXR3ZWVuIiwic3VuIiwiZGl2aWRlIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUEyQ0EsRUFBTUMsR0FDMUIsaUJBQVpDLFNBQTBDLGlCQUFYQyxPQUN4Q0EsT0FBT0QsUUFBVUQsRUFBUUcsUUFBUSxXQUNSLG1CQUFYQyxRQUF5QkEsT0FBT0MsSUFDOUNELE9BQU8sQ0FBQyxV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QUkvUCxPQUFTLElBQ2QzQyxLQUFLMFMsSUFBSS9QLE9BQVMsTUFDbEIzQyxLQUFLMFMsSUFBSS9QLE1BQVEsR0FFakIsRUFBQXpGLFFBQVFxTCxPQUFRLENBRWhCLElBQUlsRCxFQUEyQixFQUFBbkksUUFBUXFMLE9BQU8zRyxrQkFDOUN5RCxFQUFJc04sT0FBTyxJQUFJbFcsT0FBT0YsS0FBS00sUUFBUSxJQUFLLE1BQ3hDd0ksRUFBSXRJLFNBRUppRCxLQUFLMFMsSUFBSXBXLEVBQUkwRCxLQUFLdVMsY0FBY2pXLEVBQUkrSSxFQUFJL0ksRUFDeEMwRCxLQUFLMFMsSUFBSS9WLEVBQUlxRCxLQUFLdVMsY0FBYzVWLEVBQUkwSSxFQUFJMUksSUFHcEQsRUFwQ0EsQ0FBaUMsRUFBQThKLGVBQXBCLEVBQUFjIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcInBoYXNlclwiKSk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXCJwaGFzZXJcIl0sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiYnVuZGxlXCJdID0gZmFjdG9yeShyZXF1aXJlKFwicGhhc2VyXCIpKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJidW5kbGVcIl0gPSBmYWN0b3J5KHJvb3RbXCJwaGFzZXJcIl0pO1xufSkod2luZG93LCBmdW5jdGlvbihfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX18xM19fKSB7XG5yZXR1cm4gIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDEwKTtcbiIsImV4cG9ydCBtb2R1bGUgSGVscGVycyB7XHJcbiAgICAvKipcclxuICAgICAqIGdldCB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIGluIGFuIGVudW0uXHJcbiAgICAgKiA8cD5cclxuICAgICAqIGV4OiA8aT5lbnVtIEZvbyB7IGJhciA9IDAsIGJheiA9IDEsIGJveiA9IDIgfTwvaT48YnIgLz5cclxuICAgICAqIHJldHVybnM6IDxiPjM8L2I+XHJcbiAgICAgKiA8L3A+XHJcbiAgICAgKiBAcGFyYW0gZW51bVR5cGUgdGhlIHR5cGUgbmFtZSBvZiBhbiBlbnVtXHJcbiAgICAgKiBAcmV0dXJucyB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIGluIHRoZSBlbnVtXHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBlbnVtTGVuZ3RoKGVudW1UeXBlOiBhbnkpOiBudW1iZXIge1xyXG4gICAgICAgIGxldCBjb3VudCA9IDA7XHJcbiAgICAgICAgZm9yKGxldCBpdGVtIGluIGVudW1UeXBlKSB7XHJcbiAgICAgICAgICAgIGlmKGlzTmFOKE51bWJlcihpdGVtKSkpIHtcclxuICAgICAgICAgICAgICAgIGNvdW50Kys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNvdW50O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmV0dXJucyBhIHtQaGFzZXIuTWF0aC5WZWN0b3IyfSB0aGF0IHJlcHJlc2VudHMgYSBub3JtYWxpc2VkIHZlY3RvciBvZiBkaXJlY3Rpb25cclxuICAgICAqIGJhc2VkIG9uIHRoZSBwYXNzZWQgaW4gcm90YXRpb25cclxuICAgICAqIEBwYXJhbSByb3RhdGlvbiB0aGUgcm90YXRpb24gaW4gZGVncmVlc1xyXG4gICAgICovXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gZ2V0SGVhZGluZyhyb3RhdGlvbjogbnVtYmVyKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgbGV0IHg6IG51bWJlciA9IE1hdGguY29zKFBoYXNlci5NYXRoLkRlZ1RvUmFkKHJvdGF0aW9uKSk7XHJcbiAgICAgICAgbGV0IHk6IG51bWJlciA9IE1hdGguc2luKFBoYXNlci5NYXRoLkRlZ1RvUmFkKHJvdGF0aW9uKSk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKHgsIHkpLm5vcm1hbGl6ZSgpLm5lZ2F0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiB2ZWN0b3IyKHg6IG51bWJlciwgeT86IG51bWJlcik6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIGlmICgheSkge1xyXG4gICAgICAgICAgICB5ID0geDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKHgsIHkpO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGVudW0gQXR0YWNobWVudExvY2F0aW9uIHtcclxuICAgIGZyb250LFxyXG4gICAgZnJvbnRSaWdodCxcclxuICAgIHJpZ2h0LFxyXG4gICAgYmFja1JpZ2h0LFxyXG4gICAgYmFjayxcclxuICAgIGJhY2tMZWZ0LFxyXG4gICAgbGVmdCxcclxuICAgIGZyb250TGVmdFxyXG59IiwiaW1wb3J0IHsgU2hpcFBvZCB9IGZyb20gXCIuLi9zaGlwcy9zaGlwLXBvZFwiO1xyXG5cclxuZXhwb3J0IG1vZHVsZSBHbG9iYWxzIHtcclxuICAgIGV4cG9ydCB2YXIgcGxheWVyOiBTaGlwUG9kO1xyXG4gICAgZXhwb3J0IHZhciBnYW1lOiBQaGFzZXIuR2FtZTtcclxuICAgIGV4cG9ydCB2YXIgaW50ZXJhY3RhYmxlczogUGhhc2VyLkdhbWVPYmplY3RzLkdhbWVPYmplY3RbXSA9IFtdO1xyXG4gICAgZXhwb3J0IHZhciBkZWJ1ZzogYm9vbGVhbiA9IGZhbHNlO1xyXG59IiwiZXhwb3J0IG1vZHVsZSBDb25zdGFudHMge1xyXG4gICAgZXhwb3J0IGNvbnN0IE1BWF9JTlRFR1JJVFk6IG51bWJlciA9IDEwMDtcclxuICAgIGV4cG9ydCBjb25zdCBNQVhfRlVFTDogbnVtYmVyID0gMTAwO1xyXG4gICAgZXhwb3J0IGNvbnN0IE1BWF9TQUZFX1RFTVBFUkFUVVJFOiBudW1iZXIgPSAxMDA7XHJcbiAgICBleHBvcnQgY29uc3QgTUFYX1RFTVBFUkFUVVJFOiBudW1iZXIgPSAyMDA7XHJcbiAgICBleHBvcnQgY29uc3QgTUFYX1ZFTE9DSVRZOiBudW1iZXIgPSA1MDA7XHJcbiAgICBleHBvcnQgY29uc3QgT1ZFUkhFQVRfQ0hFQ0tfSU5URVJWQUw6IG51bWJlciA9IDEwMDsgLy8gbWlsbGlzZWNvbmRzXHJcbiAgICBleHBvcnQgY29uc3QgQ09PTElOR19SQVRFOiBudW1iZXIgPSAwLjM7IC8vIGRlZ3JlZXMgcGVyIHNlY29uZFxyXG4gICAgZXhwb3J0IGNvbnN0IFRIUlVTVEVSX0ZPUkNFOiBudW1iZXIgPSAxO1xyXG4gICAgZXhwb3J0IGNvbnN0IEZVRUxfUEVSX1RIUlVTVDogbnVtYmVyID0gMC4wMDE7IC8vIHVuaXRzXHJcbiAgICBleHBvcnQgY29uc3QgSEVBVF9QRVJfVEhSVVNUOiBudW1iZXIgPSAwLjEgLy8gZGVncmVlc1xyXG4gICAgZXhwb3J0IGNvbnN0IEJPT1NURVJfRk9SQ0U6IG51bWJlciA9IDMwMDtcclxuICAgIGV4cG9ydCBjb25zdCBGVUVMX1BFUl9CT09TVDogbnVtYmVyID0gMTsgLy8gdW5pdHNcclxuICAgIGV4cG9ydCBjb25zdCBIRUFUX1BFUl9CT09TVDogbnVtYmVyID0gMjU7IC8vIGRlZ3JlZXNcclxuICAgIGV4cG9ydCBjb25zdCBCT09TVEVSX0NPT0xET1dOX1RJTUU6IG51bWJlciA9IDEwMDA7IC8vIG1pbGxpc2Vjb25kc1xyXG4gICAgZXhwb3J0IGNvbnN0IFRIUk9XX0ZPUkNFOiBudW1iZXIgPSAxMDA7XHJcbiAgICBleHBvcnQgZW51bSBGbGFyZSB7XHJcbiAgICAgICAgYmx1ZSA9IDAsXHJcbiAgICAgICAgZ3JlZW4gPSAxLFxyXG4gICAgICAgIHJlZCA9IDIsXHJcbiAgICAgICAgd2hpdGUgPSAzLFxyXG4gICAgICAgIHllbGxvdyA9IDRcclxuICAgIH1cclxufSIsIi8vIFVuaXF1ZSBJRCBjcmVhdGlvbiByZXF1aXJlcyBhIGhpZ2ggcXVhbGl0eSByYW5kb20gIyBnZW5lcmF0b3IuICBJbiB0aGVcbi8vIGJyb3dzZXIgdGhpcyBpcyBhIGxpdHRsZSBjb21wbGljYXRlZCBkdWUgdG8gdW5rbm93biBxdWFsaXR5IG9mIE1hdGgucmFuZG9tKClcbi8vIGFuZCBpbmNvbnNpc3RlbnQgc3VwcG9ydCBmb3IgdGhlIGBjcnlwdG9gIEFQSS4gIFdlIGRvIHRoZSBiZXN0IHdlIGNhbiB2aWFcbi8vIGZlYXR1cmUtZGV0ZWN0aW9uXG5cbi8vIGdldFJhbmRvbVZhbHVlcyBuZWVkcyB0byBiZSBpbnZva2VkIGluIGEgY29udGV4dCB3aGVyZSBcInRoaXNcIiBpcyBhIENyeXB0b1xuLy8gaW1wbGVtZW50YXRpb24uIEFsc28sIGZpbmQgdGhlIGNvbXBsZXRlIGltcGxlbWVudGF0aW9uIG9mIGNyeXB0byBvbiBJRTExLlxudmFyIGdldFJhbmRvbVZhbHVlcyA9ICh0eXBlb2YoY3J5cHRvKSAhPSAndW5kZWZpbmVkJyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChjcnlwdG8pKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICh0eXBlb2YobXNDcnlwdG8pICE9ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cubXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzID09ICdmdW5jdGlvbicgJiYgbXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQobXNDcnlwdG8pKTtcblxuaWYgKGdldFJhbmRvbVZhbHVlcykge1xuICAvLyBXSEFUV0cgY3J5cHRvIFJORyAtIGh0dHA6Ly93aWtpLndoYXR3Zy5vcmcvd2lraS9DcnlwdG9cbiAgdmFyIHJuZHM4ID0gbmV3IFVpbnQ4QXJyYXkoMTYpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB3aGF0d2dSTkcoKSB7XG4gICAgZ2V0UmFuZG9tVmFsdWVzKHJuZHM4KTtcbiAgICByZXR1cm4gcm5kczg7XG4gIH07XG59IGVsc2Uge1xuICAvLyBNYXRoLnJhbmRvbSgpLWJhc2VkIChSTkcpXG4gIC8vXG4gIC8vIElmIGFsbCBlbHNlIGZhaWxzLCB1c2UgTWF0aC5yYW5kb20oKS4gIEl0J3MgZmFzdCwgYnV0IGlzIG9mIHVuc3BlY2lmaWVkXG4gIC8vIHF1YWxpdHkuXG4gIHZhciBybmRzID0gbmV3IEFycmF5KDE2KTtcblxuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG1hdGhSTkcoKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIHI7IGkgPCAxNjsgaSsrKSB7XG4gICAgICBpZiAoKGkgJiAweDAzKSA9PT0gMCkgciA9IE1hdGgucmFuZG9tKCkgKiAweDEwMDAwMDAwMDtcbiAgICAgIHJuZHNbaV0gPSByID4+PiAoKGkgJiAweDAzKSA8PCAzKSAmIDB4ZmY7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJuZHM7XG4gIH07XG59XG4iLCIvKipcbiAqIENvbnZlcnQgYXJyYXkgb2YgMTYgYnl0ZSB2YWx1ZXMgdG8gVVVJRCBzdHJpbmcgZm9ybWF0IG9mIHRoZSBmb3JtOlxuICogWFhYWFhYWFgtWFhYWC1YWFhYLVhYWFgtWFhYWFhYWFhYWFhYXG4gKi9cbnZhciBieXRlVG9IZXggPSBbXTtcbmZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyArK2kpIHtcbiAgYnl0ZVRvSGV4W2ldID0gKGkgKyAweDEwMCkudG9TdHJpbmcoMTYpLnN1YnN0cigxKTtcbn1cblxuZnVuY3Rpb24gYnl0ZXNUb1V1aWQoYnVmLCBvZmZzZXQpIHtcbiAgdmFyIGkgPSBvZmZzZXQgfHwgMDtcbiAgdmFyIGJ0aCA9IGJ5dGVUb0hleDtcbiAgLy8gam9pbiB1c2VkIHRvIGZpeCBtZW1vcnkgaXNzdWUgY2F1c2VkIGJ5IGNvbmNhdGVuYXRpb246IGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMxNzUjYzRcbiAgcmV0dXJuIChbXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSxcbiAgICBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLCAnLScsXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgJy0nLFxuICAgIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sICctJyxcbiAgICBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLCAnLScsXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSxcbiAgICBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLFxuICAgIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV1cbiAgXSkuam9pbignJyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYnl0ZXNUb1V1aWQ7XG4iLCJpbXBvcnQgeyBDYW5UaHJ1c3QgfSBmcm9tIFwiLi4vLi4vLi4vaW50ZXJmYWNlcy9jYW4tdGhydXN0XCI7XHJcbmltcG9ydCB7IFNoaXBQb2QgfSBmcm9tIFwiLi4vLi4vc2hpcC1wb2RcIjtcclxuaW1wb3J0IHsgQ29uc3RhbnRzIH0gZnJvbSBcIi4uLy4uLy4uL3V0aWxpdGllcy9jb25zdGFudHNcIjtcclxuaW1wb3J0IHsgU2hpcEF0dGFjaG1lbnQgfSBmcm9tIFwiLi4vc2hpcC1hdHRhY2htZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVGhydXN0ZXJBdHRhY2htZW50IGV4dGVuZHMgU2hpcEF0dGFjaG1lbnQgaW1wbGVtZW50cyBDYW5UaHJ1c3Qge1xyXG4gICAgc2hpcDogU2hpcFBvZDtcclxuICAgIHNjZW5lOiBQaGFzZXIuU2NlbmU7XHJcbiAgICBwcml2YXRlIGZsYXJlUGFydGljbGVzOiBQaGFzZXIuR2FtZU9iamVjdHMuUGFydGljbGVzLlBhcnRpY2xlRW1pdHRlck1hbmFnZXI7XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lOiBQaGFzZXIuU2NlbmUpIHtcclxuICAgICAgICBzdXBlcihzY2VuZSk7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuZmxhcmVQYXJ0aWNsZXMgPSBzY2VuZS5hZGQucGFydGljbGVzKCdmbGFyZXMnKTtcclxuICAgICAgICB0aGlzLmdhbWVPYmogPSB0aGlzLnNjZW5lLmFkZC5zcHJpdGUoMCwgMCwgJ3RocnVzdGVyJyk7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmdhbWVPYmopO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpOiB2b2lkIHtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICB0cmlnZ2VyKCk6IHZvaWQge1xyXG4gICAgICAgIGlmKHRoaXMuYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGhydXN0Rm93YXJkcygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgdGhydXN0Rm93YXJkcygpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmFwcGx5VGhydXN0KENvbnN0YW50cy5USFJVU1RFUl9GT1JDRSwgQ29uc3RhbnRzLkZVRUxfUEVSX1RIUlVTVCwgQ29uc3RhbnRzLkhFQVRfUEVSX1RIUlVTVCk7XHJcbiAgICAgICAgdGhpcy5kaXNwbGF5VGhydXN0ZXJGaXJlKENvbnN0YW50cy5GbGFyZS55ZWxsb3csIDAuMiwgMSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHByaXZhdGUgbGFzdEJvb3N0VGltZTogbnVtYmVyID0gMDtcclxuICAgIGJvb3N0Rm9yd2FyZHMoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2NlbmUuZ2FtZS5nZXRUaW1lKCkgPj0gdGhpcy5sYXN0Qm9vc3RUaW1lICsgQ29uc3RhbnRzLkJPT1NURVJfQ09PTERPV05fVElNRSkge1xyXG4gICAgICAgICAgICB0aGlzLmFwcGx5VGhydXN0KENvbnN0YW50cy5CT09TVEVSX0ZPUkNFLCBDb25zdGFudHMuRlVFTF9QRVJfQk9PU1QsIENvbnN0YW50cy5IRUFUX1BFUl9CT09TVCk7XHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheVRocnVzdGVyRmlyZShDb25zdGFudHMuRmxhcmUuYmx1ZSwgMSwgMTApO1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RCb29zdFRpbWUgPSB0aGlzLnNjZW5lLmdhbWUuZ2V0VGltZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdHJhZmVMZWZ0KCk6IHZvaWQge1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIHN0cmFmZVJpZ2h0KCk6IHZvaWQge1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIHRocnVzdEJhY2t3YXJkcygpOiB2b2lkIHtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFwcGx5VGhydXN0KGZvcmNlOiBudW1iZXIsIGZ1ZWw6IG51bWJlciwgaGVhdDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2hpcC5nZXRSZW1haW5pbmdGdWVsKCkgPiAwKSB7XHJcbiAgICAgICAgICAgIGxldCBoZWFkaW5nOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5zaGlwLmdldEhlYWRpbmcoKTtcclxuICAgICAgICAgICAgbGV0IGRlbHRhVjogUGhhc2VyLk1hdGguVmVjdG9yMiA9IGhlYWRpbmcubXVsdGlwbHkobmV3IFBoYXNlci5NYXRoLlZlY3RvcjIoZm9yY2UsIGZvcmNlKSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2hpcC5nZXRQaHlzaWNzQm9keSgpLnZlbG9jaXR5LmFkZChkZWx0YVYpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5zaGlwLnJlZHVjZUZ1ZWwoZnVlbCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2hpcC5hcHBseUhlYXRpbmcoaGVhdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZGlzcGxheVRocnVzdGVyRmlyZShjb2xvdXI6IENvbnN0YW50cy5GbGFyZSwgc3RhcnRTY2FsZTogbnVtYmVyLCBxdWFudGl0eTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgLy8gbWFrZSB0aHJ1c3RlciBmaXJlXHJcbiAgICAgICAgbGV0IHNoaXBQb3NpdGlvbjogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuc2hpcC5nZXRSZWFsTG9jYXRpb24oKTtcclxuICAgICAgICBsZXQgZW1pc3Npb25Qb3NpdGlvbjogUGhhc2VyLk1hdGguVmVjdG9yMiA9IG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKDIwLCAwKS5hZGQoc2hpcFBvc2l0aW9uKTtcclxuICAgICAgICBsZXQgbmVnYXRlZFNoaXBIZWFkaW5nOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5zaGlwLmdldEhlYWRpbmcoKS5uZWdhdGUoKTtcclxuICAgICAgICBsZXQgYWRqdXN0ZWRFbWlzc2lvblBvc2l0aW9uOiBQaGFzZXIuR2VvbS5Qb2ludCA9IFBoYXNlci5NYXRoLlJvdGF0ZUFyb3VuZChlbWlzc2lvblBvc2l0aW9uLCBzaGlwUG9zaXRpb24ueCwgc2hpcFBvc2l0aW9uLnksIFBoYXNlci5NYXRoLkRlZ1RvUmFkKHRoaXMuc2hpcC5nZXRSb3RhdGlvbigpKSk7XHJcbiAgICAgICAgbGV0IHNoaXBWZWxvY2l0eTogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuc2hpcC5nZXRWZWxvY2l0eSgpO1xyXG4gICAgICAgIHRoaXMuZmxhcmVQYXJ0aWNsZXMuY3JlYXRlRW1pdHRlcih7XHJcbiAgICAgICAgICAgIGZyYW1lOiBjb2xvdXIgYXMgbnVtYmVyLFxyXG4gICAgICAgICAgICB4OiBhZGp1c3RlZEVtaXNzaW9uUG9zaXRpb24ueCxcclxuICAgICAgICAgICAgeTogYWRqdXN0ZWRFbWlzc2lvblBvc2l0aW9uLnksXHJcbiAgICAgICAgICAgIGxpZmVzcGFuOiB7IG1pbjogMjUwLCBtYXg6IDUwMCB9LFxyXG4gICAgICAgICAgICBzcGVlZFg6IHsgbWluOiAobmVnYXRlZFNoaXBIZWFkaW5nLngqMTAwKStzaGlwVmVsb2NpdHkueCwgbWF4OiAobmVnYXRlZFNoaXBIZWFkaW5nLngqNTAwKStzaGlwVmVsb2NpdHkueCB9LFxyXG4gICAgICAgICAgICBzcGVlZFk6IHsgbWluOiAobmVnYXRlZFNoaXBIZWFkaW5nLnkqMTAwKStzaGlwVmVsb2NpdHkueSwgbWF4OiAobmVnYXRlZFNoaXBIZWFkaW5nLnkqNTAwKStzaGlwVmVsb2NpdHkueSB9LFxyXG4gICAgICAgICAgICBhbmdsZTogMCxcclxuICAgICAgICAgICAgZ3Jhdml0eVg6IDAsXHJcbiAgICAgICAgICAgIGdyYXZpdHlZOiAwLFxyXG4gICAgICAgICAgICBzY2FsZTogeyBzdGFydDogc3RhcnRTY2FsZSwgZW5kOiAwIH0sXHJcbiAgICAgICAgICAgIHF1YW50aXR5OiBxdWFudGl0eSxcclxuICAgICAgICAgICAgYmxlbmRNb2RlOiAnQUREJyxcclxuICAgICAgICAgICAgbWF4UGFydGljbGVzOiAxXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBTaGlwUG9kIH0gZnJvbSBcIi4uL3NoaXAtcG9kXCI7XHJcbmltcG9ydCB7IEhhc0dhbWVPYmplY3QgfSBmcm9tIFwiLi4vLi4vaW50ZXJmYWNlcy9oYXMtZ2FtZS1vYmplY3RcIjtcclxuaW1wb3J0IHsgVXBkYXRhYmxlIH0gZnJvbSBcIi4uLy4uL2ludGVyZmFjZXMvdXBkYXRhYmxlXCI7XHJcbmltcG9ydCB7IEhhc0xvY2F0aW9uIH0gZnJvbSBcIi4uLy4uL2ludGVyZmFjZXMvaGFzLWxvY2F0aW9uXCI7XHJcbmltcG9ydCB7IEhhc0ludGVncml0eSB9IGZyb20gXCIuLi8uLi9pbnRlcmZhY2VzL2hhcy1pbnRlZ3JpdHlcIjtcclxuaW1wb3J0IHsgQ29uc3RhbnRzIH0gZnJvbSBcIi4uLy4uL3V0aWxpdGllcy9jb25zdGFudHNcIjtcclxuaW1wb3J0IHsgQXR0YWNobWVudExvY2F0aW9uIH0gZnJvbSBcIi4vYXR0YWNobWVudC1sb2NhdGlvblwiO1xyXG5pbXBvcnQgeyBIZWxwZXJzIH0gZnJvbSBcIi4uLy4uL3V0aWxpdGllcy9oZWxwZXJzXCI7XHJcbmltcG9ydCB7IEhhc1BoeXNpY3NHYW1lT2JqZWN0IH0gZnJvbSBcIi4uLy4uL2ludGVyZmFjZXMvaGFzLXBoeXNpY3MtZ2FtZS1vYmplY3RcIjtcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBTaGlwQXR0YWNobWVudCBpbXBsZW1lbnRzIFVwZGF0YWJsZSwgSGFzR2FtZU9iamVjdDxQaGFzZXIuR2FtZU9iamVjdHMuU3ByaXRlPiwgSGFzUGh5c2ljc0dhbWVPYmplY3QsIEhhc0xvY2F0aW9uLCBIYXNJbnRlZ3JpdHkge1xyXG4gICAgcHJvdGVjdGVkIHNoaXA6IFNoaXBQb2Q7XHJcbiAgICBwcm90ZWN0ZWQgc2NlbmU6IFBoYXNlci5TY2VuZTtcclxuICAgIHByb3RlY3RlZCBnYW1lT2JqOiBQaGFzZXIuR2FtZU9iamVjdHMuU3ByaXRlO1xyXG4gICAgcHJvdGVjdGVkIGludGVncml0eTogbnVtYmVyO1xyXG4gICAgcHJvdGVjdGVkIGF0dGFjaG1lbnRMb2NhdGlvbjogQXR0YWNobWVudExvY2F0aW9uO1xyXG4gICAgXHJcbiAgICBpc1Rocm93bjogYm9vbGVhbjtcclxuICAgIGFjdGl2ZTogYm9vbGVhbjtcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3Ioc2NlbmU6IFBoYXNlci5TY2VuZSkge1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5pbnRlZ3JpdHkgPSBDb25zdGFudHMuTUFYX0lOVEVHUklUWTtcclxuICAgICAgICB0aGlzLmlzVGhyb3duID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgYXR0YWNoKHNoaXA6IFNoaXBQb2QsIGxvY2F0aW9uOiBBdHRhY2htZW50TG9jYXRpb24gPSBBdHRhY2htZW50TG9jYXRpb24uZnJvbnQpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnNoaXAgPSBzaGlwO1xyXG4gICAgICAgIHRoaXMuc2V0QXR0YWNobWVudExvY2F0aW9uKGxvY2F0aW9uKTtcclxuICAgICAgICBsZXQgY2VudHJlOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5zaGlwLmdldFJlYWxMb2NhdGlvbigpO1xyXG4gICAgICAgIHRoaXMuZ2V0UGh5c2ljc0JvZHkoKS5wb3NpdGlvbiA9IGNlbnRyZTsgLy8gY2VudHJlIG9uIHNoaXAgbG9jYXRpb25cclxuICAgICAgICB0aGlzLmdldFBoeXNpY3NCb2R5KCkucm90YXRpb24gPSB0aGlzLnNoaXAuZ2V0Um90YXRpb24oKTsgLy8gc2V0IGhlYWRpbmcgdG8gbWF0Y2ggc2hpcFxyXG4gICAgfVxyXG5cclxuICAgIGRldGFjaCgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnNoaXAgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuYXR0YWNobWVudExvY2F0aW9uID0gbnVsbDtcclxuICAgICAgICBsZXQgZ286IFBoYXNlci5HYW1lT2JqZWN0cy5HYW1lT2JqZWN0ID0gdGhpcy5nZXRHYW1lT2JqZWN0KCk7XHJcbiAgICAgICAgZ28uc2V0QWN0aXZlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuc2NlbmUuYWRkLmV4aXN0aW5nKGdvKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgZ2V0R2FtZU9iamVjdCgpOiBQaGFzZXIuR2FtZU9iamVjdHMuU3ByaXRlIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nYW1lT2JqO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFBoeXNpY3NCb2R5KCk6IFBoYXNlci5QaHlzaWNzLkFyY2FkZS5Cb2R5IHtcclxuICAgICAgICBsZXQgZ286IFBoYXNlci5HYW1lT2JqZWN0cy5TcHJpdGUgPSB0aGlzLmdldEdhbWVPYmplY3QoKTtcclxuICAgICAgICBpZiAoZ28pIHtcclxuICAgICAgICAgICAgcmV0dXJuIGdvLmJvZHkgYXMgUGhhc2VyLlBoeXNpY3MuQXJjYWRlLkJvZHk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGFic3RyYWN0IHVwZGF0ZSgpOiB2b2lkO1xyXG5cclxuICAgIGFic3RyYWN0IHRyaWdnZXIoKTogdm9pZDtcclxuXHJcbiAgICBnZXRSb3RhdGlvbigpOiBudW1iZXIge1xyXG4gICAgICAgIGxldCByb3RhdGlvbjogbnVtYmVyID0gdGhpcy5nZXRHYW1lT2JqZWN0KCkuYW5nbGU7XHJcbiAgICAgICAgaWYgKHRoaXMuc2hpcCkge1xyXG4gICAgICAgICAgICByb3RhdGlvbiArPSB0aGlzLnNoaXAuZ2V0Um90YXRpb24oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJvdGF0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmV0dXJucyBhIG5vcm1hbGlzZWQge1BoYXNlci5NYXRoLlZlY3RvcjJ9IHJlcHJlc2VudGluZyBcclxuICAgICAqIHRoZSBkaXJlY3Rpb24gdGhpcyBvYmplY3Qgd291bGQgdHJhdmVsXHJcbiAgICAgKi9cclxuICAgIGdldEhlYWRpbmcoKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgbGV0IHJvdGF0aW9uOiBudW1iZXIgPSB0aGlzLmdldFJvdGF0aW9uKCk7XHJcbiAgICAgICAgcmV0dXJuIEhlbHBlcnMuZ2V0SGVhZGluZyhyb3RhdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0U3BlZWQoKTogbnVtYmVyIHtcclxuICAgICAgICBsZXQgc3BlZWQ6IG51bWJlciA9IHRoaXMuZ2V0VmVsb2NpdHkoKS5sZW5ndGgoKTtcclxuICAgICAgICBpZiAodGhpcy5zaGlwKSB7XHJcbiAgICAgICAgICAgIHNwZWVkICs9IHRoaXMuc2hpcC5nZXRTcGVlZCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc3BlZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VmVsb2NpdHkoKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0UGh5c2ljc0JvZHkoKSkge1xyXG4gICAgICAgICAgICBsZXQgdmVsb2NpdHk6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSB0aGlzLmdldFBoeXNpY3NCb2R5KCkudmVsb2NpdHkuY2xvbmUoKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc2hpcCkge1xyXG4gICAgICAgICAgICAgICAgdmVsb2NpdHkuYWRkKHRoaXMuc2hpcC5nZXRWZWxvY2l0eSgpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdmVsb2NpdHk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBQaGFzZXIuTWF0aC5WZWN0b3IyLlpFUk87XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0TG9jYXRpb24oKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgbGV0IGNhbWVyYVBvczogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuc2NlbmUuY2FtZXJhcy5tYWluLmdldFdvcmxkUG9pbnQoMCwgMCk7XHJcbiAgICAgICAgbGV0IHJlYWxMb2M6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSB0aGlzLmdldFJlYWxMb2NhdGlvbigpO1xyXG4gICAgICAgIHJldHVybiBuZXcgUGhhc2VyLk1hdGguVmVjdG9yMihyZWFsTG9jLnggLSBjYW1lcmFQb3MueCwgcmVhbExvYy55IC0gY2FtZXJhUG9zLnkpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFJlYWxMb2NhdGlvbigpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICBsZXQgZ286IFBoYXNlci5HYW1lT2JqZWN0cy5TcHJpdGUgPSB0aGlzLmdldEdhbWVPYmplY3QoKTtcclxuICAgICAgICBpZiAoZ28pIHtcclxuICAgICAgICAgICAgbGV0IHJlYWxMb2M6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSBuZXcgUGhhc2VyLk1hdGguVmVjdG9yMihnby54LCBnby55KTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc2hpcCkge1xyXG4gICAgICAgICAgICAgICAgcmVhbExvYy5hZGQodGhpcy5zaGlwLmdldFJlYWxMb2NhdGlvbigpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcmVhbExvYztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFBoYXNlci5NYXRoLlZlY3RvcjIuWkVSTztcclxuICAgIH1cclxuXHJcbiAgICBnZXRJbnRlZ3JpdHkoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pbnRlZ3JpdHk7XHJcbiAgICB9XHJcblxyXG4gICAgc3VzdGFpbkRhbWFnZShhbW91bnQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuaW50ZWdyaXR5IC09IGFtb3VudDtcclxuICAgICAgICBpZiAodGhpcy5pbnRlZ3JpdHkgPD0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmludGVncml0eSA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXBhaXIoYW1vdW50OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmludGVncml0eSA9IGFtb3VudDtcclxuICAgICAgICBpZiAodGhpcy5pbnRlZ3JpdHkgPiBDb25zdGFudHMuTUFYX0lOVEVHUklUWSkge1xyXG4gICAgICAgICAgICB0aGlzLmludGVncml0eSA9IENvbnN0YW50cy5NQVhfSU5URUdSSVRZO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkZXN0cm95KCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zaGlwLmF0dGFjaG1lbnRzLnJlbW92ZUF0dGFjaG1lbnQodGhpcy5hdHRhY2htZW50TG9jYXRpb24pO1xyXG4gICAgICAgIHRoaXMuZ2V0R2FtZU9iamVjdCgpLmRlc3Ryb3koKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRBdHRhY2htZW50TG9jYXRpb24obG9jOiBBdHRhY2htZW50TG9jYXRpb24pOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmF0dGFjaG1lbnRMb2NhdGlvbiA9IGxvYztcclxuICAgIH1cclxufSIsImltcG9ydCB7IENhblNob290IH0gZnJvbSBcIi4uLy4uLy4uL2ludGVyZmFjZXMvY2FuLXNob290XCI7XHJcbmltcG9ydCB7IFNoaXBBdHRhY2htZW50IH0gZnJvbSBcIi4uL3NoaXAtYXR0YWNobWVudFwiO1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIE9mZmVuY2VBdHRhY2htZW50IGV4dGVuZHMgU2hpcEF0dGFjaG1lbnQgaW1wbGVtZW50cyBDYW5TaG9vdCB7XHJcbiAgICBwcm90ZWN0ZWQgbWF4QW1tbzogbnVtYmVyO1xyXG4gICAgcHJvdGVjdGVkIHJlbWFpbmluZ0FtbW86IG51bWJlcjtcclxuICAgIHByb3RlY3RlZCBsYXN0RmlyZWQ6IG51bWJlcjtcclxuICAgIHByb3RlY3RlZCBmaXJpbmdEZWxheTogbnVtYmVyO1xyXG4gICAgXHJcbiAgICByZWxvYWQoYW1vdW50OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnJlbWFpbmluZ0FtbW8gKz0gYW1vdW50O1xyXG4gICAgICAgIGlmICh0aGlzLnJlbWFpbmluZ0FtbW8gPiB0aGlzLm1heEFtbW8pIHtcclxuICAgICAgICAgICAgdGhpcy5yZW1haW5pbmdBbW1vID0gdGhpcy5tYXhBbW1vO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRSZW1haW5pbmdBbW1vKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVtYWluaW5nQW1tbztcclxuICAgIH1cclxuXHJcbiAgICB0cmlnZ2VyKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmZpcmUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYWJzdHJhY3QgZmlyZShkaXJlY3Rpb24/OiBQaGFzZXIuTWF0aC5WZWN0b3IyKTogdm9pZDtcclxuICAgIGFic3RyYWN0IHVwZGF0ZSgpOiB2b2lkO1xyXG59IiwiaW1wb3J0IHsgTW91c2UgfSBmcm9tIFwiLi4vdXRpbGl0aWVzL21vdXNlXCI7XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgWm9vbWFibGVTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBwcm90ZWN0ZWQgbW91c2U6IE1vdXNlO1xyXG4gICAgcHJpdmF0ZSBpbmNyZW1lbnQ6IG51bWJlcjtcclxuICAgIHByaXZhdGUgbWluWm9vbTogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBtYXhab29tOiBudW1iZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IoaW5jcmVtZW50OiBudW1iZXIsIGNvbmZpZzogUGhhc2VyLlR5cGVzLlNjZW5lcy5TZXR0aW5nc0NvbmZpZykge1xyXG4gICAgICAgIHN1cGVyKGNvbmZpZyk7XHJcbiAgICAgICAgdGhpcy5pbmNyZW1lbnQgPSBpbmNyZW1lbnQ7XHJcbiAgICAgICAgdGhpcy5taW5ab29tID0gMSAtIChpbmNyZW1lbnQgKiAyKTtcclxuICAgICAgICB0aGlzLm1heFpvb20gPSAxO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBwcmVsb2FkKCk6IHZvaWQ7XHJcblxyXG4gICAgcHVibGljIGNyZWF0ZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLm1vdXNlID0gbmV3IE1vdXNlKHRoaXMpO1xyXG4gICAgICAgIHRoaXMubW91c2Uub25XaGVlbFVwKChzY3JvbGxBbW91bnQ6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICBsZXQgY3VycmVudFpvb206IG51bWJlciA9IHRoaXMuY2FtZXJhcy5tYWluLnpvb207XHJcbiAgICAgICAgICAgIC8vIHpvb20gb3V0XHJcbiAgICAgICAgICAgIGxldCBuZXdab29tOiBudW1iZXIgPSBjdXJyZW50Wm9vbSAtIHRoaXMuaW5jcmVtZW50O1xyXG4gICAgICAgICAgICBpZiAobmV3Wm9vbSA8IHRoaXMubWluWm9vbSkge1xyXG4gICAgICAgICAgICAgICAgbmV3Wm9vbSA9IHRoaXMubWluWm9vbTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgem9vbWluZyBmcm9tICR7Y3VycmVudFpvb219IHRvICR7bmV3Wm9vbX1gKTtcclxuICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uem9vbVRvKG5ld1pvb20pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubW91c2Uub25XaGVlbERvd24oKHNjcm9sbEFtb3VudDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBjdXJyZW50Wm9vbTogbnVtYmVyID0gdGhpcy5jYW1lcmFzLm1haW4uem9vbTtcclxuICAgICAgICAgICAgLy8gem9vbSBpblxyXG4gICAgICAgICAgICBsZXQgbmV3Wm9vbTogbnVtYmVyID0gY3VycmVudFpvb20gKyB0aGlzLmluY3JlbWVudDtcclxuICAgICAgICAgICAgaWYgKG5ld1pvb20gPiB0aGlzLm1heFpvb20pIHtcclxuICAgICAgICAgICAgICAgIG5ld1pvb20gPSB0aGlzLm1heFpvb207XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYHpvb21pbmcgZnJvbSAke2N1cnJlbnRab29tfSB0byAke25ld1pvb219YCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnpvb21UbyhuZXdab29tKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgdXBkYXRlKCk6IHZvaWQ7XHJcbn0iLCJpbXBvcnQgeyBTaGlwU2NlbmUgfSBmcm9tIFwiLi9zY2VuZXMvc2hpcC1zY2VuZVwiO1xyXG5pbXBvcnQgeyBHbG9iYWxzIH0gZnJvbSBcIi4vdXRpbGl0aWVzL2dsb2JhbHNcIjtcclxuaW1wb3J0IHsgT3ZlcmxheVNjZW5lIH0gZnJvbSBcIi4vc2NlbmVzL292ZXJsYXktc2NlbmVcIjtcclxuaW1wb3J0IHsgRmFyU3RhcnNTY2VuZSB9IGZyb20gXCIuL3NjZW5lcy9mYXItc3RhcnMtc2NlbmVcIjtcclxuaW1wb3J0IHsgU3lzdGVtU2NlbmUgfSBmcm9tIFwiLi9zY2VuZXMvc3lzdGVtLXNjZW5lXCI7XHJcblxyXG5jb25zdCBnYW1lQ29uZmlnOiBQaGFzZXIuVHlwZXMuQ29yZS5HYW1lQ29uZmlnID0ge1xyXG4gICAgdHlwZTogUGhhc2VyLkFVVE8sXHJcbiAgICBzY2FsZToge1xyXG4gICAgICAgIHdpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aCxcclxuICAgICAgICBoZWlnaHQ6IHdpbmRvdy5pbm5lckhlaWdodFxyXG4gICAgfSxcclxuICAgIGJhY2tncm91bmRDb2xvcjogJyMwMDAwMDAnLFxyXG4gICAgcGFyZW50OiAnc3BhY2Utc2ltJyxcclxuICAgIHBoeXNpY3M6IHtcclxuICAgICAgICBkZWZhdWx0OiAnYXJjYWRlJyxcclxuICAgICAgICBhcmNhZGU6IHtcclxuICAgICAgICAgICAgZ3Jhdml0eTogeyB4OiAwLCB5OiAwIH0sXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHNjZW5lOiBbRmFyU3RhcnNTY2VuZSwgU3lzdGVtU2NlbmUsIFNoaXBTY2VuZSwgT3ZlcmxheVNjZW5lXVxyXG59O1xyXG5leHBvcnQgY29uc3QgZ2FtZTogUGhhc2VyLkdhbWUgPSBuZXcgUGhhc2VyLkdhbWUoZ2FtZUNvbmZpZyk7XHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4ge1xyXG4gICAgZ2FtZS5zY2FsZS5yZWZyZXNoKCk7XHJcbn0pO1xyXG5cclxuR2xvYmFscy5nYW1lID0gZ2FtZTtcclxuR2xvYmFscy5kZWJ1ZyA9IHRydWU7IiwiaW1wb3J0IHsgU2hpcFBvZCB9IGZyb20gXCIuLi9zaGlwcy9zaGlwLXBvZFwiO1xyXG5pbXBvcnQgeyBHbG9iYWxzIH0gZnJvbSBcIi4uL3V0aWxpdGllcy9nbG9iYWxzXCI7XHJcbmltcG9ydCB7IENhbm5vbkF0dGFjaG1lbnQgfSBmcm9tIFwiLi4vc2hpcHMvYXR0YWNobWVudHMvb2ZmZW5jZS9jYW5ub24tYXR0YWNobWVudFwiO1xyXG5pbXBvcnQgeyBab29tYWJsZVNjZW5lIH0gZnJvbSBcIi4vem9vbWFibGUtc2NlbmVcIjtcclxuaW1wb3J0IHsgQXR0YWNobWVudExvY2F0aW9uIH0gZnJvbSBcIi4uL3NoaXBzL2F0dGFjaG1lbnRzL2F0dGFjaG1lbnQtbG9jYXRpb25cIjtcclxuaW1wb3J0IHsgU2hpcEF0dGFjaG1lbnQgfSBmcm9tIFwiLi4vc2hpcHMvYXR0YWNobWVudHMvc2hpcC1hdHRhY2htZW50XCI7XHJcbmltcG9ydCB7IFRocnVzdGVyQXR0YWNobWVudCB9IGZyb20gXCIuLi9zaGlwcy9hdHRhY2htZW50cy91dGlsaXR5L3RocnVzdGVyLWF0dGFjaG1lbnRcIjtcclxuaW1wb3J0IHsgSGVscGVycyB9IGZyb20gXCIuLi91dGlsaXRpZXMvaGVscGVyc1wiO1xyXG5pbXBvcnQgeyBPZmZlbmNlQXR0YWNobWVudCB9IGZyb20gXCIuLi9zaGlwcy9hdHRhY2htZW50cy9vZmZlbmNlL29mZmVuY2UtYXR0YWNobWVudFwiO1xyXG5cclxuY29uc3Qgc2NlbmVDb25maWc6IFBoYXNlci5UeXBlcy5TY2VuZXMuU2V0dGluZ3NDb25maWcgPSB7XHJcbiAgICBhY3RpdmU6IHRydWUsXHJcbiAgICB2aXNpYmxlOiB0cnVlLFxyXG4gICAga2V5OiAnU2hpcFNjZW5lJ1xyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIFNoaXBTY2VuZSBleHRlbmRzIFpvb21hYmxlU2NlbmUge1xyXG4gICAgcHJpdmF0ZSBwbGF5ZXI6IFNoaXBQb2Q7XHJcblxyXG4gICAgLyoqIElucHV0IEhhbmRsZXJzICovXHJcbiAgICBwcml2YXRlIHRocnVzdEtleTogUGhhc2VyLklucHV0LktleWJvYXJkLktleTtcclxuICAgIHByaXZhdGUgYm9vc3RLZXk6IFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXk7XHJcbiAgICBwcml2YXRlIHJvdGF0ZUF0dGFjaG1lbnRzQ2xvY2t3aXNlS2V5OiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5O1xyXG4gICAgcHJpdmF0ZSByb3RhdGVBdHRhY2htZW50c0FudGlDbG9ja3dpc2VLZXk6IFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXk7XHJcbiAgICBwcml2YXRlIGRldGFjaEF0dGFjaG1lbnRLZXk6IFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXk7XHJcbiAgICBwcml2YXRlIHRocm93QXR0YWNobWVudEtleTogUGhhc2VyLklucHV0LktleWJvYXJkLktleTtcclxuICAgIHByaXZhdGUgZ3JhYkF0dGFjaG1lbnRLZXk6IFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXk7XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKDAuNCwgc2NlbmVDb25maWcpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdzaGlwLXBvZCcsICcuL2Fzc2V0cy9zcHJpdGVzL3NoaXAtcG9kLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndGhydXN0ZXInLCAnLi9hc3NldHMvc3ByaXRlcy90aHJ1c3Rlci5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2Nhbm5vbicsICcuL2Fzc2V0cy9zcHJpdGVzL2Nhbm5vbi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ2ZsYXJlcycsICcuL2Fzc2V0cy9wYXJ0aWNsZXMvZmxhcmVzLnBuZycsIHtcclxuICAgICAgICAgICAgZnJhbWVXaWR0aDogMTMwLFxyXG4gICAgICAgICAgICBmcmFtZUhlaWdodDogMTMyLFxyXG4gICAgICAgICAgICBzdGFydEZyYW1lOiAwLFxyXG4gICAgICAgICAgICBlbmRGcmFtZTogNFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZXhwbG9zaW9uJywgJy4vYXNzZXRzL3BhcnRpY2xlcy9leHBsb3Npb24ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdidWxsZXQnLCAnLi9hc3NldHMvc3ByaXRlcy9idWxsZXQucG5nJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLmNyZWF0ZSgpO1xyXG4gICAgICAgIHRoaXMucGxheWVyID0gbmV3IFNoaXBQb2QodGhpcywge1xyXG4gICAgICAgICAgICB4OiAwLFxyXG4gICAgICAgICAgICB5OiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgR2xvYmFscy5wbGF5ZXIgPSB0aGlzLnBsYXllcjtcclxuICAgICAgICB0aGlzLnBsYXllci5zZXRUYXJnZXQodGhpcy5tb3VzZSk7XHJcblxyXG4gICAgICAgIC8vIFRNUFxyXG4gICAgICAgIGxldCB0aHJ1c3RlcjogVGhydXN0ZXJBdHRhY2htZW50ID0gbmV3IFRocnVzdGVyQXR0YWNobWVudCh0aGlzKTtcclxuICAgICAgICB0aGlzLnBsYXllci5hdHRhY2htZW50cy5hZGRBdHRhY2htZW50KHRocnVzdGVyKTtcclxuICAgICAgICBsZXQgY2Fub246IENhbm5vbkF0dGFjaG1lbnQgPSBuZXcgQ2Fubm9uQXR0YWNobWVudCh0aGlzKTtcclxuICAgICAgICB0aGlzLnBsYXllci5hdHRhY2htZW50cy5hZGRBdHRhY2htZW50KGNhbm9uKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXR1cENhbWVyYSh0aGlzLnBsYXllcik7XHJcbiAgICAgICAgdGhpcy5zZXR1cElucHV0SGFuZGxpbmcoKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgLy8gYWN0aXZhdGUgVGhydXN0ZXJcclxuICAgICAgICBpZiAodGhpcy50aHJ1c3RLZXkuaXNEb3duKSB7XHJcbiAgICAgICAgICAgIGxldCB0aHJ1c3RlcjogVGhydXN0ZXJBdHRhY2htZW50ID0gdGhpcy5wbGF5ZXIuZ2V0VGhydXN0ZXIoKTtcclxuICAgICAgICAgICAgaWYgKHRocnVzdGVyKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJ1c3Rlci50aHJ1c3RGb3dhcmRzKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gYWN0aXZhdGUgQm9vc3RlclxyXG4gICAgICAgIGlmICh0aGlzLmJvb3N0S2V5LmlzRG93bikge1xyXG4gICAgICAgICAgICBsZXQgdGhydXN0ZXI6IFRocnVzdGVyQXR0YWNobWVudCA9IHRoaXMucGxheWVyLmdldFRocnVzdGVyKCk7XHJcbiAgICAgICAgICAgIGlmICh0aHJ1c3Rlcikge1xyXG4gICAgICAgICAgICAgICAgdGhydXN0ZXIuYm9vc3RGb3J3YXJkcygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIExlZnQgQ2xpY2s6IGZpcmUgYW55IHdlYXBvbnNcclxuICAgICAgICBpZiAodGhpcy5pbnB1dC5hY3RpdmVQb2ludGVyLmxlZnRCdXR0b25Eb3duKCkpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaT0wOyBpPEhlbHBlcnMuZW51bUxlbmd0aChBdHRhY2htZW50TG9jYXRpb24pOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsYXllci5hdHRhY2htZW50cy5nZXRBdHRhY2htZW50KGkpIGluc3RhbmNlb2YgT2ZmZW5jZUF0dGFjaG1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgYTogT2ZmZW5jZUF0dGFjaG1lbnQgPSB0aGlzLnBsYXllci5hdHRhY2htZW50cy5nZXRBdHRhY2htZW50KGkpIGFzIE9mZmVuY2VBdHRhY2htZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIGEudHJpZ2dlcigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFJpZ2h0IENsaWNrOiBhY3RpdmF0ZSBmcm9udCBhdHRhY2htZW50XHJcbiAgICAgICAgaWYgKHRoaXMuaW5wdXQuYWN0aXZlUG9pbnRlci5yaWdodEJ1dHRvbkRvd24oKSkge1xyXG4gICAgICAgICAgICBsZXQgYTogU2hpcEF0dGFjaG1lbnQgPSB0aGlzLnBsYXllci5hdHRhY2htZW50cy5nZXRBdHRhY2htZW50KEF0dGFjaG1lbnRMb2NhdGlvbi5mcm9udCk7XHJcbiAgICAgICAgICAgIGlmIChhKSB7XHJcbiAgICAgICAgICAgICAgICBhLnRyaWdnZXIoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5yb3RhdGVBdHRhY2htZW50c0Nsb2Nrd2lzZUtleS5pc0Rvd24pIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIuYXR0YWNobWVudHMucm90YXRlQXR0YWNobWVudHNDbG9ja3dpc2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMucm90YXRlQXR0YWNobWVudHNBbnRpQ2xvY2t3aXNlS2V5LmlzRG93bikge1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllci5hdHRhY2htZW50cy5yb3RhdGVBdHRhY2htZW50c0FudGlDbG9ja3dpc2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gZGlzY2FyZCBGcm9udCBBdHRhY2htZW50XHJcbiAgICAgICAgaWYgKHRoaXMuZGV0YWNoQXR0YWNobWVudEtleS5pc0Rvd24pIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIuYXR0YWNobWVudHMucmVtb3ZlQXR0YWNobWVudChBdHRhY2htZW50TG9jYXRpb24uZnJvbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyB0aHJvdyBGcm9udCBBdHRhY2htZW50XHJcbiAgICAgICAgaWYgKHRoaXMudGhyb3dBdHRhY2htZW50S2V5LmlzRG93bikge1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllci5hdHRhY2htZW50cy50aHJvd0F0dGFjaG1lbnQoQXR0YWNobWVudExvY2F0aW9uLmZyb250KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gZ3JhYiBuZWFyYnkgQXR0YWNobWVudHNcclxuICAgICAgICBpZiAodGhpcy5ncmFiQXR0YWNobWVudEtleS5pc0Rvd24pIHtcclxuICAgICAgICAgICAgLy8gVE9ETzogZ3JhYiBuZWFyYnkgYXR0YWNobWVudHMgYW5kIGF0dGFjaCB0aGVtIHRvIHBsYXllclxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnBsYXllci51cGRhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldHVwSW5wdXRIYW5kbGluZygpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnRocnVzdEtleSA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KCdTUEFDRScsIHRydWUsIHRydWUpO1xyXG4gICAgICAgIHRoaXMuYm9vc3RLZXkgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleSgnVEFCJywgdHJ1ZSwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMucm90YXRlQXR0YWNobWVudHNDbG9ja3dpc2VLZXkgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleSgnRScsIHRydWUsIGZhbHNlKTtcclxuICAgICAgICB0aGlzLnJvdGF0ZUF0dGFjaG1lbnRzQW50aUNsb2Nrd2lzZUtleSA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KCdRJywgdHJ1ZSwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuZGV0YWNoQXR0YWNobWVudEtleSA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KCdYJywgdHJ1ZSwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMudGhyb3dBdHRhY2htZW50S2V5ID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoJ1QnLCB0cnVlLCBmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5ncmFiQXR0YWNobWVudEtleSA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KCdHJywgdHJ1ZSwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuZ2FtZS5jYW52YXMub25jb250ZXh0bWVudSA9IChlKSA9PiB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXR1cENhbWVyYShwbGF5ZXI6IFNoaXBQb2QpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5iYWNrZ3JvdW5kQ29sb3Iuc2V0RnJvbVJHQih7cjogMCwgZzogMCwgYjogMH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldFpvb20oMSk7XHJcbiAgICAgICAgbGV0IHBsYXllckxvYzogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHBsYXllci5nZXRSZWFsTG9jYXRpb24oKTtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5jZW50ZXJPbihwbGF5ZXJMb2MueCwgcGxheWVyTG9jLnkpO1xyXG5cclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zdGFydEZvbGxvdyhwbGF5ZXIuZ2V0R2FtZU9iamVjdCgpLCB0cnVlLCAxLCAxKTtcclxuICAgIH1cclxufSIsImltcG9ydCBcInBoYXNlclwiO1xyXG5pbXBvcnQgeyBSTkcgfSBmcm9tIFwiLi4vdXRpbGl0aWVzL3JuZ1wiO1xyXG5pbXBvcnQgeyBVcGRhdGFibGUgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy91cGRhdGFibGVcIjtcclxuaW1wb3J0IHsgQ2FuVGFyZ2V0IH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvY2FuLXRhcmdldFwiO1xyXG5pbXBvcnQgeyBIYXNMb2NhdGlvbiB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2hhcy1sb2NhdGlvblwiO1xyXG5pbXBvcnQgeyBIYXNHYW1lT2JqZWN0IH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvaGFzLWdhbWUtb2JqZWN0XCI7XHJcbmltcG9ydCB7IEhhc0ludGVncml0eSB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2hhcy1pbnRlZ3JpdHlcIjtcclxuaW1wb3J0IHsgQ29uc3RhbnRzIH0gZnJvbSBcIi4uL3V0aWxpdGllcy9jb25zdGFudHNcIjtcclxuaW1wb3J0IHsgSGVscGVycyB9IGZyb20gXCIuLi91dGlsaXRpZXMvaGVscGVyc1wiO1xyXG5pbXBvcnQgeyBIYXNUZW1wZXJhdHVyZSB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2hhcy10ZW1wZXJhdHVyZVwiO1xyXG5pbXBvcnQgeyBIYXNGdWVsIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvaGFzLWZ1ZWxcIjtcclxuaW1wb3J0IHsgSGFzUGh5c2ljc0dhbWVPYmplY3QgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9oYXMtcGh5c2ljcy1nYW1lLW9iamVjdFwiO1xyXG5pbXBvcnQgeyBBdHRhY2htZW50TWFuYWdlciB9IGZyb20gXCIuL2F0dGFjaG1lbnRzL2F0dGFjaG1lbnQtbWFuYWdlclwiO1xyXG5pbXBvcnQgeyBUaHJ1c3RlckF0dGFjaG1lbnQgfSBmcm9tIFwiLi9hdHRhY2htZW50cy91dGlsaXR5L3RocnVzdGVyLWF0dGFjaG1lbnRcIjtcclxuaW1wb3J0IHsgU2hpcFBvZENvbmZpZyB9IGZyb20gXCIuL3NoaXAtcG9kLWNvbmZpZ1wiO1xyXG5pbXBvcnQgeyBBdHRhY2htZW50TG9jYXRpb24gfSBmcm9tIFwiLi9hdHRhY2htZW50cy9hdHRhY2htZW50LWxvY2F0aW9uXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU2hpcFBvZCBpbXBsZW1lbnRzIFVwZGF0YWJsZSwgQ2FuVGFyZ2V0LCBIYXNMb2NhdGlvbiwgSGFzR2FtZU9iamVjdDxQaGFzZXIuR2FtZU9iamVjdHMuQ29udGFpbmVyPiwgSGFzUGh5c2ljc0dhbWVPYmplY3QsIEhhc0ludGVncml0eSwgSGFzVGVtcGVyYXR1cmUsIEhhc0Z1ZWwge1xyXG4gICAgcHJpdmF0ZSBpZDogc3RyaW5nOyAvLyBVVUlEXHJcbiAgICBwcml2YXRlIHNjZW5lOiBQaGFzZXIuU2NlbmU7XHJcbiAgICBwcml2YXRlIHRhcmdldDogSGFzTG9jYXRpb247XHJcbiAgICBwcml2YXRlIGludGVncml0eTogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSByZW1haW5pbmdGdWVsOiBudW1iZXIgPSAxMDA7XHJcbiAgICBwcml2YXRlIHRlbXBlcmF0dXJlOiBudW1iZXIgPSAwOyAvLyBpbiBDZWxjaXVzXHJcbiAgICBwcml2YXRlIGZsYXJlUGFydGljbGVzOiBQaGFzZXIuR2FtZU9iamVjdHMuUGFydGljbGVzLlBhcnRpY2xlRW1pdHRlck1hbmFnZXI7XHJcbiAgICBwcml2YXRlIGV4cGxvc2lvblBhcnRpY2xlczogUGhhc2VyLkdhbWVPYmplY3RzLlBhcnRpY2xlcy5QYXJ0aWNsZUVtaXR0ZXJNYW5hZ2VyO1xyXG5cclxuICAgIGFjdGl2ZTogYm9vbGVhbiA9IHRydWU7XHJcbiAgICBhdHRhY2htZW50czogQXR0YWNobWVudE1hbmFnZXI7XHJcbiAgICBjb250YWluZXJHYW1lT2JqOiBQaGFzZXIuR2FtZU9iamVjdHMuQ29udGFpbmVyO1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZTogUGhhc2VyLlNjZW5lLCBjb25maWc/OiBTaGlwUG9kQ29uZmlnKSB7XHJcbiAgICAgICAgaWYgKCFjb25maWcpIHtcclxuICAgICAgICAgICAgY29uZmlnID0ge3g6IDAsIHk6IDB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmlkID0gUk5HLmd1aWQoKTtcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXJHYW1lT2JqID0gc2NlbmUuYWRkLmNvbnRhaW5lcihjb25maWcueCwgY29uZmlnLnkpO1xyXG4gICAgICAgIHRoaXMuZmxhcmVQYXJ0aWNsZXMgPSBzY2VuZS5hZGQucGFydGljbGVzKCdmbGFyZXMnKTtcclxuICAgICAgICB0aGlzLmV4cGxvc2lvblBhcnRpY2xlcyA9IHNjZW5lLmFkZC5wYXJ0aWNsZXMoJ2V4cGxvc2lvbicpO1xyXG4gICAgICAgIGxldCBzaGlwOiBQaGFzZXIuR2FtZU9iamVjdHMuU3ByaXRlID0gc2NlbmUuYWRkLnNwcml0ZSgwLCAwLCAnc2hpcC1wb2QnKTtcclxuICAgICAgICB0aGlzLmdldEdhbWVPYmplY3QoKS5hZGQoc2hpcCk7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmNvbnRhaW5lckdhbWVPYmopO1xyXG4gICAgICAgIHRoaXMuZ2V0UGh5c2ljc0JvZHkoKS5ib3VuY2Uuc2V0VG8oMC43LCAwLjcpO1xyXG4gICAgICAgIHRoaXMuZ2V0UGh5c2ljc0JvZHkoKS5zZXRNYXhWZWxvY2l0eShDb25zdGFudHMuTUFYX1ZFTE9DSVRZLCBDb25zdGFudHMuTUFYX1ZFTE9DSVRZKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmludGVncml0eSA9IENvbnN0YW50cy5NQVhfSU5URUdSSVRZO1xyXG4gICAgICAgIHRoaXMuYXR0YWNobWVudHMgPSBuZXcgQXR0YWNobWVudE1hbmFnZXIodGhpcywgdGhpcy5zY2VuZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VGhydXN0ZXIoKTogVGhydXN0ZXJBdHRhY2htZW50IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hdHRhY2htZW50cy5nZXRBdHRhY2htZW50KEF0dGFjaG1lbnRMb2NhdGlvbi5iYWNrKSBhcyBUaHJ1c3RlckF0dGFjaG1lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmxvb2tBdFRhcmdldCgpO1xyXG4gICAgICAgICAgICB0aGlzLmNoZWNrT3ZlcmhlYXRDb25kaXRpb24oKTtcclxuICAgICAgICAgICAgdGhpcy5hdHRhY2htZW50cy51cGRhdGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBjaGVja3MgZm9yIGFuZCBhcHBsaWVzIGRhbWFnZSBiYXNlZCBvbiBkZWdyZWVzIG92ZXIgc2FmZSB0ZW1wZXJhdHVyZSBhdCBhIHJhdGVcclxuICAgICAqIGRlZmluZWQgYnkge0NvbnN0YW50cy5PVkVSSEVBVF9DSEVDS19JTlRFUlZBTH0gbWlsbGlzZWNvbmRzIGJldHdlZW4gZWFjaCBjaGVjay5cclxuICAgICAqIGFsc28gYXBwbGllcyBjb29saW5nIGF0IGEgcmF0ZSBvZiB7Q29uc3RhbnRzLkNPT0xJTkdfUkFURX1cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBjaGVja092ZXJoZWF0Q29uZGl0aW9uKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zY2VuZS5nYW1lLmdldFRpbWUoKSA+IHRoaXMubGFzdE92ZXJoZWF0Q2hlY2sgKyBDb25zdGFudHMuT1ZFUkhFQVRfQ0hFQ0tfSU5URVJWQUwpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRlbXBlcmF0dXJlID4gQ29uc3RhbnRzLk1BWF9URU1QRVJBVFVSRSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVzdHJveSgpOyAvLyB3ZSBhcmUgZGVhZFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudGVtcGVyYXR1cmUgPiBDb25zdGFudHMuTUFYX1NBRkVfVEVNUEVSQVRVUkUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyByZWR1Y2UgaW50ZWdyaXR5IGJhc2VkIG9uIGRlZ3JlZXMgb3ZlciBzYWZlIG9wZXJhdGluZyB0ZW1wXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRlbHRhOiBudW1iZXIgPSAodGhpcy50ZW1wZXJhdHVyZSAtIENvbnN0YW50cy5NQVhfU0FGRV9URU1QRVJBVFVSRSkgLyBDb25zdGFudHMuTUFYX1NBRkVfVEVNUEVSQVRVUkU7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdXN0YWluRGFtYWdlKGRlbHRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlDb29saW5nKENvbnN0YW50cy5DT09MSU5HX1JBVEUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0T3ZlcmhlYXRDaGVjayA9IHRoaXMuc2NlbmUuZ2FtZS5nZXRUaW1lKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGxhc3RPdmVyaGVhdENoZWNrOiBudW1iZXIgPSAwO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVE9ETzogbmVlZGVkIHNvIHdlIGNhbiB1c2UgRmxvYXRpbmcgT3JpZ2luXHJcbiAgICAgKi9cclxuICAgIGdldFJlYWxMb2NhdGlvbigpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICBsZXQgZ286IFBoYXNlci5HYW1lT2JqZWN0cy5Db250YWluZXIgPSB0aGlzLmdldEdhbWVPYmplY3QoKTtcclxuICAgICAgICBpZiAoZ28pIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKGdvLngsIGdvLnkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUGhhc2VyLk1hdGguVmVjdG9yMi5aRVJPO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogdGhlIGxvY2F0aW9uIHdpdGhpbiB0aGUgdmlld2FibGUgYXJlYVxyXG4gICAgICogQHJldHVybnMgYSB7UGhhc2VyLk1hdGguVmVjdG9yMn0gb2Zmc2V0IGZvciBsb2NhdGlvbiB3aXRoaW4gY3VycmVudCBcclxuICAgICAqIHZpZXdhYmxlIGFyZWFcclxuICAgICAqL1xyXG4gICAgZ2V0TG9jYXRpb24oKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgbGV0IGNhbWVyYVBvczogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuc2NlbmUuY2FtZXJhcy5tYWluLmdldFdvcmxkUG9pbnQoMCwgMCk7XHJcbiAgICAgICAgbGV0IHJlYWxMb2M6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSB0aGlzLmdldFJlYWxMb2NhdGlvbigpO1xyXG4gICAgICAgIHJldHVybiBuZXcgUGhhc2VyLk1hdGguVmVjdG9yMihyZWFsTG9jLnggLSBjYW1lcmFQb3MueCwgcmVhbExvYy55IC0gY2FtZXJhUG9zLnkpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldElkKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0R2FtZU9iamVjdCgpOiBQaGFzZXIuR2FtZU9iamVjdHMuQ29udGFpbmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXJHYW1lT2JqO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFBoeXNpY3NCb2R5KCk6IFBoYXNlci5QaHlzaWNzLkFyY2FkZS5Cb2R5IHtcclxuICAgICAgICBsZXQgZ286IFBoYXNlci5HYW1lT2JqZWN0cy5Db250YWluZXIgPSB0aGlzLmdldEdhbWVPYmplY3QoKTtcclxuICAgICAgICBpZiAoZ28pIHtcclxuICAgICAgICAgICAgcmV0dXJuIGdvLmJvZHkgYXMgUGhhc2VyLlBoeXNpY3MuQXJjYWRlLkJvZHk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFRhcmdldCh0YXJnZXQ6IEhhc0xvY2F0aW9uKSB7XHJcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VGFyZ2V0KCk6IEhhc0xvY2F0aW9uIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50YXJnZXQ7XHJcbiAgICB9XHJcblxyXG4gICAgbG9va0F0VGFyZ2V0KCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmdldFBoeXNpY3NCb2R5KCkpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0VGFyZ2V0KCkpIHtcclxuICAgICAgICAgICAgICAgIGxldCB0YXJnZXRQb3MgPSB0aGlzLmdldFRhcmdldCgpLmdldFJlYWxMb2NhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHNoaXBQb3MgPSB0aGlzLmdldFJlYWxMb2NhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHJhZGlhbnM6IG51bWJlciA9IFBoYXNlci5NYXRoLkFuZ2xlLkJldHdlZW4odGFyZ2V0UG9zLngsIHRhcmdldFBvcy55LCBzaGlwUG9zLngsIHNoaXBQb3MueSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGVncmVlczogbnVtYmVyID0gUGhhc2VyLk1hdGguUmFkVG9EZWcocmFkaWFucyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdldFBoeXNpY3NCb2R5KCkucm90YXRpb24gPSBkZWdyZWVzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogdGhlIHJvdGF0aW9uIG9mIHRoZSBTaGlwJ3Mge0dhbWVPYmplY3QuYm9keX0gaW4gZGVncmVlc1xyXG4gICAgICovXHJcbiAgICBnZXRSb3RhdGlvbigpOiBudW1iZXIge1xyXG4gICAgICAgIGlmICh0aGlzLmdldEdhbWVPYmplY3QoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRHYW1lT2JqZWN0KCkuYW5nbGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEhlYWRpbmcoKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgcmV0dXJuIEhlbHBlcnMuZ2V0SGVhZGluZyh0aGlzLmdldFJvdGF0aW9uKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFNwZWVkKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VmVsb2NpdHkoKS5sZW5ndGgoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRWZWxvY2l0eSgpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICBpZiAodGhpcy5nZXRQaHlzaWNzQm9keSgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFBoeXNpY3NCb2R5KCkudmVsb2NpdHkuY2xvbmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFBoYXNlci5NYXRoLlZlY3RvcjIuWkVSTztcclxuICAgIH1cclxuXHJcbiAgICBnZXRUZW1wZXJhdHVyZSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRlbXBlcmF0dXJlO1xyXG4gICAgfVxyXG5cclxuICAgIGFwcGx5SGVhdGluZyhkZWdyZWVzOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnRlbXBlcmF0dXJlICs9IGRlZ3JlZXM7XHJcbiAgICB9XHJcblxyXG4gICAgYXBwbHlDb29saW5nKGRlZ3JlZXM6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMudGVtcGVyYXR1cmUgLT0gZGVncmVlcztcclxuICAgICAgICBpZiAodGhpcy50ZW1wZXJhdHVyZSA8IDApIHtcclxuICAgICAgICAgICAgdGhpcy50ZW1wZXJhdHVyZSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlZHVjZUZ1ZWwoYW1vdW50OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnJlbWFpbmluZ0Z1ZWwgLT0gYW1vdW50O1xyXG4gICAgICAgIGlmICh0aGlzLnJlbWFpbmluZ0Z1ZWwgPCAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVtYWluaW5nRnVlbCA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFkZEZ1ZWwoYW1vdW50OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnJlbWFpbmluZ0Z1ZWwgKz0gYW1vdW50O1xyXG4gICAgICAgIGlmICh0aGlzLnJlbWFpbmluZ0Z1ZWwgPiBDb25zdGFudHMuTUFYX0ZVRUwpIHtcclxuICAgICAgICAgICAgdGhpcy5yZW1haW5pbmdGdWVsID0gQ29uc3RhbnRzLk1BWF9GVUVMO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRSZW1haW5pbmdGdWVsKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVtYWluaW5nRnVlbDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRJbnRlZ3JpdHkoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pbnRlZ3JpdHk7XHJcbiAgICB9XHJcblxyXG4gICAgc3VzdGFpbkRhbWFnZShhbW91bnQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuaW50ZWdyaXR5IC09IGFtb3VudDtcclxuICAgICAgICBpZiAodGhpcy5pbnRlZ3JpdHkgPD0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmludGVncml0eSA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveSgpOyAvLyB3ZSBhcmUgZGVhZFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXBhaXIoYW1vdW50OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmludGVncml0eSA9IGFtb3VudDtcclxuICAgICAgICBpZiAodGhpcy5pbnRlZ3JpdHkgPiBDb25zdGFudHMuTUFYX0lOVEVHUklUWSkge1xyXG4gICAgICAgICAgICB0aGlzLmludGVncml0eSA9IENvbnN0YW50cy5NQVhfSU5URUdSSVRZO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkZXN0cm95KCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5kaXNwbGF5U2hpcEV4cGxvc2lvbigpO1xyXG4gICAgICAgIHRoaXMuZ2V0R2FtZU9iamVjdCgpLmRlc3Ryb3koKTtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lckdhbWVPYmogPSBudWxsO1xyXG4gICAgICAgIC8vIFRPRE86IHNpZ25hbCBlbmQgb2YgZ2FtZSBhbmQgZGlzcGxheSBtZW51XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBkaXNwbGF5U2hpcEV4cGxvc2lvbigpOiB2b2lkIHtcclxuICAgICAgICBsZXQgcG9zOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5nZXRSZWFsTG9jYXRpb24oKTtcclxuICAgICAgICB0aGlzLmV4cGxvc2lvblBhcnRpY2xlcy5jcmVhdGVFbWl0dGVyKHtcclxuICAgICAgICAgICAgeDogcG9zLngsXHJcbiAgICAgICAgICAgIHk6IHBvcy55LFxyXG4gICAgICAgICAgICBsaWZlc3BhbjogeyBtaW46IDUwMCwgbWF4OiAxMDAwIH0sXHJcbiAgICAgICAgICAgIHNwZWVkWDogeyBtaW46IC0xLCBtYXg6IDEgfSxcclxuICAgICAgICAgICAgc3BlZWRZOiB7IG1pbjogLTEsIG1heDogMSB9LFxyXG4gICAgICAgICAgICBhbmdsZTogeyBtaW46IC0xODAsIG1heDogMTc5IH0sXHJcbiAgICAgICAgICAgIGdyYXZpdHlYOiAwLFxyXG4gICAgICAgICAgICBncmF2aXR5WTogMCxcclxuICAgICAgICAgICAgc2NhbGU6IHsgc3RhcnQ6IDEsIGVuZDogMCB9LFxyXG4gICAgICAgICAgICBibGVuZE1vZGU6ICdBREQnLFxyXG4gICAgICAgICAgICBtYXhQYXJ0aWNsZXM6IDNcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmZsYXJlUGFydGljbGVzLmNyZWF0ZUVtaXR0ZXIoe1xyXG4gICAgICAgICAgICBmcmFtZTogQ29uc3RhbnRzLkZsYXJlLnJlZCBhcyBudW1iZXIsXHJcbiAgICAgICAgICAgIHg6IHBvcy54LFxyXG4gICAgICAgICAgICB5OiBwb3MueSxcclxuICAgICAgICAgICAgbGlmZXNwYW46IHsgbWluOiAxMDAsIG1heDogNTAwIH0sXHJcbiAgICAgICAgICAgIHNwZWVkWDogeyBtaW46IC02MDAsIG1heDogNjAwIH0sXHJcbiAgICAgICAgICAgIHNwZWVkWTogeyBtaW46IC02MDAsIG1heDogNjAwIH0sXHJcbiAgICAgICAgICAgIGFuZ2xlOiB7IG1pbjogLTE4MCwgbWF4OiAxNzkgfSxcclxuICAgICAgICAgICAgZ3Jhdml0eVg6IDAsXHJcbiAgICAgICAgICAgIGdyYXZpdHlZOiAwLFxyXG4gICAgICAgICAgICBzY2FsZTogeyBzdGFydDogMSwgZW5kOiAwIH0sXHJcbiAgICAgICAgICAgIGJsZW5kTW9kZTogJ0FERCcsXHJcbiAgICAgICAgICAgIG1heFBhcnRpY2xlczogMTBcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fMTNfXzsiLCJpbXBvcnQgeyB2NCB9IGZyb20gXCJ1dWlkXCI7XHJcblxyXG5leHBvcnQgbW9kdWxlIFJORyB7XHJcbiAgICBleHBvcnQgZnVuY3Rpb24gaW50KG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW47XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGd1aWQoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdjQoKTtcclxuICAgIH1cclxufSIsInZhciB2MSA9IHJlcXVpcmUoJy4vdjEnKTtcbnZhciB2NCA9IHJlcXVpcmUoJy4vdjQnKTtcblxudmFyIHV1aWQgPSB2NDtcbnV1aWQudjEgPSB2MTtcbnV1aWQudjQgPSB2NDtcblxubW9kdWxlLmV4cG9ydHMgPSB1dWlkO1xuIiwidmFyIHJuZyA9IHJlcXVpcmUoJy4vbGliL3JuZycpO1xudmFyIGJ5dGVzVG9VdWlkID0gcmVxdWlyZSgnLi9saWIvYnl0ZXNUb1V1aWQnKTtcblxuLy8gKipgdjEoKWAgLSBHZW5lcmF0ZSB0aW1lLWJhc2VkIFVVSUQqKlxuLy9cbi8vIEluc3BpcmVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS9MaW9zSy9VVUlELmpzXG4vLyBhbmQgaHR0cDovL2RvY3MucHl0aG9uLm9yZy9saWJyYXJ5L3V1aWQuaHRtbFxuXG52YXIgX25vZGVJZDtcbnZhciBfY2xvY2tzZXE7XG5cbi8vIFByZXZpb3VzIHV1aWQgY3JlYXRpb24gdGltZVxudmFyIF9sYXN0TVNlY3MgPSAwO1xudmFyIF9sYXN0TlNlY3MgPSAwO1xuXG4vLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkIGZvciBBUEkgZGV0YWlsc1xuZnVuY3Rpb24gdjEob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgdmFyIGkgPSBidWYgJiYgb2Zmc2V0IHx8IDA7XG4gIHZhciBiID0gYnVmIHx8IFtdO1xuXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgbm9kZSA9IG9wdGlvbnMubm9kZSB8fCBfbm9kZUlkO1xuICB2YXIgY2xvY2tzZXEgPSBvcHRpb25zLmNsb2Nrc2VxICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNsb2Nrc2VxIDogX2Nsb2Nrc2VxO1xuXG4gIC8vIG5vZGUgYW5kIGNsb2Nrc2VxIG5lZWQgdG8gYmUgaW5pdGlhbGl6ZWQgdG8gcmFuZG9tIHZhbHVlcyBpZiB0aGV5J3JlIG5vdFxuICAvLyBzcGVjaWZpZWQuICBXZSBkbyB0aGlzIGxhemlseSB0byBtaW5pbWl6ZSBpc3N1ZXMgcmVsYXRlZCB0byBpbnN1ZmZpY2llbnRcbiAgLy8gc3lzdGVtIGVudHJvcHkuICBTZWUgIzE4OVxuICBpZiAobm9kZSA9PSBudWxsIHx8IGNsb2Nrc2VxID09IG51bGwpIHtcbiAgICB2YXIgc2VlZEJ5dGVzID0gcm5nKCk7XG4gICAgaWYgKG5vZGUgPT0gbnVsbCkge1xuICAgICAgLy8gUGVyIDQuNSwgY3JlYXRlIGFuZCA0OC1iaXQgbm9kZSBpZCwgKDQ3IHJhbmRvbSBiaXRzICsgbXVsdGljYXN0IGJpdCA9IDEpXG4gICAgICBub2RlID0gX25vZGVJZCA9IFtcbiAgICAgICAgc2VlZEJ5dGVzWzBdIHwgMHgwMSxcbiAgICAgICAgc2VlZEJ5dGVzWzFdLCBzZWVkQnl0ZXNbMl0sIHNlZWRCeXRlc1szXSwgc2VlZEJ5dGVzWzRdLCBzZWVkQnl0ZXNbNV1cbiAgICAgIF07XG4gICAgfVxuICAgIGlmIChjbG9ja3NlcSA9PSBudWxsKSB7XG4gICAgICAvLyBQZXIgNC4yLjIsIHJhbmRvbWl6ZSAoMTQgYml0KSBjbG9ja3NlcVxuICAgICAgY2xvY2tzZXEgPSBfY2xvY2tzZXEgPSAoc2VlZEJ5dGVzWzZdIDw8IDggfCBzZWVkQnl0ZXNbN10pICYgMHgzZmZmO1xuICAgIH1cbiAgfVxuXG4gIC8vIFVVSUQgdGltZXN0YW1wcyBhcmUgMTAwIG5hbm8tc2Vjb25kIHVuaXRzIHNpbmNlIHRoZSBHcmVnb3JpYW4gZXBvY2gsXG4gIC8vICgxNTgyLTEwLTE1IDAwOjAwKS4gIEpTTnVtYmVycyBhcmVuJ3QgcHJlY2lzZSBlbm91Z2ggZm9yIHRoaXMsIHNvXG4gIC8vIHRpbWUgaXMgaGFuZGxlZCBpbnRlcm5hbGx5IGFzICdtc2VjcycgKGludGVnZXIgbWlsbGlzZWNvbmRzKSBhbmQgJ25zZWNzJ1xuICAvLyAoMTAwLW5hbm9zZWNvbmRzIG9mZnNldCBmcm9tIG1zZWNzKSBzaW5jZSB1bml4IGVwb2NoLCAxOTcwLTAxLTAxIDAwOjAwLlxuICB2YXIgbXNlY3MgPSBvcHRpb25zLm1zZWNzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm1zZWNzIDogbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cbiAgLy8gUGVyIDQuMi4xLjIsIHVzZSBjb3VudCBvZiB1dWlkJ3MgZ2VuZXJhdGVkIGR1cmluZyB0aGUgY3VycmVudCBjbG9ja1xuICAvLyBjeWNsZSB0byBzaW11bGF0ZSBoaWdoZXIgcmVzb2x1dGlvbiBjbG9ja1xuICB2YXIgbnNlY3MgPSBvcHRpb25zLm5zZWNzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm5zZWNzIDogX2xhc3ROU2VjcyArIDE7XG5cbiAgLy8gVGltZSBzaW5jZSBsYXN0IHV1aWQgY3JlYXRpb24gKGluIG1zZWNzKVxuICB2YXIgZHQgPSAobXNlY3MgLSBfbGFzdE1TZWNzKSArIChuc2VjcyAtIF9sYXN0TlNlY3MpLzEwMDAwO1xuXG4gIC8vIFBlciA0LjIuMS4yLCBCdW1wIGNsb2Nrc2VxIG9uIGNsb2NrIHJlZ3Jlc3Npb25cbiAgaWYgKGR0IDwgMCAmJiBvcHRpb25zLmNsb2Nrc2VxID09PSB1bmRlZmluZWQpIHtcbiAgICBjbG9ja3NlcSA9IGNsb2Nrc2VxICsgMSAmIDB4M2ZmZjtcbiAgfVxuXG4gIC8vIFJlc2V0IG5zZWNzIGlmIGNsb2NrIHJlZ3Jlc3NlcyAobmV3IGNsb2Nrc2VxKSBvciB3ZSd2ZSBtb3ZlZCBvbnRvIGEgbmV3XG4gIC8vIHRpbWUgaW50ZXJ2YWxcbiAgaWYgKChkdCA8IDAgfHwgbXNlY3MgPiBfbGFzdE1TZWNzKSAmJiBvcHRpb25zLm5zZWNzID09PSB1bmRlZmluZWQpIHtcbiAgICBuc2VjcyA9IDA7XG4gIH1cblxuICAvLyBQZXIgNC4yLjEuMiBUaHJvdyBlcnJvciBpZiB0b28gbWFueSB1dWlkcyBhcmUgcmVxdWVzdGVkXG4gIGlmIChuc2VjcyA+PSAxMDAwMCkge1xuICAgIHRocm93IG5ldyBFcnJvcigndXVpZC52MSgpOiBDYW5cXCd0IGNyZWF0ZSBtb3JlIHRoYW4gMTBNIHV1aWRzL3NlYycpO1xuICB9XG5cbiAgX2xhc3RNU2VjcyA9IG1zZWNzO1xuICBfbGFzdE5TZWNzID0gbnNlY3M7XG4gIF9jbG9ja3NlcSA9IGNsb2Nrc2VxO1xuXG4gIC8vIFBlciA0LjEuNCAtIENvbnZlcnQgZnJvbSB1bml4IGVwb2NoIHRvIEdyZWdvcmlhbiBlcG9jaFxuICBtc2VjcyArPSAxMjIxOTI5MjgwMDAwMDtcblxuICAvLyBgdGltZV9sb3dgXG4gIHZhciB0bCA9ICgobXNlY3MgJiAweGZmZmZmZmYpICogMTAwMDAgKyBuc2VjcykgJSAweDEwMDAwMDAwMDtcbiAgYltpKytdID0gdGwgPj4+IDI0ICYgMHhmZjtcbiAgYltpKytdID0gdGwgPj4+IDE2ICYgMHhmZjtcbiAgYltpKytdID0gdGwgPj4+IDggJiAweGZmO1xuICBiW2krK10gPSB0bCAmIDB4ZmY7XG5cbiAgLy8gYHRpbWVfbWlkYFxuICB2YXIgdG1oID0gKG1zZWNzIC8gMHgxMDAwMDAwMDAgKiAxMDAwMCkgJiAweGZmZmZmZmY7XG4gIGJbaSsrXSA9IHRtaCA+Pj4gOCAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRtaCAmIDB4ZmY7XG5cbiAgLy8gYHRpbWVfaGlnaF9hbmRfdmVyc2lvbmBcbiAgYltpKytdID0gdG1oID4+PiAyNCAmIDB4ZiB8IDB4MTA7IC8vIGluY2x1ZGUgdmVyc2lvblxuICBiW2krK10gPSB0bWggPj4+IDE2ICYgMHhmZjtcblxuICAvLyBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGAgKFBlciA0LjIuMiAtIGluY2x1ZGUgdmFyaWFudClcbiAgYltpKytdID0gY2xvY2tzZXEgPj4+IDggfCAweDgwO1xuXG4gIC8vIGBjbG9ja19zZXFfbG93YFxuICBiW2krK10gPSBjbG9ja3NlcSAmIDB4ZmY7XG5cbiAgLy8gYG5vZGVgXG4gIGZvciAodmFyIG4gPSAwOyBuIDwgNjsgKytuKSB7XG4gICAgYltpICsgbl0gPSBub2RlW25dO1xuICB9XG5cbiAgcmV0dXJuIGJ1ZiA/IGJ1ZiA6IGJ5dGVzVG9VdWlkKGIpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHYxO1xuIiwidmFyIHJuZyA9IHJlcXVpcmUoJy4vbGliL3JuZycpO1xudmFyIGJ5dGVzVG9VdWlkID0gcmVxdWlyZSgnLi9saWIvYnl0ZXNUb1V1aWQnKTtcblxuZnVuY3Rpb24gdjQob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgdmFyIGkgPSBidWYgJiYgb2Zmc2V0IHx8IDA7XG5cbiAgaWYgKHR5cGVvZihvcHRpb25zKSA9PSAnc3RyaW5nJykge1xuICAgIGJ1ZiA9IG9wdGlvbnMgPT09ICdiaW5hcnknID8gbmV3IEFycmF5KDE2KSA6IG51bGw7XG4gICAgb3B0aW9ucyA9IG51bGw7XG4gIH1cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgdmFyIHJuZHMgPSBvcHRpb25zLnJhbmRvbSB8fCAob3B0aW9ucy5ybmcgfHwgcm5nKSgpO1xuXG4gIC8vIFBlciA0LjQsIHNldCBiaXRzIGZvciB2ZXJzaW9uIGFuZCBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGBcbiAgcm5kc1s2XSA9IChybmRzWzZdICYgMHgwZikgfCAweDQwO1xuICBybmRzWzhdID0gKHJuZHNbOF0gJiAweDNmKSB8IDB4ODA7XG5cbiAgLy8gQ29weSBieXRlcyB0byBidWZmZXIsIGlmIHByb3ZpZGVkXG4gIGlmIChidWYpIHtcbiAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgMTY7ICsraWkpIHtcbiAgICAgIGJ1ZltpICsgaWldID0gcm5kc1tpaV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGJ1ZiB8fCBieXRlc1RvVXVpZChybmRzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB2NDtcbiIsImltcG9ydCB7IEhhc0F0dGFjaG1lbnRzIH0gZnJvbSBcIi4uLy4uL2ludGVyZmFjZXMvaGFzLWF0dGFjaG1lbnRzXCI7XHJcbmltcG9ydCB7IFNoaXBBdHRhY2htZW50IH0gZnJvbSBcIi4vc2hpcC1hdHRhY2htZW50XCI7XHJcbmltcG9ydCB7IEhlbHBlcnMgfSBmcm9tIFwiLi4vLi4vdXRpbGl0aWVzL2hlbHBlcnNcIjtcclxuaW1wb3J0IHsgQXR0YWNobWVudExvY2F0aW9uIH0gZnJvbSBcIi4vYXR0YWNobWVudC1sb2NhdGlvblwiO1xyXG5pbXBvcnQgeyBVcGRhdGFibGUgfSBmcm9tIFwiLi4vLi4vaW50ZXJmYWNlcy91cGRhdGFibGVcIjtcclxuaW1wb3J0IHsgU2hpcFBvZCB9IGZyb20gXCIuLi9zaGlwLXBvZFwiO1xyXG5pbXBvcnQgeyBUaHJ1c3RlckF0dGFjaG1lbnQgfSBmcm9tIFwiLi91dGlsaXR5L3RocnVzdGVyLWF0dGFjaG1lbnRcIjtcclxuaW1wb3J0IHsgdGltZVN0YW1wIH0gZnJvbSBcImNvbnNvbGVcIjtcclxuaW1wb3J0IHsgQ29uc3RhbnRzIH0gZnJvbSBcIi4uLy4uL3V0aWxpdGllcy9jb25zdGFudHNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBdHRhY2htZW50TWFuYWdlciBpbXBsZW1lbnRzIEhhc0F0dGFjaG1lbnRzLCBVcGRhdGFibGUge1xyXG4gICAgcHJpdmF0ZSBhdHRhY2htZW50czogU2hpcEF0dGFjaG1lbnRbXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBzaGlwOiBTaGlwUG9kO1xyXG4gICAgcHJpdmF0ZSBzY2VuZTogUGhhc2VyLlNjZW5lO1xyXG4gICAgcHJpdmF0ZSBsYXN0Um90YXRlZFRpbWU6IG51bWJlcjtcclxuICAgIHByaXZhdGUgcm90YXRpb25EZWxheTogbnVtYmVyO1xyXG5cclxuICAgIGFjdGl2ZTogYm9vbGVhbjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQ6IFNoaXBQb2QsIHNjZW5lOiBQaGFzZXIuU2NlbmUpIHtcclxuICAgICAgICB0aGlzLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5zaGlwID0gcGFyZW50O1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLmxhc3RSb3RhdGVkVGltZSA9IDA7XHJcbiAgICAgICAgdGhpcy5yb3RhdGlvbkRlbGF5ID0gMTAwOyAvLyBtaWxsaXNlY29uZHNcclxuICAgICAgICBmb3IgKHZhciBpPTA7IGk8SGVscGVycy5lbnVtTGVuZ3RoKEF0dGFjaG1lbnRMb2NhdGlvbik7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzLnB1c2gobnVsbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5hY3RpdmUpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaT0wOyBpPHRoaXMuYXR0YWNobWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBhOiBTaGlwQXR0YWNobWVudCA9IHRoaXMuYXR0YWNobWVudHNbaV07XHJcbiAgICAgICAgICAgICAgICBpZiAoYSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGEudXBkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJvdGF0ZUF0dGFjaG1lbnRzQ2xvY2t3aXNlKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLnNjZW5lLmdhbWUuZ2V0VGltZSgpID4gdGhpcy5sYXN0Um90YXRlZFRpbWUgKyB0aGlzLnJvdGF0aW9uRGVsYXkpIHtcclxuICAgICAgICAgICAgbGV0IHRtcDogU2hpcEF0dGFjaG1lbnQgPSB0aGlzLmdldEF0dGFjaG1lbnQoSGVscGVycy5lbnVtTGVuZ3RoKEF0dGFjaG1lbnRMb2NhdGlvbiktMSk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGk9SGVscGVycy5lbnVtTGVuZ3RoKEF0dGFjaG1lbnRMb2NhdGlvbiktMTsgaT49MDsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaSA9PSBBdHRhY2htZW50TG9jYXRpb24uYmFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOyAvLyBza2lwXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoaSA9PSBBdHRhY2htZW50TG9jYXRpb24uYmFja0xlZnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzW2ldID0gdGhpcy5hdHRhY2htZW50c1tpLTJdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5hdHRhY2htZW50c1tpXSA9IHRoaXMuYXR0YWNobWVudHNbaS0xXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzWzBdID0gdG1wO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUF0dGFjaG1lbnRBbmdsZXMoKTtcclxuICAgICAgICAgICAgdGhpcy5sYXN0Um90YXRlZFRpbWUgPSB0aGlzLnNjZW5lLmdhbWUuZ2V0VGltZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgcm90YXRlQXR0YWNobWVudHNBbnRpQ2xvY2t3aXNlKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLnNjZW5lLmdhbWUuZ2V0VGltZSgpID4gdGhpcy5sYXN0Um90YXRlZFRpbWUgKyB0aGlzLnJvdGF0aW9uRGVsYXkpIHtcclxuICAgICAgICAgICAgbGV0IHRtcDogU2hpcEF0dGFjaG1lbnQgPSB0aGlzLmdldEF0dGFjaG1lbnQoMCk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGk9MDsgaTxIZWxwZXJzLmVudW1MZW5ndGgoQXR0YWNobWVudExvY2F0aW9uKTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaSA9PSBBdHRhY2htZW50TG9jYXRpb24uYmFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOyAvLyBza2lwXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoaSA9PSBBdHRhY2htZW50TG9jYXRpb24uYmFja1JpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdHRhY2htZW50c1tpXSA9IHRoaXMuYXR0YWNobWVudHNbaSsyXTtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNobWVudHNbaV0gPSB0aGlzLmF0dGFjaG1lbnRzW2krMV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5hdHRhY2htZW50c1tIZWxwZXJzLmVudW1MZW5ndGgoQXR0YWNobWVudExvY2F0aW9uKS0xXSA9IHRtcDtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVBdHRhY2htZW50QW5nbGVzKCk7XHJcbiAgICAgICAgICAgIHRoaXMubGFzdFJvdGF0ZWRUaW1lID0gdGhpcy5zY2VuZS5nYW1lLmdldFRpbWUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogYWRkcyB0aGUgcGFzc2VkIGluIHtTaGlwQXR0YWNobWVudH0gaW4ge0F0dGFjaG1lbnRMb2NhdGlvbi5mcm9udH0gb3JcclxuICAgICAqIHRoZSBmaXJzdCBvcGVuIHtBdHRhY2htZW50TG9jYXRpb259IGluIGEgY2xvY2t3aXNlIHNlYXJjaC4gaWYgbm8gb3BlblxyXG4gICAgICogc2xvdHMgZXhpc3QgdGhlbiB0aGUgZXhpc3Rpbmcge1NoaXBBdHRhY2htZW50fSBhdCB7QXR0YWNobWVudExvY2F0aW9uLmZyb250fVxyXG4gICAgICogaXMgZGV0YWNoZWQgYW5kIHJlcGxhY2VkIHdpdGggdGhlIHBhc3NlZCBpbiB7U2hpcEF0dGFjaG1lbnR9XHJcbiAgICAgKiBAcGFyYW0gYXR0YWNobWVudCB0aGUgYXR0YWNobWVudCB0byBiZSBhZGRlZFxyXG4gICAgICovXHJcbiAgICBhZGRBdHRhY2htZW50KGF0dGFjaG1lbnQ6IFNoaXBBdHRhY2htZW50KTogdm9pZCB7XHJcbiAgICAgICAgaWYgKGF0dGFjaG1lbnQgaW5zdGFuY2VvZiBUaHJ1c3RlckF0dGFjaG1lbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdmVBdHRhY2htZW50KEF0dGFjaG1lbnRMb2NhdGlvbi5iYWNrKTtcclxuICAgICAgICAgICAgdGhpcy5hdHRhY2htZW50c1tBdHRhY2htZW50TG9jYXRpb24uYmFja10gPSBhdHRhY2htZW50O1xyXG4gICAgICAgICAgICBhdHRhY2htZW50LmF0dGFjaCh0aGlzLnNoaXAsIEF0dGFjaG1lbnRMb2NhdGlvbi5iYWNrKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgYXR0YWNoZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGk9MDsgaTxIZWxwZXJzLmVudW1MZW5ndGgoQXR0YWNobWVudExvY2F0aW9uKTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuYXR0YWNobWVudHNbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzW2ldID0gYXR0YWNobWVudDtcclxuICAgICAgICAgICAgICAgICAgICBhdHRhY2htZW50LmF0dGFjaCh0aGlzLnNoaXAsIGkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGF0dGFjaGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gaWYgd2FzIHVuYWJsZSB0byBmaW5kIGFuIG9wZW4gc3BvdFxyXG4gICAgICAgICAgICBpZiAoIWF0dGFjaGVkKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBkZXRhY2ggY3VycmVudCBmcm9udCBhdHRhY2htZW50XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUF0dGFjaG1lbnQoQXR0YWNobWVudExvY2F0aW9uLmZyb250KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNobWVudHNbQXR0YWNobWVudExvY2F0aW9uLmZyb250XSA9IGF0dGFjaG1lbnQ7XHJcbiAgICAgICAgICAgICAgICBhdHRhY2htZW50LmF0dGFjaCh0aGlzLnNoaXAsIEF0dGFjaG1lbnRMb2NhdGlvbi5mcm9udCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc2hpcC5nZXRHYW1lT2JqZWN0KCkuYWRkKGF0dGFjaG1lbnQuZ2V0R2FtZU9iamVjdCgpKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZUF0dGFjaG1lbnRBbmdsZXMoKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmVtb3ZlQXR0YWNobWVudChsb2NhdGlvbjogQXR0YWNobWVudExvY2F0aW9uKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuYXR0YWNobWVudHNbbG9jYXRpb25dKSB7XHJcbiAgICAgICAgICAgIGxldCBhdHRhY2htZW50OiBTaGlwQXR0YWNobWVudCA9IHRoaXMuYXR0YWNobWVudHNbbG9jYXRpb25dO1xyXG4gICAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzW2xvY2F0aW9uXSA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuc2hpcC5nZXRHYW1lT2JqZWN0KCkucmVtb3ZlKGF0dGFjaG1lbnQuZ2V0R2FtZU9iamVjdCgpLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGF0dGFjaG1lbnQuZGV0YWNoKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBtb3ZlIGF0dGFjaG1lbnQgdG8gc2hpcCBsb2NhdGlvbiBhbmQgcm90YXRpb24gYW5kIGFwcGx5IGN1cnJlbnQgdmVsb2NpdHlcclxuICAgICAgICAgICAgbGV0IHNoaXBSZWFsTG9jYXRpb246IFBoYXNlci5NYXRoLlZlY3RvcjIgPSB0aGlzLnNoaXAuZ2V0UmVhbExvY2F0aW9uKCk7XHJcbiAgICAgICAgICAgIGxldCBuZXdMb2NhdGlvbjogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHNoaXBSZWFsTG9jYXRpb247XHJcbiAgICAgICAgICAgIGF0dGFjaG1lbnQuZ2V0R2FtZU9iamVjdCgpLnNldFBvc2l0aW9uKG5ld0xvY2F0aW9uLngsIG5ld0xvY2F0aW9uLnkpO1xyXG4gICAgICAgICAgICBsZXQgc2hpcFZlbG9jaXR5VmVjdG9yOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5zaGlwLmdldFZlbG9jaXR5KCk7XHJcbiAgICAgICAgICAgIGF0dGFjaG1lbnQuZ2V0UGh5c2ljc0JvZHkoKS52ZWxvY2l0eSA9IHNoaXBWZWxvY2l0eVZlY3RvcjtcclxuICAgICAgICAgICAgYXR0YWNobWVudC5nZXRQaHlzaWNzQm9keSgpLnJvdGF0aW9uICs9IHRoaXMuc2hpcC5nZXRSb3RhdGlvbigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgdGhyb3dBdHRhY2htZW50KGxvY2F0aW9uOiBBdHRhY2htZW50TG9jYXRpb24pOiB2b2lkIHtcclxuICAgICAgICBsZXQgYXR0YWNobWVudDogU2hpcEF0dGFjaG1lbnQgPSB0aGlzLmdldEF0dGFjaG1lbnQobG9jYXRpb24pO1xyXG4gICAgICAgIGlmIChhdHRhY2htZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQXR0YWNobWVudChsb2NhdGlvbik7XHJcbiAgICAgICAgICAgIGF0dGFjaG1lbnQuaXNUaHJvd24gPSB0cnVlO1xyXG4gICAgICAgICAgICBsZXQgaGVhZGluZyA9IGF0dGFjaG1lbnQuZ2V0SGVhZGluZygpO1xyXG4gICAgICAgICAgICBsZXQgZGVsdGFWOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gaGVhZGluZy5tdWx0aXBseShuZXcgUGhhc2VyLk1hdGguVmVjdG9yMihDb25zdGFudHMuVEhST1dfRk9SQ0UsIENvbnN0YW50cy5USFJPV19GT1JDRSkpO1xyXG4gICAgICAgICAgICAvLyBhZGQgdGhyb3cgZm9yY2UgdG8gY3VycmVudCB2ZWxvY2l0eVxyXG4gICAgICAgICAgICBhdHRhY2htZW50LmdldFBoeXNpY3NCb2R5KCkudmVsb2NpdHkuYWRkKGRlbHRhVik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBnZXRBdHRhY2htZW50cygpOiBTaGlwQXR0YWNobWVudFtdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hdHRhY2htZW50cztcclxuICAgIH1cclxuICAgIFxyXG4gICAgZ2V0QXR0YWNobWVudChsb2NhdGlvbjogQXR0YWNobWVudExvY2F0aW9uKTogU2hpcEF0dGFjaG1lbnQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmF0dGFjaG1lbnRzW2xvY2F0aW9uXTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHVwZGF0ZUF0dGFjaG1lbnRBbmdsZXMoKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IGFuZ2xlOiBudW1iZXIgPSAzNjAgLyA4O1xyXG4gICAgICAgIGZvciAodmFyIGk9MDsgaTx0aGlzLmF0dGFjaG1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBhdHQ6IFNoaXBBdHRhY2htZW50ID0gdGhpcy5hdHRhY2htZW50c1tpXTtcclxuICAgICAgICAgICAgaWYgKGF0dCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHJvdDogbnVtYmVyID0gMDtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQXR0YWNobWVudExvY2F0aW9uLmZyb250UmlnaHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdCA9IGFuZ2xlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIEF0dGFjaG1lbnRMb2NhdGlvbi5yaWdodDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm90ID0gYW5nbGUgKiAyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIEF0dGFjaG1lbnRMb2NhdGlvbi5iYWNrUmlnaHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdCA9IGFuZ2xlICogMztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBBdHRhY2htZW50TG9jYXRpb24uYmFjazpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm90ID0gYW5nbGUgKiA0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIEF0dGFjaG1lbnRMb2NhdGlvbi5iYWNrTGVmdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm90ID0gYW5nbGUgKiA1O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIEF0dGFjaG1lbnRMb2NhdGlvbi5sZWZ0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByb3QgPSBhbmdsZSAqIDY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQXR0YWNobWVudExvY2F0aW9uLmZyb250TGVmdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm90ID0gYW5nbGUgKiA3O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByb3QgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGF0dC5nZXRHYW1lT2JqZWN0KCkuYW5nbGUgPSByb3Q7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBIZWxwZXJzIH0gZnJvbSBcIi4uLy4uLy4uL3V0aWxpdGllcy9oZWxwZXJzXCI7XHJcbmltcG9ydCB7IEJ1bGxldCB9IGZyb20gXCIuL2J1bGxldFwiO1xyXG5pbXBvcnQgeyBPZmZlbmNlQXR0YWNobWVudCB9IGZyb20gXCIuL29mZmVuY2UtYXR0YWNobWVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENhbm5vbkF0dGFjaG1lbnQgZXh0ZW5kcyBPZmZlbmNlQXR0YWNobWVudCB7XHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZTogUGhhc2VyLlNjZW5lKSB7XHJcbiAgICAgICAgc3VwZXIoc2NlbmUpO1xyXG5cclxuICAgICAgICB0aGlzLm1heEFtbW8gPSA1MDA7XHJcbiAgICAgICAgdGhpcy5yZW1haW5pbmdBbW1vID0gdGhpcy5tYXhBbW1vO1xyXG4gICAgICAgIHRoaXMubGFzdEZpcmVkID0gMDtcclxuICAgICAgICB0aGlzLmZpcmluZ0RlbGF5ID0gMTAwMDsgLy8gbWlsbGlzZWNvbmRzXHJcblxyXG4gICAgICAgIHRoaXMuZ2FtZU9iaiA9IHRoaXMuc2NlbmUuYWRkLnNwcml0ZSgwLCAwLCAnY2Fubm9uJyk7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmdhbWVPYmopO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpOiB2b2lkIHtcclxuXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGZpcmUoZGlyZWN0aW9uPzogUGhhc2VyLk1hdGguVmVjdG9yMik6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5nZXRSZW1haW5pbmdBbW1vKCkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zY2VuZS5nYW1lLmdldFRpbWUoKSA+IHRoaXMubGFzdEZpcmVkICsgdGhpcy5maXJpbmdEZWxheSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBidWxsZXRPZmZzZXQ6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSBuZXcgUGhhc2VyLk1hdGguVmVjdG9yMigtMjAsIDApLmFkZCh0aGlzLmdldFJlYWxMb2NhdGlvbigpKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgc2hpcFJlYWxMb2NhdGlvbjogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuc2hpcC5nZXRSZWFsTG9jYXRpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgYWRqdXN0ZWRMb2NhdGlvbjogUGhhc2VyLkdlb20uUG9pbnQgPSBQaGFzZXIuTWF0aC5Sb3RhdGVBcm91bmQoYnVsbGV0T2Zmc2V0LCBzaGlwUmVhbExvY2F0aW9uLngsIHNoaXBSZWFsTG9jYXRpb24ueSwgUGhhc2VyLk1hdGguRGVnVG9SYWQodGhpcy5nZXRSb3RhdGlvbigpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IEJ1bGxldCh0aGlzLnNjZW5lLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHg6IGFkanVzdGVkTG9jYXRpb24ueCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeTogYWRqdXN0ZWRMb2NhdGlvbi55LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JjZTogMzAwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYW5nbGU6IHRoaXMuZ2V0Um90YXRpb24oKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRpbmdWOiB0aGlzLmdldFZlbG9jaXR5KClcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3RGaXJlZCA9IHRoaXMuc2NlbmUuZ2FtZS5nZXRUaW1lKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBIYXNHYW1lT2JqZWN0IH0gZnJvbSBcIi4uLy4uLy4uL2ludGVyZmFjZXMvaGFzLWdhbWUtb2JqZWN0XCI7XHJcbmltcG9ydCB7IEJ1bGxldFBhcmFtZXRlcnMgfSBmcm9tIFwiLi4vLi4vLi4vaW50ZXJmYWNlcy9idWxsZXQtcGFyYW1ldGVyc1wiO1xyXG5pbXBvcnQgeyBIYXNMb2NhdGlvbiB9IGZyb20gXCIuLi8uLi8uLi9pbnRlcmZhY2VzL2hhcy1sb2NhdGlvblwiO1xyXG5pbXBvcnQgeyBHbG9iYWxzIH0gZnJvbSBcIi4uLy4uLy4uL3V0aWxpdGllcy9nbG9iYWxzXCI7XHJcbmltcG9ydCB7IEhhc1BoeXNpY3NHYW1lT2JqZWN0IH0gZnJvbSBcIi4uLy4uLy4uL2ludGVyZmFjZXMvaGFzLXBoeXNpY3MtZ2FtZS1vYmplY3RcIjtcclxuaW1wb3J0IHsgSGVscGVycyB9IGZyb20gXCIuLi8uLi8uLi91dGlsaXRpZXMvaGVscGVyc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEJ1bGxldCBpbXBsZW1lbnRzIEhhc0dhbWVPYmplY3Q8UGhhc2VyLkdhbWVPYmplY3RzLlNwcml0ZT4sIEhhc1BoeXNpY3NHYW1lT2JqZWN0LCBIYXNMb2NhdGlvbiB7XHJcbiAgICBzY2VuZTogUGhhc2VyLlNjZW5lO1xyXG4gICAgZm9yY2U6IG51bWJlcjtcclxuICAgIGdhbWVPYmo6IFBoYXNlci5HYW1lT2JqZWN0cy5TcHJpdGU7XHJcbiAgICBhY3RpdmU6IGJvb2xlYW47XHJcblxyXG4gICAgY29uc3RydWN0b3Ioc2NlbmU6IFBoYXNlci5TY2VuZSwgcGFyYW1zOiBCdWxsZXRQYXJhbWV0ZXJzKSB7XHJcbiAgICAgICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLmZvcmNlID0gcGFyYW1zLmZvcmNlIHx8IDA7XHJcbiAgICAgICAgdGhpcy5nYW1lT2JqID0gdGhpcy5zY2VuZS5hZGQuc3ByaXRlKHBhcmFtcy54IHx8IDAsIHBhcmFtcy55IHx8IDAsICdidWxsZXQnKTtcclxuICAgICAgICB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMuZ2FtZU9iaik7XHJcblxyXG4gICAgICAgIHRoaXMuZ2V0R2FtZU9iamVjdCgpLmFuZ2xlID0gcGFyYW1zLmFuZ2xlIHx8IDA7XHJcbiAgICAgICAgdGhpcy5nZXRQaHlzaWNzQm9keSgpLnZlbG9jaXR5ID0gcGFyYW1zLnN0YXJ0aW5nViB8fCBQaGFzZXIuTWF0aC5WZWN0b3IyLlpFUk87XHJcbiAgICAgICAgdGhpcy5hZGRDb2xsaXNpb25EZXRlY3Rpb24oKTtcclxuICAgICAgICB0aGlzLnNldEluTW90aW9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhZGRDb2xsaXNpb25EZXRlY3Rpb24oKTogdm9pZCB7XHJcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPEdsb2JhbHMuaW50ZXJhY3RhYmxlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuZ2FtZU9iaiwgR2xvYmFscy5pbnRlcmFjdGFibGVzW2ldLCB0aGlzLm9uSW1wYWN0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBvbkltcGFjdChidWxsZXQ6IFBoYXNlci5HYW1lT2JqZWN0cy5HYW1lT2JqZWN0LCB0YXJnZXQ6IFBoYXNlci5HYW1lT2JqZWN0cy5HYW1lT2JqZWN0KTogdm9pZCB7XHJcbiAgICAgICAgLy8gVE9ETzogaW1wYXJ0IGRhbWFnZSB0byB0YXJnZXQgYW5kIGRlc3Ryb3kgYnVsbGV0XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0R2FtZU9iamVjdCgpOiBQaGFzZXIuR2FtZU9iamVjdHMuU3ByaXRlIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nYW1lT2JqO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFBoeXNpY3NCb2R5KCk6IFBoYXNlci5QaHlzaWNzLkFyY2FkZS5Cb2R5IHtcclxuICAgICAgICBpZiAodGhpcy5nZXRHYW1lT2JqZWN0KCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0R2FtZU9iamVjdCgpLmJvZHkgYXMgUGhhc2VyLlBoeXNpY3MuQXJjYWRlLkJvZHk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldFJvdGF0aW9uKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0R2FtZU9iamVjdCgpLmFuZ2xlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEhlYWRpbmcoKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgcmV0dXJuIEhlbHBlcnMuZ2V0SGVhZGluZyh0aGlzLmdldFJvdGF0aW9uKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFNwZWVkKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VmVsb2NpdHkoKS5sZW5ndGgoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRWZWxvY2l0eSgpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICBpZiAodGhpcy5nZXRQaHlzaWNzQm9keSgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFBoeXNpY3NCb2R5KCkudmVsb2NpdHkuY2xvbmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFBoYXNlci5NYXRoLlZlY3RvcjIuWkVSTztcclxuICAgIH1cclxuXHJcbiAgICBnZXRMb2NhdGlvbigpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICBsZXQgY2FtZXJhUG9zOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5zY2VuZS5jYW1lcmFzLm1haW4uZ2V0V29ybGRQb2ludCgwLCAwKTtcclxuICAgICAgICBsZXQgbG9jOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5nZXRSZWFsTG9jYXRpb24oKTtcclxuICAgICAgICByZXR1cm4gbmV3IFBoYXNlci5NYXRoLlZlY3RvcjIobG9jLnggLSBjYW1lcmFQb3MueCwgbG9jLnkgLSBjYW1lcmFQb3MueSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UmVhbExvY2F0aW9uKCk6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIGlmICh0aGlzLmdldEdhbWVPYmplY3QoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFBoYXNlci5NYXRoLlZlY3RvcjIodGhpcy5nZXRHYW1lT2JqZWN0KCkueCwgdGhpcy5nZXRHYW1lT2JqZWN0KCkueSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBQaGFzZXIuTWF0aC5WZWN0b3IyLlpFUk87XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXRJbk1vdGlvbigpOiB2b2lkIHtcclxuICAgICAgICBsZXQgaGVhZGluZzogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuZ2V0SGVhZGluZygpO1xyXG4gICAgICAgIC8vIGFkZCBmb3JjZSB0byBoZWFkaW5nXHJcbiAgICAgICAgbGV0IGRlbHRhVjogUGhhc2VyLk1hdGguVmVjdG9yMiA9IGhlYWRpbmcubXVsdGlwbHkoSGVscGVycy52ZWN0b3IyKHRoaXMuZm9yY2UpKTtcclxuICAgICAgICAvLyBhZGQgZGVsdGFWIHRvIGN1cnJlbnQgVmVsb2NpdHlcclxuICAgICAgICB0aGlzLmdldFBoeXNpY3NCb2R5KCkudmVsb2NpdHkuYWRkKGRlbHRhVik7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBIYXNMb2NhdGlvbiB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2hhcy1sb2NhdGlvblwiO1xyXG5pbXBvcnQgeyBNb3VzZVdoZWVsU2Nyb2xsIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvbW91c2Utd2hlZWwtc2Nyb2xsXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTW91c2UgaW1wbGVtZW50cyBIYXNMb2NhdGlvbiB7XHJcbiAgICBwcml2YXRlIHNjZW5lOiBQaGFzZXIuU2NlbmU7XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lOiBQaGFzZXIuU2NlbmUpIHtcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5pbnB1dC5tb3VzZS5jYXB0dXJlID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRBbmdsZSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNjZW5lLmlucHV0LmFjdGl2ZVBvaW50ZXIuZ2V0QW5nbGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRSb3RhdGlvbigpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldEFuZ2xlKCkgKiAoTWF0aC5QSSAvIDE4MCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0SGVhZGluZygpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICBsZXQgcm90YXRpb246IG51bWJlciA9IHRoaXMuZ2V0QW5nbGUoKTtcclxuICAgICAgICBsZXQgeDogbnVtYmVyID0gTWF0aC5jb3Mocm90YXRpb24pO1xyXG4gICAgICAgIGxldCB5OiBudW1iZXIgPSBNYXRoLnNpbihyb3RhdGlvbik7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKHgsIHkpLm5vcm1hbGl6ZSgpLm5lZ2F0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFNwZWVkKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VmVsb2NpdHkoKS5sZW5ndGgoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRWZWxvY2l0eSgpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zY2VuZS5pbnB1dC5hY3RpdmVQb2ludGVyLnZlbG9jaXR5LmNsb25lKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiByZXR1cm5zIHRoZSBwb3NpdGlvbiBvZiB0aGUgbW91c2Ugd2l0aGluIHRoZSBib3VuZHMgb2YgdGhlIGN1cnJlbnRcclxuICAgICAqIHNjcmVlbi5cclxuICAgICAqIEByZXR1cm5zIGEge1BoYXNlci5NYXRoLlZlY3RvcjJ9IGNsb25lIG9mIHRoZSBwb3NpdGlvblxyXG4gICAgICovXHJcbiAgICBnZXRMb2NhdGlvbigpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhgbW91c2UgbG9jYXRpb246ICR7SlNPTi5zdHJpbmdpZnkodGhpcy5sb2NhdGlvbil9YCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NlbmUuaW5wdXQuYWN0aXZlUG9pbnRlci5wb3NpdGlvbi5jbG9uZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogb2Zmc2V0cyB0aGUgc2NyZWVuIHBvc2l0aW9uIGJhc2VkIG9uIGNhbWVyYSBwb3NpdGlvblxyXG4gICAgICovXHJcbiAgICBnZXRSZWFsTG9jYXRpb24oKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coYG1vdXNlIFJFQUwgbG9jYXRpb246ICR7SlNPTi5zdHJpbmdpZnkod29ybGQpfWApO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNjZW5lLmlucHV0LmFjdGl2ZVBvaW50ZXIucG9zaXRpb25Ub0NhbWVyYSh0aGlzLnNjZW5lLmNhbWVyYXMubWFpbikgYXMgUGhhc2VyLk1hdGguVmVjdG9yMjtcclxuICAgIH1cclxuXHJcbiAgICBvbldoZWVsVXA8VCBleHRlbmRzIE1vdXNlV2hlZWxTY3JvbGw+KGZ1bmM6IFQpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnNjZW5lLmlucHV0Lm9uKFBoYXNlci5JbnB1dC5FdmVudHMuUE9JTlRFUl9XSEVFTCwgKHBvaW50ZXIsIGN1cnJlbnRseU92ZXIsIGR4LCBkeSwgZHosIGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChkeSA+IDApIHtcclxuICAgICAgICAgICAgICAgIGZ1bmMoZHkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgb25XaGVlbERvd248VCBleHRlbmRzIE1vdXNlV2hlZWxTY3JvbGw+KGZ1bmM6IFQpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnNjZW5lLmlucHV0Lm9uKFBoYXNlci5JbnB1dC5FdmVudHMuUE9JTlRFUl9XSEVFTCwgKHBvaW50ZXIsIGN1cnJlbnRseU92ZXIsIGR4LCBkeSwgZHosIGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChkeSA8IDApIHtcclxuICAgICAgICAgICAgICAgIGZ1bmMoLWR5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgR2xvYmFscyB9IGZyb20gXCIuLi91dGlsaXRpZXMvZ2xvYmFsc1wiO1xyXG5pbXBvcnQgeyBTaGlwUG9kIH0gZnJvbSBcIi4uL3NoaXBzL3NoaXAtcG9kXCI7XHJcbmltcG9ydCB7IFNoaXBBdHRhY2htZW50IH0gZnJvbSBcIi4uL3NoaXBzL2F0dGFjaG1lbnRzL3NoaXAtYXR0YWNobWVudFwiO1xyXG5pbXBvcnQgeyBBdHRhY2htZW50TG9jYXRpb24gfSBmcm9tIFwiLi4vc2hpcHMvYXR0YWNobWVudHMvYXR0YWNobWVudC1sb2NhdGlvblwiO1xyXG5cclxuY29uc3Qgc2NlbmVDb25maWc6IFBoYXNlci5UeXBlcy5TY2VuZXMuU2V0dGluZ3NDb25maWcgPSB7XHJcbiAgICBhY3RpdmU6IHRydWUsXHJcbiAgICB2aXNpYmxlOiB0cnVlLFxyXG4gICAga2V5OiAnT3ZlcmxheVNjZW5lJ1xyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIE92ZXJsYXlTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBwcml2YXRlIHNoaXBEZWJ1ZzogUGhhc2VyLkdhbWVPYmplY3RzLlRleHQ7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoc2NlbmVDb25maWcpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwcmVsb2FkKCk6IHZvaWQge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc2hpcERlYnVnID0gdGhpcy5hZGQudGV4dCgxMCwgMTAsICcnLCB7IGZvbnQ6ICcxNnB4IENvdXJpZXInLCBmaWxsOiAnI2ZmZGRkZCcgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZSgpOiB2b2lkIHtcclxuICAgICAgICBpZiAoR2xvYmFscy5kZWJ1Zykge1xyXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlEZWJ1Z0luZm8oKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBkaXNwbGF5RGVidWdJbmZvKCk6IHZvaWQge1xyXG4gICAgICAgIGlmIChHbG9iYWxzLnBsYXllcikge1xyXG4gICAgICAgICAgICBsZXQgcDogU2hpcFBvZCA9IEdsb2JhbHMucGxheWVyO1xyXG4gICAgICAgICAgICBsZXQgbG9jOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gcC5nZXRSZWFsTG9jYXRpb24oKTtcclxuICAgICAgICAgICAgbGV0IHY6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSBwLmdldFZlbG9jaXR5KCk7XHJcbiAgICAgICAgICAgIGxldCBpbmZvOiBzdHJpbmdbXSA9IFtcclxuICAgICAgICAgICAgICAgIGBTcGVlZDogJHtwLmdldFNwZWVkKCkudG9GaXhlZCgxKX1gLFxyXG4gICAgICAgICAgICAgICAgYEludGVncml0eTogJHtwLmdldEludGVncml0eSgpLnRvRml4ZWQoMSl9YCxcclxuICAgICAgICAgICAgICAgIGBIZWF0OiAke3AuZ2V0VGVtcGVyYXR1cmUoKS50b0ZpeGVkKDEpfWAsXHJcbiAgICAgICAgICAgICAgICBgRnVlbDogJHtwLmdldFJlbWFpbmluZ0Z1ZWwoKS50b0ZpeGVkKDEpfWAsXHJcbiAgICAgICAgICAgICAgICBgTG9jYXRpb246ICR7bG9jLngudG9GaXhlZCgxKX0sJHtsb2MueS50b0ZpeGVkKDEpfWAsXHJcbiAgICAgICAgICAgICAgICBgQW5nbGU6ICR7cC5nZXRSb3RhdGlvbigpLnRvRml4ZWQoMSl9YCxcclxuICAgICAgICAgICAgICAgIGBWZWxvY2l0eTogJHt2LngudG9GaXhlZCgxKX0sJHt2LnkudG9GaXhlZCgxKX1gXHJcbiAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIGxldCBhdHRhY2htZW50czogU2hpcEF0dGFjaG1lbnRbXSA9IHAuYXR0YWNobWVudHMuZ2V0QXR0YWNobWVudHMoKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaT0wOyBpPGF0dGFjaG1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXR0YWNobWVudHNbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBpbmZvLnB1c2goYEF0dGFjaG1lbnRMb2NhdGlvbi4ke0F0dGFjaG1lbnRMb2NhdGlvbltpXX0gLSAke2l9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGF0dExvYzogUGhhc2VyLk1hdGguVmVjdG9yMiA9IGF0dGFjaG1lbnRzW2ldLmdldFJlYWxMb2NhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIGluZm8ucHVzaChgLS0gTG9jYXRpb246ICR7YXR0TG9jLngudG9GaXhlZCgxKX0sJHthdHRMb2MueS50b0ZpeGVkKDEpfWApO1xyXG4gICAgICAgICAgICAgICAgICAgIGluZm8ucHVzaChgLS0gQW5nbGU6ICR7YXR0YWNobWVudHNbaV0uZ2V0Um90YXRpb24oKS50b0ZpeGVkKDEpfWApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc2hpcERlYnVnLnNldFRleHQoaW5mbyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiY29uc3Qgc2NlbmVDb25maWc6IFBoYXNlci5UeXBlcy5TY2VuZXMuU2V0dGluZ3NDb25maWcgPSB7XHJcbiAgICBhY3RpdmU6IHRydWUsXHJcbiAgICB2aXNpYmxlOiB0cnVlLFxyXG4gICAga2V5OiAnRmFyU3RhcnMnXHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgRmFyU3RhcnNTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcihzY2VuZUNvbmZpZyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHByZWxvYWQoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmYXItc3RhcnMnLCAnLi9hc3NldHMvYmFja2dyb3VuZHMvc3RhcmZpZWxkLXRpbGUtNTEyeDUxMi5wbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIGxldCB4T2Zmc2V0OiBudW1iZXIgPSBNYXRoLmNlaWwodGhpcy5nYW1lLmNhbnZhcy53aWR0aCAvIDIpO1xyXG4gICAgICAgIGxldCB5T2Zmc2V0OiBudW1iZXIgPSBNYXRoLmNlaWwodGhpcy5nYW1lLmNhbnZhcy5oZWlnaHQgLyAyKTtcclxuICAgICAgICB0aGlzLmFkZC50aWxlU3ByaXRlKHhPZmZzZXQsIHlPZmZzZXQsIHRoaXMuZ2FtZS5jYW52YXMud2lkdGggKyAxMCwgdGhpcy5nYW1lLmNhbnZhcy5oZWlnaHQgKyAxMCwgJ2Zhci1zdGFycycpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBab29tYWJsZVNjZW5lIH0gZnJvbSBcIi4vem9vbWFibGUtc2NlbmVcIjtcclxuaW1wb3J0IHsgR2xvYmFscyB9IGZyb20gXCIuLi91dGlsaXRpZXMvZ2xvYmFsc1wiO1xyXG5cclxuY29uc3Qgc2NlbmVDb25maWc6IFBoYXNlci5UeXBlcy5TY2VuZXMuU2V0dGluZ3NDb25maWcgPSB7XHJcbiAgICBhY3RpdmU6IHRydWUsXHJcbiAgICB2aXNpYmxlOiB0cnVlLFxyXG4gICAga2V5OiAnU3lzdGVtU2NlbmUnXHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgU3lzdGVtU2NlbmUgZXh0ZW5kcyBab29tYWJsZVNjZW5lIHtcclxuICAgIHN1bjogUGhhc2VyLkdhbWVPYmplY3RzLlNwcml0ZTtcclxuICAgIHN0YXJ0UG9zaXRpb246IFBoYXNlci5NYXRoLlZlY3RvcjI7XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKDAuMDUsIHNjZW5lQ29uZmlnKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHVibGljIHByZWxvYWQoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdzdW4nLCAnLi9hc3NldHMvYmFja2dyb3VuZHMvc3VuLnBuZycpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjcmVhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5zdGFydFBvc2l0aW9uID0gbmV3IFBoYXNlci5NYXRoLlZlY3RvcjIoXHJcbiAgICAgICAgICAgIFBoYXNlci5NYXRoLlJORC5iZXR3ZWVuKDAsIHRoaXMuZ2FtZS5jYW52YXMud2lkdGgpLFxyXG4gICAgICAgICAgICBQaGFzZXIuTWF0aC5STkQuYmV0d2VlbigwLCB0aGlzLmdhbWUuY2FudmFzLmhlaWdodClcclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMuc3VuID0gdGhpcy5hZGQuc3ByaXRlKHRoaXMuc3RhcnRQb3NpdGlvbi54LCB0aGlzLnN0YXJ0UG9zaXRpb24ueSwgJ3N1bicpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwdWJsaWMgdXBkYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc3VuLmFuZ2xlICs9IDAuMDE7XHJcbiAgICAgICAgaWYgKHRoaXMuc3VuLmFuZ2xlID49IDM2MCkge1xyXG4gICAgICAgICAgICB0aGlzLnN1bi5hbmdsZSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChHbG9iYWxzLnBsYXllcikge1xyXG4gICAgICAgICAgICAvLyBtb3ZlIHRoZSBzdW4gaW4gdGhlIG9wcG9zaXRlIGRpcmVjdGlvbiBvZiB0cmF2ZWwgYXQgYSByYXRlIG9mIDE6NTAwXHJcbiAgICAgICAgICAgIGxldCBsb2M6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSBHbG9iYWxzLnBsYXllci5nZXRSZWFsTG9jYXRpb24oKTtcclxuICAgICAgICAgICAgbG9jLmRpdmlkZShuZXcgUGhhc2VyLk1hdGguVmVjdG9yMig1MDAsIDUwMCkpO1xyXG4gICAgICAgICAgICBsb2MubmVnYXRlKCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnN1bi54ID0gdGhpcy5zdGFydFBvc2l0aW9uLnggKyBsb2MueDtcclxuICAgICAgICAgICAgdGhpcy5zdW4ueSA9IHRoaXMuc3RhcnRQb3NpdGlvbi55ICsgbG9jLnk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==