!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("phaser")):"function"==typeof define&&define.amd?define(["phaser"],e):"object"==typeof exports?exports.bundle=e(require("phaser")):t.bundle=e(t.phaser)}(window,(function(t){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Globals||(e.Globals={})},function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var o=new Uint8Array(16);t.exports=function(){return n(o),o}}else{var i=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),i[e]=t>>>((3&e)<<3)&255;return i}}},function(t,e){for(var n=[],o=0;o<256;++o)n[o]=(o+256).toString(16).substr(1);t.exports=function(t,e){var o=e||0,i=n;return[i[t[o++]],i[t[o++]],i[t[o++]],i[t[o++]],"-",i[t[o++]],i[t[o++]],"-",i[t[o++]],i[t[o++]],"-",i[t[o++]],i[t[o++]],"-",i[t[o++]],i[t[o++]],i[t[o++]],i[t[o++]],i[t[o++]],i[t[o++]]].join("")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(4),i=n(0),a=n(15),r={type:Phaser.AUTO,scale:{width:window.innerWidth,height:window.innerHeight},backgroundColor:"#000000",parent:"space-sim",physics:{default:"arcade",arcade:{gravity:{x:0,y:0}}},scene:[o.ShipScene,a.OverlayScene]};e.game=new Phaser.Game(r),window.addEventListener("resize",(function(){e.game.scale.refresh()})),i.Globals.game=e.game},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(5),r=n(0),s=n(14),c={active:!0,visible:!0,key:"ShipScene"},u=function(t){function e(){return t.call(this,c)||this}return i(e,t),e.prototype.preload=function(){this.load.image("stars","./assets/backgrounds/tileableStars.png"),this.load.image("ship-pod","./assets/sprites/ship-pod.png")},e.prototype.create=function(){var t=this;this.add.tileSprite(0,0,10*this.cameras.main.width,10*this.cameras.main.height,"stars"),this.mouse=new s.Mouse(this),this.player=new a.ShipPod(this),r.Globals.player=this.player,this.player.setTarget(this.mouse),this.setupCamera(this.player),this.input.keyboard.on("keydown-P",(function(){r.Globals.paused=!0})),this.input.keyboard.on("keydown-R",(function(){r.Globals.paused=!1})),this.mouse.onWheelUp((function(e){var n=t.cameras.main.zoom-.5;n<.1&&(n=.1),t.cameras.main.zoomTo(n)})),this.mouse.onWheelDown((function(e){var n=t.cameras.main.zoom+.5;n>1&&(n=1),t.cameras.main.zoomTo(n)}))},e.prototype.update=function(){r.Globals.paused||r.Globals.player.update()},e.prototype.setupCamera=function(t){this.cameras.main.backgroundColor.setFromRGB({r:0,g:0,b:0}),this.cameras.main.setZoom(1),this.cameras.main.centerOn(0,0);var e=this.cameras.main.width,n=this.cameras.main.height,o=Math.floor(e/2),i=Math.floor(n/2),a=Math.floor(o/2),r=Math.floor(i/2);this.cameras.main.startFollow(t.getGameObject(),!0),this.cameras.main.deadzone=new Phaser.Geom.Rectangle(a,r,o,i)},e}(Phaser.Scene);e.ShipScene=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(6);var o=n(7),i=n(0),a=n(11),r=n(12),s=n(13),c=function(){function t(t){this.remainingFuel=100,this.temperature=0,this.active=!0,this.lastOverheatCheck=0,this.lastBoostTime=0,this.id=o.RNG.guid(),this.scene=t,this.gameObj=t.physics.add.sprite(0,0,"ship-pod"),this.integrity=a.Constants.MAX_INTEGRITY,this.attachments=new Array(r.Helpers.enumLength(s.AttachmentLocation)),this.setupInputHandlers()}return t.prototype.update=function(){!i.Globals.paused&&this.active&&(this.lookAtTarget(),this.thrustKey.isDown&&this.thrustFowards(),this.boostKey.isDown&&this.boostForwards(),this.checkOverheatCondition(),this.rotateAttachmentsClockwiseKey.isDown&&this.rotateAttachmentsClockwise(),this.rotateAttachmentsAntiClockwiseKey.isDown&&this.rotateAttachmentsAntiClockwise(),this.updateAttachments())},t.prototype.updateAttachments=function(){for(var t=0;t<this.attachments.length;t++){var e=this.attachments[t];e&&e.update()}},t.prototype.setupInputHandlers=function(){this.thrustKey=this.scene.input.keyboard.addKey("SPACE",!0,!0),this.boostKey=this.scene.input.keyboard.addKey("TAB",!0,!1),this.rotateAttachmentsClockwiseKey=this.scene.input.keyboard.addKey("E",!0,!1),this.rotateAttachmentsAntiClockwiseKey=this.scene.input.keyboard.addKey("Q",!0,!1)},t.prototype.checkOverheatCondition=function(){if(!i.Globals.paused&&this.active&&r.Helpers.now()-this.lastOverheatCheck>a.Constants.OVERHEAT_CHECK_INTERVAL){if(this.temperature>a.Constants.MAX_TEMPERATURE&&this.destroy(),this.temperature>a.Constants.MAX_SAFE_TEMPERATURE){var t=(this.temperature-a.Constants.MAX_SAFE_TEMPERATURE)/a.Constants.MAX_SAFE_TEMPERATURE;this.sustainDamage(t)}this.applyCooling(a.Constants.COOLING_RATE),this.lastOverheatCheck=r.Helpers.now()}},t.prototype.getRealLocation=function(){return new Phaser.Math.Vector2(this.gameObj.x,this.gameObj.y)},t.prototype.getLocation=function(){var t=this.scene.cameras.main.getWorldPoint(0,0);return new Phaser.Math.Vector2(this.gameObj.x-t.x,this.gameObj.y-t.y)},t.prototype.getId=function(){return this.id},t.prototype.getGameObject=function(){return this.gameObj},t.prototype.setTarget=function(t){this.target=t},t.prototype.lookAtTarget=function(){var t=this.target.getRealLocation(),e=Phaser.Math.Angle.Between(t.x,t.y,this.gameObj.x,this.gameObj.y);this.gameObj.setRotation(e)},t.prototype.getHeading=function(){var t=Math.cos(this.gameObj.rotation),e=Math.sin(this.gameObj.rotation);return new Phaser.Math.Vector2(t,e).normalize().negate()},t.prototype.getVelocity=function(){return this.gameObj.body.velocity.length()},t.prototype.thrustFowards=function(){this.applyThrust(a.Constants.THRUSTER_FORCE,a.Constants.FUEL_PER_THRUST,a.Constants.HEAT_PER_THRUST)},t.prototype.boostForwards=function(){r.Helpers.now()-this.lastBoostTime>=a.Constants.BOOSTER_COOLDOWN_TIME&&(this.applyThrust(a.Constants.BOOSTER_FORCE,a.Constants.FUEL_PER_BOOST,a.Constants.HEAT_PER_BOOST),this.lastBoostTime=r.Helpers.now())},t.prototype.applyThrust=function(t,e,n){if(this.getRemainingFuel()>0){var o=this.getHeading().multiply(new Phaser.Math.Vector2(t,t));this.gameObj.body.velocity.add(o),this.reduceFuel(e),this.applyHeating(n)}},t.prototype.strafeLeft=function(){},t.prototype.strafeRight=function(){},t.prototype.thrustBackwards=function(){},t.prototype.getTemperature=function(){return this.temperature},t.prototype.applyHeating=function(t){this.temperature+=t},t.prototype.applyCooling=function(t){this.temperature-=t,this.temperature<0&&(this.temperature=0)},t.prototype.reduceFuel=function(t){this.remainingFuel-=t,this.remainingFuel<0&&(this.remainingFuel=0)},t.prototype.addFuel=function(t){this.remainingFuel+=t,this.remainingFuel>a.Constants.MAX_FUEL&&(this.remainingFuel=a.Constants.MAX_FUEL)},t.prototype.getRemainingFuel=function(){return this.remainingFuel},t.prototype.getIntegrity=function(){return this.integrity},t.prototype.sustainDamage=function(t){this.integrity-=t,this.integrity<=0&&(this.integrity=0,this.active=!1,this.destroy())},t.prototype.repair=function(t){this.integrity=t,this.integrity>a.Constants.MAX_INTEGRITY&&(this.integrity=a.Constants.MAX_INTEGRITY)},t.prototype.rotateAttachmentsClockwise=function(){var t=this.attachments.pop();this.attachments.unshift(t),this.updateAttachmentPositions()},t.prototype.rotateAttachmentsAntiClockwise=function(){var t=this.attachments.shift();this.attachments.push(t),this.updateAttachmentPositions()},t.prototype.updateAttachmentPositions=function(){for(var t=0;t<this.attachments.length;t++)switch(t){case s.AttachmentLocation.front:this.attachments[t].setAttachmentLocation(s.AttachmentLocation.front);break;case s.AttachmentLocation.frontRight:this.attachments[t].setAttachmentLocation(s.AttachmentLocation.frontRight);break;case s.AttachmentLocation.right:this.attachments[t].setAttachmentLocation(s.AttachmentLocation.right);break;case s.AttachmentLocation.backRight:this.attachments[t].setAttachmentLocation(s.AttachmentLocation.backRight);break;case s.AttachmentLocation.backLeft:this.attachments[t].setAttachmentLocation(s.AttachmentLocation.backLeft);break;case s.AttachmentLocation.left:this.attachments[t].setAttachmentLocation(s.AttachmentLocation.left);break;case s.AttachmentLocation.frontLeft:this.attachments[t].setAttachmentLocation(s.AttachmentLocation.frontLeft)}},t.prototype.addAttachment=function(t){this.removeAttachment(s.AttachmentLocation.front),this.attachments[s.AttachmentLocation.front]=t,t.attach(this)},t.prototype.removeAttachment=function(t){this.attachments[t].detach(),this.attachments[t]=null},t.prototype.destroy=function(){},t}();e.ShipPod=c},function(e,n){e.exports=t},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(8);!function(t){t.int=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},t.guid=function(){return o.v4()}}(e.RNG||(e.RNG={}))},function(t,e,n){var o=n(9),i=n(10),a=i;a.v1=o,a.v4=i,t.exports=a},function(t,e,n){var o,i,a=n(1),r=n(2),s=0,c=0;t.exports=function(t,e,n){var u=e&&n||0,h=e||[],p=(t=t||{}).node||o,l=void 0!==t.clockseq?t.clockseq:i;if(null==p||null==l){var f=a();null==p&&(p=o=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==l&&(l=i=16383&(f[6]<<8|f[7]))}var m=void 0!==t.msecs?t.msecs:(new Date).getTime(),d=void 0!==t.nsecs?t.nsecs:c+1,y=m-s+(d-c)/1e4;if(y<0&&void 0===t.clockseq&&(l=l+1&16383),(y<0||m>s)&&void 0===t.nsecs&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=m,c=d,i=l;var g=(1e4*(268435455&(m+=122192928e5))+d)%4294967296;h[u++]=g>>>24&255,h[u++]=g>>>16&255,h[u++]=g>>>8&255,h[u++]=255&g;var b=m/4294967296*1e4&268435455;h[u++]=b>>>8&255,h[u++]=255&b,h[u++]=b>>>24&15|16,h[u++]=b>>>16&255,h[u++]=l>>>8|128,h[u++]=255&l;for(var v=0;v<6;++v)h[u+v]=p[v];return e||r(h)}},function(t,e,n){var o=n(1),i=n(2);t.exports=function(t,e,n){var a=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var r=(t=t||{}).random||(t.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e)for(var s=0;s<16;++s)e[a+s]=r[s];return e||i(r)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.MAX_INTEGRITY=100,t.MAX_FUEL=100,t.MAX_SAFE_TEMPERATURE=100,t.MAX_TEMPERATURE=200,t.OVERHEAT_CHECK_INTERVAL=100,t.COOLING_RATE=.3,t.THRUSTER_FORCE=1,t.FUEL_PER_THRUST=.01,t.HEAT_PER_THRUST=.1,t.BOOSTER_FORCE=100,t.FUEL_PER_BOOST=10,t.HEAT_PER_BOOST=25,t.BOOSTER_COOLDOWN_TIME=1e3}(e.Constants||(e.Constants={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.enumLength=function(t){var e=0;for(var n in t)isNaN(Number(n))&&e++;return e},t.now=function(){return(new Date).getTime()}}(e.Helpers||(e.Helpers={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.front=0]="front",t[t.frontRight=1]="frontRight",t[t.right=2]="right",t[t.backRight=3]="backRight",t[t.backLeft=4]="backLeft",t[t.left=5]="left",t[t.frontLeft=6]="frontLeft"}(e.AttachmentLocation||(e.AttachmentLocation={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.scene=t,this.scene.input.mouse.capture=!0}return t.prototype.getLocation=function(){return this.scene.input.activePointer.position.clone()},t.prototype.getRealLocation=function(){var t=this.getLocation();return this.scene.cameras.main.getWorldPoint(t.x,t.y)},t.prototype.onWheelUp=function(t){this.scene.input.on(Phaser.Input.Events.POINTER_WHEEL,(function(e,n,o,i,a,r){i>0&&t(i)}))},t.prototype.onWheelDown=function(t){this.scene.input.on(Phaser.Input.Events.POINTER_WHEEL,(function(e,n,o,i,a,r){i<0&&t(-i)}))},t}();e.Mouse=o},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),r={active:!0,visible:!0,key:"OverlayScene"},s=function(t){function e(){return t.call(this,r)||this}return i(e,t),e.prototype.preload=function(){},e.prototype.create=function(){this.debug=this.add.text(10,10,"",{font:"16px Courier",fill:"#ffdddd"})},e.prototype.update=function(){if(!a.Globals.paused&&a.Globals.player){var t=a.Globals.player,e=t.getRealLocation();this.debug.setText(["Velocity: "+t.getVelocity().toFixed(1),"Integrity: "+t.getIntegrity().toFixed(1),"Heat: "+t.getTemperature().toFixed(1),"Fuel: "+t.getRemainingFuel().toFixed(1),"Location: "+e.x.toFixed(1)+","+e.y.toFixed(1)])}},e}(Phaser.Scene);e.OverlayScene=s}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idW5kbGUvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL2J1bmRsZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvdXRpbGl0aWVzL2dsb2JhbHMudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vbm9kZV9tb2R1bGVzL3V1aWQvbGliL3JuZy1icm93c2VyLmpzIiwid2VicGFjazovL2J1bmRsZS8uL25vZGVfbW9kdWxlcy91dWlkL2xpYi9ieXRlc1RvVXVpZC5qcyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvZ2FtZS50cyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvc2NlbmVzL3NoaXAtc2NlbmUudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NoaXBzL3NoaXAtcG9kLnRzIiwid2VicGFjazovL2J1bmRsZS9leHRlcm5hbCBcInBoYXNlclwiIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy91dGlsaXRpZXMvcm5nLnRzIiwid2VicGFjazovL2J1bmRsZS8uL25vZGVfbW9kdWxlcy91dWlkL2luZGV4LmpzIiwid2VicGFjazovL2J1bmRsZS8uL25vZGVfbW9kdWxlcy91dWlkL3YxLmpzIiwid2VicGFjazovL2J1bmRsZS8uL25vZGVfbW9kdWxlcy91dWlkL3Y0LmpzIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy91dGlsaXRpZXMvY29uc3RhbnRzLnRzIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy91dGlsaXRpZXMvaGVscGVycy50cyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvc2hpcHMvYXR0YWNobWVudHMvYXR0YWNobWVudC1sb2NhdGlvbi50cyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvdXRpbGl0aWVzL21vdXNlLnRzIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy9zY2VuZXMvb3ZlcmxheS1zY2VuZS50cyJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJyZXF1aXJlIiwiZGVmaW5lIiwiYW1kIiwid2luZG93IiwiX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fNl9fIiwiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkdsb2JhbHMiLCJnZXRSYW5kb21WYWx1ZXMiLCJjcnlwdG8iLCJtc0NyeXB0byIsInJuZHM4IiwiVWludDhBcnJheSIsInJuZHMiLCJBcnJheSIsIk1hdGgiLCJyYW5kb20iLCJieXRlVG9IZXgiLCJ0b1N0cmluZyIsInN1YnN0ciIsImJ1ZiIsIm9mZnNldCIsImJ0aCIsImpvaW4iLCJnYW1lQ29uZmlnIiwidHlwZSIsIlBoYXNlciIsIkFVVE8iLCJzY2FsZSIsIndpZHRoIiwiaW5uZXJXaWR0aCIsImhlaWdodCIsImlubmVySGVpZ2h0IiwiYmFja2dyb3VuZENvbG9yIiwicGFyZW50IiwicGh5c2ljcyIsImRlZmF1bHQiLCJhcmNhZGUiLCJncmF2aXR5IiwieCIsInkiLCJzY2VuZSIsIlNoaXBTY2VuZSIsIk92ZXJsYXlTY2VuZSIsImdhbWUiLCJHYW1lIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlZnJlc2giLCJzY2VuZUNvbmZpZyIsImFjdGl2ZSIsInZpc2libGUiLCJwcmVsb2FkIiwidGhpcyIsImxvYWQiLCJpbWFnZSIsImFkZCIsInRpbGVTcHJpdGUiLCJjYW1lcmFzIiwibWFpbiIsIm1vdXNlIiwiTW91c2UiLCJwbGF5ZXIiLCJTaGlwUG9kIiwic2V0VGFyZ2V0Iiwic2V0dXBDYW1lcmEiLCJpbnB1dCIsImtleWJvYXJkIiwib24iLCJwYXVzZWQiLCJvbldoZWVsVXAiLCJzY3JvbGxBbW91bnQiLCJuZXdab29tIiwiem9vbSIsInpvb21UbyIsIm9uV2hlZWxEb3duIiwidXBkYXRlIiwic2V0RnJvbVJHQiIsImciLCJiIiwic2V0Wm9vbSIsImNlbnRlck9uIiwiZHpXaWR0aCIsImZsb29yIiwiZHpIZWlnaHQiLCJkelgiLCJkelkiLCJzdGFydEZvbGxvdyIsImdldEdhbWVPYmplY3QiLCJkZWFkem9uZSIsIkdlb20iLCJSZWN0YW5nbGUiLCJTY2VuZSIsInJlbWFpbmluZ0Z1ZWwiLCJ0ZW1wZXJhdHVyZSIsImxhc3RPdmVyaGVhdENoZWNrIiwibGFzdEJvb3N0VGltZSIsImlkIiwiUk5HIiwiZ3VpZCIsImdhbWVPYmoiLCJzcHJpdGUiLCJpbnRlZ3JpdHkiLCJDb25zdGFudHMiLCJNQVhfSU5URUdSSVRZIiwiYXR0YWNobWVudHMiLCJIZWxwZXJzIiwiZW51bUxlbmd0aCIsIkF0dGFjaG1lbnRMb2NhdGlvbiIsInNldHVwSW5wdXRIYW5kbGVycyIsImxvb2tBdFRhcmdldCIsInRocnVzdEtleSIsImlzRG93biIsInRocnVzdEZvd2FyZHMiLCJib29zdEtleSIsImJvb3N0Rm9yd2FyZHMiLCJjaGVja092ZXJoZWF0Q29uZGl0aW9uIiwicm90YXRlQXR0YWNobWVudHNDbG9ja3dpc2VLZXkiLCJyb3RhdGVBdHRhY2htZW50c0Nsb2Nrd2lzZSIsInJvdGF0ZUF0dGFjaG1lbnRzQW50aUNsb2Nrd2lzZUtleSIsInJvdGF0ZUF0dGFjaG1lbnRzQW50aUNsb2Nrd2lzZSIsInVwZGF0ZUF0dGFjaG1lbnRzIiwibGVuZ3RoIiwiYSIsImFkZEtleSIsIm5vdyIsIk9WRVJIRUFUX0NIRUNLX0lOVEVSVkFMIiwiTUFYX1RFTVBFUkFUVVJFIiwiZGVzdHJveSIsIk1BWF9TQUZFX1RFTVBFUkFUVVJFIiwiZGVsdGEiLCJzdXN0YWluRGFtYWdlIiwiYXBwbHlDb29saW5nIiwiQ09PTElOR19SQVRFIiwiZ2V0UmVhbExvY2F0aW9uIiwiVmVjdG9yMiIsImdldExvY2F0aW9uIiwiY2FtZXJhUG9zIiwiZ2V0V29ybGRQb2ludCIsImdldElkIiwidGFyZ2V0IiwicG9zIiwicmFkaWFucyIsIkFuZ2xlIiwiQmV0d2VlbiIsInNldFJvdGF0aW9uIiwiZ2V0SGVhZGluZyIsImNvcyIsInJvdGF0aW9uIiwic2luIiwibm9ybWFsaXplIiwibmVnYXRlIiwiZ2V0VmVsb2NpdHkiLCJib2R5IiwidmVsb2NpdHkiLCJhcHBseVRocnVzdCIsIlRIUlVTVEVSX0ZPUkNFIiwiRlVFTF9QRVJfVEhSVVNUIiwiSEVBVF9QRVJfVEhSVVNUIiwiQk9PU1RFUl9DT09MRE9XTl9USU1FIiwiQk9PU1RFUl9GT1JDRSIsIkZVRUxfUEVSX0JPT1NUIiwiSEVBVF9QRVJfQk9PU1QiLCJmb3JjZSIsImZ1ZWwiLCJoZWF0IiwiZ2V0UmVtYWluaW5nRnVlbCIsImRlbHRhViIsIm11bHRpcGx5IiwicmVkdWNlRnVlbCIsImFwcGx5SGVhdGluZyIsInN0cmFmZUxlZnQiLCJzdHJhZmVSaWdodCIsInRocnVzdEJhY2t3YXJkcyIsImdldFRlbXBlcmF0dXJlIiwiZGVncmVlcyIsImFtb3VudCIsImFkZEZ1ZWwiLCJNQVhfRlVFTCIsImdldEludGVncml0eSIsInJlcGFpciIsImxhc3QiLCJwb3AiLCJ1bnNoaWZ0IiwidXBkYXRlQXR0YWNobWVudFBvc2l0aW9ucyIsImZpcnN0Iiwic2hpZnQiLCJwdXNoIiwiZnJvbnQiLCJzZXRBdHRhY2htZW50TG9jYXRpb24iLCJmcm9udFJpZ2h0IiwicmlnaHQiLCJiYWNrUmlnaHQiLCJiYWNrTGVmdCIsImxlZnQiLCJmcm9udExlZnQiLCJhZGRBdHRhY2htZW50IiwiYXR0YWNobWVudCIsInJlbW92ZUF0dGFjaG1lbnQiLCJhdHRhY2giLCJsb2NhdGlvbiIsImRldGFjaCIsImludCIsIm1pbiIsIm1heCIsInY0IiwidjEiLCJ1dWlkIiwiX25vZGVJZCIsIl9jbG9ja3NlcSIsInJuZyIsImJ5dGVzVG9VdWlkIiwiX2xhc3RNU2VjcyIsIl9sYXN0TlNlY3MiLCJvcHRpb25zIiwibm9kZSIsImNsb2Nrc2VxIiwidW5kZWZpbmVkIiwic2VlZEJ5dGVzIiwibXNlY3MiLCJEYXRlIiwiZ2V0VGltZSIsIm5zZWNzIiwiZHQiLCJFcnJvciIsInRsIiwidG1oIiwiaWkiLCJlbnVtVHlwZSIsImNvdW50IiwiaXRlbSIsImlzTmFOIiwiTnVtYmVyIiwiY2FwdHVyZSIsImFjdGl2ZVBvaW50ZXIiLCJwb3NpdGlvbiIsImNsb25lIiwibG9jIiwiZnVuYyIsIklucHV0IiwiRXZlbnRzIiwiUE9JTlRFUl9XSEVFTCIsInBvaW50ZXIiLCJjdXJyZW50bHlPdmVyIiwiZHgiLCJkeSIsImR6IiwiZXZlbnQiLCJkZWJ1ZyIsInRleHQiLCJmb250IiwiZmlsbCIsInNldFRleHQiLCJ0b0ZpeGVkIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUEyQ0EsRUFBTUMsR0FDMUIsaUJBQVpDLFNBQTBDLGlCQUFYQyxPQUN4Q0EsT0FBT0QsUUFBVUQsRUFBUUcsUUFBUSxXQUNSLG1CQUFYQyxRQUF5QkEsT0FBT0MsSUFDOUNELE9BQU8sQ0FBQyxVQUFXSixHQUNPLGlCQUFaQyxRQUNkQSxRQUFnQixPQUFJRCxFQUFRRyxRQUFRLFdBRXBDSixFQUFhLE9BQUlDLEVBQVFELEVBQWEsUUFSeEMsQ0FTR08sUUFBUSxTQUFTQyxHQUNwQixPLFlDVEUsSUFBSUMsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVVQsUUFHbkMsSUFBSUMsRUFBU00sRUFBaUJFLEdBQVksQ0FDekNDLEVBQUdELEVBQ0hFLEdBQUcsRUFDSFgsUUFBUyxJQVVWLE9BTkFZLEVBQVFILEdBQVVJLEtBQUtaLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNRLEdBRy9EUCxFQUFPVSxHQUFJLEVBR0pWLEVBQU9ELFFBMERmLE9BckRBUSxF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akNqRixLQUFLbU0sTUFBTUksUUFBUSxDQUNmLGFBQWF0UCxFQUFFa0osY0FBY3FHLFFBQVEsR0FDckMsY0FBY3ZQLEVBQUU2SyxlQUFlMEUsUUFBUSxHQUN2QyxTQUFTdlAsRUFBRXdLLGlCQUFpQitFLFFBQVEsR0FDcEMsU0FBU3ZQLEVBQUVnSyxtQkFBbUJ1RixRQUFRLEdBQ3RDLGFBQWFoQixFQUFJck0sRUFBRXFOLFFBQVEsR0FBRSxJQUFJaEIsRUFBSXBNLEVBQUVvTixRQUFRLE9BS25FLEVBOUJBLENBQWtDbE8sT0FBT2lFLE9BQTVCLEVBQUFoRCIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCJwaGFzZXJcIikpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW1wicGhhc2VyXCJdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcImJ1bmRsZVwiXSA9IGZhY3RvcnkocmVxdWlyZShcInBoYXNlclwiKSk7XG5cdGVsc2Vcblx0XHRyb290W1wiYnVuZGxlXCJdID0gZmFjdG9yeShyb290W1wicGhhc2VyXCJdKTtcbn0pKHdpbmRvdywgZnVuY3Rpb24oX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fNl9fKSB7XG5yZXR1cm4gIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDMpO1xuIiwiaW1wb3J0IHsgU2hpcFBvZCB9IGZyb20gXCIuLi9zaGlwcy9zaGlwLXBvZFwiO1xyXG5cclxuZXhwb3J0IG1vZHVsZSBHbG9iYWxzIHtcclxuICAgIGV4cG9ydCB2YXIgcGF1c2VkOiBib29sZWFuO1xyXG4gICAgZXhwb3J0IHZhciBwbGF5ZXI6IFNoaXBQb2Q7XHJcbiAgICBleHBvcnQgdmFyIGdhbWU6IFBoYXNlci5HYW1lO1xyXG59IiwiLy8gVW5pcXVlIElEIGNyZWF0aW9uIHJlcXVpcmVzIGEgaGlnaCBxdWFsaXR5IHJhbmRvbSAjIGdlbmVyYXRvci4gIEluIHRoZVxuLy8gYnJvd3NlciB0aGlzIGlzIGEgbGl0dGxlIGNvbXBsaWNhdGVkIGR1ZSB0byB1bmtub3duIHF1YWxpdHkgb2YgTWF0aC5yYW5kb20oKVxuLy8gYW5kIGluY29uc2lzdGVudCBzdXBwb3J0IGZvciB0aGUgYGNyeXB0b2AgQVBJLiAgV2UgZG8gdGhlIGJlc3Qgd2UgY2FuIHZpYVxuLy8gZmVhdHVyZS1kZXRlY3Rpb25cblxuLy8gZ2V0UmFuZG9tVmFsdWVzIG5lZWRzIHRvIGJlIGludm9rZWQgaW4gYSBjb250ZXh0IHdoZXJlIFwidGhpc1wiIGlzIGEgQ3J5cHRvXG4vLyBpbXBsZW1lbnRhdGlvbi4gQWxzbywgZmluZCB0aGUgY29tcGxldGUgaW1wbGVtZW50YXRpb24gb2YgY3J5cHRvIG9uIElFMTEuXG52YXIgZ2V0UmFuZG9tVmFsdWVzID0gKHR5cGVvZihjcnlwdG8pICE9ICd1bmRlZmluZWQnICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKGNyeXB0bykpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgKHR5cGVvZihtc0NyeXB0bykgIT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5tc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMgPT0gJ2Z1bmN0aW9uJyAmJiBtc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChtc0NyeXB0bykpO1xuXG5pZiAoZ2V0UmFuZG9tVmFsdWVzKSB7XG4gIC8vIFdIQVRXRyBjcnlwdG8gUk5HIC0gaHR0cDovL3dpa2kud2hhdHdnLm9yZy93aWtpL0NyeXB0b1xuICB2YXIgcm5kczggPSBuZXcgVWludDhBcnJheSgxNik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcblxuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHdoYXR3Z1JORygpIHtcbiAgICBnZXRSYW5kb21WYWx1ZXMocm5kczgpO1xuICAgIHJldHVybiBybmRzODtcbiAgfTtcbn0gZWxzZSB7XG4gIC8vIE1hdGgucmFuZG9tKCktYmFzZWQgKFJORylcbiAgLy9cbiAgLy8gSWYgYWxsIGVsc2UgZmFpbHMsIHVzZSBNYXRoLnJhbmRvbSgpLiAgSXQncyBmYXN0LCBidXQgaXMgb2YgdW5zcGVjaWZpZWRcbiAgLy8gcXVhbGl0eS5cbiAgdmFyIHJuZHMgPSBuZXcgQXJyYXkoMTYpO1xuXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbWF0aFJORygpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgcjsgaSA8IDE2OyBpKyspIHtcbiAgICAgIGlmICgoaSAmIDB4MDMpID09PSAwKSByID0gTWF0aC5yYW5kb20oKSAqIDB4MTAwMDAwMDAwO1xuICAgICAgcm5kc1tpXSA9IHIgPj4+ICgoaSAmIDB4MDMpIDw8IDMpICYgMHhmZjtcbiAgICB9XG5cbiAgICByZXR1cm4gcm5kcztcbiAgfTtcbn1cbiIsIi8qKlxuICogQ29udmVydCBhcnJheSBvZiAxNiBieXRlIHZhbHVlcyB0byBVVUlEIHN0cmluZyBmb3JtYXQgb2YgdGhlIGZvcm06XG4gKiBYWFhYWFhYWC1YWFhYLVhYWFgtWFhYWC1YWFhYWFhYWFhYWFhcbiAqL1xudmFyIGJ5dGVUb0hleCA9IFtdO1xuZm9yICh2YXIgaSA9IDA7IGkgPCAyNTY7ICsraSkge1xuICBieXRlVG9IZXhbaV0gPSAoaSArIDB4MTAwKS50b1N0cmluZygxNikuc3Vic3RyKDEpO1xufVxuXG5mdW5jdGlvbiBieXRlc1RvVXVpZChidWYsIG9mZnNldCkge1xuICB2YXIgaSA9IG9mZnNldCB8fCAwO1xuICB2YXIgYnRoID0gYnl0ZVRvSGV4O1xuICAvLyBqb2luIHVzZWQgdG8gZml4IG1lbW9yeSBpc3N1ZSBjYXVzZWQgYnkgY29uY2F0ZW5hdGlvbjogaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzE3NSNjNFxuICByZXR1cm4gKFtcbiAgICBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLFxuICAgIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sICctJyxcbiAgICBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLCAnLScsXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgJy0nLFxuICAgIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sICctJyxcbiAgICBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLFxuICAgIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXVxuICBdKS5qb2luKCcnKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBieXRlc1RvVXVpZDtcbiIsImltcG9ydCB7IFNoaXBTY2VuZSB9IGZyb20gXCIuL3NjZW5lcy9zaGlwLXNjZW5lXCI7XHJcbmltcG9ydCB7IEdsb2JhbHMgfSBmcm9tIFwiLi91dGlsaXRpZXMvZ2xvYmFsc1wiO1xyXG5pbXBvcnQgeyBPdmVybGF5U2NlbmUgfSBmcm9tIFwiLi9zY2VuZXMvb3ZlcmxheS1zY2VuZVwiO1xyXG5cclxuY29uc3QgZ2FtZUNvbmZpZzogUGhhc2VyLlR5cGVzLkNvcmUuR2FtZUNvbmZpZyA9IHtcclxuICAgIHR5cGU6IFBoYXNlci5BVVRPLFxyXG4gICAgc2NhbGU6IHtcclxuICAgICAgICB3aWR0aDogd2luZG93LmlubmVyV2lkdGgsXHJcbiAgICAgICAgaGVpZ2h0OiB3aW5kb3cuaW5uZXJIZWlnaHRcclxuICAgIH0sXHJcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwMDAwJyxcclxuICAgIHBhcmVudDogJ3NwYWNlLXNpbScsXHJcbiAgICBwaHlzaWNzOiB7XHJcbiAgICAgICAgZGVmYXVsdDogJ2FyY2FkZScsXHJcbiAgICAgICAgYXJjYWRlOiB7XHJcbiAgICAgICAgICAgIGdyYXZpdHk6IHsgeDogMCwgeTogMCB9LFxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBzY2VuZTogW1NoaXBTY2VuZSwgT3ZlcmxheVNjZW5lXVxyXG59O1xyXG5leHBvcnQgY29uc3QgZ2FtZTogUGhhc2VyLkdhbWUgPSBuZXcgUGhhc2VyLkdhbWUoZ2FtZUNvbmZpZyk7XHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4ge1xyXG4gICAgZ2FtZS5zY2FsZS5yZWZyZXNoKCk7XHJcbn0pO1xyXG5cclxuR2xvYmFscy5nYW1lID0gZ2FtZTsiLCJpbXBvcnQgeyBTaGlwUG9kIH0gZnJvbSBcIi4uL3NoaXBzL3NoaXAtcG9kXCI7XHJcbmltcG9ydCB7IEdsb2JhbHMgfSBmcm9tIFwiLi4vdXRpbGl0aWVzL2dsb2JhbHNcIjtcclxuaW1wb3J0IHsgTW91c2UgfSBmcm9tIFwiLi4vdXRpbGl0aWVzL21vdXNlXCI7XHJcblxyXG5jb25zdCBzY2VuZUNvbmZpZzogUGhhc2VyLlR5cGVzLlNjZW5lcy5TZXR0aW5nc0NvbmZpZyA9IHtcclxuICAgIGFjdGl2ZTogdHJ1ZSxcclxuICAgIHZpc2libGU6IHRydWUsXHJcbiAgICBrZXk6ICdTaGlwU2NlbmUnXHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgU2hpcFNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIHByaXZhdGUgbW91c2U6IE1vdXNlO1xyXG4gICAgcHJpdmF0ZSBwbGF5ZXI6IFNoaXBQb2Q7XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKHNjZW5lQ29uZmlnKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcHJlbG9hZCgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3N0YXJzJywgJy4vYXNzZXRzL2JhY2tncm91bmRzL3RpbGVhYmxlU3RhcnMucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdzaGlwLXBvZCcsICcuL2Fzc2V0cy9zcHJpdGVzL3NoaXAtcG9kLnBuZycpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjcmVhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5hZGQudGlsZVNwcml0ZSgwLCAwLCB0aGlzLmNhbWVyYXMubWFpbi53aWR0aCAqIDEwLCB0aGlzLmNhbWVyYXMubWFpbi5oZWlnaHQgKiAxMCwgJ3N0YXJzJyk7XHJcblxyXG4gICAgICAgIHRoaXMubW91c2UgPSBuZXcgTW91c2UodGhpcyk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIgPSBuZXcgU2hpcFBvZCh0aGlzKTtcclxuICAgICAgICBHbG9iYWxzLnBsYXllciA9IHRoaXMucGxheWVyO1xyXG4gICAgICAgIHRoaXMucGxheWVyLnNldFRhcmdldCh0aGlzLm1vdXNlKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXR1cENhbWVyYSh0aGlzLnBsYXllcik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5pbnB1dC5rZXlib2FyZC5vbigna2V5ZG93bi1QJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBHbG9iYWxzLnBhdXNlZCA9IHRydWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5pbnB1dC5rZXlib2FyZC5vbigna2V5ZG93bi1SJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBHbG9iYWxzLnBhdXNlZCA9IGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubW91c2Uub25XaGVlbFVwKChzY3JvbGxBbW91bnQ6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICBsZXQgY3VycmVudFpvb206IG51bWJlciA9IHRoaXMuY2FtZXJhcy5tYWluLnpvb207XHJcbiAgICAgICAgICAgIC8vIHpvb20gb3V0XHJcbiAgICAgICAgICAgIGxldCBuZXdab29tOiBudW1iZXIgPSBjdXJyZW50Wm9vbSAtIDAuNTtcclxuICAgICAgICAgICAgaWYgKG5ld1pvb20gPCAwLjEpIHtcclxuICAgICAgICAgICAgICAgIG5ld1pvb20gPSAwLjE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYHpvb21pbmcgZnJvbSAke2N1cnJlbnRab29tfSB0byAke25ld1pvb219YCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnpvb21UbyhuZXdab29tKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLm1vdXNlLm9uV2hlZWxEb3duKChzY3JvbGxBbW91bnQ6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICBsZXQgY3VycmVudFpvb206IG51bWJlciA9IHRoaXMuY2FtZXJhcy5tYWluLnpvb207XHJcbiAgICAgICAgICAgIC8vIHpvb20gaW5cclxuICAgICAgICAgICAgbGV0IG5ld1pvb206IG51bWJlciA9IGN1cnJlbnRab29tICsgMC41O1xyXG4gICAgICAgICAgICBpZiAobmV3Wm9vbSA+IDEpIHtcclxuICAgICAgICAgICAgICAgIG5ld1pvb20gPSAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGB6b29taW5nIGZyb20gJHtjdXJyZW50Wm9vbX0gdG8gJHtuZXdab29tfWApO1xyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi56b29tVG8obmV3Wm9vbSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZSgpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIUdsb2JhbHMucGF1c2VkKSB7XHJcbiAgICAgICAgICAgIEdsb2JhbHMucGxheWVyLnVwZGF0ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldHVwQ2FtZXJhKHBsYXllcjogU2hpcFBvZCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLmJhY2tncm91bmRDb2xvci5zZXRGcm9tUkdCKHtyOiAwLCBnOiAwLCBiOiAwfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0Wm9vbSgxKTtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5jZW50ZXJPbigwLCAwKTtcclxuXHJcbiAgICAgICAgbGV0IHdpZHRoOiBudW1iZXIgPSB0aGlzLmNhbWVyYXMubWFpbi53aWR0aDtcclxuICAgICAgICBsZXQgaGVpZ2h0OiBudW1iZXIgPSB0aGlzLmNhbWVyYXMubWFpbi5oZWlnaHQ7XHJcbiAgICAgICAgbGV0IGR6V2lkdGg6IG51bWJlciA9IE1hdGguZmxvb3Iod2lkdGggLyAyKTtcclxuICAgICAgICBsZXQgZHpIZWlnaHQ6IG51bWJlciA9IE1hdGguZmxvb3IoaGVpZ2h0IC8gMik7XHJcbiAgICAgICAgbGV0IGR6WDogbnVtYmVyID0gTWF0aC5mbG9vcihkeldpZHRoIC8gMik7XHJcbiAgICAgICAgbGV0IGR6WTogbnVtYmVyID0gTWF0aC5mbG9vcihkekhlaWdodCAvIDIpO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnN0YXJ0Rm9sbG93KHBsYXllci5nZXRHYW1lT2JqZWN0KCksIHRydWUpO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLmRlYWR6b25lID0gbmV3IFBoYXNlci5HZW9tLlJlY3RhbmdsZShkelgsIGR6WSwgZHpXaWR0aCwgZHpIZWlnaHQpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFwicGhhc2VyXCI7XHJcbmltcG9ydCB7IFJORyB9IGZyb20gXCIuLi91dGlsaXRpZXMvcm5nXCI7XHJcbmltcG9ydCB7IFVwZGF0YWJsZSB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL3VwZGF0YWJsZVwiO1xyXG5pbXBvcnQgeyBDYW5UYXJnZXQgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9jYW4tdGFyZ2V0XCI7XHJcbmltcG9ydCB7IENhblRocnVzdCB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2Nhbi10aHJ1c3RcIjtcclxuaW1wb3J0IHsgSGFzTG9jYXRpb24gfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9oYXMtbG9jYXRpb25cIjtcclxuaW1wb3J0IHsgSGFzR2FtZU9iamVjdCB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2hhcy1nYW1lLW9iamVjdFwiO1xyXG5pbXBvcnQgeyBHbG9iYWxzIH0gZnJvbSBcIi4uL3V0aWxpdGllcy9nbG9iYWxzXCI7XHJcbmltcG9ydCB7IEhhc0ludGVncml0eSB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2hhcy1pbnRlZ3JpdHlcIjtcclxuaW1wb3J0IHsgQ29uc3RhbnRzIH0gZnJvbSBcIi4uL3V0aWxpdGllcy9jb25zdGFudHNcIjtcclxuaW1wb3J0IHsgU2hpcEF0dGFjaG1lbnQgfSBmcm9tIFwiLi9hdHRhY2htZW50cy9zaGlwLWF0dGFjaG1lbnRcIjtcclxuaW1wb3J0IHsgSGFzQXR0YWNobWVudHMgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9oYXMtYXR0YWNobWVudHNcIjtcclxuaW1wb3J0IHsgSGVscGVycyB9IGZyb20gXCIuLi91dGlsaXRpZXMvaGVscGVyc1wiO1xyXG5pbXBvcnQgeyBBdHRhY2htZW50TG9jYXRpb24gfSBmcm9tIFwiLi9hdHRhY2htZW50cy9hdHRhY2htZW50LWxvY2F0aW9uXCI7XHJcbmltcG9ydCB7IEhhc1RlbXBlcmF0dXJlIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvaGFzLXRlbXBlcmF0dXJlXCI7XHJcbmltcG9ydCB7IEhhc0Z1ZWwgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9oYXMtZnVlbFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNoaXBQb2QgaW1wbGVtZW50cyBVcGRhdGFibGUsIENhblRhcmdldCwgQ2FuVGhydXN0LCBIYXNMb2NhdGlvbiwgSGFzR2FtZU9iamVjdCwgSGFzSW50ZWdyaXR5LCBIYXNBdHRhY2htZW50cywgSGFzVGVtcGVyYXR1cmUsIEhhc0Z1ZWwge1xyXG4gICAgcHJpdmF0ZSBpZDogc3RyaW5nOyAvLyBVVUlEXHJcbiAgICBwcml2YXRlIHNjZW5lOiBQaGFzZXIuU2NlbmU7XHJcbiAgICBwcml2YXRlIGdhbWVPYmo6IFBoYXNlci5QaHlzaWNzLkFyY2FkZS5TcHJpdGU7XHJcbiAgICBwcml2YXRlIHRhcmdldDogSGFzTG9jYXRpb247XHJcbiAgICBwcml2YXRlIGludGVncml0eTogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBhdHRhY2htZW50czogU2hpcEF0dGFjaG1lbnRbXTtcclxuICAgIHByaXZhdGUgdGhydXN0S2V5OiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5O1xyXG4gICAgcHJpdmF0ZSBib29zdEtleTogUGhhc2VyLklucHV0LktleWJvYXJkLktleTtcclxuICAgIHByaXZhdGUgcm90YXRlQXR0YWNobWVudHNDbG9ja3dpc2VLZXk6IFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXk7XHJcbiAgICBwcml2YXRlIHJvdGF0ZUF0dGFjaG1lbnRzQW50aUNsb2Nrd2lzZUtleTogUGhhc2VyLklucHV0LktleWJvYXJkLktleTtcclxuICAgIHByaXZhdGUgcmVtYWluaW5nRnVlbDogbnVtYmVyID0gMTAwO1xyXG4gICAgcHJpdmF0ZSB0ZW1wZXJhdHVyZTogbnVtYmVyID0gMDsgLy8gaW4gQ2VsY2l1c1xyXG5cclxuICAgIGFjdGl2ZTogYm9vbGVhbiA9IHRydWU7XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lOiBQaGFzZXIuU2NlbmUpIHtcclxuICAgICAgICB0aGlzLmlkID0gUk5HLmd1aWQoKTtcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy5nYW1lT2JqID0gc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKDAsIDAsICdzaGlwLXBvZCcpO1xyXG5cclxuICAgICAgICB0aGlzLmludGVncml0eSA9IENvbnN0YW50cy5NQVhfSU5URUdSSVRZO1xyXG4gICAgICAgIHRoaXMuYXR0YWNobWVudHMgPSBuZXcgQXJyYXk8U2hpcEF0dGFjaG1lbnQ+KEhlbHBlcnMuZW51bUxlbmd0aChBdHRhY2htZW50TG9jYXRpb24pKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXR1cElucHV0SGFuZGxlcnMoKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCFHbG9iYWxzLnBhdXNlZCAmJiB0aGlzLmFjdGl2ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmxvb2tBdFRhcmdldCgpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy50aHJ1c3RLZXkuaXNEb3duKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRocnVzdEZvd2FyZHMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5ib29zdEtleS5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYm9vc3RGb3J3YXJkcygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2tPdmVyaGVhdENvbmRpdGlvbigpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5yb3RhdGVBdHRhY2htZW50c0Nsb2Nrd2lzZUtleS5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucm90YXRlQXR0YWNobWVudHNDbG9ja3dpc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5yb3RhdGVBdHRhY2htZW50c0FudGlDbG9ja3dpc2VLZXkuaXNEb3duKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJvdGF0ZUF0dGFjaG1lbnRzQW50aUNsb2Nrd2lzZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQXR0YWNobWVudHMoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1cGRhdGVBdHRhY2htZW50cygpOiB2b2lkIHtcclxuICAgICAgICBmb3IgKHZhciBpPTA7IGk8dGhpcy5hdHRhY2htZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgYTogU2hpcEF0dGFjaG1lbnQgPSB0aGlzLmF0dGFjaG1lbnRzW2ldO1xyXG4gICAgICAgICAgICBpZiAoYSkge1xyXG4gICAgICAgICAgICAgICAgYS51cGRhdGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldHVwSW5wdXRIYW5kbGVycygpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnRocnVzdEtleSA9IHRoaXMuc2NlbmUuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KCdTUEFDRScsIHRydWUsIHRydWUpO1xyXG4gICAgICAgIHRoaXMuYm9vc3RLZXkgPSB0aGlzLnNjZW5lLmlucHV0LmtleWJvYXJkLmFkZEtleSgnVEFCJywgdHJ1ZSwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMucm90YXRlQXR0YWNobWVudHNDbG9ja3dpc2VLZXkgPSB0aGlzLnNjZW5lLmlucHV0LmtleWJvYXJkLmFkZEtleSgnRScsIHRydWUsIGZhbHNlKTtcclxuICAgICAgICB0aGlzLnJvdGF0ZUF0dGFjaG1lbnRzQW50aUNsb2Nrd2lzZUtleSA9IHRoaXMuc2NlbmUuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KCdRJywgdHJ1ZSwgZmFsc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogY2hlY2tzIGZvciBhbmQgYXBwbGllcyBkYW1hZ2UgYmFzZWQgb24gZGVncmVlcyBvdmVyIHNhZmUgdGVtcGVyYXR1cmUgYXQgYSByYXRlXHJcbiAgICAgKiBkZWZpbmVkIGJ5IHtDb25zdGFudHMuT1ZFUkhFQVRfQ0hFQ0tfSU5URVJWQUx9IG1pbGxpc2Vjb25kcyBiZXR3ZWVuIGVhY2ggY2hlY2suXHJcbiAgICAgKiBhbHNvIGFwcGxpZXMgY29vbGluZyBhdCBhIHJhdGUgb2Yge0NvbnN0YW50cy5DT09MSU5HX1JBVEV9XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgY2hlY2tPdmVyaGVhdENvbmRpdGlvbigpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIUdsb2JhbHMucGF1c2VkICYmIHRoaXMuYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIGlmIChIZWxwZXJzLm5vdygpIC0gdGhpcy5sYXN0T3ZlcmhlYXRDaGVjayA+IENvbnN0YW50cy5PVkVSSEVBVF9DSEVDS19JTlRFUlZBTCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudGVtcGVyYXR1cmUgPiBDb25zdGFudHMuTUFYX1RFTVBFUkFUVVJFKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95KCk7IC8vIHdlIGFyZSBkZWFkXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50ZW1wZXJhdHVyZSA+IENvbnN0YW50cy5NQVhfU0FGRV9URU1QRVJBVFVSRSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlZHVjZSBpbnRlZ3JpdHkgYmFzZWQgb24gZGVncmVlcyBvdmVyIHNhZmUgb3BlcmF0aW5nIHRlbXBcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZGVsdGE6IG51bWJlciA9ICh0aGlzLnRlbXBlcmF0dXJlIC0gQ29uc3RhbnRzLk1BWF9TQUZFX1RFTVBFUkFUVVJFKSAvIENvbnN0YW50cy5NQVhfU0FGRV9URU1QRVJBVFVSRTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN1c3RhaW5EYW1hZ2UoZGVsdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5hcHBseUNvb2xpbmcoQ29uc3RhbnRzLkNPT0xJTkdfUkFURSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RPdmVyaGVhdENoZWNrID0gSGVscGVycy5ub3coKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHByaXZhdGUgbGFzdE92ZXJoZWF0Q2hlY2s6IG51bWJlciA9IDA7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUT0RPOiBuZWVkZWQgc28gd2UgY2FuIHVzZSBGbG9hdGluZyBPcmlnaW5cclxuICAgICAqL1xyXG4gICAgZ2V0UmVhbExvY2F0aW9uKCk6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIHJldHVybiBuZXcgUGhhc2VyLk1hdGguVmVjdG9yMih0aGlzLmdhbWVPYmoueCwgdGhpcy5nYW1lT2JqLnkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogdGhlIGxvY2F0aW9uIHdpdGhpbiB0aGUgdmlld2FibGUgYXJlYVxyXG4gICAgICogQHJldHVybnMgYSB7UGhhc2VyLk1hdGguVmVjdG9yMn0gb2Zmc2V0IGZvciBsb2NhdGlvbiB3aXRoaW4gY3VycmVudCBcclxuICAgICAqIHZpZXdhYmxlIGFyZWFcclxuICAgICAqL1xyXG4gICAgZ2V0TG9jYXRpb24oKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgbGV0IGNhbWVyYVBvczogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuc2NlbmUuY2FtZXJhcy5tYWluLmdldFdvcmxkUG9pbnQoMCwgMCk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKHRoaXMuZ2FtZU9iai54IC0gY2FtZXJhUG9zLngsIHRoaXMuZ2FtZU9iai55IC0gY2FtZXJhUG9zLnkpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldElkKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0R2FtZU9iamVjdCgpOiBQaGFzZXIuR2FtZU9iamVjdHMuR2FtZU9iamVjdCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZU9iajtcclxuICAgIH1cclxuXHJcbiAgICBzZXRUYXJnZXQodGFyZ2V0OiBIYXNMb2NhdGlvbikge1xyXG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xyXG4gICAgfVxyXG5cclxuICAgIGxvb2tBdFRhcmdldCgpOiB2b2lkIHtcclxuICAgICAgICBsZXQgcG9zID0gdGhpcy50YXJnZXQuZ2V0UmVhbExvY2F0aW9uKCk7XHJcbiAgICAgICAgbGV0IHJhZGlhbnM6IG51bWJlciA9IFBoYXNlci5NYXRoLkFuZ2xlLkJldHdlZW4ocG9zLngsIHBvcy55LCB0aGlzLmdhbWVPYmoueCwgdGhpcy5nYW1lT2JqLnkpO1xyXG4gICAgICAgIHRoaXMuZ2FtZU9iai5zZXRSb3RhdGlvbihyYWRpYW5zKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRIZWFkaW5nKCk6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIGxldCB4OiBudW1iZXIgPSBNYXRoLmNvcyh0aGlzLmdhbWVPYmoucm90YXRpb24pO1xyXG4gICAgICAgIGxldCB5OiBudW1iZXIgPSBNYXRoLnNpbih0aGlzLmdhbWVPYmoucm90YXRpb24pO1xyXG4gICAgICAgIHJldHVybiBuZXcgUGhhc2VyLk1hdGguVmVjdG9yMih4LCB5KS5ub3JtYWxpemUoKS5uZWdhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRWZWxvY2l0eSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdhbWVPYmouYm9keS52ZWxvY2l0eS5sZW5ndGgoKTtcclxuICAgIH1cclxuXHJcbiAgICB0aHJ1c3RGb3dhcmRzKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuYXBwbHlUaHJ1c3QoQ29uc3RhbnRzLlRIUlVTVEVSX0ZPUkNFLCBDb25zdGFudHMuRlVFTF9QRVJfVEhSVVNULCBDb25zdGFudHMuSEVBVF9QRVJfVEhSVVNUKTtcclxuICAgIH1cclxuXHJcbiAgICBib29zdEZvcndhcmRzKCk6IHZvaWQge1xyXG4gICAgICAgIGlmIChIZWxwZXJzLm5vdygpIC0gdGhpcy5sYXN0Qm9vc3RUaW1lID49IENvbnN0YW50cy5CT09TVEVSX0NPT0xET1dOX1RJTUUpIHtcclxuICAgICAgICAgICAgdGhpcy5hcHBseVRocnVzdChDb25zdGFudHMuQk9PU1RFUl9GT1JDRSwgQ29uc3RhbnRzLkZVRUxfUEVSX0JPT1NULCBDb25zdGFudHMuSEVBVF9QRVJfQk9PU1QpO1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RCb29zdFRpbWUgPSBIZWxwZXJzLm5vdygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHByaXZhdGUgbGFzdEJvb3N0VGltZTogbnVtYmVyID0gMDtcclxuXHJcbiAgICBwcml2YXRlIGFwcGx5VGhydXN0KGZvcmNlOiBudW1iZXIsIGZ1ZWw6IG51bWJlciwgaGVhdDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0UmVtYWluaW5nRnVlbCgpID4gMCkge1xyXG4gICAgICAgICAgICBsZXQgaGVhZGluZzogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuZ2V0SGVhZGluZygpO1xyXG4gICAgICAgICAgICBsZXQgZGVsdGFWOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gaGVhZGluZy5tdWx0aXBseShuZXcgUGhhc2VyLk1hdGguVmVjdG9yMihmb3JjZSwgZm9yY2UpKTtcclxuICAgICAgICAgICAgdGhpcy5nYW1lT2JqLmJvZHkudmVsb2NpdHkuYWRkKGRlbHRhVik7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlZHVjZUZ1ZWwoZnVlbCk7XHJcbiAgICAgICAgICAgIHRoaXMuYXBwbHlIZWF0aW5nKGhlYXQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdHJhZmVMZWZ0KCk6IHZvaWQge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBzdHJhZmVSaWdodCgpOiB2b2lkIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgdGhydXN0QmFja3dhcmRzKCk6IHZvaWQge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBnZXRUZW1wZXJhdHVyZSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRlbXBlcmF0dXJlO1xyXG4gICAgfVxyXG5cclxuICAgIGFwcGx5SGVhdGluZyhkZWdyZWVzOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnRlbXBlcmF0dXJlICs9IGRlZ3JlZXM7XHJcbiAgICB9XHJcblxyXG4gICAgYXBwbHlDb29saW5nKGRlZ3JlZXM6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMudGVtcGVyYXR1cmUgLT0gZGVncmVlcztcclxuICAgICAgICBpZiAodGhpcy50ZW1wZXJhdHVyZSA8IDApIHtcclxuICAgICAgICAgICAgdGhpcy50ZW1wZXJhdHVyZSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlZHVjZUZ1ZWwoYW1vdW50OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnJlbWFpbmluZ0Z1ZWwgLT0gYW1vdW50O1xyXG4gICAgICAgIGlmICh0aGlzLnJlbWFpbmluZ0Z1ZWwgPCAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVtYWluaW5nRnVlbCA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFkZEZ1ZWwoYW1vdW50OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnJlbWFpbmluZ0Z1ZWwgKz0gYW1vdW50O1xyXG4gICAgICAgIGlmICh0aGlzLnJlbWFpbmluZ0Z1ZWwgPiBDb25zdGFudHMuTUFYX0ZVRUwpIHtcclxuICAgICAgICAgICAgdGhpcy5yZW1haW5pbmdGdWVsID0gQ29uc3RhbnRzLk1BWF9GVUVMO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRSZW1haW5pbmdGdWVsKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVtYWluaW5nRnVlbDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRJbnRlZ3JpdHkoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pbnRlZ3JpdHk7XHJcbiAgICB9XHJcblxyXG4gICAgc3VzdGFpbkRhbWFnZShhbW91bnQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuaW50ZWdyaXR5IC09IGFtb3VudDtcclxuICAgICAgICBpZiAodGhpcy5pbnRlZ3JpdHkgPD0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmludGVncml0eSA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveSgpOyAvLyB3ZSBhcmUgZGVhZFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXBhaXIoYW1vdW50OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmludGVncml0eSA9IGFtb3VudDtcclxuICAgICAgICBpZiAodGhpcy5pbnRlZ3JpdHkgPiBDb25zdGFudHMuTUFYX0lOVEVHUklUWSkge1xyXG4gICAgICAgICAgICB0aGlzLmludGVncml0eSA9IENvbnN0YW50cy5NQVhfSU5URUdSSVRZO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByb3RhdGVBdHRhY2htZW50c0Nsb2Nrd2lzZSgpOiB2b2lkIHtcclxuICAgICAgICBsZXQgbGFzdDogU2hpcEF0dGFjaG1lbnQgPSB0aGlzLmF0dGFjaG1lbnRzLnBvcCgpOyAvLyByZW1vdmUgbGFzdCBlbGVtZW50XHJcbiAgICAgICAgdGhpcy5hdHRhY2htZW50cy51bnNoaWZ0KGxhc3QpOyAvLyBwdXNoIGxhc3QgZWxlbWVudCBvbnRvIHN0YXJ0IG9mIGFycmF5XHJcbiAgICAgICAgdGhpcy51cGRhdGVBdHRhY2htZW50UG9zaXRpb25zKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcm90YXRlQXR0YWNobWVudHNBbnRpQ2xvY2t3aXNlKCk6IHZvaWQge1xyXG4gICAgICAgIGxldCBmaXJzdDogU2hpcEF0dGFjaG1lbnQgPSB0aGlzLmF0dGFjaG1lbnRzLnNoaWZ0KCk7IC8vIHJlbW92ZSBmaXJzdCBlbGVtZW50XHJcbiAgICAgICAgdGhpcy5hdHRhY2htZW50cy5wdXNoKGZpcnN0KTsgLy8gcHVzaCBmaXJzdCBlbGVtZW50IG9udG8gZW5kIG9mIGFycmF5XHJcbiAgICAgICAgdGhpcy51cGRhdGVBdHRhY2htZW50UG9zaXRpb25zKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1cGRhdGVBdHRhY2htZW50UG9zaXRpb25zKCk6IHZvaWQge1xyXG4gICAgICAgIGZvciAodmFyIGk9MDsgaTx0aGlzLmF0dGFjaG1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoaSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBBdHRhY2htZW50TG9jYXRpb24uZnJvbnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdHRhY2htZW50c1tpXS5zZXRBdHRhY2htZW50TG9jYXRpb24oQXR0YWNobWVudExvY2F0aW9uLmZyb250KTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgQXR0YWNobWVudExvY2F0aW9uLmZyb250UmlnaHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdHRhY2htZW50c1tpXS5zZXRBdHRhY2htZW50TG9jYXRpb24oQXR0YWNobWVudExvY2F0aW9uLmZyb250UmlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBBdHRhY2htZW50TG9jYXRpb24ucmlnaHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdHRhY2htZW50c1tpXS5zZXRBdHRhY2htZW50TG9jYXRpb24oQXR0YWNobWVudExvY2F0aW9uLnJpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgQXR0YWNobWVudExvY2F0aW9uLmJhY2tSaWdodDpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzW2ldLnNldEF0dGFjaG1lbnRMb2NhdGlvbihBdHRhY2htZW50TG9jYXRpb24uYmFja1JpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgQXR0YWNobWVudExvY2F0aW9uLmJhY2tMZWZ0OlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNobWVudHNbaV0uc2V0QXR0YWNobWVudExvY2F0aW9uKEF0dGFjaG1lbnRMb2NhdGlvbi5iYWNrTGVmdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIEF0dGFjaG1lbnRMb2NhdGlvbi5sZWZ0OlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNobWVudHNbaV0uc2V0QXR0YWNobWVudExvY2F0aW9uKEF0dGFjaG1lbnRMb2NhdGlvbi5sZWZ0KTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgQXR0YWNobWVudExvY2F0aW9uLmZyb250TGVmdDpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzW2ldLnNldEF0dGFjaG1lbnRMb2NhdGlvbihBdHRhY2htZW50TG9jYXRpb24uZnJvbnRMZWZ0KTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJlcGxhY2VzIHRoZSBhdHRhY2htZW50IGluIHtBdHRhY2htZW50TG9jYXRpb24uZnJvbnR9XHJcbiAgICAgKiB3aXRoIHRoZSBwYXNzZWQgaW4ge1NoaXBBdHRhY2htZW50fS4gaWYgbm8gYXR0YWNobWVudFxyXG4gICAgICogaW4gdGhlIHtBdHRhY2htZW50TG9jYXRpb24uZnJvbnR9IHNsb3QgdGhlbiBpdCBpcyBcclxuICAgICAqIHNpbXBseSBhZGRlZC5cclxuICAgICAqIEBwYXJhbSBhdHRhY2htZW50IHRoZSBhdHRhY2htZW50IHRvIGJlIGFkZGVkXHJcbiAgICAgKi9cclxuICAgIGFkZEF0dGFjaG1lbnQoYXR0YWNobWVudDogU2hpcEF0dGFjaG1lbnQpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnJlbW92ZUF0dGFjaG1lbnQoQXR0YWNobWVudExvY2F0aW9uLmZyb250KTtcclxuICAgICAgICB0aGlzLmF0dGFjaG1lbnRzW0F0dGFjaG1lbnRMb2NhdGlvbi5mcm9udF0gPSBhdHRhY2htZW50O1xyXG4gICAgICAgIGF0dGFjaG1lbnQuYXR0YWNoKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZUF0dGFjaG1lbnQobG9jYXRpb246IEF0dGFjaG1lbnRMb2NhdGlvbik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuYXR0YWNobWVudHNbbG9jYXRpb25dLmRldGFjaCgpO1xyXG4gICAgICAgIHRoaXMuYXR0YWNobWVudHNbbG9jYXRpb25dID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBkZXN0cm95KCk6IHZvaWQge1xyXG4gICAgICAgIC8vIFRPRE86XHJcbiAgICB9XHJcbn0iLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzZfXzsiLCJpbXBvcnQgeyB2NCB9IGZyb20gXCJ1dWlkXCI7XHJcblxyXG5leHBvcnQgbW9kdWxlIFJORyB7XHJcbiAgICBleHBvcnQgZnVuY3Rpb24gaW50KG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW47XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGd1aWQoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdjQoKTtcclxuICAgIH1cclxufSIsInZhciB2MSA9IHJlcXVpcmUoJy4vdjEnKTtcbnZhciB2NCA9IHJlcXVpcmUoJy4vdjQnKTtcblxudmFyIHV1aWQgPSB2NDtcbnV1aWQudjEgPSB2MTtcbnV1aWQudjQgPSB2NDtcblxubW9kdWxlLmV4cG9ydHMgPSB1dWlkO1xuIiwidmFyIHJuZyA9IHJlcXVpcmUoJy4vbGliL3JuZycpO1xudmFyIGJ5dGVzVG9VdWlkID0gcmVxdWlyZSgnLi9saWIvYnl0ZXNUb1V1aWQnKTtcblxuLy8gKipgdjEoKWAgLSBHZW5lcmF0ZSB0aW1lLWJhc2VkIFVVSUQqKlxuLy9cbi8vIEluc3BpcmVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS9MaW9zSy9VVUlELmpzXG4vLyBhbmQgaHR0cDovL2RvY3MucHl0aG9uLm9yZy9saWJyYXJ5L3V1aWQuaHRtbFxuXG52YXIgX25vZGVJZDtcbnZhciBfY2xvY2tzZXE7XG5cbi8vIFByZXZpb3VzIHV1aWQgY3JlYXRpb24gdGltZVxudmFyIF9sYXN0TVNlY3MgPSAwO1xudmFyIF9sYXN0TlNlY3MgPSAwO1xuXG4vLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkIGZvciBBUEkgZGV0YWlsc1xuZnVuY3Rpb24gdjEob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgdmFyIGkgPSBidWYgJiYgb2Zmc2V0IHx8IDA7XG4gIHZhciBiID0gYnVmIHx8IFtdO1xuXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgbm9kZSA9IG9wdGlvbnMubm9kZSB8fCBfbm9kZUlkO1xuICB2YXIgY2xvY2tzZXEgPSBvcHRpb25zLmNsb2Nrc2VxICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNsb2Nrc2VxIDogX2Nsb2Nrc2VxO1xuXG4gIC8vIG5vZGUgYW5kIGNsb2Nrc2VxIG5lZWQgdG8gYmUgaW5pdGlhbGl6ZWQgdG8gcmFuZG9tIHZhbHVlcyBpZiB0aGV5J3JlIG5vdFxuICAvLyBzcGVjaWZpZWQuICBXZSBkbyB0aGlzIGxhemlseSB0byBtaW5pbWl6ZSBpc3N1ZXMgcmVsYXRlZCB0byBpbnN1ZmZpY2llbnRcbiAgLy8gc3lzdGVtIGVudHJvcHkuICBTZWUgIzE4OVxuICBpZiAobm9kZSA9PSBudWxsIHx8IGNsb2Nrc2VxID09IG51bGwpIHtcbiAgICB2YXIgc2VlZEJ5dGVzID0gcm5nKCk7XG4gICAgaWYgKG5vZGUgPT0gbnVsbCkge1xuICAgICAgLy8gUGVyIDQuNSwgY3JlYXRlIGFuZCA0OC1iaXQgbm9kZSBpZCwgKDQ3IHJhbmRvbSBiaXRzICsgbXVsdGljYXN0IGJpdCA9IDEpXG4gICAgICBub2RlID0gX25vZGVJZCA9IFtcbiAgICAgICAgc2VlZEJ5dGVzWzBdIHwgMHgwMSxcbiAgICAgICAgc2VlZEJ5dGVzWzFdLCBzZWVkQnl0ZXNbMl0sIHNlZWRCeXRlc1szXSwgc2VlZEJ5dGVzWzRdLCBzZWVkQnl0ZXNbNV1cbiAgICAgIF07XG4gICAgfVxuICAgIGlmIChjbG9ja3NlcSA9PSBudWxsKSB7XG4gICAgICAvLyBQZXIgNC4yLjIsIHJhbmRvbWl6ZSAoMTQgYml0KSBjbG9ja3NlcVxuICAgICAgY2xvY2tzZXEgPSBfY2xvY2tzZXEgPSAoc2VlZEJ5dGVzWzZdIDw8IDggfCBzZWVkQnl0ZXNbN10pICYgMHgzZmZmO1xuICAgIH1cbiAgfVxuXG4gIC8vIFVVSUQgdGltZXN0YW1wcyBhcmUgMTAwIG5hbm8tc2Vjb25kIHVuaXRzIHNpbmNlIHRoZSBHcmVnb3JpYW4gZXBvY2gsXG4gIC8vICgxNTgyLTEwLTE1IDAwOjAwKS4gIEpTTnVtYmVycyBhcmVuJ3QgcHJlY2lzZSBlbm91Z2ggZm9yIHRoaXMsIHNvXG4gIC8vIHRpbWUgaXMgaGFuZGxlZCBpbnRlcm5hbGx5IGFzICdtc2VjcycgKGludGVnZXIgbWlsbGlzZWNvbmRzKSBhbmQgJ25zZWNzJ1xuICAvLyAoMTAwLW5hbm9zZWNvbmRzIG9mZnNldCBmcm9tIG1zZWNzKSBzaW5jZSB1bml4IGVwb2NoLCAxOTcwLTAxLTAxIDAwOjAwLlxuICB2YXIgbXNlY3MgPSBvcHRpb25zLm1zZWNzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm1zZWNzIDogbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cbiAgLy8gUGVyIDQuMi4xLjIsIHVzZSBjb3VudCBvZiB1dWlkJ3MgZ2VuZXJhdGVkIGR1cmluZyB0aGUgY3VycmVudCBjbG9ja1xuICAvLyBjeWNsZSB0byBzaW11bGF0ZSBoaWdoZXIgcmVzb2x1dGlvbiBjbG9ja1xuICB2YXIgbnNlY3MgPSBvcHRpb25zLm5zZWNzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm5zZWNzIDogX2xhc3ROU2VjcyArIDE7XG5cbiAgLy8gVGltZSBzaW5jZSBsYXN0IHV1aWQgY3JlYXRpb24gKGluIG1zZWNzKVxuICB2YXIgZHQgPSAobXNlY3MgLSBfbGFzdE1TZWNzKSArIChuc2VjcyAtIF9sYXN0TlNlY3MpLzEwMDAwO1xuXG4gIC8vIFBlciA0LjIuMS4yLCBCdW1wIGNsb2Nrc2VxIG9uIGNsb2NrIHJlZ3Jlc3Npb25cbiAgaWYgKGR0IDwgMCAmJiBvcHRpb25zLmNsb2Nrc2VxID09PSB1bmRlZmluZWQpIHtcbiAgICBjbG9ja3NlcSA9IGNsb2Nrc2VxICsgMSAmIDB4M2ZmZjtcbiAgfVxuXG4gIC8vIFJlc2V0IG5zZWNzIGlmIGNsb2NrIHJlZ3Jlc3NlcyAobmV3IGNsb2Nrc2VxKSBvciB3ZSd2ZSBtb3ZlZCBvbnRvIGEgbmV3XG4gIC8vIHRpbWUgaW50ZXJ2YWxcbiAgaWYgKChkdCA8IDAgfHwgbXNlY3MgPiBfbGFzdE1TZWNzKSAmJiBvcHRpb25zLm5zZWNzID09PSB1bmRlZmluZWQpIHtcbiAgICBuc2VjcyA9IDA7XG4gIH1cblxuICAvLyBQZXIgNC4yLjEuMiBUaHJvdyBlcnJvciBpZiB0b28gbWFueSB1dWlkcyBhcmUgcmVxdWVzdGVkXG4gIGlmIChuc2VjcyA+PSAxMDAwMCkge1xuICAgIHRocm93IG5ldyBFcnJvcigndXVpZC52MSgpOiBDYW5cXCd0IGNyZWF0ZSBtb3JlIHRoYW4gMTBNIHV1aWRzL3NlYycpO1xuICB9XG5cbiAgX2xhc3RNU2VjcyA9IG1zZWNzO1xuICBfbGFzdE5TZWNzID0gbnNlY3M7XG4gIF9jbG9ja3NlcSA9IGNsb2Nrc2VxO1xuXG4gIC8vIFBlciA0LjEuNCAtIENvbnZlcnQgZnJvbSB1bml4IGVwb2NoIHRvIEdyZWdvcmlhbiBlcG9jaFxuICBtc2VjcyArPSAxMjIxOTI5MjgwMDAwMDtcblxuICAvLyBgdGltZV9sb3dgXG4gIHZhciB0bCA9ICgobXNlY3MgJiAweGZmZmZmZmYpICogMTAwMDAgKyBuc2VjcykgJSAweDEwMDAwMDAwMDtcbiAgYltpKytdID0gdGwgPj4+IDI0ICYgMHhmZjtcbiAgYltpKytdID0gdGwgPj4+IDE2ICYgMHhmZjtcbiAgYltpKytdID0gdGwgPj4+IDggJiAweGZmO1xuICBiW2krK10gPSB0bCAmIDB4ZmY7XG5cbiAgLy8gYHRpbWVfbWlkYFxuICB2YXIgdG1oID0gKG1zZWNzIC8gMHgxMDAwMDAwMDAgKiAxMDAwMCkgJiAweGZmZmZmZmY7XG4gIGJbaSsrXSA9IHRtaCA+Pj4gOCAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRtaCAmIDB4ZmY7XG5cbiAgLy8gYHRpbWVfaGlnaF9hbmRfdmVyc2lvbmBcbiAgYltpKytdID0gdG1oID4+PiAyNCAmIDB4ZiB8IDB4MTA7IC8vIGluY2x1ZGUgdmVyc2lvblxuICBiW2krK10gPSB0bWggPj4+IDE2ICYgMHhmZjtcblxuICAvLyBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGAgKFBlciA0LjIuMiAtIGluY2x1ZGUgdmFyaWFudClcbiAgYltpKytdID0gY2xvY2tzZXEgPj4+IDggfCAweDgwO1xuXG4gIC8vIGBjbG9ja19zZXFfbG93YFxuICBiW2krK10gPSBjbG9ja3NlcSAmIDB4ZmY7XG5cbiAgLy8gYG5vZGVgXG4gIGZvciAodmFyIG4gPSAwOyBuIDwgNjsgKytuKSB7XG4gICAgYltpICsgbl0gPSBub2RlW25dO1xuICB9XG5cbiAgcmV0dXJuIGJ1ZiA/IGJ1ZiA6IGJ5dGVzVG9VdWlkKGIpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHYxO1xuIiwidmFyIHJuZyA9IHJlcXVpcmUoJy4vbGliL3JuZycpO1xudmFyIGJ5dGVzVG9VdWlkID0gcmVxdWlyZSgnLi9saWIvYnl0ZXNUb1V1aWQnKTtcblxuZnVuY3Rpb24gdjQob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgdmFyIGkgPSBidWYgJiYgb2Zmc2V0IHx8IDA7XG5cbiAgaWYgKHR5cGVvZihvcHRpb25zKSA9PSAnc3RyaW5nJykge1xuICAgIGJ1ZiA9IG9wdGlvbnMgPT09ICdiaW5hcnknID8gbmV3IEFycmF5KDE2KSA6IG51bGw7XG4gICAgb3B0aW9ucyA9IG51bGw7XG4gIH1cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgdmFyIHJuZHMgPSBvcHRpb25zLnJhbmRvbSB8fCAob3B0aW9ucy5ybmcgfHwgcm5nKSgpO1xuXG4gIC8vIFBlciA0LjQsIHNldCBiaXRzIGZvciB2ZXJzaW9uIGFuZCBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGBcbiAgcm5kc1s2XSA9IChybmRzWzZdICYgMHgwZikgfCAweDQwO1xuICBybmRzWzhdID0gKHJuZHNbOF0gJiAweDNmKSB8IDB4ODA7XG5cbiAgLy8gQ29weSBieXRlcyB0byBidWZmZXIsIGlmIHByb3ZpZGVkXG4gIGlmIChidWYpIHtcbiAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgMTY7ICsraWkpIHtcbiAgICAgIGJ1ZltpICsgaWldID0gcm5kc1tpaV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGJ1ZiB8fCBieXRlc1RvVXVpZChybmRzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB2NDtcbiIsImV4cG9ydCBtb2R1bGUgQ29uc3RhbnRzIHtcclxuICAgIGV4cG9ydCBjb25zdCBNQVhfSU5URUdSSVRZOiBudW1iZXIgPSAxMDA7XHJcbiAgICBleHBvcnQgY29uc3QgTUFYX0ZVRUw6IG51bWJlciA9IDEwMDtcclxuICAgIGV4cG9ydCBjb25zdCBNQVhfU0FGRV9URU1QRVJBVFVSRTogbnVtYmVyID0gMTAwO1xyXG4gICAgZXhwb3J0IGNvbnN0IE1BWF9URU1QRVJBVFVSRTogbnVtYmVyID0gMjAwO1xyXG4gICAgZXhwb3J0IGNvbnN0IE9WRVJIRUFUX0NIRUNLX0lOVEVSVkFMOiBudW1iZXIgPSAxMDA7IC8vIG1pbGxpc2Vjb25kc1xyXG4gICAgZXhwb3J0IGNvbnN0IENPT0xJTkdfUkFURTogbnVtYmVyID0gMC4zOyAvLyBkZWdyZWVzIHBlciBzZWNvbmRcclxuICAgIGV4cG9ydCBjb25zdCBUSFJVU1RFUl9GT1JDRTogbnVtYmVyID0gMTtcclxuICAgIGV4cG9ydCBjb25zdCBGVUVMX1BFUl9USFJVU1Q6IG51bWJlciA9IDAuMDE7IC8vIHVuaXRzXHJcbiAgICBleHBvcnQgY29uc3QgSEVBVF9QRVJfVEhSVVNUOiBudW1iZXIgPSAwLjEgLy8gZGVncmVlc1xyXG4gICAgZXhwb3J0IGNvbnN0IEJPT1NURVJfRk9SQ0U6IG51bWJlciA9IDEwMDtcclxuICAgIGV4cG9ydCBjb25zdCBGVUVMX1BFUl9CT09TVDogbnVtYmVyID0gMTA7IC8vIHVuaXRzXHJcbiAgICBleHBvcnQgY29uc3QgSEVBVF9QRVJfQk9PU1Q6IG51bWJlciA9IDI1OyAvLyBkZWdyZWVzXHJcbiAgICBleHBvcnQgY29uc3QgQk9PU1RFUl9DT09MRE9XTl9USU1FOiBudW1iZXIgPSAxMDAwOyAvLyBtaWxsaXNlY29uZHNcclxufSIsImV4cG9ydCBtb2R1bGUgSGVscGVycyB7XHJcbiAgICAvKipcclxuICAgICAqIGdldCB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIGluIGFuIGVudW0uXHJcbiAgICAgKiA8cD5cclxuICAgICAqIGV4OiA8aT5lbnVtIEZvbyB7IGJhciA9IDAsIGJheiA9IDEsIGJveiA9IDIgfTwvaT48YnIgLz5cclxuICAgICAqIHJldHVybnM6IDxiPjM8L2I+XHJcbiAgICAgKiA8L3A+XHJcbiAgICAgKiBAcGFyYW0gZW51bVR5cGUgdGhlIHR5cGUgbmFtZSBvZiBhbiBlbnVtXHJcbiAgICAgKiBAcmV0dXJucyB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIGluIHRoZSBlbnVtXHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBlbnVtTGVuZ3RoKGVudW1UeXBlOiBhbnkpOiBudW1iZXIge1xyXG4gICAgICAgIGxldCBjb3VudCA9IDA7XHJcbiAgICAgICAgZm9yKGxldCBpdGVtIGluIGVudW1UeXBlKSB7XHJcbiAgICAgICAgICAgIGlmKGlzTmFOKE51bWJlcihpdGVtKSkpIHtcclxuICAgICAgICAgICAgICAgIGNvdW50Kys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNvdW50O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgdGltZSBpbiBtaWxsaXNlY29uZHMgc2luY2UgdGhlIGVwb2NoXHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBub3coKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZW51bSBBdHRhY2htZW50TG9jYXRpb24ge1xyXG4gICAgZnJvbnQsXHJcbiAgICBmcm9udFJpZ2h0LFxyXG4gICAgcmlnaHQsXHJcbiAgICBiYWNrUmlnaHQsXHJcbiAgICAvLyBOT1RFOiB0aGVyZSBpcyBubyAnYmFjaycgYXR0YWNobWVudCBwb2ludCBkdWUgdG8gbG9jYXRpb24gb2YgdGhydXN0ZXJcclxuICAgIGJhY2tMZWZ0LFxyXG4gICAgbGVmdCxcclxuICAgIGZyb250TGVmdFxyXG59IiwiaW1wb3J0IHsgSGFzTG9jYXRpb24gfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9oYXMtbG9jYXRpb25cIjtcclxuaW1wb3J0IHsgTW91c2VXaGVlbFNjcm9sbCB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL21vdXNlLXdoZWVsLXNjcm9sbFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1vdXNlIGltcGxlbWVudHMgSGFzTG9jYXRpb24ge1xyXG4gICAgcHJpdmF0ZSBzY2VuZTogUGhhc2VyLlNjZW5lO1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZTogUGhhc2VyLlNjZW5lKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuc2NlbmUuaW5wdXQubW91c2UuY2FwdHVyZSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiByZXR1cm5zIHRoZSBwb3NpdGlvbiBvZiB0aGUgbW91c2Ugd2l0aGluIHRoZSBib3VuZHMgb2YgdGhlIGN1cnJlbnRcclxuICAgICAqIHNjcmVlbi5cclxuICAgICAqIEByZXR1cm5zIGEge1BoYXNlci5NYXRoLlZlY3RvcjJ9IGNsb25lIG9mIHRoZSBwb3NpdGlvblxyXG4gICAgICovXHJcbiAgICBnZXRMb2NhdGlvbigpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhgbW91c2UgbG9jYXRpb246ICR7SlNPTi5zdHJpbmdpZnkodGhpcy5sb2NhdGlvbil9YCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NlbmUuaW5wdXQuYWN0aXZlUG9pbnRlci5wb3NpdGlvbi5jbG9uZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogb2Zmc2V0cyB0aGUgc2NyZWVuIHBvc2l0aW9uIGJhc2VkIG9uIGNhbWVyYSBwb3NpdGlvblxyXG4gICAgICovXHJcbiAgICBnZXRSZWFsTG9jYXRpb24oKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgbGV0IGxvYzogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuZ2V0TG9jYXRpb24oKTtcclxuICAgICAgICBsZXQgd29ybGQ6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSB0aGlzLnNjZW5lLmNhbWVyYXMubWFpbi5nZXRXb3JsZFBvaW50KGxvYy54LCBsb2MueSk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coYG1vdXNlIFJFQUwgbG9jYXRpb246ICR7SlNPTi5zdHJpbmdpZnkod29ybGQpfWApO1xyXG4gICAgICAgIHJldHVybiB3b3JsZDtcclxuICAgIH1cclxuXHJcbiAgICBvbldoZWVsVXA8VCBleHRlbmRzIE1vdXNlV2hlZWxTY3JvbGw+KGZ1bmM6IFQpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnNjZW5lLmlucHV0Lm9uKFBoYXNlci5JbnB1dC5FdmVudHMuUE9JTlRFUl9XSEVFTCwgKHBvaW50ZXIsIGN1cnJlbnRseU92ZXIsIGR4LCBkeSwgZHosIGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChkeSA+IDApIHtcclxuICAgICAgICAgICAgICAgIGZ1bmMoZHkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgb25XaGVlbERvd248VCBleHRlbmRzIE1vdXNlV2hlZWxTY3JvbGw+KGZ1bmM6IFQpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnNjZW5lLmlucHV0Lm9uKFBoYXNlci5JbnB1dC5FdmVudHMuUE9JTlRFUl9XSEVFTCwgKHBvaW50ZXIsIGN1cnJlbnRseU92ZXIsIGR4LCBkeSwgZHosIGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChkeSA8IDApIHtcclxuICAgICAgICAgICAgICAgIGZ1bmMoLWR5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgR2xvYmFscyB9IGZyb20gXCIuLi91dGlsaXRpZXMvZ2xvYmFsc1wiO1xyXG5pbXBvcnQgeyBTaGlwUG9kIH0gZnJvbSBcIi4uL3NoaXBzL3NoaXAtcG9kXCI7XHJcblxyXG5jb25zdCBzY2VuZUNvbmZpZzogUGhhc2VyLlR5cGVzLlNjZW5lcy5TZXR0aW5nc0NvbmZpZyA9IHtcclxuICAgIGFjdGl2ZTogdHJ1ZSxcclxuICAgIHZpc2libGU6IHRydWUsXHJcbiAgICBrZXk6ICdPdmVybGF5U2NlbmUnXHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgT3ZlcmxheVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIHByaXZhdGUgZGVidWc6IFBoYXNlci5HYW1lT2JqZWN0cy5UZXh0O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKHNjZW5lQ29uZmlnKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcHJlbG9hZCgpOiB2b2lkIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNyZWF0ZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmRlYnVnID0gdGhpcy5hZGQudGV4dCgxMCwgMTAsICcnLCB7IGZvbnQ6ICcxNnB4IENvdXJpZXInLCBmaWxsOiAnI2ZmZGRkZCcgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZSgpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIUdsb2JhbHMucGF1c2VkKSB7XHJcbiAgICAgICAgICAgIGlmIChHbG9iYWxzLnBsYXllcikge1xyXG4gICAgICAgICAgICAgICAgbGV0IHA6IFNoaXBQb2QgPSBHbG9iYWxzLnBsYXllcjtcclxuICAgICAgICAgICAgICAgIGxldCBsb2M6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSBwLmdldFJlYWxMb2NhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZWJ1Zy5zZXRUZXh0KFtcclxuICAgICAgICAgICAgICAgICAgICBgVmVsb2NpdHk6ICR7cC5nZXRWZWxvY2l0eSgpLnRvRml4ZWQoMSl9YCxcclxuICAgICAgICAgICAgICAgICAgICBgSW50ZWdyaXR5OiAke3AuZ2V0SW50ZWdyaXR5KCkudG9GaXhlZCgxKX1gLFxyXG4gICAgICAgICAgICAgICAgICAgIGBIZWF0OiAke3AuZ2V0VGVtcGVyYXR1cmUoKS50b0ZpeGVkKDEpfWAsXHJcbiAgICAgICAgICAgICAgICAgICAgYEZ1ZWw6ICR7cC5nZXRSZW1haW5pbmdGdWVsKCkudG9GaXhlZCgxKX1gLFxyXG4gICAgICAgICAgICAgICAgICAgIGBMb2NhdGlvbjogJHtsb2MueC50b0ZpeGVkKDEpfSwke2xvYy55LnRvRml4ZWQoMSl9YFxyXG4gICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9