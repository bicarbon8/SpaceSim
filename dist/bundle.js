!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("phaser")):"function"==typeof define&&define.amd?define(["phaser"],e):"object"==typeof exports?exports.bundle=e(require("phaser")):t.bundle=e(t.phaser)}(window,(function(t){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.interactables=[]}(e.Globals||(e.Globals={}))},function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var o=new Uint8Array(16);t.exports=function(){return n(o),o}}else{var i=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),i[e]=t>>>((3&e)<<3)&255;return i}}},function(t,e){for(var n=[],o=0;o<256;++o)n[o]=(o+256).toString(16).substr(1);t.exports=function(t,e){var o=e||0,i=n;return[i[t[o++]],i[t[o++]],i[t[o++]],i[t[o++]],"-",i[t[o++]],i[t[o++]],"-",i[t[o++]],i[t[o++]],"-",i[t[o++]],i[t[o++]],"-",i[t[o++]],i[t[o++]],i[t[o++]],i[t[o++]],i[t[o++]],i[t[o++]]].join("")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.MAX_INTEGRITY=100,t.MAX_FUEL=100,t.MAX_SAFE_TEMPERATURE=100,t.MAX_TEMPERATURE=200,t.OVERHEAT_CHECK_INTERVAL=100,t.COOLING_RATE=.3,t.THRUSTER_FORCE=1,t.FUEL_PER_THRUST=.001,t.HEAT_PER_THRUST=.1,t.BOOSTER_FORCE=300,t.FUEL_PER_BOOST=1,t.HEAT_PER_BOOST=25,t.BOOSTER_COOLDOWN_TIME=1e3}(e.Constants||(e.Constants={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.enumLength=function(t){var e=0;for(var n in t)isNaN(Number(n))&&e++;return e},t.now=function(){return(new Date).getTime()}}(e.Helpers||(e.Helpers={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.front=0]="front",t[t.frontRight=1]="frontRight",t[t.right=2]="right",t[t.backRight=3]="backRight",t[t.backLeft=4]="backLeft",t[t.left=5]="left",t[t.frontLeft=6]="frontLeft"}(e.AttachmentLocation||(e.AttachmentLocation={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(7),i=n(0),a=n(18),r={type:Phaser.AUTO,scale:{width:window.innerWidth,height:window.innerHeight},backgroundColor:"#000000",parent:"space-sim",physics:{default:"arcade",arcade:{gravity:{x:0,y:0}}},scene:[o.ShipScene,a.OverlayScene]};e.game=new Phaser.Game(r),window.addEventListener("resize",(function(){e.game.scale.refresh()})),i.Globals.game=e.game},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(8),r=n(0),s=n(14),c=n(15),h={active:!0,visible:!0,key:"ShipScene"},u=function(t){function e(){return t.call(this,h)||this}return i(e,t),e.prototype.preload=function(){this.load.image("stars","./assets/backgrounds/tileableStars.png"),this.load.image("ship-pod","./assets/sprites/ship-pod.png"),this.load.image("cannon","./assets/sprites/cannon.png"),this.load.atlas("flares","./assets/particles/flares.png","./assets/particles/flares.json")},e.prototype.create=function(){var t=this;this.add.tileSprite(0,0,10*this.cameras.main.width,10*this.cameras.main.height,"stars"),this.mouse=new s.Mouse(this),this.player=new a.ShipPod(this),r.Globals.player=this.player,this.player.setTarget(this.mouse);var e=new c.CannonAttachment(this);this.player.addAttachment(e),this.setupCamera(this.player),this.input.keyboard.on("keydown-P",(function(){r.Globals.paused=!0})),this.input.keyboard.on("keydown-R",(function(){r.Globals.paused=!1})),this.mouse.onWheelUp((function(e){var n=t.cameras.main.zoom-.5;n<.1&&(n=.1),t.cameras.main.zoomTo(n)})),this.mouse.onWheelDown((function(e){var n=t.cameras.main.zoom+.5;n>1&&(n=1),t.cameras.main.zoomTo(n)}))},e.prototype.update=function(){r.Globals.paused||r.Globals.player.update()},e.prototype.setupCamera=function(t){this.cameras.main.backgroundColor.setFromRGB({r:0,g:0,b:0}),this.cameras.main.setZoom(1),this.cameras.main.centerOn(0,0);var e=this.cameras.main.width,n=this.cameras.main.height,o=Math.floor(e/2),i=Math.floor(n/2),a=Math.floor(o/2),r=Math.floor(i/2);this.cameras.main.startFollow(t.getGameObject(),!0),this.cameras.main.deadzone=new Phaser.Geom.Rectangle(a,r,o,i)},e}(Phaser.Scene);e.ShipScene=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(9);var o=n(10),i=n(0),a=n(3),r=n(4),s=n(5),c=function(){function t(t){this.remainingFuel=100,this.temperature=0,this.active=!0,this.lastOverheatCheck=0,this.lastBoostTime=0,this.id=o.RNG.guid(),this.scene=t,this.gameObj=t.add.container(0,0),this.scene.physics.add.existing(this.gameObj),this.gameObj.body.bounce.setTo(.7,.7),this.thrusterParticles=t.add.particles("flares");var e=t.add.sprite(0,0,"ship-pod");this.gameObj.add(e),this.integrity=a.Constants.MAX_INTEGRITY,this.attachments=new Array(r.Helpers.enumLength(s.AttachmentLocation)),this.setupInputHandlers()}return t.prototype.update=function(){!i.Globals.paused&&this.active&&(this.lookAtTarget(),this.thrustKey.isDown&&this.thrustFowards(),this.boostKey.isDown&&this.boostForwards(),this.scene.input.activePointer.leftButtonDown()&&this.attachments[0]&&this.attachments[0].trigger(),this.checkOverheatCondition(),this.rotateAttachmentsClockwiseKey.isDown&&this.rotateAttachmentsClockwise(),this.rotateAttachmentsAntiClockwiseKey.isDown&&this.rotateAttachmentsAntiClockwise(),this.detachAttachmentKey.isDown&&this.removeAttachment(s.AttachmentLocation.front),this.updateAttachments())},t.prototype.updateAttachments=function(){for(var t=0;t<this.attachments.length;t++){var e=this.attachments[t];e&&e.update()}},t.prototype.setupInputHandlers=function(){this.thrustKey=this.scene.input.keyboard.addKey("SPACE",!0,!0),this.boostKey=this.scene.input.keyboard.addKey("TAB",!0,!1),this.rotateAttachmentsClockwiseKey=this.scene.input.keyboard.addKey("E",!0,!1),this.rotateAttachmentsAntiClockwiseKey=this.scene.input.keyboard.addKey("Q",!0,!1),this.detachAttachmentKey=this.scene.input.keyboard.addKey("X",!0,!1)},t.prototype.checkOverheatCondition=function(){if(!i.Globals.paused&&this.active&&r.Helpers.now()-this.lastOverheatCheck>a.Constants.OVERHEAT_CHECK_INTERVAL){if(this.temperature>a.Constants.MAX_TEMPERATURE&&this.destroy(),this.temperature>a.Constants.MAX_SAFE_TEMPERATURE){var t=(this.temperature-a.Constants.MAX_SAFE_TEMPERATURE)/a.Constants.MAX_SAFE_TEMPERATURE;this.sustainDamage(t)}this.applyCooling(a.Constants.COOLING_RATE),this.lastOverheatCheck=r.Helpers.now()}},t.prototype.getRealLocation=function(){return new Phaser.Math.Vector2(this.gameObj.x,this.gameObj.y)},t.prototype.getLocation=function(){var t=this.scene.cameras.main.getWorldPoint(0,0);return new Phaser.Math.Vector2(this.gameObj.x-t.x,this.gameObj.y-t.y)},t.prototype.getId=function(){return this.id},t.prototype.getGameObject=function(){return this.gameObj},t.prototype.setTarget=function(t){this.target=t},t.prototype.lookAtTarget=function(){var t=this.target.getRealLocation(),e=Phaser.Math.Angle.Between(t.x,t.y,this.gameObj.x,this.gameObj.y);this.gameObj.setRotation(e)},t.prototype.getAngle=function(){return this.gameObj.angle},t.prototype.getRotation=function(){return this.gameObj.rotation},t.prototype.getHeading=function(){var t=Math.cos(this.gameObj.rotation),e=Math.sin(this.gameObj.rotation);return new Phaser.Math.Vector2(t,e).normalize().negate()},t.prototype.getVelocity=function(){return this.gameObj.body.velocity.length()},t.prototype.thrustFowards=function(){this.applyThrust(a.Constants.THRUSTER_FORCE,a.Constants.FUEL_PER_THRUST,a.Constants.HEAT_PER_THRUST),this.displayThrusterFire("yellow",.2)},t.prototype.boostForwards=function(){r.Helpers.now()-this.lastBoostTime>=a.Constants.BOOSTER_COOLDOWN_TIME&&(this.applyThrust(a.Constants.BOOSTER_FORCE,a.Constants.FUEL_PER_BOOST,a.Constants.HEAT_PER_BOOST),this.displayThrusterFire("blue",1),this.lastBoostTime=r.Helpers.now())},t.prototype.applyThrust=function(t,e,n){if(this.getRemainingFuel()>0){var o=this.getHeading().multiply(new Phaser.Math.Vector2(t,t));this.gameObj.body.velocity.add(o),this.reduceFuel(e),this.applyHeating(n)}},t.prototype.displayThrusterFire=function(t,e){var n=this.getRealLocation(),o=new Phaser.Math.Vector2(20,0).add(this.getRealLocation()),i=Phaser.Math.RotateAround(o,n.x,n.y,this.getRotation()),a=this.getHeading().negate();this.thrusterParticles.createEmitter({frame:t,x:i.x,y:i.y,lifespan:{min:200,max:500},speedX:{min:600*a.x,max:1e3*a.x},speedY:{min:600*a.y,max:1e3*a.y},angle:{min:-180,max:179},gravityX:0,gravityY:0,scale:{start:e,end:0},blendMode:"ADD",maxParticles:3})},t.prototype.strafeLeft=function(){},t.prototype.strafeRight=function(){},t.prototype.thrustBackwards=function(){},t.prototype.getTemperature=function(){return this.temperature},t.prototype.applyHeating=function(t){this.temperature+=t},t.prototype.applyCooling=function(t){this.temperature-=t,this.temperature<0&&(this.temperature=0)},t.prototype.reduceFuel=function(t){this.remainingFuel-=t,this.remainingFuel<0&&(this.remainingFuel=0)},t.prototype.addFuel=function(t){this.remainingFuel+=t,this.remainingFuel>a.Constants.MAX_FUEL&&(this.remainingFuel=a.Constants.MAX_FUEL)},t.prototype.getRemainingFuel=function(){return this.remainingFuel},t.prototype.getIntegrity=function(){return this.integrity},t.prototype.sustainDamage=function(t){this.integrity-=t,this.integrity<=0&&(this.integrity=0,this.active=!1,this.destroy())},t.prototype.repair=function(t){this.integrity=t,this.integrity>a.Constants.MAX_INTEGRITY&&(this.integrity=a.Constants.MAX_INTEGRITY)},t.prototype.rotateAttachmentsClockwise=function(){var t=this.attachments.pop();this.attachments.unshift(t),this.updateAttachmentPositions()},t.prototype.rotateAttachmentsAntiClockwise=function(){var t=this.attachments.shift();this.attachments.push(t),this.updateAttachmentPositions()},t.prototype.updateAttachmentPositions=function(){for(var t=0;t<this.attachments.length;t++)if(this.attachments[t])switch(t){case s.AttachmentLocation.front:this.attachments[t].setAttachmentLocation(s.AttachmentLocation.front);break;case s.AttachmentLocation.frontRight:this.attachments[t].setAttachmentLocation(s.AttachmentLocation.frontRight);break;case s.AttachmentLocation.right:this.attachments[t].setAttachmentLocation(s.AttachmentLocation.right);break;case s.AttachmentLocation.backRight:this.attachments[t].setAttachmentLocation(s.AttachmentLocation.backRight);break;case s.AttachmentLocation.backLeft:this.attachments[t].setAttachmentLocation(s.AttachmentLocation.backLeft);break;case s.AttachmentLocation.left:this.attachments[t].setAttachmentLocation(s.AttachmentLocation.left);break;case s.AttachmentLocation.frontLeft:this.attachments[t].setAttachmentLocation(s.AttachmentLocation.frontLeft)}},t.prototype.addAttachment=function(t){for(var e=!1,n=0;n<r.Helpers.enumLength(s.AttachmentLocation);n++)if(!this.attachments[n]){var o=void 0;switch(n){case s.AttachmentLocation.front:o=s.AttachmentLocation.front;break;case s.AttachmentLocation.frontRight:o=s.AttachmentLocation.frontRight;break;case s.AttachmentLocation.right:o=s.AttachmentLocation.right;break;case s.AttachmentLocation.backRight:o=s.AttachmentLocation.backRight;break;case s.AttachmentLocation.backLeft:o=s.AttachmentLocation.backLeft;break;case s.AttachmentLocation.left:o=s.AttachmentLocation.left;break;case s.AttachmentLocation.frontLeft:o=s.AttachmentLocation.frontLeft}this.attachments[n]=t,t.attach(this,o),e=!0}e||(this.attachments[s.AttachmentLocation.front].detach(),this.attachments[s.AttachmentLocation.front]=t,t.attach(this,s.AttachmentLocation.front)),this.gameObj.add(t.getGameObject())},t.prototype.removeAttachment=function(t){if(this.attachments[t]){var e=this.attachments[t].getGameObject();this.gameObj.remove(e),this.attachments[t].detach(),this.attachments[t]=null}},t.prototype.getAttachments=function(){return this.attachments},t.prototype.destroy=function(){},t}();e.ShipPod=c},function(e,n){e.exports=t},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(11);!function(t){t.int=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},t.guid=function(){return o.v4()}}(e.RNG||(e.RNG={}))},function(t,e,n){var o=n(12),i=n(13),a=i;a.v1=o,a.v4=i,t.exports=a},function(t,e,n){var o,i,a=n(1),r=n(2),s=0,c=0;t.exports=function(t,e,n){var h=e&&n||0,u=e||[],p=(t=t||{}).node||o,l=void 0!==t.clockseq?t.clockseq:i;if(null==p||null==l){var m=a();null==p&&(p=o=[1|m[0],m[1],m[2],m[3],m[4],m[5]]),null==l&&(l=i=16383&(m[6]<<8|m[7]))}var f=void 0!==t.msecs?t.msecs:(new Date).getTime(),g=void 0!==t.nsecs?t.nsecs:c+1,y=f-s+(g-c)/1e4;if(y<0&&void 0===t.clockseq&&(l=l+1&16383),(y<0||f>s)&&void 0===t.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=f,c=g,i=l;var d=(1e4*(268435455&(f+=122192928e5))+g)%4294967296;u[h++]=d>>>24&255,u[h++]=d>>>16&255,u[h++]=d>>>8&255,u[h++]=255&d;var b=f/4294967296*1e4&268435455;u[h++]=b>>>8&255,u[h++]=255&b,u[h++]=b>>>24&15|16,u[h++]=b>>>16&255,u[h++]=l>>>8|128,u[h++]=255&l;for(var A=0;A<6;++A)u[h+A]=p[A];return e||r(u)}},function(t,e,n){var o=n(1),i=n(2);t.exports=function(t,e,n){var a=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var r=(t=t||{}).random||(t.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e)for(var s=0;s<16;++s)e[a+s]=r[s];return e||i(r)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.scene=t,this.scene.input.mouse.capture=!0}return t.prototype.getAngle=function(){return this.scene.input.activePointer.getAngle()},t.prototype.getRotation=function(){return this.getAngle()*(Math.PI/180)},t.prototype.getHeading=function(){var t=this.getAngle(),e=Math.cos(t),n=Math.sin(t);return new Phaser.Math.Vector2(e,n).normalize().negate()},t.prototype.getVelocity=function(){return this.scene.input.activePointer.velocity.length()},t.prototype.getLocation=function(){return this.scene.input.activePointer.position.clone()},t.prototype.getRealLocation=function(){var t=this.getLocation();return this.scene.cameras.main.getWorldPoint(t.x,t.y)},t.prototype.onWheelUp=function(t){this.scene.input.on(Phaser.Input.Events.POINTER_WHEEL,(function(e,n,o,i,a,r){i>0&&t(i)}))},t.prototype.onWheelDown=function(t){this.scene.input.on(Phaser.Input.Events.POINTER_WHEEL,(function(e,n,o,i,a,r){i<0&&t(-i)}))},t}();e.Mouse=o},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(16),r=n(0),s=n(4),c=n(17),h=function(t){function e(e){var n=t.call(this,e)||this;return n.maxAmmo=500,n.remainingAmmo=n.maxAmmo,n.cooldownTime=1e3,n.lastFiredAt=0,n.gameObj=n.scene.physics.add.sprite(0,0,"cannon"),n}return i(e,t),e.prototype.reload=function(t){this.remainingAmmo+=t,this.remainingAmmo>this.maxAmmo&&(this.remainingAmmo=this.maxAmmo)},e.prototype.getRemainingAmmo=function(){return this.remainingAmmo},e.prototype.update=function(){},e.prototype.trigger=function(){!r.Globals.paused&&this.active&&this.fire()},e.prototype.fire=function(t){if(!r.Globals.paused&&this.active&&this.getRemainingAmmo()>0&&s.Helpers.now()-this.lastFiredAt>this.cooldownTime){var e=this.getRealLocation();new c.Bullet(this.scene,{x:e.x,y:e.y,force:3e3,angle:this.getAngle()}),this.lastFiredAt=s.Helpers.now()}},e}(a.ShipAttachment);e.CannonAttachment=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),i=n(5),a=function(){function t(t){this.scene=t,this.active=!0,this.integrity=o.Constants.MAX_INTEGRITY}return t.prototype.attach=function(t,e){e||(e=i.AttachmentLocation.front),this.ship=t,this.setAttachmentLocation(e);var n=this.ship.getRealLocation();this.gameObj.setPosition(n.x,n.y),this.gameObj.setRotation(this.ship.getAngle());var o=this.getHeading();o.multiply(new Phaser.Math.Vector2(0,0));var a=this.getRealLocation();a.add(o),this.gameObj.setPosition(a.x,a.y)},t.prototype.detach=function(){this.ship=null,this.attachmentLocation=null},t.prototype.getGameObject=function(){return this.gameObj},t.prototype.getAngle=function(){var t=this.gameObj.angle;return this.ship&&(t+=this.ship.getAngle()),t},t.prototype.getRotation=function(){var t=this.gameObj.rotation;return this.ship&&(t+=this.ship.getRotation()),t},t.prototype.getHeading=function(){var t=Math.cos(this.getRotation()),e=Math.sin(this.getRotation());return new Phaser.Math.Vector2(t,e).normalize().negate()},t.prototype.getVelocity=function(){var t=this.gameObj.body.velocity.length();return this.ship&&(t+=this.ship.getVelocity()),t},t.prototype.getLocation=function(){var t=this.scene.cameras.main.getWorldPoint(0,0),e=this.getRealLocation();return new Phaser.Math.Vector2(e.x-t.x,e.y-t.y)},t.prototype.getRealLocation=function(){var t=new Phaser.Math.Vector2(this.gameObj.x,this.gameObj.y);return this.ship&&t.add(this.ship.getRealLocation()),t},t.prototype.getIntegrity=function(){return this.integrity},t.prototype.sustainDamage=function(t){this.integrity-=t,this.integrity<=0&&(this.integrity=0,this.active=!1)},t.prototype.repair=function(t){this.integrity=t,this.integrity>o.Constants.MAX_INTEGRITY&&(this.integrity=o.Constants.MAX_INTEGRITY)},t.prototype.destroy=function(){this.active=!1,this.ship.removeAttachment(this.attachmentLocation)},t.prototype.setAttachmentLocation=function(t){this.attachmentLocation=t},t}();e.ShipAttachment=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=function(){function t(t,e){this.scene=t,this.force=e.force||0,this.gameObj=t.physics.add.sprite(e.x||0,e.y||0,"bullet"),this.gameObj.setAngle(e.angle||0),this.active=!0,this.addCollisionDetection(),this.setInMotion()}return t.prototype.addCollisionDetection=function(){for(var t=0;t<o.Globals.interactables.length;t++)this.scene.physics.add.collider(this.gameObj,o.Globals.interactables[t],this.onImpact)},t.prototype.onImpact=function(t,e){},t.prototype.getGameObject=function(){return this.gameObj},t.prototype.getAngle=function(){return this.gameObj.angle},t.prototype.getRotation=function(){return this.gameObj.rotation},t.prototype.getHeading=function(){var t=Math.cos(this.gameObj.rotation),e=Math.sin(this.gameObj.rotation);return new Phaser.Math.Vector2(t,e).normalize().negate()},t.prototype.getVelocity=function(){return this.gameObj.body.velocity.length()},t.prototype.getLocation=function(){var t=this.scene.cameras.main.getWorldPoint(0,0);return new Phaser.Math.Vector2(this.gameObj.x-t.x,this.gameObj.y-t.y)},t.prototype.getRealLocation=function(){return new Phaser.Math.Vector2(this.gameObj.x,this.gameObj.y)},t.prototype.setInMotion=function(){var t=this.getHeading().multiply(new Phaser.Math.Vector2(this.force,this.force));this.gameObj.body.velocity.add(t)},t}();e.Bullet=i},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),r={active:!0,visible:!0,key:"OverlayScene"},s=function(t){function e(){return t.call(this,r)||this}return i(e,t),e.prototype.preload=function(){},e.prototype.create=function(){this.debug=this.add.text(10,10,"",{font:"16px Courier",fill:"#ffdddd"})},e.prototype.update=function(){if(!a.Globals.paused&&a.Globals.player){var t=a.Globals.player,e=t.getRealLocation();this.debug.setText(["Velocity: "+t.getVelocity().toFixed(1),"Integrity: "+t.getIntegrity().toFixed(1),"Heat: "+t.getTemperature().toFixed(1),"Fuel: "+t.getRemainingFuel().toFixed(1),"Location: "+e.x.toFixed(1)+","+e.y.toFixed(1),"Angle: "+t.getAngle().toFixed(1)])}},e}(Phaser.Scene);e.OverlayScene=s}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idW5kbGUvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL2J1bmRsZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvdXRpbGl0aWVzL2dsb2JhbHMudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vbm9kZV9tb2R1bGVzL3V1aWQvbGliL3JuZy1icm93c2VyLmpzIiwid2VicGFjazovL2J1bmRsZS8uL25vZGVfbW9kdWxlcy91dWlkL2xpYi9ieXRlc1RvVXVpZC5qcyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvdXRpbGl0aWVzL2NvbnN0YW50cy50cyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvdXRpbGl0aWVzL2hlbHBlcnMudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NoaXBzL2F0dGFjaG1lbnRzL2F0dGFjaG1lbnQtbG9jYXRpb24udHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL2dhbWUudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NjZW5lcy9zaGlwLXNjZW5lLnRzIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy9zaGlwcy9zaGlwLXBvZC50cyIsIndlYnBhY2s6Ly9idW5kbGUvZXh0ZXJuYWwgXCJwaGFzZXJcIiIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvdXRpbGl0aWVzL3JuZy50cyIsIndlYnBhY2s6Ly9idW5kbGUvLi9ub2RlX21vZHVsZXMvdXVpZC9pbmRleC5qcyIsIndlYnBhY2s6Ly9idW5kbGUvLi9ub2RlX21vZHVsZXMvdXVpZC92MS5qcyIsIndlYnBhY2s6Ly9idW5kbGUvLi9ub2RlX21vZHVsZXMvdXVpZC92NC5qcyIsIndlYnBhY2s6Ly9idW5kbGUvLi9zcmMvdXRpbGl0aWVzL21vdXNlLnRzIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy9zaGlwcy9hdHRhY2htZW50cy9vZmZlbmNlL2Nhbm5vbi1hdHRhY2htZW50LnRzIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy9zaGlwcy9hdHRhY2htZW50cy9zaGlwLWF0dGFjaG1lbnQudHMiLCJ3ZWJwYWNrOi8vYnVuZGxlLy4vc3JjL3NoaXBzL2F0dGFjaG1lbnRzL29mZmVuY2UvYnVsbGV0LnRzIiwid2VicGFjazovL2J1bmRsZS8uL3NyYy9zY2VuZXMvb3ZlcmxheS1zY2VuZS50cyJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJyZXF1aXJlIiwiZGVmaW5lIiwiYW1kIiwid2luZG93IiwiX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fOV9fIiwiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkdsb2JhbHMiLCJpbnRlcmFjdGFibGVzIiwiZ2V0UmFuZG9tVmFsdWVzIiwiY3J5cHRvIiwibXNDcnlwdG8iLCJybmRzOCIsIlVpbnQ4QXJyYXkiLCJybmRzIiwiQXJyYXkiLCJNYXRoIiwicmFuZG9tIiwiYnl0ZVRvSGV4IiwidG9TdHJpbmciLCJzdWJzdHIiLCJidWYiLCJvZmZzZXQiLCJidGgiLCJqb2luIiwiQ29uc3RhbnRzIiwiTUFYX0lOVEVHUklUWSIsIk1BWF9GVUVMIiwiTUFYX1NBRkVfVEVNUEVSQVRVUkUiLCJNQVhfVEVNUEVSQVRVUkUiLCJPVkVSSEVBVF9DSEVDS19JTlRFUlZBTCIsIkNPT0xJTkdfUkFURSIsIlRIUlVTVEVSX0ZPUkNFIiwiRlVFTF9QRVJfVEhSVVNUIiwiSEVBVF9QRVJfVEhSVVNUIiwiQk9PU1RFUl9GT1JDRSIsIkZVRUxfUEVSX0JPT1NUIiwiSEVBVF9QRVJfQk9PU1QiLCJCT09TVEVSX0NPT0xET1dOX1RJTUUiLCJIZWxwZXJzIiwiZW51bUxlbmd0aCIsImVudW1UeXBlIiwiY291bnQiLCJpdGVtIiwiaXNOYU4iLCJOdW1iZXIiLCJub3ciLCJEYXRlIiwiZ2V0VGltZSIsIkF0dGFjaG1lbnRMb2NhdGlvbiIsImdhbWVDb25maWciLCJ0eXBlIiwiUGhhc2VyIiwiQVVUTyIsInNjYWxlIiwid2lkdGgiLCJpbm5lcldpZHRoIiwiaGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJwYXJlbnQiLCJwaHlzaWNzIiwiZGVmYXVsdCIsImFyY2FkZSIsImdyYXZpdHkiLCJ4IiwieSIsInNjZW5lIiwiU2hpcFNjZW5lIiwiT3ZlcmxheVNjZW5lIiwiZ2FtZSIsIkdhbWUiLCJhZGRFdmVudExpc3RlbmVyIiwicmVmcmVzaCIsInNjZW5lQ29uZmlnIiwiYWN0aXZlIiwidmlzaWJsZSIsInByZWxvYWQiLCJ0aGlzIiwibG9hZCIsImltYWdlIiwiYXRsYXMiLCJhZGQiLCJ0aWxlU3ByaXRlIiwiY2FtZXJhcyIsIm1haW4iLCJtb3VzZSIsIk1vdXNlIiwicGxheWVyIiwiU2hpcFBvZCIsInNldFRhcmdldCIsImNhbm9uIiwiQ2Fubm9uQXR0YWNobWVudCIsImFkZEF0dGFjaG1lbnQiLCJzZXR1cENhbWVyYSIsImlucHV0Iiwia2V5Ym9hcmQiLCJvbiIsInBhdXNlZCIsIm9uV2hlZWxVcCIsInNjcm9sbEFtb3VudCIsIm5ld1pvb20iLCJ6b29tIiwiem9vbVRvIiwib25XaGVlbERvd24iLCJ1cGRhdGUiLCJzZXRGcm9tUkdCIiwiZyIsImIiLCJzZXRab29tIiwiY2VudGVyT24iLCJkeldpZHRoIiwiZmxvb3IiLCJkekhlaWdodCIsImR6WCIsImR6WSIsInN0YXJ0Rm9sbG93IiwiZ2V0R2FtZU9iamVjdCIsImRlYWR6b25lIiwiR2VvbSIsIlJlY3RhbmdsZSIsIlNjZW5lIiwicmVtYWluaW5nRnVlbCIsInRlbXBlcmF0dXJlIiwibGFzdE92ZXJoZWF0Q2hlY2siLCJsYXN0Qm9vc3RUaW1lIiwiaWQiLCJSTkciLCJndWlkIiwiZ2FtZU9iaiIsImNvbnRhaW5lciIsImV4aXN0aW5nIiwiYm9keSIsImJvdW5jZSIsInNldFRvIiwidGhydXN0ZXJQYXJ0aWNsZXMiLCJwYXJ0aWNsZXMiLCJzaGlwIiwic3ByaXRlIiwiaW50ZWdyaXR5IiwiYXR0YWNobWVudHMiLCJzZXR1cElucHV0SGFuZGxlcnMiLCJsb29rQXRUYXJnZXQiLCJ0aHJ1c3RLZXkiLCJpc0Rvd24iLCJ0aHJ1c3RGb3dhcmRzIiwiYm9vc3RLZXkiLCJib29zdEZvcndhcmRzIiwiYWN0aXZlUG9pbnRlciIsImxlZnRCdXR0b25Eb3duIiwidHJpZ2dlciIsImNoZWNrT3ZlcmhlYXRDb25kaXRpb24iLCJyb3RhdGVBdHRhY2htZW50c0Nsb2Nrd2lzZUtleSIsInJvdGF0ZUF0dGFjaG1lbnRzQ2xvY2t3aXNlIiwicm90YXRlQXR0YWNobWVudHNBbnRpQ2xvY2t3aXNlS2V5Iiwicm90YXRlQXR0YWNobWVudHNBbnRpQ2xvY2t3aXNlIiwiZGV0YWNoQXR0YWNobWVudEtleSIsInJlbW92ZUF0dGFjaG1lbnQiLCJmcm9udCIsInVwZGF0ZUF0dGFjaG1lbnRzIiwibGVuZ3RoIiwiYSIsImFkZEtleSIsImRlc3Ryb3kiLCJkZWx0YSIsInN1c3RhaW5EYW1hZ2UiLCJhcHBseUNvb2xpbmciLCJnZXRSZWFsTG9jYXRpb24iLCJWZWN0b3IyIiwiZ2V0TG9jYXRpb24iLCJjYW1lcmFQb3MiLCJnZXRXb3JsZFBvaW50IiwiZ2V0SWQiLCJ0YXJnZXQiLCJwb3MiLCJyYWRpYW5zIiwiQW5nbGUiLCJCZXR3ZWVuIiwic2V0Um90YXRpb24iLCJnZXRBbmdsZSIsImFuZ2xlIiwiZ2V0Um90YXRpb24iLCJyb3RhdGlvbiIsImdldEhlYWRpbmciLCJjb3MiLCJzaW4iLCJub3JtYWxpemUiLCJuZWdhdGUiLCJnZXRWZWxvY2l0eSIsInZlbG9jaXR5IiwiYXBwbHlUaHJ1c3QiLCJkaXNwbGF5VGhydXN0ZXJGaXJlIiwiZm9yY2UiLCJmdWVsIiwiaGVhdCIsImdldFJlbWFpbmluZ0Z1ZWwiLCJkZWx0YVYiLCJtdWx0aXBseSIsInJlZHVjZUZ1ZWwiLCJhcHBseUhlYXRpbmciLCJjb2xvdXIiLCJzdGFydFNjYWxlIiwibG9jIiwiUm90YXRlQXJvdW5kIiwiaCIsImNyZWF0ZUVtaXR0ZXIiLCJmcmFtZSIsImxpZmVzcGFuIiwibWluIiwibWF4Iiwic3BlZWRYIiwic3BlZWRZIiwiZ3Jhdml0eVgiLCJncmF2aXR5WSIsInN0YXJ0IiwiZW5kIiwiYmxlbmRNb2RlIiwibWF4UGFydGljbGVzIiwic3RyYWZlTGVmdCIsInN0cmFmZVJpZ2h0IiwidGhydXN0QmFja3dhcmRzIiwiZ2V0VGVtcGVyYXR1cmUiLCJkZWdyZWVzIiwiYW1vdW50IiwiYWRkRnVlbCIsImdldEludGVncml0eSIsInJlcGFpciIsImxhc3QiLCJwb3AiLCJ1bnNoaWZ0IiwidXBkYXRlQXR0YWNobWVudFBvc2l0aW9ucyIsImZpcnN0Iiwic2hpZnQiLCJwdXNoIiwic2V0QXR0YWNobWVudExvY2F0aW9uIiwiZnJvbnRSaWdodCIsInJpZ2h0IiwiYmFja1JpZ2h0IiwiYmFja0xlZnQiLCJsZWZ0IiwiZnJvbnRMZWZ0IiwiYXR0YWNobWVudCIsImF0dGFjaGVkIiwiYXR0YWNoIiwiZGV0YWNoIiwibG9jYXRpb24iLCJnbyIsInJlbW92ZSIsImdldEF0dGFjaG1lbnRzIiwiaW50IiwidjQiLCJ2MSIsInV1aWQiLCJfbm9kZUlkIiwiX2Nsb2Nrc2VxIiwicm5nIiwiYnl0ZXNUb1V1aWQiLCJfbGFzdE1TZWNzIiwiX2xhc3ROU2VjcyIsIm9wdGlvbnMiLCJub2RlIiwiY2xvY2tzZXEiLCJ1bmRlZmluZWQiLCJzZWVkQnl0ZXMiLCJtc2VjcyIsIm5zZWNzIiwiZHQiLCJFcnJvciIsInRsIiwidG1oIiwiaWkiLCJjYXB0dXJlIiwiUEkiLCJwb3NpdGlvbiIsImNsb25lIiwiZnVuYyIsIklucHV0IiwiRXZlbnRzIiwiUE9JTlRFUl9XSEVFTCIsInBvaW50ZXIiLCJjdXJyZW50bHlPdmVyIiwiZHgiLCJkeSIsImR6IiwiZXZlbnQiLCJtYXhBbW1vIiwicmVtYWluaW5nQW1tbyIsImNvb2xkb3duVGltZSIsImxhc3RGaXJlZEF0IiwicmVsb2FkIiwiZ2V0UmVtYWluaW5nQW1tbyIsImZpcmUiLCJkaXJlY3Rpb24iLCJCdWxsZXQiLCJTaGlwQXR0YWNobWVudCIsImNlbnRyZSIsInNldFBvc2l0aW9uIiwiaGVhZGluZyIsImF0dGFjaG1lbnRMb2NhdGlvbiIsInJlYWxMb2MiLCJyZWFsTG9jYXRpb24iLCJwYXJhbXMiLCJzZXRBbmdsZSIsImFkZENvbGxpc2lvbkRldGVjdGlvbiIsInNldEluTW90aW9uIiwiY29sbGlkZXIiLCJvbkltcGFjdCIsImJ1bGxldCIsImRlYnVnIiwidGV4dCIsImZvbnQiLCJmaWxsIiwic2V0VGV4dCIsInRvRml4ZWQiXSwibWFwcGluZ3MiOiJDQUFBLFNBQTJDQSxFQUFNQyxHQUMxQixpQkFBWkMsU0FBMEMsaUJBQVhDLE9BQ3hDQSxPQUFPRCxRQUFVRCxFQUFRRyxRQUFRLFdBQ1IsbUJBQVhDLFFBQXlCQSxPQUFPQyxJQUM5Q0QsT0FBTyxDQUFDLFVBQVdKLEdBQ08saUJBQVpDLFFBQ2RBLFFBQWdCLE9BQUlELEVBQVFHLFFBQVEsV0FFcENKLEVBQWEsT0FBSUMsRUFBUUQsRUFBYSxRQVJ4QyxDQVNHTyxRQUFRLFNBQVNDLEdBQ3BCLE8sWUNURSxJQUFJQyxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVVCxRQUduQyxJQUFJQyxFQUFTTSxFQUFpQkUsR0FBWSxDQUN6Q0MsRUFBR0QsRUFDSEUsR0FBRyxFQUNIWCxRQUFTLElBVVYsT0FOQVksRUFBUUgsR0FBVUksS0FBS1osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU1EsR0FHL0RQLEVBQU9VLEdBQUksRUFHSlYsRUFBT0QsUUEwRGYsT0FyREFRLEVBQW9CTSxFQUFJRixFQUd4QkosRUFBb0JPLEVBQUlSLEVBR3hCQyxFQUFvQlEsRUFBSSxTQUFTaEIsRUFBU2lCLEVBQU1DLEdBQzNDVixFQUFvQlcsRUFBRW5CLEVBQVNpQixJQUNsQ0csT0FBT0MsZUFBZXJCLEVBQVNpQixFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVWLEVBQW9CZ0IsRUFBSSxTQUFTeEIsR0FDWCxvQkFBWHlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZXJCLEVBQVN5QixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWVyQixFQUFTLGFBQWMsQ0FBRTJCLE9BQU8sS0FRdkRuQixFQUFvQm9CLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRixFQUFRbkIsRUFBb0JtQixJQUMvQixFQUFQRSxFQUFVLE9BQU9GLEVBQ3BCLEdBQVcsRUFBUEUsR0FBOEIsaUJBQVZGLEdBQXNCQSxHQUFTQSxFQUFNRyxXQUFZLE9BQU9ILEVBQ2hGLElBQUlJLEVBQUtYLE9BQU9ZLE9BQU8sTUFHdkIsR0FGQXhCLEVBQW9CZ0IsRUFBRU8sR0FDdEJYLE9BQU9DLGVBQWVVLEVBQUksVUFBVyxDQUFFVCxZQUFZLEVBQU1LLE1BQU9BLElBQ3RELEVBQVBFLEdBQTRCLGlCQUFURixFQUFtQixJQUFJLElBQUlNLEtBQU9OLEVBQU9uQixFQUFvQlEsRUFBRWUsRUFBSUUsRUFBSyxTQUFTQSxHQUFPLE9BQU9OLEVBQU1NLElBQVFDLEtBQUssS0FBTUQsSUFDOUksT0FBT0YsR0FJUnZCLEVBQW9CMkIsRUFBSSxTQUFTbEMsR0FDaEMsSUFBSWlCLEVBQVNqQixHQUFVQSxFQUFPNkIsV0FDN0IsV0FBd0IsT0FBTzdCLEVBQWdCLFNBQy9DLFdBQThCLE9BQU9BLEdBRXRDLE9BREFPLEVBQW9CUSxFQUFFRSxFQUFRLElBQUtBLEdBQzVCQSxHQUlSVixFQUFvQlcsRUFBSSxTQUFTaUIsRUFBUUMsR0FBWSxPQUFPakIsT0FBT2tCLFVBQVVDLGVBQWUxQixLQUFLdUIsRUFBUUMsSUFHekc3QixFQUFvQmdDLEVBQUksR0FJakJoQyxFQUFvQkEsRUFBb0JpQyxFQUFJLEcsZ0ZDaEZyRCxTQUFjQyxHQUlDLEVBQUFDLGNBQWlELEdBSmhFLENBQWMsRUFBQUQsVUFBQSxFQUFBQSxRQUFPLE0sY0NLckIsSUFBSUUsRUFBcUMsb0JBQVosUUFBMkJDLE9BQU9ELGlCQUFtQkMsT0FBT0QsZ0JBQWdCVixLQUFLVyxTQUNuRSxvQkFBZCxVQUF1RSxtQkFBbkN4QyxPQUFPeUMsU0FBU0YsaUJBQWlDRSxTQUFTRixnQkFBZ0JWLEtBQUtZLFVBRWhKLEdBQUlGLEVBQWlCLENBRW5CLElBQUlHLEVBQVEsSUFBSUMsV0FBVyxJQUUzQi9DLEVBQU9ELFFBQVUsV0FFZixPQURBNEMsRUFBZ0JHLEdBQ1RBLE9BRUosQ0FLTCxJQUFJRSxFQUFPLElBQUlDLE1BQU0sSUFFckJqRCxFQUFPRCxRQUFVLFdBQ2YsSUFBSyxJQUFXd0IsRUFBUGQsRUFBSSxFQUFNQSxFQUFJLEdBQUlBLElBQ04sSUFBVixFQUFKQSxLQUFpQmMsRUFBb0IsV0FBaEIyQixLQUFLQyxVQUMvQkgsRUFBS3ZDLEdBQUtjLE1BQVksRUFBSmQsSUFBYSxHQUFLLElBR3RDLE9BQU91QyxLLGNDMUJYLElBREEsSUFBSUksRUFBWSxHQUNQM0MsRUFBSSxFQUFHQSxFQUFJLE1BQU9BLEVBQ3pCMkMsRUFBVTNDLElBQU1BLEVBQUksS0FBTzRDLFNBQVMsSUFBSUMsT0FBTyxHQW1CakR0RCxFQUFPRCxRQWhCUCxTQUFxQndELEVBQUtDLEdBQ3hCLElBQUkvQyxFQUFJK0MsR0FBVSxFQUNkQyxFQUFNTCxFQUVWLE1BQU8sQ0FDTEssRUFBSUYsRUFBSTlDLE1BQU9nRCxFQUFJRixFQUFJOUMsTUFDdkJnRCxFQUFJRixFQUFJOUMsTUFBT2dELEVBQUlGLEVBQUk5QyxNQUFPLElBQzlCZ0QsRUFBSUYsRUFBSTlDLE1BQU9nRCxFQUFJRixFQUFJOUMsTUFBTyxJQUM5QmdELEVBQUlGLEVBQUk5QyxNQUFPZ0QsRUFBSUYsRUFBSTlDLE1BQU8sSUFDOUJnRCxFQUFJRixFQUFJOUMsTUFBT2dELEVBQUlGLEVBQUk5QyxNQUFPLElBQzlCZ0QsRUFBSUYsRUFBSTlDLE1BQU9nRCxFQUFJRixFQUFJOUMsTUFDdkJnRCxFQUFJRixFQUFJOUMsTUFBT2dELEVBQUlGLEVBQUk5QyxNQUN2QmdELEVBQUlGLEVBQUk5QyxNQUFPZ0QsRUFBSUYsRUFBSTlDLE9BQ3RCaUQsS0FBSyxNLDhFQ3RCVixTQUFjQyxHQUNHLEVBQUFDLGNBQXdCLElBQ3hCLEVBQUFDLFNBQW1CLElBQ25CLEVBQUFDLHFCQUErQixJQUMvQixFQUFBQyxnQkFBMEIsSUFDMUIsRUFBQUMsd0JBQWtDLElBQ2xDLEVBQUFDLGFBQXVCLEdBQ3ZCLEVBQUFDLGVBQXlCLEVBQ3pCLEVBQUFDLGdCQUEwQixLQUMxQixFQUFBQyxnQkFBMEIsR0FDMUIsRUFBQUMsY0FBd0IsSUFDeEIsRUFBQUMsZUFBeUIsRUFDekIsRUFBQUMsZUFBeUIsR0FDekIsRUFBQUMsc0JBQWdDLElBYmpELENBQWMsRUFBQWIsWUFBQSxFQUFBQSxVQUFTLE0sOEVDQXZCLFNBQWNjLEdBVU0sRUFBQUMsV0FBaEIsU0FBMkJDLEdBQ3ZCLElBQUlDLEVBQVEsRUFDWixJQUFJLElBQUlDLEtBQVFGLEVBQ1RHLE1BQU1DLE9BQU9GLEtBQ1pELElBR1IsT0FBT0EsR0FNSyxFQUFBSSxJQUFoQixXQUNJLE9BQU8sSUFBSUMsTUFBT0MsV0F4QjFCLENBQWMsRUFBQVQsVUFBQSxFQUFBQSxRQUFPLE0sOEVDQXJCLFNBQVlVLEdBQ1IscUJBQ0EsK0JBQ0EscUJBQ0EsNkJBRUEsMkJBQ0EsbUJBQ0EsNkJBUkosQ0FBWSxFQUFBQSxxQkFBQSxFQUFBQSxtQkFBa0IsTSw4RUNBOUIsV0FDQSxPQUNBLFFBRU1DLEVBQTJDLENBQzdDQyxLQUFNQyxPQUFPQyxLQUNiQyxNQUFPLENBQ0hDLE1BQU9yRixPQUFPc0YsV0FDZEMsT0FBUXZGLE9BQU93RixhQUVuQkMsZ0JBQWlCLFVBQ2pCQyxPQUFRLFlBQ1JDLFFBQVMsQ0FDTEMsUUFBUyxTQUNUQyxPQUFRLENBQ0pDLFFBQVMsQ0FBRUMsRUFBRyxFQUFHQyxFQUFHLEtBRzVCQyxNQUFPLENBQUMsRUFBQUMsVUFBVyxFQUFBQyxlQUVWLEVBQUFDLEtBQW9CLElBQUlsQixPQUFPbUIsS0FBS3JCLEdBRWpEaEYsT0FBT3NHLGlCQUFpQixVQUFVLFdBQzlCLEVBQUFGLEtBQUtoQixNQUFNbUIsYUFHZixFQUFBbEUsUUFBUStELEtBQU8sRUFBQUEsTSw4WkMxQmYsV0FDQSxPQUNBLFFBQ0EsUUFFTUksRUFBa0QsQ0FDcERDLFFBQVEsRUFDUkMsU0FBUyxFQUNUOUUsSUFBSyxhQUdULGNBSUksYSxPQUNJLFlBQU00RSxJQUFZLEtBeUUxQixPQTlFK0IsT0FRcEIsWUFBQUcsUUFBUCxXQUNJQyxLQUFLQyxLQUFLQyxNQUFNLFFBQVMsMENBQ3pCRixLQUFLQyxLQUFLQyxNQUFNLFdBQVksaUNBQzVCRixLQUFLQyxLQUFLQyxNQUFNLFNBQVUsK0JBQzFCRixLQUFLQyxLQUFLRSxNQUFNLFNBQVUsZ0NBQWlDLG1DQUd4RCxZQUFBcEYsT0FBUCxzQkFDSWlGLEtBQUtJLElBQUlDLFdBQVcsRUFBRyxFQUE2QixHQUExQkwsS0FBS00sUUFBUUMsS0FBSzlCLE1BQXVDLEdBQTNCdUIsS0FBS00sUUFBUUMsS0FBSzVCLE9BQWEsU0FFdkZxQixLQUFLUSxNQUFRLElBQUksRUFBQUMsTUFBTVQsTUFDdkJBLEtBQUtVLE9BQVMsSUFBSSxFQUFBQyxRQUFRWCxNQUMxQixFQUFBdkUsUUFBUWlGLE9BQVNWLEtBQUtVLE9BQ3RCVixLQUFLVSxPQUFPRSxVQUFVWixLQUFLUSxPQUczQixJQUFJSyxFQUEwQixJQUFJLEVBQUFDLGlCQUFpQmQsTUFDbkRBLEtBQUtVLE9BQU9LLGNBQWNGLEdBRTFCYixLQUFLZ0IsWUFBWWhCLEtBQUtVLFFBRXRCVixLQUFLaUIsTUFBTUMsU0FBU0MsR0FBRyxhQUFhLFdBQ2hDLEVBQUExRixRQUFRMkYsUUFBUyxLQUVyQnBCLEtBQUtpQixNQUFNQyxTQUFTQyxHQUFHLGFBQWEsV0FDaEMsRUFBQTFGLFFBQVEyRixRQUFTLEtBRXJCcEIsS0FBS1EsTUFBTWEsV0FBVSxTQUFDQyxHQUNsQixJQUVJQyxFQUZzQixFQUFLakIsUUFBUUMsS0FBS2lCLEtBRVIsR0FDaENELEVBQVUsS0FDVkEsRUFBVSxJQUdkLEVBQUtqQixRQUFRQyxLQUFLa0IsT0FBT0YsTUFFN0J2QixLQUFLUSxNQUFNa0IsYUFBWSxTQUFDSixHQUNwQixJQUVJQyxFQUZzQixFQUFLakIsUUFBUUMsS0FBS2lCLEtBRVIsR0FDaENELEVBQVUsSUFDVkEsRUFBVSxHQUdkLEVBQUtqQixRQUFRQyxLQUFLa0IsT0FBT0YsT0FJMUIsWUFBQUksT0FBUCxXQUNTLEVBQUFsRyxRQUFRMkYsUUFDVCxFQUFBM0YsUUFBUWlGLE9BQU9pQixVQUlmLFlBQUFYLFlBQVIsU0FBb0JOLEdBQ2hCVixLQUFLTSxRQUFRQyxLQUFLMUIsZ0JBQWdCK0MsV0FBVyxDQUFDckgsRUFBRyxFQUFHc0gsRUFBRyxFQUFHQyxFQUFHLElBRTdEOUIsS0FBS00sUUFBUUMsS0FBS3dCLFFBQVEsR0FDMUIvQixLQUFLTSxRQUFRQyxLQUFLeUIsU0FBUyxFQUFHLEdBRTlCLElBQUl2RCxFQUFnQnVCLEtBQUtNLFFBQVFDLEtBQUs5QixNQUNsQ0UsRUFBaUJxQixLQUFLTSxRQUFRQyxLQUFLNUIsT0FDbkNzRCxFQUFrQi9GLEtBQUtnRyxNQUFNekQsRUFBUSxHQUNyQzBELEVBQW1CakcsS0FBS2dHLE1BQU12RCxFQUFTLEdBQ3ZDeUQsRUFBY2xHLEtBQUtnRyxNQUFNRCxFQUFVLEdBQ25DSSxFQUFjbkcsS0FBS2dHLE1BQU1DLEVBQVcsR0FDeENuQyxLQUFLTSxRQUFRQyxLQUFLK0IsWUFBWTVCLEVBQU82QixpQkFBaUIsR0FDdER2QyxLQUFLTSxRQUFRQyxLQUFLaUMsU0FBVyxJQUFJbEUsT0FBT21FLEtBQUtDLFVBQVVOLEVBQUtDLEVBQUtKLEVBQVNFLElBRWxGLEVBOUVBLENBQStCN0QsT0FBT3FFLE9BQXpCLEVBQUFyRCxhLDhFQ1hiLEtBQ0EsWUFNQSxPQUVBLE9BR0EsT0FDQSxPQUlBLGFBa0JJLFdBQVlELEdBTkosS0FBQXVELGNBQXdCLElBQ3hCLEtBQUFDLFlBQXNCLEVBRzlCLEtBQUFoRCxRQUFrQixFQW9GVixLQUFBaUQsa0JBQTRCLEVBbUU1QixLQUFBQyxjQUF3QixFQXBKNUIvQyxLQUFLZ0QsR0FBSyxFQUFBQyxJQUFJQyxPQUNkbEQsS0FBS1gsTUFBUUEsRUFDYlcsS0FBS21ELFFBQVU5RCxFQUFNZSxJQUFJZ0QsVUFBVSxFQUFHLEdBQ3RDcEQsS0FBS1gsTUFBTU4sUUFBUXFCLElBQUlpRCxTQUFTckQsS0FBS21ELFNBQ3BDbkQsS0FBS21ELFFBQVFHLEtBQW9DQyxPQUFPQyxNQUFNLEdBQUssSUFDcEV4RCxLQUFLeUQsa0JBQW9CcEUsRUFBTWUsSUFBSXNELFVBQVUsVUFDN0MsSUFBSUMsRUFBa0N0RSxFQUFNZSxJQUFJd0QsT0FBTyxFQUFHLEVBQUcsWUFDN0Q1RCxLQUFLbUQsUUFBUS9DLElBQUl1RCxHQUVqQjNELEtBQUs2RCxVQUFZLEVBQUFsSCxVQUFVQyxjQUMzQm9ELEtBQUs4RCxZQUFjLElBQUk3SCxNQUFzQixFQUFBd0IsUUFBUUMsV0FBVyxFQUFBUyxxQkFFaEU2QixLQUFLK0QscUJBMFZiLE9BdlZJLFlBQUFwQyxPQUFBLFlBQ1MsRUFBQWxHLFFBQVEyRixRQUFVcEIsS0FBS0gsU0FDeEJHLEtBQUtnRSxlQUNEaEUsS0FBS2lFLFVBQVVDLFFBQ2ZsRSxLQUFLbUUsZ0JBRUxuRSxLQUFLb0UsU0FBU0YsUUFDZGxFLEtBQUtxRSxnQkFFTHJFLEtBQUtYLE1BQU00QixNQUFNcUQsY0FBY0Msa0JBQzNCdkUsS0FBSzhELFlBQVksSUFDakI5RCxLQUFLOEQsWUFBWSxHQUFHVSxVQUc1QnhFLEtBQUt5RSx5QkFDRHpFLEtBQUswRSw4QkFBOEJSLFFBQ25DbEUsS0FBSzJFLDZCQUVMM0UsS0FBSzRFLGtDQUFrQ1YsUUFDdkNsRSxLQUFLNkUsaUNBRUw3RSxLQUFLOEUsb0JBQW9CWixRQUN6QmxFLEtBQUsrRSxpQkFBaUIsRUFBQTVHLG1CQUFtQjZHLE9BRTdDaEYsS0FBS2lGLHNCQUlMLFlBQUFBLGtCQUFSLFdBQ0ksSUFBSyxJQUFJeEwsRUFBRSxFQUFHQSxFQUFFdUcsS0FBSzhELFlBQVlvQixPQUFRekwsSUFBSyxDQUMxQyxJQUFJMEwsRUFBb0JuRixLQUFLOEQsWUFBWXJLLEdBQ3JDMEwsR0FDQUEsRUFBRXhELFdBS04sWUFBQW9DLG1CQUFSLFdBQ0kvRCxLQUFLaUUsVUFBWWpFLEtBQUtYLE1BQU00QixNQUFNQyxTQUFTa0UsT0FBTyxTQUFTLEdBQU0sR0FDakVwRixLQUFLb0UsU0FBV3BFLEtBQUtYLE1BQU00QixNQUFNQyxTQUFTa0UsT0FBTyxPQUFPLEdBQU0sR0FDOURwRixLQUFLMEUsOEJBQWdDMUUsS0FBS1gsTUFBTTRCLE1BQU1DLFNBQVNrRSxPQUFPLEtBQUssR0FBTSxHQUNqRnBGLEtBQUs0RSxrQ0FBb0M1RSxLQUFLWCxNQUFNNEIsTUFBTUMsU0FBU2tFLE9BQU8sS0FBSyxHQUFNLEdBQ3JGcEYsS0FBSzhFLG9CQUFzQjlFLEtBQUtYLE1BQU00QixNQUFNQyxTQUFTa0UsT0FBTyxLQUFLLEdBQU0sSUFRbkUsWUFBQVgsdUJBQVIsV0FDSSxJQUFLLEVBQUFoSixRQUFRMkYsUUFBVXBCLEtBQUtILFFBQ3BCLEVBQUFwQyxRQUFRTyxNQUFRZ0MsS0FBSzhDLGtCQUFvQixFQUFBbkcsVUFBVUssd0JBQXlCLENBSTVFLEdBSElnRCxLQUFLNkMsWUFBYyxFQUFBbEcsVUFBVUksaUJBQzdCaUQsS0FBS3FGLFVBRUxyRixLQUFLNkMsWUFBYyxFQUFBbEcsVUFBVUcscUJBQXNCLENBRW5ELElBQUl3SSxHQUFpQnRGLEtBQUs2QyxZQUFjLEVBQUFsRyxVQUFVRyxzQkFBd0IsRUFBQUgsVUFBVUcscUJBQ3BGa0QsS0FBS3VGLGNBQWNELEdBRXZCdEYsS0FBS3dGLGFBQWEsRUFBQTdJLFVBQVVNLGNBQzVCK0MsS0FBSzhDLGtCQUFvQixFQUFBckYsUUFBUU8sUUFTN0MsWUFBQXlILGdCQUFBLFdBQ0ksT0FBTyxJQUFJbkgsT0FBT3BDLEtBQUt3SixRQUFRMUYsS0FBS21ELFFBQVFoRSxFQUFHYSxLQUFLbUQsUUFBUS9ELElBUWhFLFlBQUF1RyxZQUFBLFdBQ0ksSUFBSUMsRUFBaUM1RixLQUFLWCxNQUFNaUIsUUFBUUMsS0FBS3NGLGNBQWMsRUFBRyxHQUM5RSxPQUFPLElBQUl2SCxPQUFPcEMsS0FBS3dKLFFBQVExRixLQUFLbUQsUUFBUWhFLEVBQUl5RyxFQUFVekcsRUFBR2EsS0FBS21ELFFBQVEvRCxFQUFJd0csRUFBVXhHLElBRzVGLFlBQUEwRyxNQUFBLFdBQ0ksT0FBTzlGLEtBQUtnRCxJQUdoQixZQUFBVCxjQUFBLFdBQ0ksT0FBT3ZDLEtBQUttRCxTQUdoQixZQUFBdkMsVUFBQSxTQUFVbUYsR0FDTi9GLEtBQUsrRixPQUFTQSxHQUdsQixZQUFBL0IsYUFBQSxXQUNJLElBQUlnQyxFQUFNaEcsS0FBSytGLE9BQU9OLGtCQUNsQlEsRUFBa0IzSCxPQUFPcEMsS0FBS2dLLE1BQU1DLFFBQVFILEVBQUk3RyxFQUFHNkcsRUFBSTVHLEVBQUdZLEtBQUttRCxRQUFRaEUsRUFBR2EsS0FBS21ELFFBQVEvRCxHQUMzRlksS0FBS21ELFFBQVFpRCxZQUFZSCxJQUc3QixZQUFBSSxTQUFBLFdBQ0ksT0FBT3JHLEtBQUttRCxRQUFRbUQsT0FHeEIsWUFBQUMsWUFBQSxXQUNJLE9BQU92RyxLQUFLbUQsUUFBUXFELFVBR3hCLFlBQUFDLFdBQUEsV0FDSSxJQUFJdEgsRUFBWWpELEtBQUt3SyxJQUFJMUcsS0FBS21ELFFBQVFxRCxVQUNsQ3BILEVBQVlsRCxLQUFLeUssSUFBSTNHLEtBQUttRCxRQUFRcUQsVUFDdEMsT0FBTyxJQUFJbEksT0FBT3BDLEtBQUt3SixRQUFRdkcsRUFBR0MsR0FBR3dILFlBQVlDLFVBR3JELFlBQUFDLFlBQUEsV0FDSSxPQUFROUcsS0FBS21ELFFBQVFHLEtBQW9DeUQsU0FBUzdCLFVBR3RFLFlBQUFmLGNBQUEsV0FDSW5FLEtBQUtnSCxZQUFZLEVBQUFySyxVQUFVTyxlQUFnQixFQUFBUCxVQUFVUSxnQkFBaUIsRUFBQVIsVUFBVVMsaUJBQ2hGNEMsS0FBS2lILG9CQUFvQixTQUFVLEtBR3ZDLFlBQUE1QyxjQUFBLFdBQ1EsRUFBQTVHLFFBQVFPLE1BQVFnQyxLQUFLK0MsZUFBaUIsRUFBQXBHLFVBQVVhLHdCQUNoRHdDLEtBQUtnSCxZQUFZLEVBQUFySyxVQUFVVSxjQUFlLEVBQUFWLFVBQVVXLGVBQWdCLEVBQUFYLFVBQVVZLGdCQUM5RXlDLEtBQUtpSCxvQkFBb0IsT0FBUSxHQUNqQ2pILEtBQUsrQyxjQUFnQixFQUFBdEYsUUFBUU8sUUFLN0IsWUFBQWdKLFlBQVIsU0FBb0JFLEVBQWVDLEVBQWNDLEdBQzdDLEdBQUlwSCxLQUFLcUgsbUJBQXFCLEVBQUcsQ0FDN0IsSUFDSUMsRUFEK0J0SCxLQUFLeUcsYUFDRWMsU0FBUyxJQUFJakosT0FBT3BDLEtBQUt3SixRQUFRd0IsRUFBT0EsSUFDakZsSCxLQUFLbUQsUUFBUUcsS0FBb0N5RCxTQUFTM0csSUFBSWtILEdBRS9EdEgsS0FBS3dILFdBQVdMLEdBQ2hCbkgsS0FBS3lILGFBQWFMLEtBSWxCLFlBQUFILG9CQUFSLFNBQTRCUyxFQUFnQkMsR0FFeEMsSUFBSTNCLEVBQTJCaEcsS0FBS3lGLGtCQUNoQ2pKLEVBQThCLElBQUk4QixPQUFPcEMsS0FBS3dKLFFBQVEsR0FBSSxHQUFHdEYsSUFBSUosS0FBS3lGLG1CQUN0RW1DLEVBQXlCdEosT0FBT3BDLEtBQUsyTCxhQUFhckwsRUFBUXdKLEVBQUk3RyxFQUFHNkcsRUFBSTVHLEVBQUdZLEtBQUt1RyxlQUM3RXVCLEVBQXlCOUgsS0FBS3lHLGFBQWFJLFNBQy9DN0csS0FBS3lELGtCQUFrQnNFLGNBQWMsQ0FDakNDLE1BQU9OLEVBQ1B2SSxFQUFHeUksRUFBSXpJLEVBQ1BDLEVBQUd3SSxFQUFJeEksRUFDUDZJLFNBQVUsQ0FBRUMsSUFBSyxJQUFLQyxJQUFLLEtBQzNCQyxPQUFRLENBQUVGLElBQVMsSUFBSkosRUFBRTNJLEVBQU9nSixJQUFTLElBQUpMLEVBQUUzSSxHQUMvQmtKLE9BQVEsQ0FBRUgsSUFBUyxJQUFKSixFQUFFMUksRUFBTytJLElBQVMsSUFBSkwsRUFBRTFJLEdBQy9Ca0gsTUFBTyxDQUFFNEIsS0FBTSxJQUFLQyxJQUFLLEtBQ3pCRyxTQUFVLEVBQ1ZDLFNBQVUsRUFDVi9KLE1BQU8sQ0FBRWdLLE1BQU9iLEVBQVljLElBQUssR0FFakNDLFVBQVcsTUFDWEMsYUFBYyxLQUl0QixZQUFBQyxXQUFBLGFBSUEsWUFBQUMsWUFBQSxhQUlBLFlBQUFDLGdCQUFBLGFBSUEsWUFBQUMsZUFBQSxXQUNJLE9BQU8vSSxLQUFLNkMsYUFHaEIsWUFBQTRFLGFBQUEsU0FBYXVCLEdBQ1RoSixLQUFLNkMsYUFBZW1HLEdBR3hCLFlBQUF4RCxhQUFBLFNBQWF3RCxHQUNUaEosS0FBSzZDLGFBQWVtRyxFQUNoQmhKLEtBQUs2QyxZQUFjLElBQ25CN0MsS0FBSzZDLFlBQWMsSUFJM0IsWUFBQTJFLFdBQUEsU0FBV3lCLEdBQ1BqSixLQUFLNEMsZUFBaUJxRyxFQUNsQmpKLEtBQUs0QyxjQUFnQixJQUNyQjVDLEtBQUs0QyxjQUFnQixJQUk3QixZQUFBc0csUUFBQSxTQUFRRCxHQUNKakosS0FBSzRDLGVBQWlCcUcsRUFDbEJqSixLQUFLNEMsY0FBZ0IsRUFBQWpHLFVBQVVFLFdBQy9CbUQsS0FBSzRDLGNBQWdCLEVBQUFqRyxVQUFVRSxXQUl2QyxZQUFBd0ssaUJBQUEsV0FDSSxPQUFPckgsS0FBSzRDLGVBR2hCLFlBQUF1RyxhQUFBLFdBQ0ksT0FBT25KLEtBQUs2RCxXQUdoQixZQUFBMEIsY0FBQSxTQUFjMEQsR0FDVmpKLEtBQUs2RCxXQUFhb0YsRUFDZGpKLEtBQUs2RCxXQUFhLElBQ2xCN0QsS0FBSzZELFVBQVksRUFDakI3RCxLQUFLSCxRQUFTLEVBQ2RHLEtBQUtxRixZQUliLFlBQUErRCxPQUFBLFNBQU9ILEdBQ0hqSixLQUFLNkQsVUFBWW9GLEVBQ2JqSixLQUFLNkQsVUFBWSxFQUFBbEgsVUFBVUMsZ0JBQzNCb0QsS0FBSzZELFVBQVksRUFBQWxILFVBQVVDLGdCQUluQyxZQUFBK0gsMkJBQUEsV0FDSSxJQUFJMEUsRUFBdUJySixLQUFLOEQsWUFBWXdGLE1BQzVDdEosS0FBSzhELFlBQVl5RixRQUFRRixHQUN6QnJKLEtBQUt3Siw2QkFHVCxZQUFBM0UsK0JBQUEsV0FDSSxJQUFJNEUsRUFBd0J6SixLQUFLOEQsWUFBWTRGLFFBQzdDMUosS0FBSzhELFlBQVk2RixLQUFLRixHQUN0QnpKLEtBQUt3Siw2QkFHRCxZQUFBQSwwQkFBUixXQUNJLElBQUssSUFBSS9QLEVBQUUsRUFBR0EsRUFBRXVHLEtBQUs4RCxZQUFZb0IsT0FBUXpMLElBQ3JDLEdBQUl1RyxLQUFLOEQsWUFBWXJLLEdBQ2pCLE9BQVFBLEdBQ0osS0FBSyxFQUFBMEUsbUJBQW1CNkcsTUFDcEJoRixLQUFLOEQsWUFBWXJLLEdBQUdtUSxzQkFBc0IsRUFBQXpMLG1CQUFtQjZHLE9BQzdELE1BQ0osS0FBSyxFQUFBN0csbUJBQW1CMEwsV0FDcEI3SixLQUFLOEQsWUFBWXJLLEdBQUdtUSxzQkFBc0IsRUFBQXpMLG1CQUFtQjBMLFlBQzdELE1BQ0osS0FBSyxFQUFBMUwsbUJBQW1CMkwsTUFDcEI5SixLQUFLOEQsWUFBWXJLLEdBQUdtUSxzQkFBc0IsRUFBQXpMLG1CQUFtQjJMLE9BQzdELE1BQ0osS0FBSyxFQUFBM0wsbUJBQW1CNEwsVUFDcEIvSixLQUFLOEQsWUFBWXJLLEdBQUdtUSxzQkFBc0IsRUFBQXpMLG1CQUFtQjRMLFdBQzdELE1BQ0osS0FBSyxFQUFBNUwsbUJBQW1CNkwsU0FDcEJoSyxLQUFLOEQsWUFBWXJLLEdBQUdtUSxzQkFBc0IsRUFBQXpMLG1CQUFtQjZMLFVBQzdELE1BQ0osS0FBSyxFQUFBN0wsbUJBQW1COEwsS0FDcEJqSyxLQUFLOEQsWUFBWXJLLEdBQUdtUSxzQkFBc0IsRUFBQXpMLG1CQUFtQjhMLE1BQzdELE1BQ0osS0FBSyxFQUFBOUwsbUJBQW1CK0wsVUFDcEJsSyxLQUFLOEQsWUFBWXJLLEdBQUdtUSxzQkFBc0IsRUFBQXpMLG1CQUFtQitMLGFBY2pGLFlBQUFuSixjQUFBLFNBQWNvSixHQUVWLElBREEsSUFBSUMsR0FBb0IsRUFDZjNRLEVBQUUsRUFBR0EsRUFBRSxFQUFBZ0UsUUFBUUMsV0FBVyxFQUFBUyxvQkFBcUIxRSxJQUNwRCxJQUFLdUcsS0FBSzhELFlBQVlySyxHQUFJLENBQ3RCLElBQUltTyxPQUFHLEVBQ1AsT0FBUW5PLEdBQ0osS0FBSyxFQUFBMEUsbUJBQW1CNkcsTUFDcEI0QyxFQUFNLEVBQUF6SixtQkFBbUI2RyxNQUN6QixNQUNKLEtBQUssRUFBQTdHLG1CQUFtQjBMLFdBQ3BCakMsRUFBTSxFQUFBekosbUJBQW1CMEwsV0FDekIsTUFDSixLQUFLLEVBQUExTCxtQkFBbUIyTCxNQUNwQmxDLEVBQU0sRUFBQXpKLG1CQUFtQjJMLE1BQ3pCLE1BQ0osS0FBSyxFQUFBM0wsbUJBQW1CNEwsVUFDcEJuQyxFQUFNLEVBQUF6SixtQkFBbUI0TCxVQUN6QixNQUNKLEtBQUssRUFBQTVMLG1CQUFtQjZMLFNBQ3BCcEMsRUFBTSxFQUFBekosbUJBQW1CNkwsU0FDekIsTUFDSixLQUFLLEVBQUE3TCxtQkFBbUI4TCxLQUNwQnJDLEVBQU0sRUFBQXpKLG1CQUFtQjhMLEtBQ3pCLE1BQ0osS0FBSyxFQUFBOUwsbUJBQW1CK0wsVUFDcEJ0QyxFQUFNLEVBQUF6SixtQkFBbUIrTCxVQUdqQ2xLLEtBQUs4RCxZQUFZckssR0FBSzBRLEVBQ3RCQSxFQUFXRSxPQUFPckssS0FBTTRILEdBQ3hCd0MsR0FBVyxFQUlkQSxJQUVEcEssS0FBSzhELFlBQVksRUFBQTNGLG1CQUFtQjZHLE9BQU9zRixTQUMzQ3RLLEtBQUs4RCxZQUFZLEVBQUEzRixtQkFBbUI2RyxPQUFTbUYsRUFDN0NBLEVBQVdFLE9BQU9ySyxLQUFNLEVBQUE3QixtQkFBbUI2RyxRQUcvQ2hGLEtBQUttRCxRQUFRL0MsSUFBSStKLEVBQVc1SCxrQkFHaEMsWUFBQXdDLGlCQUFBLFNBQWlCd0YsR0FDYixHQUFJdkssS0FBSzhELFlBQVl5RyxHQUFXLENBQzVCLElBQUlDLEVBQW9DeEssS0FBSzhELFlBQVl5RyxHQUFVaEksZ0JBQ25FdkMsS0FBS21ELFFBQVFzSCxPQUFPRCxHQUNwQnhLLEtBQUs4RCxZQUFZeUcsR0FBVUQsU0FDM0J0SyxLQUFLOEQsWUFBWXlHLEdBQVksT0FJckMsWUFBQUcsZUFBQSxXQUNJLE9BQU8xSyxLQUFLOEQsYUFHaEIsWUFBQXVCLFFBQUEsYUFHSixFQXpYQSxHQUFhLEVBQUExRSxXLGNDakJiM0gsRUFBT0QsUUFBVU0sRyw4RUNBakIsYUFFQSxTQUFjNEosR0FDTSxFQUFBMEgsSUFBaEIsU0FBb0J6QyxFQUFhQyxHQUM3QixPQUFPak0sS0FBS2dHLE1BQU1oRyxLQUFLQyxVQUFZZ00sRUFBTUQsRUFBTSxJQUFNQSxHQUd6QyxFQUFBaEYsS0FBaEIsV0FDSSxPQUFPLEVBQUEwSCxNQU5mLENBQWMsRUFBQTNILE1BQUEsRUFBQUEsSUFBRyxNLGdCQ0ZqQixJQUFJNEgsRUFBSyxFQUFRLElBQ2JELEVBQUssRUFBUSxJQUViRSxFQUFPRixFQUNYRSxFQUFLRCxHQUFLQSxFQUNWQyxFQUFLRixHQUFLQSxFQUVWNVIsRUFBT0QsUUFBVStSLEcsZ0JDUGpCLElBUUlDLEVBQ0FDLEVBVEFDLEVBQU0sRUFBUSxHQUNkQyxFQUFjLEVBQVEsR0FXdEJDLEVBQWEsRUFDYkMsRUFBYSxFQStGakJwUyxFQUFPRCxRQTVGUCxTQUFZc1MsRUFBUzlPLEVBQUtDLEdBQ3hCLElBQUkvQyxFQUFJOEMsR0FBT0MsR0FBVSxFQUNyQnNGLEVBQUl2RixHQUFPLEdBR1grTyxHQURKRCxFQUFVQSxHQUFXLElBQ0ZDLE1BQVFQLEVBQ3ZCUSxPQUFnQ0MsSUFBckJILEVBQVFFLFNBQXlCRixFQUFRRSxTQUFXUCxFQUtuRSxHQUFZLE1BQVJNLEdBQTRCLE1BQVpDLEVBQWtCLENBQ3BDLElBQUlFLEVBQVlSLElBQ0osTUFBUkssSUFFRkEsRUFBT1AsRUFBVSxDQUNBLEVBQWZVLEVBQVUsR0FDVkEsRUFBVSxHQUFJQSxFQUFVLEdBQUlBLEVBQVUsR0FBSUEsRUFBVSxHQUFJQSxFQUFVLEtBR3RELE1BQVpGLElBRUZBLEVBQVdQLEVBQWlELE9BQXBDUyxFQUFVLElBQU0sRUFBSUEsRUFBVSxLQVExRCxJQUFJQyxPQUEwQkYsSUFBbEJILEVBQVFLLE1BQXNCTCxFQUFRSyxPQUFRLElBQUl6TixNQUFPQyxVQUlqRXlOLE9BQTBCSCxJQUFsQkgsRUFBUU0sTUFBc0JOLEVBQVFNLE1BQVFQLEVBQWEsRUFHbkVRLEVBQU1GLEVBQVFQLEdBQWVRLEVBQVFQLEdBQVksSUFjckQsR0FYSVEsRUFBSyxRQUEwQkosSUFBckJILEVBQVFFLFdBQ3BCQSxFQUFXQSxFQUFXLEVBQUksUUFLdkJLLEVBQUssR0FBS0YsRUFBUVAsU0FBaUNLLElBQWxCSCxFQUFRTSxRQUM1Q0EsRUFBUSxHQUlOQSxHQUFTLElBQ1gsTUFBTSxJQUFJRSxNQUFNLG1EQUdsQlYsRUFBYU8sRUFDYk4sRUFBYU8sRUFDYlgsRUFBWU8sRUFNWixJQUFJTyxHQUE0QixLQUFiLFdBSG5CSixHQUFTLGNBRytCQyxHQUFTLFdBQ2pEN0osRUFBRXJJLEtBQU9xUyxJQUFPLEdBQUssSUFDckJoSyxFQUFFckksS0FBT3FTLElBQU8sR0FBSyxJQUNyQmhLLEVBQUVySSxLQUFPcVMsSUFBTyxFQUFJLElBQ3BCaEssRUFBRXJJLEtBQVksSUFBTHFTLEVBR1QsSUFBSUMsRUFBT0wsRUFBUSxXQUFjLElBQVMsVUFDMUM1SixFQUFFckksS0FBT3NTLElBQVEsRUFBSSxJQUNyQmpLLEVBQUVySSxLQUFhLElBQU5zUyxFQUdUakssRUFBRXJJLEtBQU9zUyxJQUFRLEdBQUssR0FBTSxHQUM1QmpLLEVBQUVySSxLQUFPc1MsSUFBUSxHQUFLLElBR3RCakssRUFBRXJJLEtBQU84UixJQUFhLEVBQUksSUFHMUJ6SixFQUFFckksS0FBa0IsSUFBWDhSLEVBR1QsSUFBSyxJQUFJclEsRUFBSSxFQUFHQSxFQUFJLElBQUtBLEVBQ3ZCNEcsRUFBRXJJLEVBQUl5QixHQUFLb1EsRUFBS3BRLEdBR2xCLE9BQU9xQixHQUFZMk8sRUFBWXBKLEssZ0JDekdqQyxJQUFJbUosRUFBTSxFQUFRLEdBQ2RDLEVBQWMsRUFBUSxHQTJCMUJsUyxFQUFPRCxRQXpCUCxTQUFZc1MsRUFBUzlPLEVBQUtDLEdBQ3hCLElBQUkvQyxFQUFJOEMsR0FBT0MsR0FBVSxFQUVGLGlCQUFiLElBQ1JELEVBQWtCLFdBQVo4TyxFQUF1QixJQUFJcFAsTUFBTSxJQUFNLEtBQzdDb1AsRUFBVSxNQUlaLElBQUlyUCxHQUZKcVAsRUFBVUEsR0FBVyxJQUVGbFAsU0FBV2tQLEVBQVFKLEtBQU9BLEtBTzdDLEdBSkFqUCxFQUFLLEdBQWdCLEdBQVZBLEVBQUssR0FBYSxHQUM3QkEsRUFBSyxHQUFnQixHQUFWQSxFQUFLLEdBQWEsSUFHekJPLEVBQ0YsSUFBSyxJQUFJeVAsRUFBSyxFQUFHQSxFQUFLLEtBQU1BLEVBQzFCelAsRUFBSTlDLEVBQUl1UyxHQUFNaFEsRUFBS2dRLEdBSXZCLE9BQU96UCxHQUFPMk8sRUFBWWxQLEssOEVDdEI1QixpQkFHSSxXQUFZcUQsR0FDUlcsS0FBS1gsTUFBUUEsRUFDYlcsS0FBS1gsTUFBTTRCLE1BQU1ULE1BQU15TCxTQUFVLEVBeUR6QyxPQXRESSxZQUFBNUYsU0FBQSxXQUNJLE9BQU9yRyxLQUFLWCxNQUFNNEIsTUFBTXFELGNBQWMrQixZQUcxQyxZQUFBRSxZQUFBLFdBQ0ksT0FBT3ZHLEtBQUtxRyxZQUFjbkssS0FBS2dRLEdBQUssTUFHeEMsWUFBQXpGLFdBQUEsV0FDSSxJQUFJRCxFQUFtQnhHLEtBQUtxRyxXQUN4QmxILEVBQVlqRCxLQUFLd0ssSUFBSUYsR0FDckJwSCxFQUFZbEQsS0FBS3lLLElBQUlILEdBQ3pCLE9BQU8sSUFBSWxJLE9BQU9wQyxLQUFLd0osUUFBUXZHLEVBQUdDLEdBQUd3SCxZQUFZQyxVQUdyRCxZQUFBQyxZQUFBLFdBQ0ksT0FBTzlHLEtBQUtYLE1BQU00QixNQUFNcUQsY0FBY3lDLFNBQVM3QixVQVFuRCxZQUFBUyxZQUFBLFdBRUksT0FBTzNGLEtBQUtYLE1BQU00QixNQUFNcUQsY0FBYzZILFNBQVNDLFNBTW5ELFlBQUEzRyxnQkFBQSxXQUNJLElBQUltQyxFQUEyQjVILEtBQUsyRixjQUdwQyxPQUZpQzNGLEtBQUtYLE1BQU1pQixRQUFRQyxLQUFLc0YsY0FBYytCLEVBQUl6SSxFQUFHeUksRUFBSXhJLElBS3RGLFlBQUFpQyxVQUFBLFNBQXNDZ0wsR0FDbENyTSxLQUFLWCxNQUFNNEIsTUFBTUUsR0FBRzdDLE9BQU9nTyxNQUFNQyxPQUFPQyxlQUFlLFNBQUNDLEVBQVNDLEVBQWVDLEVBQUlDLEVBQUlDLEVBQUlDLEdBQ3BGRixFQUFLLEdBQ0xQLEVBQUtPLE9BS2pCLFlBQUFsTCxZQUFBLFNBQXdDMkssR0FDcENyTSxLQUFLWCxNQUFNNEIsTUFBTUUsR0FBRzdDLE9BQU9nTyxNQUFNQyxPQUFPQyxlQUFlLFNBQUNDLEVBQVNDLEVBQWVDLEVBQUlDLEVBQUlDLEVBQUlDLEdBQ3BGRixFQUFLLEdBQ0xQLEdBQU1PLE9BSXRCLEVBOURBLEdBQWEsRUFBQW5NLFMsOFpDSGIsWUFFQSxPQUNBLE9BQ0EsUUFFQSxjQU1JLFdBQVlwQixHQUFaLE1BQ0ksWUFBTUEsSUFBTSxLLE9BRVosRUFBSzBOLFFBQVUsSUFDZixFQUFLQyxjQUFnQixFQUFLRCxRQUMxQixFQUFLRSxhQUFlLElBQ3BCLEVBQUtDLFlBQWMsRUFFbkIsRUFBSy9KLFFBQVUsRUFBSzlELE1BQU1OLFFBQVFxQixJQUFJd0QsT0FBTyxFQUFHLEVBQUcsVSxFQXdDM0QsT0F0RHNDLE9BaUJsQyxZQUFBdUosT0FBQSxTQUFPbEUsR0FDSGpKLEtBQUtnTixlQUFpQi9ELEVBQ2xCakosS0FBS2dOLGNBQWdCaE4sS0FBSytNLFVBQzFCL00sS0FBS2dOLGNBQWdCaE4sS0FBSytNLFVBSWxDLFlBQUFLLGlCQUFBLFdBQ0ksT0FBT3BOLEtBQUtnTixlQUdoQixZQUFBckwsT0FBQSxhQUlBLFlBQUE2QyxRQUFBLFlBQ1MsRUFBQS9JLFFBQVEyRixRQUFVcEIsS0FBS0gsUUFDeEJHLEtBQUtxTixRQUliLFlBQUFBLEtBQUEsU0FBS0MsR0FDRCxJQUFLLEVBQUE3UixRQUFRMkYsUUFBVXBCLEtBQUtILFFBQ3BCRyxLQUFLb04sbUJBQXFCLEdBQ3RCLEVBQUEzUCxRQUFRTyxNQUFRZ0MsS0FBS2tOLFlBQWNsTixLQUFLaU4sYUFBYyxDQUN0RCxJQUFJckYsRUFBMkI1SCxLQUFLeUYsa0JBQ3BDLElBQUksRUFBQThILE9BQU92TixLQUFLWCxNQUFPLENBQ25CRixFQUFHeUksRUFBSXpJLEVBQ1BDLEVBQUd3SSxFQUFJeEksRUFDUDhILE1BQU8sSUFDUFosTUFBT3RHLEtBQUtxRyxhQUVoQnJHLEtBQUtrTixZQUFjLEVBQUF6UCxRQUFRTyxRQUsvQyxFQXREQSxDQUFzQyxFQUFBd1AsZ0JBQXpCLEVBQUExTSxvQiw4RUNEYixXQUNBLE9BRUEsYUFTSSxXQUFZekIsR0FDUlcsS0FBS1gsTUFBUUEsRUFDYlcsS0FBS0gsUUFBUyxFQUNkRyxLQUFLNkQsVUFBWSxFQUFBbEgsVUFBVUMsY0E2R25DLE9BMUdJLFlBQUF5TixPQUFBLFNBQU8xRyxFQUFlNEcsR0FDYkEsSUFDREEsRUFBVyxFQUFBcE0sbUJBQW1CNkcsT0FFbENoRixLQUFLMkQsS0FBT0EsRUFDWjNELEtBQUs0SixzQkFBc0JXLEdBQzNCLElBQUlrRCxFQUE4QnpOLEtBQUsyRCxLQUFLOEIsa0JBQzVDekYsS0FBS21ELFFBQVF1SyxZQUFZRCxFQUFPdE8sRUFBR3NPLEVBQU9yTyxHQUMxQ1ksS0FBS21ELFFBQVFpRCxZQUFZcEcsS0FBSzJELEtBQUswQyxZQUNuQyxJQUFJc0gsRUFBK0IzTixLQUFLeUcsYUFDeENrSCxFQUFRcEcsU0FBUyxJQUFJakosT0FBT3BDLEtBQUt3SixRQUFRLEVBQUcsSUFDNUMsSUFBSWtDLEVBQTJCNUgsS0FBS3lGLGtCQUNwQ21DLEVBQUl4SCxJQUFJdU4sR0FDUjNOLEtBQUttRCxRQUFRdUssWUFBWTlGLEVBQUl6SSxFQUFHeUksRUFBSXhJLElBR3hDLFlBQUFrTCxPQUFBLFdBQ0l0SyxLQUFLMkQsS0FBTyxLQUNaM0QsS0FBSzROLG1CQUFxQixNQUc5QixZQUFBckwsY0FBQSxXQUNJLE9BQU92QyxLQUFLbUQsU0FPaEIsWUFBQWtELFNBQUEsV0FDSSxJQUFJQyxFQUFnQnRHLEtBQUttRCxRQUFRbUQsTUFJakMsT0FISXRHLEtBQUsyRCxPQUNMMkMsR0FBU3RHLEtBQUsyRCxLQUFLMEMsWUFFaEJDLEdBR1gsWUFBQUMsWUFBQSxXQUNJLElBQUlDLEVBQW1CeEcsS0FBS21ELFFBQVFxRCxTQUlwQyxPQUhJeEcsS0FBSzJELE9BQ0w2QyxHQUFZeEcsS0FBSzJELEtBQUs0QyxlQUVuQkMsR0FPWCxZQUFBQyxXQUFBLFdBQ0ksSUFBSXRILEVBQVlqRCxLQUFLd0ssSUFBSTFHLEtBQUt1RyxlQUMxQm5ILEVBQVlsRCxLQUFLeUssSUFBSTNHLEtBQUt1RyxlQUM5QixPQUFPLElBQUlqSSxPQUFPcEMsS0FBS3dKLFFBQVF2RyxFQUFHQyxHQUFHd0gsWUFBWUMsVUFHckQsWUFBQUMsWUFBQSxXQUNJLElBQUlDLEVBQW1CL0csS0FBS21ELFFBQVFHLEtBQUt5RCxTQUFTN0IsU0FJbEQsT0FISWxGLEtBQUsyRCxPQUNMb0QsR0FBWS9HLEtBQUsyRCxLQUFLbUQsZUFFbkJDLEdBR1gsWUFBQXBCLFlBQUEsV0FDSSxJQUFJQyxFQUFpQzVGLEtBQUtYLE1BQU1pQixRQUFRQyxLQUFLc0YsY0FBYyxFQUFHLEdBQzFFZ0ksRUFBK0I3TixLQUFLeUYsa0JBQ3hDLE9BQU8sSUFBSW5ILE9BQU9wQyxLQUFLd0osUUFBUW1JLEVBQVExTyxFQUFJeUcsRUFBVXpHLEVBQUcwTyxFQUFRek8sRUFBSXdHLEVBQVV4RyxJQUdsRixZQUFBcUcsZ0JBQUEsV0FDSSxJQUFJcUksRUFBb0MsSUFBSXhQLE9BQU9wQyxLQUFLd0osUUFBUTFGLEtBQUttRCxRQUFRaEUsRUFBR2EsS0FBS21ELFFBQVEvRCxHQUk3RixPQUhJWSxLQUFLMkQsTUFDTG1LLEVBQWExTixJQUFJSixLQUFLMkQsS0FBSzhCLG1CQUV4QnFJLEdBR1gsWUFBQTNFLGFBQUEsV0FDSSxPQUFPbkosS0FBSzZELFdBR2hCLFlBQUEwQixjQUFBLFNBQWMwRCxHQUNWakosS0FBSzZELFdBQWFvRixFQUNkakosS0FBSzZELFdBQWEsSUFDbEI3RCxLQUFLNkQsVUFBWSxFQUNqQjdELEtBQUtILFFBQVMsSUFLdEIsWUFBQXVKLE9BQUEsU0FBT0gsR0FDSGpKLEtBQUs2RCxVQUFZb0YsRUFDYmpKLEtBQUs2RCxVQUFZLEVBQUFsSCxVQUFVQyxnQkFDM0JvRCxLQUFLNkQsVUFBWSxFQUFBbEgsVUFBVUMsZ0JBSW5DLFlBQUF5SSxRQUFBLFdBQ0lyRixLQUFLSCxRQUFTLEVBQ2RHLEtBQUsyRCxLQUFLb0IsaUJBQWlCL0UsS0FBSzROLHFCQUlwQyxZQUFBaEUsc0JBQUEsU0FBc0JoQyxHQUNsQjVILEtBQUs0TixtQkFBcUJoRyxHQUVsQyxFQXpIQSxHQUFzQixFQUFBNEYsa0IsOEVDTHRCLFdBRUEsYUFNSSxXQUFZbk8sRUFBcUIwTyxHQUM3Qi9OLEtBQUtYLE1BQVFBLEVBQ2JXLEtBQUtrSCxNQUFRNkcsRUFBTzdHLE9BQVMsRUFDN0JsSCxLQUFLbUQsUUFBVTlELEVBQU1OLFFBQVFxQixJQUFJd0QsT0FBT21LLEVBQU81TyxHQUFLLEVBQUc0TyxFQUFPM08sR0FBSyxFQUFHLFVBQ3RFWSxLQUFLbUQsUUFBUTZLLFNBQVNELEVBQU96SCxPQUFTLEdBQ3RDdEcsS0FBS0gsUUFBUyxFQUNkRyxLQUFLaU8sd0JBQ0xqTyxLQUFLa08sY0FpRGIsT0E5Q1ksWUFBQUQsc0JBQVIsV0FDSSxJQUFLLElBQUl4VSxFQUFFLEVBQUdBLEVBQUUsRUFBQWdDLFFBQVFDLGNBQWN3SixPQUFRekwsSUFDMUN1RyxLQUFLWCxNQUFNTixRQUFRcUIsSUFBSStOLFNBQVNuTyxLQUFLbUQsUUFBUyxFQUFBMUgsUUFBUUMsY0FBY2pDLEdBQUl1RyxLQUFLb08sV0FJN0UsWUFBQUEsU0FBUixTQUFpQkMsRUFBdUN0SSxLQUl4RCxZQUFBeEQsY0FBQSxXQUNJLE9BQU92QyxLQUFLbUQsU0FHaEIsWUFBQWtELFNBQUEsV0FDSSxPQUFPckcsS0FBS21ELFFBQVFtRCxPQUd4QixZQUFBQyxZQUFBLFdBQ0ksT0FBT3ZHLEtBQUttRCxRQUFRcUQsVUFHeEIsWUFBQUMsV0FBQSxXQUNJLElBQUl0SCxFQUFZakQsS0FBS3dLLElBQUkxRyxLQUFLbUQsUUFBUXFELFVBQ2xDcEgsRUFBWWxELEtBQUt5SyxJQUFJM0csS0FBS21ELFFBQVFxRCxVQUN0QyxPQUFPLElBQUlsSSxPQUFPcEMsS0FBS3dKLFFBQVF2RyxFQUFHQyxHQUFHd0gsWUFBWUMsVUFHckQsWUFBQUMsWUFBQSxXQUNJLE9BQU85RyxLQUFLbUQsUUFBUUcsS0FBS3lELFNBQVM3QixVQUd0QyxZQUFBUyxZQUFBLFdBQ0ksSUFBSUMsRUFBaUM1RixLQUFLWCxNQUFNaUIsUUFBUUMsS0FBS3NGLGNBQWMsRUFBRyxHQUM5RSxPQUFPLElBQUl2SCxPQUFPcEMsS0FBS3dKLFFBQVExRixLQUFLbUQsUUFBUWhFLEVBQUl5RyxFQUFVekcsRUFBR2EsS0FBS21ELFFBQVEvRCxFQUFJd0csRUFBVXhHLElBRzVGLFlBQUFxRyxnQkFBQSxXQUNJLE9BQU8sSUFBSW5ILE9BQU9wQyxLQUFLd0osUUFBUTFGLEtBQUttRCxRQUFRaEUsRUFBR2EsS0FBS21ELFFBQVEvRCxJQUd4RCxZQUFBOE8sWUFBUixXQUNJLElBQ0k1RyxFQUQrQnRILEtBQUt5RyxhQUNFYyxTQUFTLElBQUlqSixPQUFPcEMsS0FBS3dKLFFBQVExRixLQUFLa0gsTUFBT2xILEtBQUtrSCxRQUM1RmxILEtBQUttRCxRQUFRRyxLQUFLeUQsU0FBUzNHLElBQUlrSCxJQUV2QyxFQTlEQSxHQUFhLEVBQUFpRyxVLDhaQ0xiLFdBR00zTixFQUFrRCxDQUNwREMsUUFBUSxFQUNSQyxTQUFTLEVBQ1Q5RSxJQUFLLGdCQUdULGNBR0ksYSxPQUNJLFlBQU00RSxJQUFZLEtBMkIxQixPQS9Ca0MsT0FPdkIsWUFBQUcsUUFBUCxhQUlPLFlBQUFoRixPQUFQLFdBQ0lpRixLQUFLc08sTUFBUXRPLEtBQUtJLElBQUltTyxLQUFLLEdBQUksR0FBSSxHQUFJLENBQUVDLEtBQU0sZUFBZ0JDLEtBQU0sYUFHbEUsWUFBQTlNLE9BQVAsV0FDSSxJQUFLLEVBQUFsRyxRQUFRMkYsUUFDTCxFQUFBM0YsUUFBUWlGLE9BQVEsQ0FDaEIsSUFBSW5GLEVBQWEsRUFBQUUsUUFBUWlGLE9BQ3JCa0gsRUFBMkJyTSxFQUFFa0ssa0JBQ2pDekYsS0FBS3NPLE1BQU1JLFFBQVEsQ0FDZixhQUFhblQsRUFBRXVMLGNBQWM2SCxRQUFRLEdBQ3JDLGNBQWNwVCxFQUFFNE4sZUFBZXdGLFFBQVEsR0FDdkMsU0FBU3BULEVBQUV3TixpQkFBaUI0RixRQUFRLEdBQ3BDLFNBQVNwVCxFQUFFOEwsbUJBQW1Cc0gsUUFBUSxHQUN0QyxhQUFhL0csRUFBSXpJLEVBQUV3UCxRQUFRLEdBQUUsSUFBSS9HLEVBQUl4SSxFQUFFdVAsUUFBUSxHQUMvQyxVQUFVcFQsRUFBRThLLFdBQVdzSSxRQUFRLE9BS25ELEVBL0JBLENBQWtDclEsT0FBT3FFLE9BQTVCLEVBQUFwRCIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCJwaGFzZXJcIikpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW1wicGhhc2VyXCJdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcImJ1bmRsZVwiXSA9IGZhY3RvcnkocmVxdWlyZShcInBoYXNlclwiKSk7XG5cdGVsc2Vcblx0XHRyb290W1wiYnVuZGxlXCJdID0gZmFjdG9yeShyb290W1wicGhhc2VyXCJdKTtcbn0pKHdpbmRvdywgZnVuY3Rpb24oX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fOV9fKSB7XG5yZXR1cm4gIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDYpO1xuIiwiaW1wb3J0IHsgU2hpcFBvZCB9IGZyb20gXCIuLi9zaGlwcy9zaGlwLXBvZFwiO1xyXG5cclxuZXhwb3J0IG1vZHVsZSBHbG9iYWxzIHtcclxuICAgIGV4cG9ydCB2YXIgcGF1c2VkOiBib29sZWFuO1xyXG4gICAgZXhwb3J0IHZhciBwbGF5ZXI6IFNoaXBQb2Q7XHJcbiAgICBleHBvcnQgdmFyIGdhbWU6IFBoYXNlci5HYW1lO1xyXG4gICAgZXhwb3J0IHZhciBpbnRlcmFjdGFibGVzOiBQaGFzZXIuR2FtZU9iamVjdHMuR2FtZU9iamVjdFtdID0gW107XHJcbn0iLCIvLyBVbmlxdWUgSUQgY3JlYXRpb24gcmVxdWlyZXMgYSBoaWdoIHF1YWxpdHkgcmFuZG9tICMgZ2VuZXJhdG9yLiAgSW4gdGhlXG4vLyBicm93c2VyIHRoaXMgaXMgYSBsaXR0bGUgY29tcGxpY2F0ZWQgZHVlIHRvIHVua25vd24gcXVhbGl0eSBvZiBNYXRoLnJhbmRvbSgpXG4vLyBhbmQgaW5jb25zaXN0ZW50IHN1cHBvcnQgZm9yIHRoZSBgY3J5cHRvYCBBUEkuICBXZSBkbyB0aGUgYmVzdCB3ZSBjYW4gdmlhXG4vLyBmZWF0dXJlLWRldGVjdGlvblxuXG4vLyBnZXRSYW5kb21WYWx1ZXMgbmVlZHMgdG8gYmUgaW52b2tlZCBpbiBhIGNvbnRleHQgd2hlcmUgXCJ0aGlzXCIgaXMgYSBDcnlwdG9cbi8vIGltcGxlbWVudGF0aW9uLiBBbHNvLCBmaW5kIHRoZSBjb21wbGV0ZSBpbXBsZW1lbnRhdGlvbiBvZiBjcnlwdG8gb24gSUUxMS5cbnZhciBnZXRSYW5kb21WYWx1ZXMgPSAodHlwZW9mKGNyeXB0bykgIT0gJ3VuZGVmaW5lZCcgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQoY3J5cHRvKSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAodHlwZW9mKG1zQ3J5cHRvKSAhPSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93Lm1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcyA9PSAnZnVuY3Rpb24nICYmIG1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKG1zQ3J5cHRvKSk7XG5cbmlmIChnZXRSYW5kb21WYWx1ZXMpIHtcbiAgLy8gV0hBVFdHIGNyeXB0byBSTkcgLSBodHRwOi8vd2lraS53aGF0d2cub3JnL3dpa2kvQ3J5cHRvXG4gIHZhciBybmRzOCA9IG5ldyBVaW50OEFycmF5KDE2KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gd2hhdHdnUk5HKCkge1xuICAgIGdldFJhbmRvbVZhbHVlcyhybmRzOCk7XG4gICAgcmV0dXJuIHJuZHM4O1xuICB9O1xufSBlbHNlIHtcbiAgLy8gTWF0aC5yYW5kb20oKS1iYXNlZCAoUk5HKVxuICAvL1xuICAvLyBJZiBhbGwgZWxzZSBmYWlscywgdXNlIE1hdGgucmFuZG9tKCkuICBJdCdzIGZhc3QsIGJ1dCBpcyBvZiB1bnNwZWNpZmllZFxuICAvLyBxdWFsaXR5LlxuICB2YXIgcm5kcyA9IG5ldyBBcnJheSgxNik7XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBtYXRoUk5HKCkge1xuICAgIGZvciAodmFyIGkgPSAwLCByOyBpIDwgMTY7IGkrKykge1xuICAgICAgaWYgKChpICYgMHgwMykgPT09IDApIHIgPSBNYXRoLnJhbmRvbSgpICogMHgxMDAwMDAwMDA7XG4gICAgICBybmRzW2ldID0gciA+Pj4gKChpICYgMHgwMykgPDwgMykgJiAweGZmO1xuICAgIH1cblxuICAgIHJldHVybiBybmRzO1xuICB9O1xufVxuIiwiLyoqXG4gKiBDb252ZXJ0IGFycmF5IG9mIDE2IGJ5dGUgdmFsdWVzIHRvIFVVSUQgc3RyaW5nIGZvcm1hdCBvZiB0aGUgZm9ybTpcbiAqIFhYWFhYWFhYLVhYWFgtWFhYWC1YWFhYLVhYWFhYWFhYWFhYWFxuICovXG52YXIgYnl0ZVRvSGV4ID0gW107XG5mb3IgKHZhciBpID0gMDsgaSA8IDI1NjsgKytpKSB7XG4gIGJ5dGVUb0hleFtpXSA9IChpICsgMHgxMDApLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSk7XG59XG5cbmZ1bmN0aW9uIGJ5dGVzVG9VdWlkKGJ1Ziwgb2Zmc2V0KSB7XG4gIHZhciBpID0gb2Zmc2V0IHx8IDA7XG4gIHZhciBidGggPSBieXRlVG9IZXg7XG4gIC8vIGpvaW4gdXNlZCB0byBmaXggbWVtb3J5IGlzc3VlIGNhdXNlZCBieSBjb25jYXRlbmF0aW9uOiBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMTc1I2M0XG4gIHJldHVybiAoW1xuICAgIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgJy0nLFxuICAgIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sICctJyxcbiAgICBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLCAnLScsXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgJy0nLFxuICAgIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSxcbiAgICBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dXG4gIF0pLmpvaW4oJycpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJ5dGVzVG9VdWlkO1xuIiwiZXhwb3J0IG1vZHVsZSBDb25zdGFudHMge1xyXG4gICAgZXhwb3J0IGNvbnN0IE1BWF9JTlRFR1JJVFk6IG51bWJlciA9IDEwMDtcclxuICAgIGV4cG9ydCBjb25zdCBNQVhfRlVFTDogbnVtYmVyID0gMTAwO1xyXG4gICAgZXhwb3J0IGNvbnN0IE1BWF9TQUZFX1RFTVBFUkFUVVJFOiBudW1iZXIgPSAxMDA7XHJcbiAgICBleHBvcnQgY29uc3QgTUFYX1RFTVBFUkFUVVJFOiBudW1iZXIgPSAyMDA7XHJcbiAgICBleHBvcnQgY29uc3QgT1ZFUkhFQVRfQ0hFQ0tfSU5URVJWQUw6IG51bWJlciA9IDEwMDsgLy8gbWlsbGlzZWNvbmRzXHJcbiAgICBleHBvcnQgY29uc3QgQ09PTElOR19SQVRFOiBudW1iZXIgPSAwLjM7IC8vIGRlZ3JlZXMgcGVyIHNlY29uZFxyXG4gICAgZXhwb3J0IGNvbnN0IFRIUlVTVEVSX0ZPUkNFOiBudW1iZXIgPSAxO1xyXG4gICAgZXhwb3J0IGNvbnN0IEZVRUxfUEVSX1RIUlVTVDogbnVtYmVyID0gMC4wMDE7IC8vIHVuaXRzXHJcbiAgICBleHBvcnQgY29uc3QgSEVBVF9QRVJfVEhSVVNUOiBudW1iZXIgPSAwLjEgLy8gZGVncmVlc1xyXG4gICAgZXhwb3J0IGNvbnN0IEJPT1NURVJfRk9SQ0U6IG51bWJlciA9IDMwMDtcclxuICAgIGV4cG9ydCBjb25zdCBGVUVMX1BFUl9CT09TVDogbnVtYmVyID0gMTsgLy8gdW5pdHNcclxuICAgIGV4cG9ydCBjb25zdCBIRUFUX1BFUl9CT09TVDogbnVtYmVyID0gMjU7IC8vIGRlZ3JlZXNcclxuICAgIGV4cG9ydCBjb25zdCBCT09TVEVSX0NPT0xET1dOX1RJTUU6IG51bWJlciA9IDEwMDA7IC8vIG1pbGxpc2Vjb25kc1xyXG59IiwiZXhwb3J0IG1vZHVsZSBIZWxwZXJzIHtcclxuICAgIC8qKlxyXG4gICAgICogZ2V0IHRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW4gYW4gZW51bS5cclxuICAgICAqIDxwPlxyXG4gICAgICogZXg6IDxpPmVudW0gRm9vIHsgYmFyID0gMCwgYmF6ID0gMSwgYm96ID0gMiB9PC9pPjxiciAvPlxyXG4gICAgICogcmV0dXJuczogPGI+MzwvYj5cclxuICAgICAqIDwvcD5cclxuICAgICAqIEBwYXJhbSBlbnVtVHlwZSB0aGUgdHlwZSBuYW1lIG9mIGFuIGVudW1cclxuICAgICAqIEByZXR1cm5zIHRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW4gdGhlIGVudW1cclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGVudW1MZW5ndGgoZW51bVR5cGU6IGFueSk6IG51bWJlciB7XHJcbiAgICAgICAgbGV0IGNvdW50ID0gMDtcclxuICAgICAgICBmb3IobGV0IGl0ZW0gaW4gZW51bVR5cGUpIHtcclxuICAgICAgICAgICAgaWYoaXNOYU4oTnVtYmVyKGl0ZW0pKSkge1xyXG4gICAgICAgICAgICAgICAgY291bnQrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY291bnQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCB0aW1lIGluIG1pbGxpc2Vjb25kcyBzaW5jZSB0aGUgZXBvY2hcclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIG5vdygpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgIH1cclxufSIsImV4cG9ydCBlbnVtIEF0dGFjaG1lbnRMb2NhdGlvbiB7XHJcbiAgICBmcm9udCxcclxuICAgIGZyb250UmlnaHQsXHJcbiAgICByaWdodCxcclxuICAgIGJhY2tSaWdodCxcclxuICAgIC8vIE5PVEU6IHRoZXJlIGlzIG5vICdiYWNrJyBhdHRhY2htZW50IHBvaW50IGR1ZSB0byBsb2NhdGlvbiBvZiB0aHJ1c3RlclxyXG4gICAgYmFja0xlZnQsXHJcbiAgICBsZWZ0LFxyXG4gICAgZnJvbnRMZWZ0XHJcbn0iLCJpbXBvcnQgeyBTaGlwU2NlbmUgfSBmcm9tIFwiLi9zY2VuZXMvc2hpcC1zY2VuZVwiO1xyXG5pbXBvcnQgeyBHbG9iYWxzIH0gZnJvbSBcIi4vdXRpbGl0aWVzL2dsb2JhbHNcIjtcclxuaW1wb3J0IHsgT3ZlcmxheVNjZW5lIH0gZnJvbSBcIi4vc2NlbmVzL292ZXJsYXktc2NlbmVcIjtcclxuXHJcbmNvbnN0IGdhbWVDb25maWc6IFBoYXNlci5UeXBlcy5Db3JlLkdhbWVDb25maWcgPSB7XHJcbiAgICB0eXBlOiBQaGFzZXIuQVVUTyxcclxuICAgIHNjYWxlOiB7XHJcbiAgICAgICAgd2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoLFxyXG4gICAgICAgIGhlaWdodDogd2luZG93LmlubmVySGVpZ2h0XHJcbiAgICB9LFxyXG4gICAgYmFja2dyb3VuZENvbG9yOiAnIzAwMDAwMCcsXHJcbiAgICBwYXJlbnQ6ICdzcGFjZS1zaW0nLFxyXG4gICAgcGh5c2ljczoge1xyXG4gICAgICAgIGRlZmF1bHQ6ICdhcmNhZGUnLFxyXG4gICAgICAgIGFyY2FkZToge1xyXG4gICAgICAgICAgICBncmF2aXR5OiB7IHg6IDAsIHk6IDAgfSxcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgc2NlbmU6IFtTaGlwU2NlbmUsIE92ZXJsYXlTY2VuZV1cclxufTtcclxuZXhwb3J0IGNvbnN0IGdhbWU6IFBoYXNlci5HYW1lID0gbmV3IFBoYXNlci5HYW1lKGdhbWVDb25maWcpO1xyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IHtcclxuICAgIGdhbWUuc2NhbGUucmVmcmVzaCgpO1xyXG59KTtcclxuXHJcbkdsb2JhbHMuZ2FtZSA9IGdhbWU7IiwiaW1wb3J0IHsgU2hpcFBvZCB9IGZyb20gXCIuLi9zaGlwcy9zaGlwLXBvZFwiO1xyXG5pbXBvcnQgeyBHbG9iYWxzIH0gZnJvbSBcIi4uL3V0aWxpdGllcy9nbG9iYWxzXCI7XHJcbmltcG9ydCB7IE1vdXNlIH0gZnJvbSBcIi4uL3V0aWxpdGllcy9tb3VzZVwiO1xyXG5pbXBvcnQgeyBDYW5ub25BdHRhY2htZW50IH0gZnJvbSBcIi4uL3NoaXBzL2F0dGFjaG1lbnRzL29mZmVuY2UvY2Fubm9uLWF0dGFjaG1lbnRcIjtcclxuXHJcbmNvbnN0IHNjZW5lQ29uZmlnOiBQaGFzZXIuVHlwZXMuU2NlbmVzLlNldHRpbmdzQ29uZmlnID0ge1xyXG4gICAgYWN0aXZlOiB0cnVlLFxyXG4gICAgdmlzaWJsZTogdHJ1ZSxcclxuICAgIGtleTogJ1NoaXBTY2VuZSdcclxufTtcclxuXHJcbmV4cG9ydCBjbGFzcyBTaGlwU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgcHJpdmF0ZSBtb3VzZTogTW91c2U7XHJcbiAgICBwcml2YXRlIHBsYXllcjogU2hpcFBvZDtcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoc2NlbmVDb25maWcpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwcmVsb2FkKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnc3RhcnMnLCAnLi9hc3NldHMvYmFja2dyb3VuZHMvdGlsZWFibGVTdGFycy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3NoaXAtcG9kJywgJy4vYXNzZXRzL3Nwcml0ZXMvc2hpcC1wb2QucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdjYW5ub24nLCAnLi9hc3NldHMvc3ByaXRlcy9jYW5ub24ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF0bGFzKCdmbGFyZXMnLCAnLi9hc3NldHMvcGFydGljbGVzL2ZsYXJlcy5wbmcnLCAnLi9hc3NldHMvcGFydGljbGVzL2ZsYXJlcy5qc29uJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNyZWF0ZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmFkZC50aWxlU3ByaXRlKDAsIDAsIHRoaXMuY2FtZXJhcy5tYWluLndpZHRoICogMTAsIHRoaXMuY2FtZXJhcy5tYWluLmhlaWdodCAqIDEwLCAnc3RhcnMnKTtcclxuXHJcbiAgICAgICAgdGhpcy5tb3VzZSA9IG5ldyBNb3VzZSh0aGlzKTtcclxuICAgICAgICB0aGlzLnBsYXllciA9IG5ldyBTaGlwUG9kKHRoaXMpO1xyXG4gICAgICAgIEdsb2JhbHMucGxheWVyID0gdGhpcy5wbGF5ZXI7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIuc2V0VGFyZ2V0KHRoaXMubW91c2UpO1xyXG5cclxuICAgICAgICAvLyBUTVBcclxuICAgICAgICBsZXQgY2Fub246IENhbm5vbkF0dGFjaG1lbnQgPSBuZXcgQ2Fubm9uQXR0YWNobWVudCh0aGlzKTtcclxuICAgICAgICB0aGlzLnBsYXllci5hZGRBdHRhY2htZW50KGNhbm9uKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXR1cENhbWVyYSh0aGlzLnBsYXllcik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5pbnB1dC5rZXlib2FyZC5vbigna2V5ZG93bi1QJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBHbG9iYWxzLnBhdXNlZCA9IHRydWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5pbnB1dC5rZXlib2FyZC5vbigna2V5ZG93bi1SJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBHbG9iYWxzLnBhdXNlZCA9IGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubW91c2Uub25XaGVlbFVwKChzY3JvbGxBbW91bnQ6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICBsZXQgY3VycmVudFpvb206IG51bWJlciA9IHRoaXMuY2FtZXJhcy5tYWluLnpvb207XHJcbiAgICAgICAgICAgIC8vIHpvb20gb3V0XHJcbiAgICAgICAgICAgIGxldCBuZXdab29tOiBudW1iZXIgPSBjdXJyZW50Wm9vbSAtIDAuNTtcclxuICAgICAgICAgICAgaWYgKG5ld1pvb20gPCAwLjEpIHtcclxuICAgICAgICAgICAgICAgIG5ld1pvb20gPSAwLjE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYHpvb21pbmcgZnJvbSAke2N1cnJlbnRab29tfSB0byAke25ld1pvb219YCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnpvb21UbyhuZXdab29tKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLm1vdXNlLm9uV2hlZWxEb3duKChzY3JvbGxBbW91bnQ6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICBsZXQgY3VycmVudFpvb206IG51bWJlciA9IHRoaXMuY2FtZXJhcy5tYWluLnpvb207XHJcbiAgICAgICAgICAgIC8vIHpvb20gaW5cclxuICAgICAgICAgICAgbGV0IG5ld1pvb206IG51bWJlciA9IGN1cnJlbnRab29tICsgMC41O1xyXG4gICAgICAgICAgICBpZiAobmV3Wm9vbSA+IDEpIHtcclxuICAgICAgICAgICAgICAgIG5ld1pvb20gPSAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGB6b29taW5nIGZyb20gJHtjdXJyZW50Wm9vbX0gdG8gJHtuZXdab29tfWApO1xyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi56b29tVG8obmV3Wm9vbSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZSgpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIUdsb2JhbHMucGF1c2VkKSB7XHJcbiAgICAgICAgICAgIEdsb2JhbHMucGxheWVyLnVwZGF0ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldHVwQ2FtZXJhKHBsYXllcjogU2hpcFBvZCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLmJhY2tncm91bmRDb2xvci5zZXRGcm9tUkdCKHtyOiAwLCBnOiAwLCBiOiAwfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0Wm9vbSgxKTtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5jZW50ZXJPbigwLCAwKTtcclxuXHJcbiAgICAgICAgbGV0IHdpZHRoOiBudW1iZXIgPSB0aGlzLmNhbWVyYXMubWFpbi53aWR0aDtcclxuICAgICAgICBsZXQgaGVpZ2h0OiBudW1iZXIgPSB0aGlzLmNhbWVyYXMubWFpbi5oZWlnaHQ7XHJcbiAgICAgICAgbGV0IGR6V2lkdGg6IG51bWJlciA9IE1hdGguZmxvb3Iod2lkdGggLyAyKTtcclxuICAgICAgICBsZXQgZHpIZWlnaHQ6IG51bWJlciA9IE1hdGguZmxvb3IoaGVpZ2h0IC8gMik7XHJcbiAgICAgICAgbGV0IGR6WDogbnVtYmVyID0gTWF0aC5mbG9vcihkeldpZHRoIC8gMik7XHJcbiAgICAgICAgbGV0IGR6WTogbnVtYmVyID0gTWF0aC5mbG9vcihkekhlaWdodCAvIDIpO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnN0YXJ0Rm9sbG93KHBsYXllci5nZXRHYW1lT2JqZWN0KCksIHRydWUpO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLmRlYWR6b25lID0gbmV3IFBoYXNlci5HZW9tLlJlY3RhbmdsZShkelgsIGR6WSwgZHpXaWR0aCwgZHpIZWlnaHQpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFwicGhhc2VyXCI7XHJcbmltcG9ydCB7IFJORyB9IGZyb20gXCIuLi91dGlsaXRpZXMvcm5nXCI7XHJcbmltcG9ydCB7IFVwZGF0YWJsZSB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL3VwZGF0YWJsZVwiO1xyXG5pbXBvcnQgeyBDYW5UYXJnZXQgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9jYW4tdGFyZ2V0XCI7XHJcbmltcG9ydCB7IENhblRocnVzdCB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2Nhbi10aHJ1c3RcIjtcclxuaW1wb3J0IHsgSGFzTG9jYXRpb24gfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9oYXMtbG9jYXRpb25cIjtcclxuaW1wb3J0IHsgSGFzR2FtZU9iamVjdCB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2hhcy1nYW1lLW9iamVjdFwiO1xyXG5pbXBvcnQgeyBHbG9iYWxzIH0gZnJvbSBcIi4uL3V0aWxpdGllcy9nbG9iYWxzXCI7XHJcbmltcG9ydCB7IEhhc0ludGVncml0eSB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2hhcy1pbnRlZ3JpdHlcIjtcclxuaW1wb3J0IHsgQ29uc3RhbnRzIH0gZnJvbSBcIi4uL3V0aWxpdGllcy9jb25zdGFudHNcIjtcclxuaW1wb3J0IHsgU2hpcEF0dGFjaG1lbnQgfSBmcm9tIFwiLi9hdHRhY2htZW50cy9zaGlwLWF0dGFjaG1lbnRcIjtcclxuaW1wb3J0IHsgSGFzQXR0YWNobWVudHMgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9oYXMtYXR0YWNobWVudHNcIjtcclxuaW1wb3J0IHsgSGVscGVycyB9IGZyb20gXCIuLi91dGlsaXRpZXMvaGVscGVyc1wiO1xyXG5pbXBvcnQgeyBBdHRhY2htZW50TG9jYXRpb24gfSBmcm9tIFwiLi9hdHRhY2htZW50cy9hdHRhY2htZW50LWxvY2F0aW9uXCI7XHJcbmltcG9ydCB7IEhhc1RlbXBlcmF0dXJlIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvaGFzLXRlbXBlcmF0dXJlXCI7XHJcbmltcG9ydCB7IEhhc0Z1ZWwgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9oYXMtZnVlbFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNoaXBQb2QgaW1wbGVtZW50cyBVcGRhdGFibGUsIENhblRhcmdldCwgQ2FuVGhydXN0LCBIYXNMb2NhdGlvbiwgSGFzR2FtZU9iamVjdCwgSGFzSW50ZWdyaXR5LCBIYXNBdHRhY2htZW50cywgSGFzVGVtcGVyYXR1cmUsIEhhc0Z1ZWwge1xyXG4gICAgcHJpdmF0ZSBpZDogc3RyaW5nOyAvLyBVVUlEXHJcbiAgICBwcml2YXRlIHNjZW5lOiBQaGFzZXIuU2NlbmU7XHJcbiAgICBwcml2YXRlIGdhbWVPYmo6IFBoYXNlci5HYW1lT2JqZWN0cy5Db250YWluZXI7XHJcbiAgICBwcml2YXRlIHRhcmdldDogSGFzTG9jYXRpb247XHJcbiAgICBwcml2YXRlIGludGVncml0eTogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBhdHRhY2htZW50czogU2hpcEF0dGFjaG1lbnRbXTtcclxuICAgIHByaXZhdGUgdGhydXN0S2V5OiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5O1xyXG4gICAgcHJpdmF0ZSBib29zdEtleTogUGhhc2VyLklucHV0LktleWJvYXJkLktleTtcclxuICAgIHByaXZhdGUgcm90YXRlQXR0YWNobWVudHNDbG9ja3dpc2VLZXk6IFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXk7XHJcbiAgICBwcml2YXRlIHJvdGF0ZUF0dGFjaG1lbnRzQW50aUNsb2Nrd2lzZUtleTogUGhhc2VyLklucHV0LktleWJvYXJkLktleTtcclxuICAgIHByaXZhdGUgZGV0YWNoQXR0YWNobWVudEtleTogUGhhc2VyLklucHV0LktleWJvYXJkLktleTtcclxuICAgIHByaXZhdGUgcmVtYWluaW5nRnVlbDogbnVtYmVyID0gMTAwO1xyXG4gICAgcHJpdmF0ZSB0ZW1wZXJhdHVyZTogbnVtYmVyID0gMDsgLy8gaW4gQ2VsY2l1c1xyXG4gICAgcHJpdmF0ZSB0aHJ1c3RlclBhcnRpY2xlczogUGhhc2VyLkdhbWVPYmplY3RzLlBhcnRpY2xlcy5QYXJ0aWNsZUVtaXR0ZXJNYW5hZ2VyO1xyXG5cclxuICAgIGFjdGl2ZTogYm9vbGVhbiA9IHRydWU7XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lOiBQaGFzZXIuU2NlbmUpIHtcclxuICAgICAgICB0aGlzLmlkID0gUk5HLmd1aWQoKTtcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy5nYW1lT2JqID0gc2NlbmUuYWRkLmNvbnRhaW5lcigwLCAwKTtcclxuICAgICAgICB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMuZ2FtZU9iaik7XHJcbiAgICAgICAgKHRoaXMuZ2FtZU9iai5ib2R5IGFzIFBoYXNlci5QaHlzaWNzLkFyY2FkZS5Cb2R5KS5ib3VuY2Uuc2V0VG8oMC43LCAwLjcpO1xyXG4gICAgICAgIHRoaXMudGhydXN0ZXJQYXJ0aWNsZXMgPSBzY2VuZS5hZGQucGFydGljbGVzKCdmbGFyZXMnKTtcclxuICAgICAgICBsZXQgc2hpcDogUGhhc2VyLkdhbWVPYmplY3RzLlNwcml0ZSA9IHNjZW5lLmFkZC5zcHJpdGUoMCwgMCwgJ3NoaXAtcG9kJyk7XHJcbiAgICAgICAgdGhpcy5nYW1lT2JqLmFkZChzaGlwKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmludGVncml0eSA9IENvbnN0YW50cy5NQVhfSU5URUdSSVRZO1xyXG4gICAgICAgIHRoaXMuYXR0YWNobWVudHMgPSBuZXcgQXJyYXk8U2hpcEF0dGFjaG1lbnQ+KEhlbHBlcnMuZW51bUxlbmd0aChBdHRhY2htZW50TG9jYXRpb24pKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXR1cElucHV0SGFuZGxlcnMoKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCFHbG9iYWxzLnBhdXNlZCAmJiB0aGlzLmFjdGl2ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmxvb2tBdFRhcmdldCgpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy50aHJ1c3RLZXkuaXNEb3duKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRocnVzdEZvd2FyZHMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5ib29zdEtleS5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYm9vc3RGb3J3YXJkcygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNjZW5lLmlucHV0LmFjdGl2ZVBvaW50ZXIubGVmdEJ1dHRvbkRvd24oKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYXR0YWNobWVudHNbMF0pIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzWzBdLnRyaWdnZXIoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmNoZWNrT3ZlcmhlYXRDb25kaXRpb24oKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMucm90YXRlQXR0YWNobWVudHNDbG9ja3dpc2VLZXkuaXNEb3duKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJvdGF0ZUF0dGFjaG1lbnRzQ2xvY2t3aXNlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMucm90YXRlQXR0YWNobWVudHNBbnRpQ2xvY2t3aXNlS2V5LmlzRG93bikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yb3RhdGVBdHRhY2htZW50c0FudGlDbG9ja3dpc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5kZXRhY2hBdHRhY2htZW50S2V5LmlzRG93bikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVBdHRhY2htZW50KEF0dGFjaG1lbnRMb2NhdGlvbi5mcm9udCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy51cGRhdGVBdHRhY2htZW50cygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHVwZGF0ZUF0dGFjaG1lbnRzKCk6IHZvaWQge1xyXG4gICAgICAgIGZvciAodmFyIGk9MDsgaTx0aGlzLmF0dGFjaG1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBhOiBTaGlwQXR0YWNobWVudCA9IHRoaXMuYXR0YWNobWVudHNbaV07XHJcbiAgICAgICAgICAgIGlmIChhKSB7XHJcbiAgICAgICAgICAgICAgICBhLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0dXBJbnB1dEhhbmRsZXJzKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMudGhydXN0S2V5ID0gdGhpcy5zY2VuZS5pbnB1dC5rZXlib2FyZC5hZGRLZXkoJ1NQQUNFJywgdHJ1ZSwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5ib29zdEtleSA9IHRoaXMuc2NlbmUuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KCdUQUInLCB0cnVlLCBmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5yb3RhdGVBdHRhY2htZW50c0Nsb2Nrd2lzZUtleSA9IHRoaXMuc2NlbmUuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KCdFJywgdHJ1ZSwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMucm90YXRlQXR0YWNobWVudHNBbnRpQ2xvY2t3aXNlS2V5ID0gdGhpcy5zY2VuZS5pbnB1dC5rZXlib2FyZC5hZGRLZXkoJ1EnLCB0cnVlLCBmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5kZXRhY2hBdHRhY2htZW50S2V5ID0gdGhpcy5zY2VuZS5pbnB1dC5rZXlib2FyZC5hZGRLZXkoJ1gnLCB0cnVlLCBmYWxzZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBjaGVja3MgZm9yIGFuZCBhcHBsaWVzIGRhbWFnZSBiYXNlZCBvbiBkZWdyZWVzIG92ZXIgc2FmZSB0ZW1wZXJhdHVyZSBhdCBhIHJhdGVcclxuICAgICAqIGRlZmluZWQgYnkge0NvbnN0YW50cy5PVkVSSEVBVF9DSEVDS19JTlRFUlZBTH0gbWlsbGlzZWNvbmRzIGJldHdlZW4gZWFjaCBjaGVjay5cclxuICAgICAqIGFsc28gYXBwbGllcyBjb29saW5nIGF0IGEgcmF0ZSBvZiB7Q29uc3RhbnRzLkNPT0xJTkdfUkFURX1cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBjaGVja092ZXJoZWF0Q29uZGl0aW9uKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICghR2xvYmFscy5wYXVzZWQgJiYgdGhpcy5hY3RpdmUpIHtcclxuICAgICAgICAgICAgaWYgKEhlbHBlcnMubm93KCkgLSB0aGlzLmxhc3RPdmVyaGVhdENoZWNrID4gQ29uc3RhbnRzLk9WRVJIRUFUX0NIRUNLX0lOVEVSVkFMKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50ZW1wZXJhdHVyZSA+IENvbnN0YW50cy5NQVhfVEVNUEVSQVRVUkUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3koKTsgLy8gd2UgYXJlIGRlYWRcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRlbXBlcmF0dXJlID4gQ29uc3RhbnRzLk1BWF9TQUZFX1RFTVBFUkFUVVJFKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVkdWNlIGludGVncml0eSBiYXNlZCBvbiBkZWdyZWVzIG92ZXIgc2FmZSBvcGVyYXRpbmcgdGVtcFxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBkZWx0YTogbnVtYmVyID0gKHRoaXMudGVtcGVyYXR1cmUgLSBDb25zdGFudHMuTUFYX1NBRkVfVEVNUEVSQVRVUkUpIC8gQ29uc3RhbnRzLk1BWF9TQUZFX1RFTVBFUkFUVVJFO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3VzdGFpbkRhbWFnZShkZWx0YSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGx5Q29vbGluZyhDb25zdGFudHMuQ09PTElOR19SQVRFKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubGFzdE92ZXJoZWF0Q2hlY2sgPSBIZWxwZXJzLm5vdygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBsYXN0T3ZlcmhlYXRDaGVjazogbnVtYmVyID0gMDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRPRE86IG5lZWRlZCBzbyB3ZSBjYW4gdXNlIEZsb2F0aW5nIE9yaWdpblxyXG4gICAgICovXHJcbiAgICBnZXRSZWFsTG9jYXRpb24oKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKHRoaXMuZ2FtZU9iai54LCB0aGlzLmdhbWVPYmoueSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiB0aGUgbG9jYXRpb24gd2l0aGluIHRoZSB2aWV3YWJsZSBhcmVhXHJcbiAgICAgKiBAcmV0dXJucyBhIHtQaGFzZXIuTWF0aC5WZWN0b3IyfSBvZmZzZXQgZm9yIGxvY2F0aW9uIHdpdGhpbiBjdXJyZW50IFxyXG4gICAgICogdmlld2FibGUgYXJlYVxyXG4gICAgICovXHJcbiAgICBnZXRMb2NhdGlvbigpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICBsZXQgY2FtZXJhUG9zOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5zY2VuZS5jYW1lcmFzLm1haW4uZ2V0V29ybGRQb2ludCgwLCAwKTtcclxuICAgICAgICByZXR1cm4gbmV3IFBoYXNlci5NYXRoLlZlY3RvcjIodGhpcy5nYW1lT2JqLnggLSBjYW1lcmFQb3MueCwgdGhpcy5nYW1lT2JqLnkgLSBjYW1lcmFQb3MueSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0SWQoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pZDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRHYW1lT2JqZWN0KCk6IFBoYXNlci5HYW1lT2JqZWN0cy5HYW1lT2JqZWN0IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nYW1lT2JqO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFRhcmdldCh0YXJnZXQ6IEhhc0xvY2F0aW9uKSB7XHJcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XHJcbiAgICB9XHJcblxyXG4gICAgbG9va0F0VGFyZ2V0KCk6IHZvaWQge1xyXG4gICAgICAgIGxldCBwb3MgPSB0aGlzLnRhcmdldC5nZXRSZWFsTG9jYXRpb24oKTtcclxuICAgICAgICBsZXQgcmFkaWFuczogbnVtYmVyID0gUGhhc2VyLk1hdGguQW5nbGUuQmV0d2Vlbihwb3MueCwgcG9zLnksIHRoaXMuZ2FtZU9iai54LCB0aGlzLmdhbWVPYmoueSk7XHJcbiAgICAgICAgdGhpcy5nYW1lT2JqLnNldFJvdGF0aW9uKHJhZGlhbnMpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEFuZ2xlKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZU9iai5hbmdsZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRSb3RhdGlvbigpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdhbWVPYmoucm90YXRpb247XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0SGVhZGluZygpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICBsZXQgeDogbnVtYmVyID0gTWF0aC5jb3ModGhpcy5nYW1lT2JqLnJvdGF0aW9uKTtcclxuICAgICAgICBsZXQgeTogbnVtYmVyID0gTWF0aC5zaW4odGhpcy5nYW1lT2JqLnJvdGF0aW9uKTtcclxuICAgICAgICByZXR1cm4gbmV3IFBoYXNlci5NYXRoLlZlY3RvcjIoeCwgeSkubm9ybWFsaXplKCkubmVnYXRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VmVsb2NpdHkoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gKHRoaXMuZ2FtZU9iai5ib2R5IGFzIFBoYXNlci5QaHlzaWNzLkFyY2FkZS5Cb2R5KS52ZWxvY2l0eS5sZW5ndGgoKTtcclxuICAgIH1cclxuXHJcbiAgICB0aHJ1c3RGb3dhcmRzKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuYXBwbHlUaHJ1c3QoQ29uc3RhbnRzLlRIUlVTVEVSX0ZPUkNFLCBDb25zdGFudHMuRlVFTF9QRVJfVEhSVVNULCBDb25zdGFudHMuSEVBVF9QRVJfVEhSVVNUKTtcclxuICAgICAgICB0aGlzLmRpc3BsYXlUaHJ1c3RlckZpcmUoJ3llbGxvdycsIDAuMik7XHJcbiAgICB9XHJcblxyXG4gICAgYm9vc3RGb3J3YXJkcygpOiB2b2lkIHtcclxuICAgICAgICBpZiAoSGVscGVycy5ub3coKSAtIHRoaXMubGFzdEJvb3N0VGltZSA+PSBDb25zdGFudHMuQk9PU1RFUl9DT09MRE9XTl9USU1FKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYXBwbHlUaHJ1c3QoQ29uc3RhbnRzLkJPT1NURVJfRk9SQ0UsIENvbnN0YW50cy5GVUVMX1BFUl9CT09TVCwgQ29uc3RhbnRzLkhFQVRfUEVSX0JPT1NUKTtcclxuICAgICAgICAgICAgdGhpcy5kaXNwbGF5VGhydXN0ZXJGaXJlKCdibHVlJywgMSk7XHJcbiAgICAgICAgICAgIHRoaXMubGFzdEJvb3N0VGltZSA9IEhlbHBlcnMubm93KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBsYXN0Qm9vc3RUaW1lOiBudW1iZXIgPSAwO1xyXG5cclxuICAgIHByaXZhdGUgYXBwbHlUaHJ1c3QoZm9yY2U6IG51bWJlciwgZnVlbDogbnVtYmVyLCBoZWF0OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5nZXRSZW1haW5pbmdGdWVsKCkgPiAwKSB7XHJcbiAgICAgICAgICAgIGxldCBoZWFkaW5nOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5nZXRIZWFkaW5nKCk7XHJcbiAgICAgICAgICAgIGxldCBkZWx0YVY6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSBoZWFkaW5nLm11bHRpcGx5KG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKGZvcmNlLCBmb3JjZSkpO1xyXG4gICAgICAgICAgICAodGhpcy5nYW1lT2JqLmJvZHkgYXMgUGhhc2VyLlBoeXNpY3MuQXJjYWRlLkJvZHkpLnZlbG9jaXR5LmFkZChkZWx0YVYpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5yZWR1Y2VGdWVsKGZ1ZWwpO1xyXG4gICAgICAgICAgICB0aGlzLmFwcGx5SGVhdGluZyhoZWF0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBkaXNwbGF5VGhydXN0ZXJGaXJlKGNvbG91cjogc3RyaW5nLCBzdGFydFNjYWxlOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICAvLyBtYWtlIHRocnVzdGVyIGZpcmVcclxuICAgICAgICBsZXQgcG9zOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5nZXRSZWFsTG9jYXRpb24oKTtcclxuICAgICAgICBsZXQgb2Zmc2V0OiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gbmV3IFBoYXNlci5NYXRoLlZlY3RvcjIoMjAsIDApLmFkZCh0aGlzLmdldFJlYWxMb2NhdGlvbigpKTtcclxuICAgICAgICBsZXQgbG9jOiBQaGFzZXIuR2VvbS5Qb2ludCA9IFBoYXNlci5NYXRoLlJvdGF0ZUFyb3VuZChvZmZzZXQsIHBvcy54LCBwb3MueSwgdGhpcy5nZXRSb3RhdGlvbigpKTtcclxuICAgICAgICBsZXQgaDogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuZ2V0SGVhZGluZygpLm5lZ2F0ZSgpO1xyXG4gICAgICAgIHRoaXMudGhydXN0ZXJQYXJ0aWNsZXMuY3JlYXRlRW1pdHRlcih7XHJcbiAgICAgICAgICAgIGZyYW1lOiBjb2xvdXIsXHJcbiAgICAgICAgICAgIHg6IGxvYy54LFxyXG4gICAgICAgICAgICB5OiBsb2MueSxcclxuICAgICAgICAgICAgbGlmZXNwYW46IHsgbWluOiAyMDAsIG1heDogNTAwIH0sXHJcbiAgICAgICAgICAgIHNwZWVkWDogeyBtaW46IGgueCo2MDAsIG1heDogaC54KjEwMDAgfSxcclxuICAgICAgICAgICAgc3BlZWRZOiB7IG1pbjogaC55KjYwMCwgbWF4OiBoLnkqMTAwMCB9LFxyXG4gICAgICAgICAgICBhbmdsZTogeyBtaW46IC0xODAsIG1heDogMTc5IH0sXHJcbiAgICAgICAgICAgIGdyYXZpdHlYOiAwLFxyXG4gICAgICAgICAgICBncmF2aXR5WTogMCxcclxuICAgICAgICAgICAgc2NhbGU6IHsgc3RhcnQ6IHN0YXJ0U2NhbGUsIGVuZDogMCB9LFxyXG4gICAgICAgICAgICAvL3F1YW50aXR5OiA0LFxyXG4gICAgICAgICAgICBibGVuZE1vZGU6ICdBREQnLFxyXG4gICAgICAgICAgICBtYXhQYXJ0aWNsZXM6IDNcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzdHJhZmVMZWZ0KCk6IHZvaWQge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBzdHJhZmVSaWdodCgpOiB2b2lkIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgdGhydXN0QmFja3dhcmRzKCk6IHZvaWQge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBnZXRUZW1wZXJhdHVyZSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRlbXBlcmF0dXJlO1xyXG4gICAgfVxyXG5cclxuICAgIGFwcGx5SGVhdGluZyhkZWdyZWVzOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnRlbXBlcmF0dXJlICs9IGRlZ3JlZXM7XHJcbiAgICB9XHJcblxyXG4gICAgYXBwbHlDb29saW5nKGRlZ3JlZXM6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMudGVtcGVyYXR1cmUgLT0gZGVncmVlcztcclxuICAgICAgICBpZiAodGhpcy50ZW1wZXJhdHVyZSA8IDApIHtcclxuICAgICAgICAgICAgdGhpcy50ZW1wZXJhdHVyZSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlZHVjZUZ1ZWwoYW1vdW50OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnJlbWFpbmluZ0Z1ZWwgLT0gYW1vdW50O1xyXG4gICAgICAgIGlmICh0aGlzLnJlbWFpbmluZ0Z1ZWwgPCAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVtYWluaW5nRnVlbCA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFkZEZ1ZWwoYW1vdW50OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnJlbWFpbmluZ0Z1ZWwgKz0gYW1vdW50O1xyXG4gICAgICAgIGlmICh0aGlzLnJlbWFpbmluZ0Z1ZWwgPiBDb25zdGFudHMuTUFYX0ZVRUwpIHtcclxuICAgICAgICAgICAgdGhpcy5yZW1haW5pbmdGdWVsID0gQ29uc3RhbnRzLk1BWF9GVUVMO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRSZW1haW5pbmdGdWVsKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVtYWluaW5nRnVlbDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRJbnRlZ3JpdHkoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pbnRlZ3JpdHk7XHJcbiAgICB9XHJcblxyXG4gICAgc3VzdGFpbkRhbWFnZShhbW91bnQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuaW50ZWdyaXR5IC09IGFtb3VudDtcclxuICAgICAgICBpZiAodGhpcy5pbnRlZ3JpdHkgPD0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmludGVncml0eSA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveSgpOyAvLyB3ZSBhcmUgZGVhZFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXBhaXIoYW1vdW50OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmludGVncml0eSA9IGFtb3VudDtcclxuICAgICAgICBpZiAodGhpcy5pbnRlZ3JpdHkgPiBDb25zdGFudHMuTUFYX0lOVEVHUklUWSkge1xyXG4gICAgICAgICAgICB0aGlzLmludGVncml0eSA9IENvbnN0YW50cy5NQVhfSU5URUdSSVRZO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByb3RhdGVBdHRhY2htZW50c0Nsb2Nrd2lzZSgpOiB2b2lkIHtcclxuICAgICAgICBsZXQgbGFzdDogU2hpcEF0dGFjaG1lbnQgPSB0aGlzLmF0dGFjaG1lbnRzLnBvcCgpOyAvLyByZW1vdmUgbGFzdCBlbGVtZW50XHJcbiAgICAgICAgdGhpcy5hdHRhY2htZW50cy51bnNoaWZ0KGxhc3QpOyAvLyBwdXNoIGxhc3QgZWxlbWVudCBvbnRvIHN0YXJ0IG9mIGFycmF5XHJcbiAgICAgICAgdGhpcy51cGRhdGVBdHRhY2htZW50UG9zaXRpb25zKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcm90YXRlQXR0YWNobWVudHNBbnRpQ2xvY2t3aXNlKCk6IHZvaWQge1xyXG4gICAgICAgIGxldCBmaXJzdDogU2hpcEF0dGFjaG1lbnQgPSB0aGlzLmF0dGFjaG1lbnRzLnNoaWZ0KCk7IC8vIHJlbW92ZSBmaXJzdCBlbGVtZW50XHJcbiAgICAgICAgdGhpcy5hdHRhY2htZW50cy5wdXNoKGZpcnN0KTsgLy8gcHVzaCBmaXJzdCBlbGVtZW50IG9udG8gZW5kIG9mIGFycmF5XHJcbiAgICAgICAgdGhpcy51cGRhdGVBdHRhY2htZW50UG9zaXRpb25zKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1cGRhdGVBdHRhY2htZW50UG9zaXRpb25zKCk6IHZvaWQge1xyXG4gICAgICAgIGZvciAodmFyIGk9MDsgaTx0aGlzLmF0dGFjaG1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmF0dGFjaG1lbnRzW2ldKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIEF0dGFjaG1lbnRMb2NhdGlvbi5mcm9udDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hdHRhY2htZW50c1tpXS5zZXRBdHRhY2htZW50TG9jYXRpb24oQXR0YWNobWVudExvY2F0aW9uLmZyb250KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBBdHRhY2htZW50TG9jYXRpb24uZnJvbnRSaWdodDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hdHRhY2htZW50c1tpXS5zZXRBdHRhY2htZW50TG9jYXRpb24oQXR0YWNobWVudExvY2F0aW9uLmZyb250UmlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIEF0dGFjaG1lbnRMb2NhdGlvbi5yaWdodDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hdHRhY2htZW50c1tpXS5zZXRBdHRhY2htZW50TG9jYXRpb24oQXR0YWNobWVudExvY2F0aW9uLnJpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBBdHRhY2htZW50TG9jYXRpb24uYmFja1JpZ2h0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzW2ldLnNldEF0dGFjaG1lbnRMb2NhdGlvbihBdHRhY2htZW50TG9jYXRpb24uYmFja1JpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBBdHRhY2htZW50TG9jYXRpb24uYmFja0xlZnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNobWVudHNbaV0uc2V0QXR0YWNobWVudExvY2F0aW9uKEF0dGFjaG1lbnRMb2NhdGlvbi5iYWNrTGVmdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQXR0YWNobWVudExvY2F0aW9uLmxlZnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNobWVudHNbaV0uc2V0QXR0YWNobWVudExvY2F0aW9uKEF0dGFjaG1lbnRMb2NhdGlvbi5sZWZ0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBBdHRhY2htZW50TG9jYXRpb24uZnJvbnRMZWZ0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzW2ldLnNldEF0dGFjaG1lbnRMb2NhdGlvbihBdHRhY2htZW50TG9jYXRpb24uZnJvbnRMZWZ0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBhZGRzIHRoZSBwYXNzZWQgaW4ge1NoaXBBdHRhY2htZW50fSBpbiB7QXR0YWNobWVudExvY2F0aW9uLmZyb250fSBvclxyXG4gICAgICogdGhlIGZpcnN0IG9wZW4ge0F0dGFjaG1lbnRMb2NhdGlvbn0gaW4gYSBjbG9ja3dpc2Ugc2VhcmNoLiBpZiBubyBvcGVuXHJcbiAgICAgKiBzbG90cyBleGlzdCB0aGVuIHRoZSBleGlzdGluZyB7U2hpcEF0dGFjaG1lbnR9IGF0IHtBdHRhY2htZW50TG9jYXRpb24uZnJvbnR9XHJcbiAgICAgKiBpcyBkZXRhY2hlZCBhbmQgcmVwbGFjZWQgd2l0aCB0aGUgcGFzc2VkIGluIHtTaGlwQXR0YWNobWVudH1cclxuICAgICAqIEBwYXJhbSBhdHRhY2htZW50IHRoZSBhdHRhY2htZW50IHRvIGJlIGFkZGVkXHJcbiAgICAgKi9cclxuICAgIGFkZEF0dGFjaG1lbnQoYXR0YWNobWVudDogU2hpcEF0dGFjaG1lbnQpOiB2b2lkIHtcclxuICAgICAgICBsZXQgYXR0YWNoZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgICAgICBmb3IgKHZhciBpPTA7IGk8SGVscGVycy5lbnVtTGVuZ3RoKEF0dGFjaG1lbnRMb2NhdGlvbik7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuYXR0YWNobWVudHNbaV0pIHtcclxuICAgICAgICAgICAgICAgIGxldCBsb2M6IEF0dGFjaG1lbnRMb2NhdGlvbjtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQXR0YWNobWVudExvY2F0aW9uLmZyb250OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2MgPSBBdHRhY2htZW50TG9jYXRpb24uZnJvbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQXR0YWNobWVudExvY2F0aW9uLmZyb250UmlnaHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYyA9IEF0dGFjaG1lbnRMb2NhdGlvbi5mcm9udFJpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIEF0dGFjaG1lbnRMb2NhdGlvbi5yaWdodDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jID0gQXR0YWNobWVudExvY2F0aW9uLnJpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIEF0dGFjaG1lbnRMb2NhdGlvbi5iYWNrUmlnaHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYyA9IEF0dGFjaG1lbnRMb2NhdGlvbi5iYWNrUmlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQXR0YWNobWVudExvY2F0aW9uLmJhY2tMZWZ0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2MgPSBBdHRhY2htZW50TG9jYXRpb24uYmFja0xlZnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQXR0YWNobWVudExvY2F0aW9uLmxlZnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYyA9IEF0dGFjaG1lbnRMb2NhdGlvbi5sZWZ0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIEF0dGFjaG1lbnRMb2NhdGlvbi5mcm9udExlZnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYyA9IEF0dGFjaG1lbnRMb2NhdGlvbi5mcm9udExlZnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5hdHRhY2htZW50c1tpXSA9IGF0dGFjaG1lbnQ7XHJcbiAgICAgICAgICAgICAgICBhdHRhY2htZW50LmF0dGFjaCh0aGlzLCBsb2MpO1xyXG4gICAgICAgICAgICAgICAgYXR0YWNoZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIWF0dGFjaGVkKSB7XHJcbiAgICAgICAgICAgIC8vIGRldGFjaCBjdXJyZW50IGZyb250IGF0dGFjaG1lbnRcclxuICAgICAgICAgICAgdGhpcy5hdHRhY2htZW50c1tBdHRhY2htZW50TG9jYXRpb24uZnJvbnRdLmRldGFjaCgpO1xyXG4gICAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzW0F0dGFjaG1lbnRMb2NhdGlvbi5mcm9udF0gPSBhdHRhY2htZW50O1xyXG4gICAgICAgICAgICBhdHRhY2htZW50LmF0dGFjaCh0aGlzLCBBdHRhY2htZW50TG9jYXRpb24uZnJvbnQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5nYW1lT2JqLmFkZChhdHRhY2htZW50LmdldEdhbWVPYmplY3QoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlQXR0YWNobWVudChsb2NhdGlvbjogQXR0YWNobWVudExvY2F0aW9uKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuYXR0YWNobWVudHNbbG9jYXRpb25dKSB7XHJcbiAgICAgICAgICAgIGxldCBnbzogUGhhc2VyLkdhbWVPYmplY3RzLkdhbWVPYmplY3QgPSB0aGlzLmF0dGFjaG1lbnRzW2xvY2F0aW9uXS5nZXRHYW1lT2JqZWN0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZU9iai5yZW1vdmUoZ28pO1xyXG4gICAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzW2xvY2F0aW9uXS5kZXRhY2goKTtcclxuICAgICAgICAgICAgdGhpcy5hdHRhY2htZW50c1tsb2NhdGlvbl0gPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRBdHRhY2htZW50cygpOiBTaGlwQXR0YWNobWVudFtdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hdHRhY2htZW50cztcclxuICAgIH1cclxuXHJcbiAgICBkZXN0cm95KCk6IHZvaWQge1xyXG4gICAgICAgIC8vIFRPRE86XHJcbiAgICB9XHJcbn0iLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzlfXzsiLCJpbXBvcnQgeyB2NCB9IGZyb20gXCJ1dWlkXCI7XHJcblxyXG5leHBvcnQgbW9kdWxlIFJORyB7XHJcbiAgICBleHBvcnQgZnVuY3Rpb24gaW50KG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW47XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGd1aWQoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdjQoKTtcclxuICAgIH1cclxufSIsInZhciB2MSA9IHJlcXVpcmUoJy4vdjEnKTtcbnZhciB2NCA9IHJlcXVpcmUoJy4vdjQnKTtcblxudmFyIHV1aWQgPSB2NDtcbnV1aWQudjEgPSB2MTtcbnV1aWQudjQgPSB2NDtcblxubW9kdWxlLmV4cG9ydHMgPSB1dWlkO1xuIiwidmFyIHJuZyA9IHJlcXVpcmUoJy4vbGliL3JuZycpO1xudmFyIGJ5dGVzVG9VdWlkID0gcmVxdWlyZSgnLi9saWIvYnl0ZXNUb1V1aWQnKTtcblxuLy8gKipgdjEoKWAgLSBHZW5lcmF0ZSB0aW1lLWJhc2VkIFVVSUQqKlxuLy9cbi8vIEluc3BpcmVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS9MaW9zSy9VVUlELmpzXG4vLyBhbmQgaHR0cDovL2RvY3MucHl0aG9uLm9yZy9saWJyYXJ5L3V1aWQuaHRtbFxuXG52YXIgX25vZGVJZDtcbnZhciBfY2xvY2tzZXE7XG5cbi8vIFByZXZpb3VzIHV1aWQgY3JlYXRpb24gdGltZVxudmFyIF9sYXN0TVNlY3MgPSAwO1xudmFyIF9sYXN0TlNlY3MgPSAwO1xuXG4vLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkIGZvciBBUEkgZGV0YWlsc1xuZnVuY3Rpb24gdjEob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgdmFyIGkgPSBidWYgJiYgb2Zmc2V0IHx8IDA7XG4gIHZhciBiID0gYnVmIHx8IFtdO1xuXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgbm9kZSA9IG9wdGlvbnMubm9kZSB8fCBfbm9kZUlkO1xuICB2YXIgY2xvY2tzZXEgPSBvcHRpb25zLmNsb2Nrc2VxICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNsb2Nrc2VxIDogX2Nsb2Nrc2VxO1xuXG4gIC8vIG5vZGUgYW5kIGNsb2Nrc2VxIG5lZWQgdG8gYmUgaW5pdGlhbGl6ZWQgdG8gcmFuZG9tIHZhbHVlcyBpZiB0aGV5J3JlIG5vdFxuICAvLyBzcGVjaWZpZWQuICBXZSBkbyB0aGlzIGxhemlseSB0byBtaW5pbWl6ZSBpc3N1ZXMgcmVsYXRlZCB0byBpbnN1ZmZpY2llbnRcbiAgLy8gc3lzdGVtIGVudHJvcHkuICBTZWUgIzE4OVxuICBpZiAobm9kZSA9PSBudWxsIHx8IGNsb2Nrc2VxID09IG51bGwpIHtcbiAgICB2YXIgc2VlZEJ5dGVzID0gcm5nKCk7XG4gICAgaWYgKG5vZGUgPT0gbnVsbCkge1xuICAgICAgLy8gUGVyIDQuNSwgY3JlYXRlIGFuZCA0OC1iaXQgbm9kZSBpZCwgKDQ3IHJhbmRvbSBiaXRzICsgbXVsdGljYXN0IGJpdCA9IDEpXG4gICAgICBub2RlID0gX25vZGVJZCA9IFtcbiAgICAgICAgc2VlZEJ5dGVzWzBdIHwgMHgwMSxcbiAgICAgICAgc2VlZEJ5dGVzWzFdLCBzZWVkQnl0ZXNbMl0sIHNlZWRCeXRlc1szXSwgc2VlZEJ5dGVzWzRdLCBzZWVkQnl0ZXNbNV1cbiAgICAgIF07XG4gICAgfVxuICAgIGlmIChjbG9ja3NlcSA9PSBudWxsKSB7XG4gICAgICAvLyBQZXIgNC4yLjIsIHJhbmRvbWl6ZSAoMTQgYml0KSBjbG9ja3NlcVxuICAgICAgY2xvY2tzZXEgPSBfY2xvY2tzZXEgPSAoc2VlZEJ5dGVzWzZdIDw8IDggfCBzZWVkQnl0ZXNbN10pICYgMHgzZmZmO1xuICAgIH1cbiAgfVxuXG4gIC8vIFVVSUQgdGltZXN0YW1wcyBhcmUgMTAwIG5hbm8tc2Vjb25kIHVuaXRzIHNpbmNlIHRoZSBHcmVnb3JpYW4gZXBvY2gsXG4gIC8vICgxNTgyLTEwLTE1IDAwOjAwKS4gIEpTTnVtYmVycyBhcmVuJ3QgcHJlY2lzZSBlbm91Z2ggZm9yIHRoaXMsIHNvXG4gIC8vIHRpbWUgaXMgaGFuZGxlZCBpbnRlcm5hbGx5IGFzICdtc2VjcycgKGludGVnZXIgbWlsbGlzZWNvbmRzKSBhbmQgJ25zZWNzJ1xuICAvLyAoMTAwLW5hbm9zZWNvbmRzIG9mZnNldCBmcm9tIG1zZWNzKSBzaW5jZSB1bml4IGVwb2NoLCAxOTcwLTAxLTAxIDAwOjAwLlxuICB2YXIgbXNlY3MgPSBvcHRpb25zLm1zZWNzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm1zZWNzIDogbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cbiAgLy8gUGVyIDQuMi4xLjIsIHVzZSBjb3VudCBvZiB1dWlkJ3MgZ2VuZXJhdGVkIGR1cmluZyB0aGUgY3VycmVudCBjbG9ja1xuICAvLyBjeWNsZSB0byBzaW11bGF0ZSBoaWdoZXIgcmVzb2x1dGlvbiBjbG9ja1xuICB2YXIgbnNlY3MgPSBvcHRpb25zLm5zZWNzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm5zZWNzIDogX2xhc3ROU2VjcyArIDE7XG5cbiAgLy8gVGltZSBzaW5jZSBsYXN0IHV1aWQgY3JlYXRpb24gKGluIG1zZWNzKVxuICB2YXIgZHQgPSAobXNlY3MgLSBfbGFzdE1TZWNzKSArIChuc2VjcyAtIF9sYXN0TlNlY3MpLzEwMDAwO1xuXG4gIC8vIFBlciA0LjIuMS4yLCBCdW1wIGNsb2Nrc2VxIG9uIGNsb2NrIHJlZ3Jlc3Npb25cbiAgaWYgKGR0IDwgMCAmJiBvcHRpb25zLmNsb2Nrc2VxID09PSB1bmRlZmluZWQpIHtcbiAgICBjbG9ja3NlcSA9IGNsb2Nrc2VxICsgMSAmIDB4M2ZmZjtcbiAgfVxuXG4gIC8vIFJlc2V0IG5zZWNzIGlmIGNsb2NrIHJlZ3Jlc3NlcyAobmV3IGNsb2Nrc2VxKSBvciB3ZSd2ZSBtb3ZlZCBvbnRvIGEgbmV3XG4gIC8vIHRpbWUgaW50ZXJ2YWxcbiAgaWYgKChkdCA8IDAgfHwgbXNlY3MgPiBfbGFzdE1TZWNzKSAmJiBvcHRpb25zLm5zZWNzID09PSB1bmRlZmluZWQpIHtcbiAgICBuc2VjcyA9IDA7XG4gIH1cblxuICAvLyBQZXIgNC4yLjEuMiBUaHJvdyBlcnJvciBpZiB0b28gbWFueSB1dWlkcyBhcmUgcmVxdWVzdGVkXG4gIGlmIChuc2VjcyA+PSAxMDAwMCkge1xuICAgIHRocm93IG5ldyBFcnJvcigndXVpZC52MSgpOiBDYW5cXCd0IGNyZWF0ZSBtb3JlIHRoYW4gMTBNIHV1aWRzL3NlYycpO1xuICB9XG5cbiAgX2xhc3RNU2VjcyA9IG1zZWNzO1xuICBfbGFzdE5TZWNzID0gbnNlY3M7XG4gIF9jbG9ja3NlcSA9IGNsb2Nrc2VxO1xuXG4gIC8vIFBlciA0LjEuNCAtIENvbnZlcnQgZnJvbSB1bml4IGVwb2NoIHRvIEdyZWdvcmlhbiBlcG9jaFxuICBtc2VjcyArPSAxMjIxOTI5MjgwMDAwMDtcblxuICAvLyBgdGltZV9sb3dgXG4gIHZhciB0bCA9ICgobXNlY3MgJiAweGZmZmZmZmYpICogMTAwMDAgKyBuc2VjcykgJSAweDEwMDAwMDAwMDtcbiAgYltpKytdID0gdGwgPj4+IDI0ICYgMHhmZjtcbiAgYltpKytdID0gdGwgPj4+IDE2ICYgMHhmZjtcbiAgYltpKytdID0gdGwgPj4+IDggJiAweGZmO1xuICBiW2krK10gPSB0bCAmIDB4ZmY7XG5cbiAgLy8gYHRpbWVfbWlkYFxuICB2YXIgdG1oID0gKG1zZWNzIC8gMHgxMDAwMDAwMDAgKiAxMDAwMCkgJiAweGZmZmZmZmY7XG4gIGJbaSsrXSA9IHRtaCA+Pj4gOCAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRtaCAmIDB4ZmY7XG5cbiAgLy8gYHRpbWVfaGlnaF9hbmRfdmVyc2lvbmBcbiAgYltpKytdID0gdG1oID4+PiAyNCAmIDB4ZiB8IDB4MTA7IC8vIGluY2x1ZGUgdmVyc2lvblxuICBiW2krK10gPSB0bWggPj4+IDE2ICYgMHhmZjtcblxuICAvLyBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGAgKFBlciA0LjIuMiAtIGluY2x1ZGUgdmFyaWFudClcbiAgYltpKytdID0gY2xvY2tzZXEgPj4+IDggfCAweDgwO1xuXG4gIC8vIGBjbG9ja19zZXFfbG93YFxuICBiW2krK10gPSBjbG9ja3NlcSAmIDB4ZmY7XG5cbiAgLy8gYG5vZGVgXG4gIGZvciAodmFyIG4gPSAwOyBuIDwgNjsgKytuKSB7XG4gICAgYltpICsgbl0gPSBub2RlW25dO1xuICB9XG5cbiAgcmV0dXJuIGJ1ZiA/IGJ1ZiA6IGJ5dGVzVG9VdWlkKGIpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHYxO1xuIiwidmFyIHJuZyA9IHJlcXVpcmUoJy4vbGliL3JuZycpO1xudmFyIGJ5dGVzVG9VdWlkID0gcmVxdWlyZSgnLi9saWIvYnl0ZXNUb1V1aWQnKTtcblxuZnVuY3Rpb24gdjQob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgdmFyIGkgPSBidWYgJiYgb2Zmc2V0IHx8IDA7XG5cbiAgaWYgKHR5cGVvZihvcHRpb25zKSA9PSAnc3RyaW5nJykge1xuICAgIGJ1ZiA9IG9wdGlvbnMgPT09ICdiaW5hcnknID8gbmV3IEFycmF5KDE2KSA6IG51bGw7XG4gICAgb3B0aW9ucyA9IG51bGw7XG4gIH1cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgdmFyIHJuZHMgPSBvcHRpb25zLnJhbmRvbSB8fCAob3B0aW9ucy5ybmcgfHwgcm5nKSgpO1xuXG4gIC8vIFBlciA0LjQsIHNldCBiaXRzIGZvciB2ZXJzaW9uIGFuZCBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGBcbiAgcm5kc1s2XSA9IChybmRzWzZdICYgMHgwZikgfCAweDQwO1xuICBybmRzWzhdID0gKHJuZHNbOF0gJiAweDNmKSB8IDB4ODA7XG5cbiAgLy8gQ29weSBieXRlcyB0byBidWZmZXIsIGlmIHByb3ZpZGVkXG4gIGlmIChidWYpIHtcbiAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgMTY7ICsraWkpIHtcbiAgICAgIGJ1ZltpICsgaWldID0gcm5kc1tpaV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGJ1ZiB8fCBieXRlc1RvVXVpZChybmRzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB2NDtcbiIsImltcG9ydCB7IEhhc0xvY2F0aW9uIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvaGFzLWxvY2F0aW9uXCI7XHJcbmltcG9ydCB7IE1vdXNlV2hlZWxTY3JvbGwgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9tb3VzZS13aGVlbC1zY3JvbGxcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBNb3VzZSBpbXBsZW1lbnRzIEhhc0xvY2F0aW9uIHtcclxuICAgIHByaXZhdGUgc2NlbmU6IFBoYXNlci5TY2VuZTtcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3Ioc2NlbmU6IFBoYXNlci5TY2VuZSkge1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLnNjZW5lLmlucHV0Lm1vdXNlLmNhcHR1cmUgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEFuZ2xlKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NlbmUuaW5wdXQuYWN0aXZlUG9pbnRlci5nZXRBbmdsZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFJvdGF0aW9uKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QW5nbGUoKSAqIChNYXRoLlBJIC8gMTgwKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRIZWFkaW5nKCk6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIGxldCByb3RhdGlvbjogbnVtYmVyID0gdGhpcy5nZXRBbmdsZSgpO1xyXG4gICAgICAgIGxldCB4OiBudW1iZXIgPSBNYXRoLmNvcyhyb3RhdGlvbik7XHJcbiAgICAgICAgbGV0IHk6IG51bWJlciA9IE1hdGguc2luKHJvdGF0aW9uKTtcclxuICAgICAgICByZXR1cm4gbmV3IFBoYXNlci5NYXRoLlZlY3RvcjIoeCwgeSkubm9ybWFsaXplKCkubmVnYXRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VmVsb2NpdHkoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zY2VuZS5pbnB1dC5hY3RpdmVQb2ludGVyLnZlbG9jaXR5Lmxlbmd0aCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmV0dXJucyB0aGUgcG9zaXRpb24gb2YgdGhlIG1vdXNlIHdpdGhpbiB0aGUgYm91bmRzIG9mIHRoZSBjdXJyZW50XHJcbiAgICAgKiBzY3JlZW4uXHJcbiAgICAgKiBAcmV0dXJucyBhIHtQaGFzZXIuTWF0aC5WZWN0b3IyfSBjbG9uZSBvZiB0aGUgcG9zaXRpb25cclxuICAgICAqL1xyXG4gICAgZ2V0TG9jYXRpb24oKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coYG1vdXNlIGxvY2F0aW9uOiAke0pTT04uc3RyaW5naWZ5KHRoaXMubG9jYXRpb24pfWApO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNjZW5lLmlucHV0LmFjdGl2ZVBvaW50ZXIucG9zaXRpb24uY2xvbmUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIG9mZnNldHMgdGhlIHNjcmVlbiBwb3NpdGlvbiBiYXNlZCBvbiBjYW1lcmEgcG9zaXRpb25cclxuICAgICAqL1xyXG4gICAgZ2V0UmVhbExvY2F0aW9uKCk6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIGxldCBsb2M6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSB0aGlzLmdldExvY2F0aW9uKCk7XHJcbiAgICAgICAgbGV0IHdvcmxkOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5zY2VuZS5jYW1lcmFzLm1haW4uZ2V0V29ybGRQb2ludChsb2MueCwgbG9jLnkpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGBtb3VzZSBSRUFMIGxvY2F0aW9uOiAke0pTT04uc3RyaW5naWZ5KHdvcmxkKX1gKTtcclxuICAgICAgICByZXR1cm4gd29ybGQ7XHJcbiAgICB9XHJcblxyXG4gICAgb25XaGVlbFVwPFQgZXh0ZW5kcyBNb3VzZVdoZWVsU2Nyb2xsPihmdW5jOiBUKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5pbnB1dC5vbihQaGFzZXIuSW5wdXQuRXZlbnRzLlBPSU5URVJfV0hFRUwsIChwb2ludGVyLCBjdXJyZW50bHlPdmVyLCBkeCwgZHksIGR6LCBldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZHkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBmdW5jKGR5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG9uV2hlZWxEb3duPFQgZXh0ZW5kcyBNb3VzZVdoZWVsU2Nyb2xsPihmdW5jOiBUKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5pbnB1dC5vbihQaGFzZXIuSW5wdXQuRXZlbnRzLlBPSU5URVJfV0hFRUwsIChwb2ludGVyLCBjdXJyZW50bHlPdmVyLCBkeCwgZHksIGR6LCBldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZHkgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICBmdW5jKC1keSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFNoaXBBdHRhY2htZW50IH0gZnJvbSBcIi4uL3NoaXAtYXR0YWNobWVudFwiO1xyXG5pbXBvcnQgeyBDYW5TaG9vdCB9IGZyb20gXCIuLi8uLi8uLi9pbnRlcmZhY2VzL2Nhbi1zaG9vdFwiO1xyXG5pbXBvcnQgeyBHbG9iYWxzIH0gZnJvbSBcIi4uLy4uLy4uL3V0aWxpdGllcy9nbG9iYWxzXCI7XHJcbmltcG9ydCB7IEhlbHBlcnMgfSBmcm9tIFwiLi4vLi4vLi4vdXRpbGl0aWVzL2hlbHBlcnNcIjtcclxuaW1wb3J0IHsgQnVsbGV0IH0gZnJvbSBcIi4vYnVsbGV0XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ2Fubm9uQXR0YWNobWVudCBleHRlbmRzIFNoaXBBdHRhY2htZW50IGltcGxlbWVudHMgQ2FuU2hvb3Qge1xyXG4gICAgcHJpdmF0ZSBtYXhBbW1vOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHJlbWFpbmluZ0FtbW86IG51bWJlcjtcclxuICAgIHByaXZhdGUgY29vbGRvd25UaW1lOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIGxhc3RGaXJlZEF0OiBudW1iZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3Ioc2NlbmU6IFBoYXNlci5TY2VuZSkge1xyXG4gICAgICAgIHN1cGVyKHNjZW5lKTtcclxuXHJcbiAgICAgICAgdGhpcy5tYXhBbW1vID0gNTAwO1xyXG4gICAgICAgIHRoaXMucmVtYWluaW5nQW1tbyA9IHRoaXMubWF4QW1tbztcclxuICAgICAgICB0aGlzLmNvb2xkb3duVGltZSA9IDEwMDA7IC8vIG1pbGxpc2Vjb25kc1xyXG4gICAgICAgIHRoaXMubGFzdEZpcmVkQXQgPSAwOyAvLyBuZXZlclxyXG5cclxuICAgICAgICB0aGlzLmdhbWVPYmogPSB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLnNwcml0ZSgwLCAwLCAnY2Fubm9uJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVsb2FkKGFtb3VudDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5yZW1haW5pbmdBbW1vICs9IGFtb3VudDtcclxuICAgICAgICBpZiAodGhpcy5yZW1haW5pbmdBbW1vID4gdGhpcy5tYXhBbW1vKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVtYWluaW5nQW1tbyA9IHRoaXMubWF4QW1tbztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UmVtYWluaW5nQW1tbygpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJlbWFpbmluZ0FtbW87XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIHRyaWdnZXIoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCFHbG9iYWxzLnBhdXNlZCAmJiB0aGlzLmFjdGl2ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmZpcmUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZmlyZShkaXJlY3Rpb24/OiBQaGFzZXIuTWF0aC5WZWN0b3IyKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCFHbG9iYWxzLnBhdXNlZCAmJiB0aGlzLmFjdGl2ZSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5nZXRSZW1haW5pbmdBbW1vKCkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoSGVscGVycy5ub3coKSAtIHRoaXMubGFzdEZpcmVkQXQgPiB0aGlzLmNvb2xkb3duVGltZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBsb2M6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSB0aGlzLmdldFJlYWxMb2NhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBCdWxsZXQodGhpcy5zY2VuZSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB4OiBsb2MueCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeTogbG9jLnksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcmNlOiAzMDAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmdsZTogdGhpcy5nZXRBbmdsZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0RmlyZWRBdCA9IEhlbHBlcnMubm93KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBTaGlwUG9kIH0gZnJvbSBcIi4uL3NoaXAtcG9kXCI7XHJcbmltcG9ydCB7IEhhc0dhbWVPYmplY3QgfSBmcm9tIFwiLi4vLi4vaW50ZXJmYWNlcy9oYXMtZ2FtZS1vYmplY3RcIjtcclxuaW1wb3J0IHsgVXBkYXRhYmxlIH0gZnJvbSBcIi4uLy4uL2ludGVyZmFjZXMvdXBkYXRhYmxlXCI7XHJcbmltcG9ydCB7IEhhc0xvY2F0aW9uIH0gZnJvbSBcIi4uLy4uL2ludGVyZmFjZXMvaGFzLWxvY2F0aW9uXCI7XHJcbmltcG9ydCB7IEhhc0ludGVncml0eSB9IGZyb20gXCIuLi8uLi9pbnRlcmZhY2VzL2hhcy1pbnRlZ3JpdHlcIjtcclxuaW1wb3J0IHsgQ29uc3RhbnRzIH0gZnJvbSBcIi4uLy4uL3V0aWxpdGllcy9jb25zdGFudHNcIjtcclxuaW1wb3J0IHsgQXR0YWNobWVudExvY2F0aW9uIH0gZnJvbSBcIi4vYXR0YWNobWVudC1sb2NhdGlvblwiO1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFNoaXBBdHRhY2htZW50IGltcGxlbWVudHMgVXBkYXRhYmxlLCBIYXNHYW1lT2JqZWN0LCBIYXNMb2NhdGlvbiwgSGFzSW50ZWdyaXR5IHtcclxuICAgIHByb3RlY3RlZCBzaGlwOiBTaGlwUG9kO1xyXG4gICAgcHJvdGVjdGVkIHNjZW5lOiBQaGFzZXIuU2NlbmU7XHJcbiAgICBwcm90ZWN0ZWQgZ2FtZU9iajogUGhhc2VyLlBoeXNpY3MuQXJjYWRlLlNwcml0ZTtcclxuICAgIHByb3RlY3RlZCBpbnRlZ3JpdHk6IG51bWJlcjtcclxuICAgIHByb3RlY3RlZCBhdHRhY2htZW50TG9jYXRpb246IEF0dGFjaG1lbnRMb2NhdGlvbjtcclxuXHJcbiAgICBhY3RpdmU6IGJvb2xlYW47XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lOiBQaGFzZXIuU2NlbmUpIHtcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuaW50ZWdyaXR5ID0gQ29uc3RhbnRzLk1BWF9JTlRFR1JJVFk7XHJcbiAgICB9XHJcblxyXG4gICAgYXR0YWNoKHNoaXA6IFNoaXBQb2QsIGxvY2F0aW9uPzogQXR0YWNobWVudExvY2F0aW9uKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCFsb2NhdGlvbikge1xyXG4gICAgICAgICAgICBsb2NhdGlvbiA9IEF0dGFjaG1lbnRMb2NhdGlvbi5mcm9udDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zaGlwID0gc2hpcDtcclxuICAgICAgICB0aGlzLnNldEF0dGFjaG1lbnRMb2NhdGlvbihsb2NhdGlvbik7XHJcbiAgICAgICAgbGV0IGNlbnRyZTogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuc2hpcC5nZXRSZWFsTG9jYXRpb24oKTtcclxuICAgICAgICB0aGlzLmdhbWVPYmouc2V0UG9zaXRpb24oY2VudHJlLngsIGNlbnRyZS55KTsgLy8gY2VudHJlIG9uIHNoaXAgbG9jYXRpb25cclxuICAgICAgICB0aGlzLmdhbWVPYmouc2V0Um90YXRpb24odGhpcy5zaGlwLmdldEFuZ2xlKCkpOyAvLyBzZXQgaGVhZGluZyB0byBtYXRjaCBzaGlwXHJcbiAgICAgICAgbGV0IGhlYWRpbmc6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSB0aGlzLmdldEhlYWRpbmcoKTtcclxuICAgICAgICBoZWFkaW5nLm11bHRpcGx5KG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKDAsIDApKTtcclxuICAgICAgICBsZXQgbG9jOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5nZXRSZWFsTG9jYXRpb24oKTtcclxuICAgICAgICBsb2MuYWRkKGhlYWRpbmcpO1xyXG4gICAgICAgIHRoaXMuZ2FtZU9iai5zZXRQb3NpdGlvbihsb2MueCwgbG9jLnkpO1xyXG4gICAgfVxyXG5cclxuICAgIGRldGFjaCgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnNoaXAgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuYXR0YWNobWVudExvY2F0aW9uID0gbnVsbDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgZ2V0R2FtZU9iamVjdCgpOiBQaGFzZXIuR2FtZU9iamVjdHMuR2FtZU9iamVjdCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZU9iajtcclxuICAgIH1cclxuXHJcbiAgICBhYnN0cmFjdCB1cGRhdGUoKTogdm9pZDtcclxuXHJcbiAgICBhYnN0cmFjdCB0cmlnZ2VyKCk6IHZvaWQ7XHJcblxyXG4gICAgZ2V0QW5nbGUoKTogbnVtYmVyIHtcclxuICAgICAgICBsZXQgYW5nbGU6IG51bWJlciA9IHRoaXMuZ2FtZU9iai5hbmdsZTtcclxuICAgICAgICBpZiAodGhpcy5zaGlwKSB7XHJcbiAgICAgICAgICAgIGFuZ2xlICs9IHRoaXMuc2hpcC5nZXRBbmdsZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYW5nbGU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Um90YXRpb24oKTogbnVtYmVyIHtcclxuICAgICAgICBsZXQgcm90YXRpb246IG51bWJlciA9IHRoaXMuZ2FtZU9iai5yb3RhdGlvbjtcclxuICAgICAgICBpZiAodGhpcy5zaGlwKSB7XHJcbiAgICAgICAgICAgIHJvdGF0aW9uICs9IHRoaXMuc2hpcC5nZXRSb3RhdGlvbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcm90YXRpb247XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiByZXR1cm5zIGEgbm9ybWFsaXNlZCB7UGhhc2VyLk1hdGguVmVjdG9yMn0gcmVwcmVzZW50aW5nIFxyXG4gICAgICogdGhlIGRpcmVjdGlvbiB0aGlzIG9iamVjdCB3b3VsZCB0cmF2ZWxcclxuICAgICAqL1xyXG4gICAgZ2V0SGVhZGluZygpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICBsZXQgeDogbnVtYmVyID0gTWF0aC5jb3ModGhpcy5nZXRSb3RhdGlvbigpKTtcclxuICAgICAgICBsZXQgeTogbnVtYmVyID0gTWF0aC5zaW4odGhpcy5nZXRSb3RhdGlvbigpKTtcclxuICAgICAgICByZXR1cm4gbmV3IFBoYXNlci5NYXRoLlZlY3RvcjIoeCwgeSkubm9ybWFsaXplKCkubmVnYXRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VmVsb2NpdHkoKTogbnVtYmVyIHtcclxuICAgICAgICBsZXQgdmVsb2NpdHk6IG51bWJlciA9IHRoaXMuZ2FtZU9iai5ib2R5LnZlbG9jaXR5Lmxlbmd0aCgpO1xyXG4gICAgICAgIGlmICh0aGlzLnNoaXApIHtcclxuICAgICAgICAgICAgdmVsb2NpdHkgKz0gdGhpcy5zaGlwLmdldFZlbG9jaXR5KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB2ZWxvY2l0eTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRMb2NhdGlvbigpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICBsZXQgY2FtZXJhUG9zOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5zY2VuZS5jYW1lcmFzLm1haW4uZ2V0V29ybGRQb2ludCgwLCAwKTtcclxuICAgICAgICBsZXQgcmVhbExvYzogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuZ2V0UmVhbExvY2F0aW9uKCk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKHJlYWxMb2MueCAtIGNhbWVyYVBvcy54LCByZWFsTG9jLnkgLSBjYW1lcmFQb3MueSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UmVhbExvY2F0aW9uKCk6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xyXG4gICAgICAgIGxldCByZWFsTG9jYXRpb246IFBoYXNlci5NYXRoLlZlY3RvcjIgPSBuZXcgUGhhc2VyLk1hdGguVmVjdG9yMih0aGlzLmdhbWVPYmoueCwgdGhpcy5nYW1lT2JqLnkpO1xyXG4gICAgICAgIGlmICh0aGlzLnNoaXApIHtcclxuICAgICAgICAgICAgcmVhbExvY2F0aW9uLmFkZCh0aGlzLnNoaXAuZ2V0UmVhbExvY2F0aW9uKCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVhbExvY2F0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEludGVncml0eSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmludGVncml0eTtcclxuICAgIH1cclxuXHJcbiAgICBzdXN0YWluRGFtYWdlKGFtb3VudDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5pbnRlZ3JpdHkgLT0gYW1vdW50O1xyXG4gICAgICAgIGlmICh0aGlzLmludGVncml0eSA8PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW50ZWdyaXR5ID0gMDtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgLy8gVE9ETzogZGVzdHJveSBhdHRhY2htZW50XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlcGFpcihhbW91bnQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuaW50ZWdyaXR5ID0gYW1vdW50O1xyXG4gICAgICAgIGlmICh0aGlzLmludGVncml0eSA+IENvbnN0YW50cy5NQVhfSU5URUdSSVRZKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW50ZWdyaXR5ID0gQ29uc3RhbnRzLk1BWF9JTlRFR1JJVFk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRlc3Ryb3koKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnNoaXAucmVtb3ZlQXR0YWNobWVudCh0aGlzLmF0dGFjaG1lbnRMb2NhdGlvbik7XHJcbiAgICAgICAgLy8gVE9ETzogZGVzdHJveSBhdHRhY2htZW50XHJcbiAgICB9XHJcblxyXG4gICAgc2V0QXR0YWNobWVudExvY2F0aW9uKGxvYzogQXR0YWNobWVudExvY2F0aW9uKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5hdHRhY2htZW50TG9jYXRpb24gPSBsb2M7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBIYXNHYW1lT2JqZWN0IH0gZnJvbSBcIi4uLy4uLy4uL2ludGVyZmFjZXMvaGFzLWdhbWUtb2JqZWN0XCI7XHJcbmltcG9ydCB7IEJ1bGxldFBhcmFtZXRlcnMgfSBmcm9tIFwiLi4vLi4vLi4vaW50ZXJmYWNlcy9idWxsZXQtcGFyYW1ldGVyc1wiO1xyXG5pbXBvcnQgeyBIYXNMb2NhdGlvbiB9IGZyb20gXCIuLi8uLi8uLi9pbnRlcmZhY2VzL2hhcy1sb2NhdGlvblwiO1xyXG5pbXBvcnQgeyBHbG9iYWxzIH0gZnJvbSBcIi4uLy4uLy4uL3V0aWxpdGllcy9nbG9iYWxzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQnVsbGV0IGltcGxlbWVudHMgSGFzR2FtZU9iamVjdCwgSGFzTG9jYXRpb24ge1xyXG4gICAgc2NlbmU6IFBoYXNlci5TY2VuZTtcclxuICAgIGZvcmNlOiBudW1iZXI7XHJcbiAgICBnYW1lT2JqOiBQaGFzZXIuUGh5c2ljcy5BcmNhZGUuU3ByaXRlO1xyXG4gICAgYWN0aXZlOiBib29sZWFuO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lOiBQaGFzZXIuU2NlbmUsIHBhcmFtczogQnVsbGV0UGFyYW1ldGVycykge1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLmZvcmNlID0gcGFyYW1zLmZvcmNlIHx8IDA7XHJcbiAgICAgICAgdGhpcy5nYW1lT2JqID0gc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHBhcmFtcy54IHx8IDAsIHBhcmFtcy55IHx8IDAsICdidWxsZXQnKTtcclxuICAgICAgICB0aGlzLmdhbWVPYmouc2V0QW5nbGUocGFyYW1zLmFuZ2xlIHx8IDApO1xyXG4gICAgICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmFkZENvbGxpc2lvbkRldGVjdGlvbigpO1xyXG4gICAgICAgIHRoaXMuc2V0SW5Nb3Rpb24oKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFkZENvbGxpc2lvbkRldGVjdGlvbigpOiB2b2lkIHtcclxuICAgICAgICBmb3IgKHZhciBpPTA7IGk8R2xvYmFscy5pbnRlcmFjdGFibGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5nYW1lT2JqLCBHbG9iYWxzLmludGVyYWN0YWJsZXNbaV0sIHRoaXMub25JbXBhY3QpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG9uSW1wYWN0KGJ1bGxldDogUGhhc2VyLkdhbWVPYmplY3RzLkdhbWVPYmplY3QsIHRhcmdldDogUGhhc2VyLkdhbWVPYmplY3RzLkdhbWVPYmplY3QpOiB2b2lkIHtcclxuICAgICAgICAvLyBUT0RPOiBpbXBhcnQgZGFtYWdlIHRvIHRhcmdldCBhbmQgZGVzdHJveSBidWxsZXRcclxuICAgIH1cclxuXHJcbiAgICBnZXRHYW1lT2JqZWN0KCk6IFBoYXNlci5HYW1lT2JqZWN0cy5HYW1lT2JqZWN0IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nYW1lT2JqO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEFuZ2xlKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZU9iai5hbmdsZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRSb3RhdGlvbigpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdhbWVPYmoucm90YXRpb247XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0SGVhZGluZygpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICBsZXQgeDogbnVtYmVyID0gTWF0aC5jb3ModGhpcy5nYW1lT2JqLnJvdGF0aW9uKTtcclxuICAgICAgICBsZXQgeTogbnVtYmVyID0gTWF0aC5zaW4odGhpcy5nYW1lT2JqLnJvdGF0aW9uKTtcclxuICAgICAgICByZXR1cm4gbmV3IFBoYXNlci5NYXRoLlZlY3RvcjIoeCwgeSkubm9ybWFsaXplKCkubmVnYXRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VmVsb2NpdHkoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nYW1lT2JqLmJvZHkudmVsb2NpdHkubGVuZ3RoKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0TG9jYXRpb24oKTogUGhhc2VyLk1hdGguVmVjdG9yMiB7XHJcbiAgICAgICAgbGV0IGNhbWVyYVBvczogUGhhc2VyLk1hdGguVmVjdG9yMiA9IHRoaXMuc2NlbmUuY2FtZXJhcy5tYWluLmdldFdvcmxkUG9pbnQoMCwgMCk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKHRoaXMuZ2FtZU9iai54IC0gY2FtZXJhUG9zLngsIHRoaXMuZ2FtZU9iai55IC0gY2FtZXJhUG9zLnkpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFJlYWxMb2NhdGlvbigpOiBQaGFzZXIuTWF0aC5WZWN0b3IyIHtcclxuICAgICAgICByZXR1cm4gbmV3IFBoYXNlci5NYXRoLlZlY3RvcjIodGhpcy5nYW1lT2JqLngsIHRoaXMuZ2FtZU9iai55KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldEluTW90aW9uKCk6IHZvaWQge1xyXG4gICAgICAgIGxldCBoZWFkaW5nOiBQaGFzZXIuTWF0aC5WZWN0b3IyID0gdGhpcy5nZXRIZWFkaW5nKCk7XHJcbiAgICAgICAgbGV0IGRlbHRhVjogUGhhc2VyLk1hdGguVmVjdG9yMiA9IGhlYWRpbmcubXVsdGlwbHkobmV3IFBoYXNlci5NYXRoLlZlY3RvcjIodGhpcy5mb3JjZSwgdGhpcy5mb3JjZSkpO1xyXG4gICAgICAgIHRoaXMuZ2FtZU9iai5ib2R5LnZlbG9jaXR5LmFkZChkZWx0YVYpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgR2xvYmFscyB9IGZyb20gXCIuLi91dGlsaXRpZXMvZ2xvYmFsc1wiO1xyXG5pbXBvcnQgeyBTaGlwUG9kIH0gZnJvbSBcIi4uL3NoaXBzL3NoaXAtcG9kXCI7XHJcblxyXG5jb25zdCBzY2VuZUNvbmZpZzogUGhhc2VyLlR5cGVzLlNjZW5lcy5TZXR0aW5nc0NvbmZpZyA9IHtcclxuICAgIGFjdGl2ZTogdHJ1ZSxcclxuICAgIHZpc2libGU6IHRydWUsXHJcbiAgICBrZXk6ICdPdmVybGF5U2NlbmUnXHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgT3ZlcmxheVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIHByaXZhdGUgZGVidWc6IFBoYXNlci5HYW1lT2JqZWN0cy5UZXh0O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKHNjZW5lQ29uZmlnKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcHJlbG9hZCgpOiB2b2lkIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNyZWF0ZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmRlYnVnID0gdGhpcy5hZGQudGV4dCgxMCwgMTAsICcnLCB7IGZvbnQ6ICcxNnB4IENvdXJpZXInLCBmaWxsOiAnI2ZmZGRkZCcgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZSgpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIUdsb2JhbHMucGF1c2VkKSB7XHJcbiAgICAgICAgICAgIGlmIChHbG9iYWxzLnBsYXllcikge1xyXG4gICAgICAgICAgICAgICAgbGV0IHA6IFNoaXBQb2QgPSBHbG9iYWxzLnBsYXllcjtcclxuICAgICAgICAgICAgICAgIGxldCBsb2M6IFBoYXNlci5NYXRoLlZlY3RvcjIgPSBwLmdldFJlYWxMb2NhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZWJ1Zy5zZXRUZXh0KFtcclxuICAgICAgICAgICAgICAgICAgICBgVmVsb2NpdHk6ICR7cC5nZXRWZWxvY2l0eSgpLnRvRml4ZWQoMSl9YCxcclxuICAgICAgICAgICAgICAgICAgICBgSW50ZWdyaXR5OiAke3AuZ2V0SW50ZWdyaXR5KCkudG9GaXhlZCgxKX1gLFxyXG4gICAgICAgICAgICAgICAgICAgIGBIZWF0OiAke3AuZ2V0VGVtcGVyYXR1cmUoKS50b0ZpeGVkKDEpfWAsXHJcbiAgICAgICAgICAgICAgICAgICAgYEZ1ZWw6ICR7cC5nZXRSZW1haW5pbmdGdWVsKCkudG9GaXhlZCgxKX1gLFxyXG4gICAgICAgICAgICAgICAgICAgIGBMb2NhdGlvbjogJHtsb2MueC50b0ZpeGVkKDEpfSwke2xvYy55LnRvRml4ZWQoMSl9YCxcclxuICAgICAgICAgICAgICAgICAgICBgQW5nbGU6ICR7cC5nZXRBbmdsZSgpLnRvRml4ZWQoMSl9YFxyXG4gICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9